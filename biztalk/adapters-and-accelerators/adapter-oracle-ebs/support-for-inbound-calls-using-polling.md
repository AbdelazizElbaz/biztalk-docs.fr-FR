---
title: "Prise en charge pour les appels entrants à l’aide de l’interrogation | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: ae02a93a-808f-4774-a2c4-efdf39a4d49a
caps.latest.revision: "16"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a8533ce2829fec956819b311fd6b8f99479f40d6
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="support-for-inbound-calls-using-polling"></a><span data-ttu-id="1ad88-102">Prise en charge pour les appels entrants à l’aide de l’interrogation</span><span class="sxs-lookup"><span data-stu-id="1ad88-102">Support for Inbound Calls Using Polling</span></span>
<span data-ttu-id="1ad88-103">Le [!INCLUDE[adapteroracleebusinesslong](../../includes/adapteroracleebusinesslong-md.md)] permet aux programmes clients recevoir des messages à partir d’Oracle E-Business Suite pour signaler les modifications apportées aux données dans Oracle E-Business Suite.</span><span class="sxs-lookup"><span data-stu-id="1ad88-103">The [!INCLUDE[adapteroracleebusinesslong](../../includes/adapteroracleebusinesslong-md.md)] enables client programs to receive messages from Oracle E-Business Suite informing them of changes to data in Oracle E-Business Suite.</span></span> <span data-ttu-id="1ad88-104">Le [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] prend en charge la réception de messages « basées sur l’interrogation » dans laquelle l’adaptateur exécute une instruction SQL spécifiée, procédure stockée, fonction ou une procédure dans un package, récupère les données et fournit le résultat au client à intervalles réguliers de heure.</span><span class="sxs-lookup"><span data-stu-id="1ad88-104">The [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] supports receiving "polling-based" messages wherein the adapter executes a specified SQL statement, stored procedure, function or a procedure within a package, retrieves the data, and provides the result to the client at regular intervals of time.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1ad88-105">Vous pouvez également définir le contexte des applications pour l’opération d’interrogation dans [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1ad88-105">You can also set the applications context for the Poll operation in [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span></span> <span data-ttu-id="1ad88-106">Il est obligatoire de définir le contexte des applications pour l’opération d’interrogation si l’opération est effectuée sur une table d’interface ou une vue de l’interface.</span><span class="sxs-lookup"><span data-stu-id="1ad88-106">It is mandatory to set the applications context for the Poll operation if the operation is performed on an interface table or interface view.</span></span> <span data-ttu-id="1ad88-107">Pour plus d’informations sur le contexte des applications et comment le configurer, consultez [définir le contexte Application](../../adapters-and-accelerators/adapter-oracle-ebs/set-application-context.md).</span><span class="sxs-lookup"><span data-stu-id="1ad88-107">For information about applications context, and how to set it, see [Set Application Context](../../adapters-and-accelerators/adapter-oracle-ebs/set-application-context.md).</span></span>  
  
 <span data-ttu-id="1ad88-108">Une opération d’interrogation standard à l’aide du [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] implique les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="1ad88-108">A typical polling operation using the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] involves the following:</span></span>  
  
1.  <span data-ttu-id="1ad88-109">Les clients de l’adaptateur doivent spécifier `Polling` en tant que l’opération entrante dans le **InboundOperationType** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="1ad88-109">The adapter clients must specify `Polling` as the inbound operation in the **InboundOperationType** binding property.</span></span> <span data-ttu-id="1ad88-110">La valeur par défaut pour cette propriété de liaison est **d’interrogation**.</span><span class="sxs-lookup"><span data-stu-id="1ad88-110">The default value for this binding property is **Polling**.</span></span>  
  
2.  <span data-ttu-id="1ad88-111">Les clients de l’adaptateur doivent spécifier une instruction SELECT pour le **PolledDataAvailableStatement** propriété pour déterminer si donnée n’est disponible pour l’interrogation de liaison.</span><span class="sxs-lookup"><span data-stu-id="1ad88-111">The adapter clients must specify a SELECT statement for the **PolledDataAvailableStatement** binding property to determine whether there is data available for polling.</span></span> <span data-ttu-id="1ad88-112">Si la première colonne de la première ligne du premier jeu de résultats retourné lors de l’exécution de cette instruction contient une valeur entière positive, date est disponible pour l’interrogation.</span><span class="sxs-lookup"><span data-stu-id="1ad88-112">If the first column of the first row of the first result set returned on execution of this statement contains a positive integer value, there is date available for polling.</span></span>  
  
3.  <span data-ttu-id="1ad88-113">Les clients de l’adaptateur doivent spécifier un intervalle d’interrogation pour le **PollingInterval** liaison de propriété pour définir l’intervalle en secondes, à laquelle l’instruction spécifiée dans le **PolledDataAvailableStatement** propriété de liaison est exécutée.</span><span class="sxs-lookup"><span data-stu-id="1ad88-113">The adapter clients must specify a polling interval for the **PollingInterval** binding property to define the interval in seconds at which the statement specified in the **PolledDataAvailableStatement** binding property is executed.</span></span> <span data-ttu-id="1ad88-114">À la fin de chaque intervalle d’interrogation, l’instruction disponibles des données interrogées est exécutée et le jeu de résultats est retourné.</span><span class="sxs-lookup"><span data-stu-id="1ad88-114">At the end of every polling interval, the polled data available statement is executed, and the result set is returned.</span></span>  
  
4.  <span data-ttu-id="1ad88-115">Les clients de l’adaptateur doivent spécifier une instruction SELECT ou une procédure stockée pour le **PollingInput** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="1ad88-115">The adapter clients must specify a SELECT statement or a stored procedure for the **PollingInput** binding property.</span></span> <span data-ttu-id="1ad88-116">Si vous souhaitez interroger une table ou une vue, vous devez spécifier une instruction SELECT pour cette propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="1ad88-116">If you want to poll a table or view, you must specify a SELECT statement for this binding property.</span></span> <span data-ttu-id="1ad88-117">Si vous souhaitez interroger à l’aide d’une procédure stockée, vous devez spécifier le message de requête entière pour cette propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="1ad88-117">If you want to poll using a stored procedure, you must specify the entire request message for this binding property.</span></span>  
  
     <span data-ttu-id="1ad88-118">L’instruction dans le **PollingInput** propriété de liaison est exécutée uniquement si des données disponibles pour l’interrogation, ce qui est déterminée par le **PolledDataAvailableStatement** propriété de liaison à l’étape 2.</span><span class="sxs-lookup"><span data-stu-id="1ad88-118">The statement in the **PollingInput** binding property is executed only if there is data available for polling, which is determined by the **PolledDataAvailableStatement** binding property in step 2.</span></span>  
  
5.  <span data-ttu-id="1ad88-119">Les clients de l’adaptateur doivent spécifier une action pour l’opération d’interrogation dans le **PollingAction** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="1ad88-119">The adapter clients must specify an action for the polling operation in the **PollingAction** binding property.</span></span> <span data-ttu-id="1ad88-120">L’action de l’interrogation d’une opération spécifique est déterminée à partir des métadonnées générées pour l’opération en utilisant la macro complémentaire Consume Adapter Service.</span><span class="sxs-lookup"><span data-stu-id="1ad88-120">The polling action for a specific operation is determined from the metadata generated for the operation using the Consume Adapter Service Add-in.</span></span>  
  
6.  <span data-ttu-id="1ad88-121">Les clients de carte peuvent utiliser le **PollWhileDataFound** liaison de propriété pour ignorer l’intervalle d’interrogation et l’interrogation de façon permanente des données et celui où elle est disponible.</span><span class="sxs-lookup"><span data-stu-id="1ad88-121">The adapter clients can use the **PollWhileDataFound** binding property to ignore the polling interval, and continuously poll data, as and when available.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="1ad88-122">Si vous définissez la valeur de la **PollWhileDataFound** True à la propriété de liaison, les clients de la carte en continu interrogent des données à partir d’Oracle et dans le processus d’ouvrir et fermer les connexions à la base de données Oracle dans une boucle.</span><span class="sxs-lookup"><span data-stu-id="1ad88-122">If you set the value of the **PollWhileDataFound** binding property to True, the adapter clients continuously poll data from Oracle and in the process open and close connections to the Oracle database in a loop.</span></span> <span data-ttu-id="1ad88-123">Comme la vitesse à laquelle les connexions sont ouvertes par ODP.NET est supérieure aux connexions en cours de fermeture, les connexions s’épuiser après un certain temps, et une exception est levée.</span><span class="sxs-lookup"><span data-stu-id="1ad88-123">As the rate at which connections are opened by ODP.NET is greater than the connections being closed, the connections get exhausted after some time, and an exception is thrown.</span></span> <span data-ttu-id="1ad88-124">Pour contourner ce problème, assurez-vous que la valeur de la **UseOracleConnectionPool** est définie sur True, et une valeur appropriée est mentionnée dans le **IncrPoolSize** liaison de propriété pour contrôler le nombre de connexions qui peut être ouverte par les clients de la carte.</span><span class="sxs-lookup"><span data-stu-id="1ad88-124">As a work around, make sure that the value of the **UseOracleConnectionPool** is set to True, and an appropriate value is mentioned in the **IncrPoolSize** binding property to control the number of connections that can be opened by the adapter clients.</span></span>  
  
7.  <span data-ttu-id="1ad88-125">Les clients de l’adaptateur peuvent spécifier une instruction de sondage consécutives, un bloc d’Oracle PL/SQL, pour le **PostPollStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="1ad88-125">The adapter clients can specify a post-poll statement, an Oracle PL/SQL block, for the **PostPollStatement** binding property.</span></span> <span data-ttu-id="1ad88-126">L’instruction spécifiée dans cette propriété de liaison est exécutée après l’instruction spécifiée dans le **PollingInput** propriété de liaison est exécutée.</span><span class="sxs-lookup"><span data-stu-id="1ad88-126">The statement specified in this binding property is executed after the statement specified in the **PollingInput** binding property is executed.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="1ad88-127">L’adaptateur exécute l’instruction spécifiée dans le **PollingInput** et **PostPollStatement** propriétés de liaison dans une transaction.</span><span class="sxs-lookup"><span data-stu-id="1ad88-127">The adapter executes the statement specified in the **PollingInput** and **PostPollStatement** binding properties in a transaction.</span></span> <span data-ttu-id="1ad88-128">Pour plus d’informations sur les transactions dans le [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)], consultez [en quoi les Transactions de gérer l’adaptateur ?](https://msdn.microsoft.com/library/dd788428.aspx).</span><span class="sxs-lookup"><span data-stu-id="1ad88-128">For more information about transactions in the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)], see [How does the Adapter Handle Transactions?](https://msdn.microsoft.com/library/dd788428.aspx).</span></span>  
  
 <span data-ttu-id="1ad88-129">L’adaptateur supprime toutes les réponses d’interrogation vide provenant d’Oracle E-Business Suite.</span><span class="sxs-lookup"><span data-stu-id="1ad88-129">The adapter suppresses any empty polling responses coming from Oracle E-Business Suite.</span></span>  
  
 <span data-ttu-id="1ad88-130">L’illustration ci-dessous fournit des informations sur le flux de travail d’interrogation dans [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1ad88-130">The illustration below provides information about the polling workflow in [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span></span> <span data-ttu-id="1ad88-131">Deux scénarios pour le workflow d’interrogation sont notamment :</span><span class="sxs-lookup"><span data-stu-id="1ad88-131">Two scenarios for the polling workflow are illustrated:</span></span>  
  
1.  <span data-ttu-id="1ad88-132">Lorsque la valeur de la **PollWhileDataFound** a la valeur « False » (valeur par défaut).</span><span class="sxs-lookup"><span data-stu-id="1ad88-132">When the value of the **PollWhileDataFound** is set to “False” (default setting).</span></span>  
  
2.  <span data-ttu-id="1ad88-133">Lorsque la valeur de la **PollWhileDataFound** a la valeur « True ».</span><span class="sxs-lookup"><span data-stu-id="1ad88-133">When the value of the **PollWhileDataFound** is set to “True.”</span></span>  
  
 <span data-ttu-id="1ad88-134">![Scénario d’interrogation &#40; PollWhileDataFound &#61; False &#41; ] (../../adapters-and-accelerators/adapter-oracle-ebs/media/e5f00f4c-cc76-4e8b-9991-b4471f9d4865.gif "e5f00f4c-cc76-4e8b-9991-b4471f9d4865") ![d’interrogation scénario &#40; PollWhileDataFound &#61; La valeur true &#41; ] (../../adapters-and-accelerators/adapter-oracle-ebs/media/ebecf64c-a770-4525-9c75-62fdb71e1fb1.gif "ebecf64c-a770-4525-9c75-62fdb71e1fb1")</span><span class="sxs-lookup"><span data-stu-id="1ad88-134">![Polling Scenario &#40;PollWhileDataFound&#61;False&#41;](../../adapters-and-accelerators/adapter-oracle-ebs/media/e5f00f4c-cc76-4e8b-9991-b4471f9d4865.gif "e5f00f4c-cc76-4e8b-9991-b4471f9d4865") ![Polling Scenario &#40;PollWhileDataFound &#61; True&#41;](../../adapters-and-accelerators/adapter-oracle-ebs/media/ebecf64c-a770-4525-9c75-62fdb71e1fb1.gif "ebecf64c-a770-4525-9c75-62fdb71e1fb1")</span></span>  
  
## <a name="differences-between-polling-and-notification"></a><span data-ttu-id="1ad88-135">Différences entre l’interrogation et la Notification</span><span class="sxs-lookup"><span data-stu-id="1ad88-135">Differences between Polling and Notification</span></span>  
 <span data-ttu-id="1ad88-136">Bien que l’interrogation et la notification sont les deux opérations entrantes et informent les clients de l’adaptateur sur les modifications de données dans la base de données Oracle, le tableau suivant répertorie quelques différences entre les deux.</span><span class="sxs-lookup"><span data-stu-id="1ad88-136">Though polling and notification are both inbound operations, and inform the adapter clients about the data changes in the Oracle database, the following table lists some differences between the two.</span></span> <span data-ttu-id="1ad88-137">Les différences suivantes vous aideront à choisir une opération selon vos besoins :</span><span class="sxs-lookup"><span data-stu-id="1ad88-137">The following differences will help you decide on an operation depending on your requirements:</span></span>  
  
|<span data-ttu-id="1ad88-138">Interrogation</span><span class="sxs-lookup"><span data-stu-id="1ad88-138">Polling</span></span>|<span data-ttu-id="1ad88-139">Notification</span><span class="sxs-lookup"><span data-stu-id="1ad88-139">Notification</span></span>|  
|-------------|------------------|  
|<span data-ttu-id="1ad88-140">L’interrogation est prise en charge pour toutes les versions de base de données Oracle sont pris en charge par le [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1ad88-140">Polling is supported for all the Oracle database versions that are supported by the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span></span>|<span data-ttu-id="1ad88-141">Notification est uniquement pris en charge pour les versions de base de données Oracle 10.2 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="1ad88-141">Notification is only supported for Oracle database versions 10.2 and later.</span></span>|  
|<span data-ttu-id="1ad88-142">Vous pouvez configurer l’intervalle d’interrogation pour vérifier les données disponibles pour l’interrogation à intervalles réguliers ou instantanément comme et lorsque les données sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="1ad88-142">You can either configure the polling interval to check the data available for polling at regular intervals or instantaneously as and when the data is available.</span></span> <span data-ttu-id="1ad88-143">**Conseil :** interrogation peut vous fournir un meilleur débit dans les scénarios où les modifications de données sont produisent en permanence, et vous ne souhaitez pas être averti de chaque modification en tant qu’et lorsque cela se produit.</span><span class="sxs-lookup"><span data-stu-id="1ad88-143">**Tip:**  Polling can give you better throughput in scenarios where the data changes are happening continuously, and you do not want to be notified of each change as and when it happens.</span></span> <span data-ttu-id="1ad88-144">Au lieu de cela, vous spécifiez un intervalle d’interrogation après laquelle vous souhaitez être averti de toutes les modifications qui se sont produites depuis la dernière notification de modification.</span><span class="sxs-lookup"><span data-stu-id="1ad88-144">Instead, you specify a polling interval after which you want to be notified of all the changes that have happened since the last change notification.</span></span>|<span data-ttu-id="1ad88-145">La notification de modification de données est toujours instantanée.</span><span class="sxs-lookup"><span data-stu-id="1ad88-145">The data-change notification is always instantaneous.</span></span>|  
|<span data-ttu-id="1ad88-146">L’interrogation est lancée par l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="1ad88-146">Polling is initiated by the adapter.</span></span> <span data-ttu-id="1ad88-147">L’adaptateur exécute une instruction SQL pour confirmer que les données sont disponibles pour l’interrogation et initialise l’interrogation par l’exécution de l’instruction d’interrogation des données seront disponibles pour l’interrogation.</span><span class="sxs-lookup"><span data-stu-id="1ad88-147">The adapter executes a SQL statement to validate whether data is available for polling, and then initiates polling by executing the polling statement if some data is available for polling.</span></span>|<span data-ttu-id="1ad88-148">Notification est initiée par la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="1ad88-148">Notification is initiated by the Oracle database.</span></span> <span data-ttu-id="1ad88-149">L’instruction de notification émise par l’adaptateur simplement fait en sorte que la base de données pour lancer la notification au cas où une modification du jeu de résultats de l’instruction.</span><span class="sxs-lookup"><span data-stu-id="1ad88-149">The notification statement issued by the adapter just instructs the database to initiate notification in case there is a change in the result set of the statement.</span></span> <span data-ttu-id="1ad88-150">La notification est une fonctionnalité de la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="1ad88-150">Notification is a feature of the Oracle database.</span></span>|  
|<span data-ttu-id="1ad88-151">Vous pouvez utiliser l’instruction d’interrogation pour lire ou mettre à jour des données dans la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="1ad88-151">You can use the polling statement to read or update data in the Oracle database.</span></span>|<span data-ttu-id="1ad88-152">Vous pouvez utiliser l’instruction de notification à lire uniquement les données dans une base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="1ad88-152">You can use the notification statement to only read data in an Oracle database.</span></span>|  
|<span data-ttu-id="1ad88-153">L’interrogation vous informe sur les données réelles qui ont été modifiées.</span><span class="sxs-lookup"><span data-stu-id="1ad88-153">Polling informs you about the actual data that has changed.</span></span>|<span data-ttu-id="1ad88-154">Notification informe uniquement sur le type de données, telles que Insert, Update et Delete.</span><span class="sxs-lookup"><span data-stu-id="1ad88-154">Notification informs only about the type of change in the data such as Insert, Update, and Delete.</span></span>|  
  
 <span data-ttu-id="1ad88-155">Pour plus d’informations sur :</span><span class="sxs-lookup"><span data-stu-id="1ad88-155">For more information about:</span></span>  
  
-   <span data-ttu-id="1ad88-156">Les propriétés de liaison relatives à l’interrogation, consultez [en savoir plus sur l’adaptateur BizTalk pour Oracle E-Business Suite liaison propriétés](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="1ad88-156">The binding properties related to polling, see [Read about the  BizTalk Adapter for Oracle E-Business Suite Binding Properties](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md).</span></span>  
  
-   <span data-ttu-id="1ad88-157">Réception de messages en fonction de l’interrogation à l’aide de [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], consultez [interrogation Oracle E-Business Suite à l’aide de BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/poll-oracle-e-business-suite-using-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="1ad88-157">Receiving polling-based messages using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], see [Poll Oracle E-Business Suite Using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/poll-oracle-e-business-suite-using-biztalk-server.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1ad88-158">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1ad88-158">See Also</span></span>  
 <span data-ttu-id="1ad88-159">[Quelles opérations peuvent être effectuées à l’aide de la carte ?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span><span class="sxs-lookup"><span data-stu-id="1ad88-159">[What Operations Can be Performed Using the Adapter?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span></span>