---
title: "Modification de base de données Oracle E-Business Suite de la réception des notifications sur plusieurs emplacements de réception | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: d25faa52-e0a4-4593-8449-3ec93d5887e9
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5023dddeaab02c86db5507bc0f96ccfddd82c76e
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="receive-oracle-e-business-suite-database-change-notifications-on-multiple-receive-locations"></a><span data-ttu-id="80932-102">Modification de base de données Oracle E-Business Suite de la réception des notifications sur plusieurs emplacements de réception</span><span class="sxs-lookup"><span data-stu-id="80932-102">Receive Oracle E-Business Suite database change notifications on multiple receive locations</span></span>
<span data-ttu-id="80932-103">Considérez un scénario où vous disposez de plusieurs emplacements créés dans le cadre d’applications BizTalk différentes configuré pour recevoir des notifications de requête pour la même table (par exemple, ACCOUNTACTIVITY) de réception dans la même base de données.</span><span class="sxs-lookup"><span data-stu-id="80932-103">Consider a scenario where you have multiple receive locations created as part of different BizTalk applications configured to receive query notifications for the same table (e.g. ACCOUNTACTIVITY) in the same database.</span></span> <span data-ttu-id="80932-104">Si une centaine enregistrements sont insérés dans la même table, tous les emplacements de réception obtenez le message de notification.</span><span class="sxs-lookup"><span data-stu-id="80932-104">If a hundred records are inserted into the same table, all the receive locations will get the notification message.</span></span> <span data-ttu-id="80932-105">Pour recevoir des notifications à travers efficacement plusieurs emplacements de réception, vous pouvez appeler des opérations à partir de votre application BizTalk de sorte que si une notification est reçue par un emplacement de réception, l’autre emplacement de réception n’obtient pas la même notification.</span><span class="sxs-lookup"><span data-stu-id="80932-105">To effectively receive notifications across multiple receive locations, you can call operations from your BizTalk application in such a way that if a notification is received by one receive location, the other receive location does not get the same notification.</span></span> <span data-ttu-id="80932-106">Par conséquent, vous pouvez efficacement les notifications d’équilibrer la charge reçues sur plusieurs emplacements.</span><span class="sxs-lookup"><span data-stu-id="80932-106">So, you can effectively load-balance notifications received on multiple locations.</span></span>  
  
 <span data-ttu-id="80932-107">Les tâches requises pour configurer une orchestration à recevoir des notifications d’équilibrer la charge sont les mêmes que pour [réception Oracle E-Business Suite modification Notifications incrémentielle à l’aide de BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="80932-107">The tasks required to set up an orchestration to load-balance receiving notifications are same as that for [Receive Oracle E-Business Suite Change Notifications Incrementally Using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md).</span></span> <span data-ttu-id="80932-108">Cette rubrique répertorie les seules la différence entre les deux approches.</span><span class="sxs-lookup"><span data-stu-id="80932-108">This topic lists the only the difference between the two approaches.</span></span>  
  
## <a name="load-balancing-query-notifications-across-multiple-receive-locations"></a><span data-ttu-id="80932-109">Notifications de requête de l’équilibrage de charge entre plusieurs emplacements de réception</span><span class="sxs-lookup"><span data-stu-id="80932-109">Load-Balancing Query Notifications Across Multiple Receive Locations</span></span>  
 <span data-ttu-id="80932-110">Comme dans la rubrique [réception Oracle E-Business Suite modification Notifications incrémentielle à l’aide de BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md), vous avez configuré des notifications incrémentielles en exécutant une procédure PROCESS_RECORDS.</span><span class="sxs-lookup"><span data-stu-id="80932-110">Like in the topic [Receive Oracle E-Business Suite Change Notifications Incrementally Using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md), you configured incremental notifications by executing a PROCESS_RECORDS procedure.</span></span> <span data-ttu-id="80932-111">Pour configurer l’équilibrage de charge, vous pouvez exécuter une procédure stockée qui supprime les enregistrements qui ont été notifiés pour.</span><span class="sxs-lookup"><span data-stu-id="80932-111">To configure load-balancing, you could execute a stored procedure that deletes the records that have been notified for.</span></span> <span data-ttu-id="80932-112">Par exemple, considérez une procédure stockée NOTIFY_LOAD_BALANCE avec la définition suivante :</span><span class="sxs-lookup"><span data-stu-id="80932-112">For example, consider a stored procedure NOTIFY_LOAD_BALANCE with the following definition:</span></span>  
  
```  
PROCEDURE NOTIFY_LOAD_BALANCE (TABLE_DATA OUT SYS_REFCURSOR) IS  
  var int;  
BEGIN  
  SELECT TID INTO var FROM ACCOUNTACTIVITY WHERE ROWNUM = 1 FOR UPDATE;  
  OPEN TABLE_DATA FOR SELECT * FROM ACCOUNTACTIVITY WHERE TID = var;  
  DELETE FROM ACCOUNTACTIVITY WHERE TID = var;  
END NOTIFY_LOAD_BALANCE;  
```  
  
 <span data-ttu-id="80932-113">Lorsque vous exécutez cette procédure stockée dans le cadre de l’application BizTalk, l’enregistrement pour laquelle la notification est déjà reçue est supprimé.</span><span class="sxs-lookup"><span data-stu-id="80932-113">When you execute this stored procedure as part of the BizTalk application, the record for which notification is already received gets deleted.</span></span> <span data-ttu-id="80932-114">Par conséquent, l’autre recevoir une notification d’obtient d’emplacement pour l’enregistrement suivant.</span><span class="sxs-lookup"><span data-stu-id="80932-114">So, the other receive location gets notification for the next record.</span></span>  
  
 <span data-ttu-id="80932-115">Voici les étapes principales à effectuer pour configurer l’équilibrage de charge pour recevoir des notifications.</span><span class="sxs-lookup"><span data-stu-id="80932-115">Here are the high-level steps you must perform to configure load-balancing for receiving notifications.</span></span>  
  
1.  <span data-ttu-id="80932-116">Créer le schéma pour **Notification** (opération entrante) et **NOTIFY_LOAD_BALANCE** procédure (opération sortante).</span><span class="sxs-lookup"><span data-stu-id="80932-116">Create schema for **Notification** (inbound operation) and **NOTIFY_LOAD_BALANCE** procedure (outbound operation).</span></span>  
  
2.  <span data-ttu-id="80932-117">Ajouter une orchestration et ajoutez les trois messages pour la réception des notifications, l’exécution de la procédure et l’obtention de la réponse pour la procédure.</span><span class="sxs-lookup"><span data-stu-id="80932-117">Add an orchestration and add three messages for receiving notification, executing the procedure, and getting response for the procedure.</span></span>  
  
3.  <span data-ttu-id="80932-118">Créer une orchestration en ajoutant des formes envoi et réception, forme construire un Message et les ports.</span><span class="sxs-lookup"><span data-stu-id="80932-118">Create an orchestration by adding Send and Receive shapes, Construct Message shape, and ports.</span></span> <span data-ttu-id="80932-119">Vous pouvez utiliser le même exemple de code pour construire un message pour appeler la procédure stockée de NOTIFY_LOAD_BALANCE.</span><span class="sxs-lookup"><span data-stu-id="80932-119">You can use the same sample code for constructing a message to invoke the NOTIFY_LOAD_BALANCE stored procedure.</span></span> <span data-ttu-id="80932-120">Notez que lors de l’exécution de l’opération dans [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] console d’Administration, vous devez avoir le message de demande pour la procédure NOTIFY_LOAD_BALANCE dans l’emplacement C:\TestLocation\MessageIn.</span><span class="sxs-lookup"><span data-stu-id="80932-120">Note that while performing the operation in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console, you must have the request message for the NOTIFY_LOAD_BALANCE procedure in the location C:\TestLocation\MessageIn.</span></span> <span data-ttu-id="80932-121">Le fait que l’extrait de code que vous appelez dans le cadre de l’orchestration créée dans [réception Oracle E-Business Suite modification Notifications incrémentielle à l’aide de BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md) crée un message de demande en fonction de la demande XML présente dans C:\TestLocation\MessageIn.</span><span class="sxs-lookup"><span data-stu-id="80932-121">You do so because the code snippet you invoke as part of the orchestration created in [Receive Oracle E-Business Suite Change Notifications Incrementally Using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-change-notifications-incrementally-using-biztalk-server.md) creates a request message based on the request XML present in C:\TestLocation\MessageIn.</span></span>  
  
4.  <span data-ttu-id="80932-122">Générez et déployez l’application.</span><span class="sxs-lookup"><span data-stu-id="80932-122">Build and deploy the application.</span></span> <span data-ttu-id="80932-123">Pour démontrer l’équilibrage de charge, vous devez déployer cette orchestration au moins sur deux ordinateurs différents qui ont [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] et [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] installé.</span><span class="sxs-lookup"><span data-stu-id="80932-123">To demonstrate load-balancing, you must deploy this orchestration at least on two different computers that have [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] installed.</span></span>  
  
5.  <span data-ttu-id="80932-124">Dans la [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] console d’Administration sur les ordinateurs, spécifiez les propriétés de liaison suivantes pour le WCF-Custom ou WCF-OracleEBS emplacement de réception :</span><span class="sxs-lookup"><span data-stu-id="80932-124">In the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console on both the computers, specify the following binding properties for the WCF-Custom or WCF-OracleEBS receive location:</span></span>  
  
    |<span data-ttu-id="80932-125">Propriété de liaison</span><span class="sxs-lookup"><span data-stu-id="80932-125">Binding Property</span></span>|<span data-ttu-id="80932-126">Valeur</span><span class="sxs-lookup"><span data-stu-id="80932-126">Value</span></span>|  
    |----------------------|-----------|  
    |<span data-ttu-id="80932-127">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="80932-127">**InboundOperationType**</span></span>|<span data-ttu-id="80932-128">Affectez la valeur **Notification**.</span><span class="sxs-lookup"><span data-stu-id="80932-128">Set this to **Notification**.</span></span>|  
    |<span data-ttu-id="80932-129">**NotificationPort**</span><span class="sxs-lookup"><span data-stu-id="80932-129">**NotificationPort**</span></span>|<span data-ttu-id="80932-130">Spécifie le numéro de port ODP.NET doit ouvrir pour l’écoute de notification de modification de base de données à partir de la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="80932-130">Specifies the port number that ODP.NET must open to listen for database change notification from Oracle database.</span></span> <span data-ttu-id="80932-131">Définissez cette propriété sur le même numéro de port que vous devez avoir ajouté à la liste d’exceptions de pare-feu Windows.</span><span class="sxs-lookup"><span data-stu-id="80932-131">Set this to the same port number that you must have added to the Windows Firewall exceptions list.</span></span> <span data-ttu-id="80932-132">Pour obtenir des instructions sur la façon d’ajouter des ports à la liste des exceptions du pare-feu Windows, consultez [http://go.microsoft.com/fwlink/?LinkID=196959](http://go.microsoft.com/fwlink/?LinkID=196959).</span><span class="sxs-lookup"><span data-stu-id="80932-132">For instructions on how to add ports to Windows Firewall exceptions list, see [http://go.microsoft.com/fwlink/?LinkID=196959](http://go.microsoft.com/fwlink/?LinkID=196959).</span></span> <span data-ttu-id="80932-133">**Important :** si vous affectez la valeur par défaut -1, vous devez désactiver le pare-feu Windows pour recevoir des messages de notification.</span><span class="sxs-lookup"><span data-stu-id="80932-133">**Important:**  If you set this to the default value of -1, you will have to completely disable Windows Firewall to receive notification messages.</span></span>|  
    |<span data-ttu-id="80932-134">**NotificationStatement**</span><span class="sxs-lookup"><span data-stu-id="80932-134">**NotificationStatement**</span></span>|<span data-ttu-id="80932-135">Affectez la valeur :</span><span class="sxs-lookup"><span data-stu-id="80932-135">Set this to:</span></span><br /><br /> <span data-ttu-id="80932-136">`SELECT TID,ACCOUNT,PROCESSED FROM SCOTT.ACCOUNTACTIVITY WHERE PROCESSED = ‘n’`**Remarque :** vous devez spécifier le nom de table, ainsi que le nom du schéma.</span><span class="sxs-lookup"><span data-stu-id="80932-136">`SELECT TID,ACCOUNT,PROCESSED FROM SCOTT.ACCOUNTACTIVITY WHERE PROCESSED = ‘n’` **Note:**  You must specify the table name along with the schema name.</span></span> <span data-ttu-id="80932-137">Par exemple, `SCOTT.ACCOUNTACTIVITY`.</span><span class="sxs-lookup"><span data-stu-id="80932-137">For example, `SCOTT.ACCOUNTACTIVITY`.</span></span>|  
    |<span data-ttu-id="80932-138">**NotifyOnListenerStart**</span><span class="sxs-lookup"><span data-stu-id="80932-138">**NotifyOnListenerStart**</span></span>|<span data-ttu-id="80932-139">Affectez la valeur **True**.</span><span class="sxs-lookup"><span data-stu-id="80932-139">Set this to **True**.</span></span>|  
  
6.  <span data-ttu-id="80932-140">Démarrez l’application BizTalk.</span><span class="sxs-lookup"><span data-stu-id="80932-140">Start the BizTalk application.</span></span>  
  
7.  <span data-ttu-id="80932-141">Pour commencer à recevoir des notifications, insérez une centaine enregistrements dans la table ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="80932-141">To start receiving notifications, insert a hundred records into the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="80932-142">Pendant cette opération, assurez-vous que la demande XML pour l’appel de la procédure NOTIFY_LOAD_BALANCE est disponible dans C:\TestLocation\MessageIn.</span><span class="sxs-lookup"><span data-stu-id="80932-142">While doing so, make sure the request XML for invoking the NOTIFY_LOAD_BALANCE procedure is available in C:\TestLocation\MessageIn.</span></span>  
  
8.  <span data-ttu-id="80932-143">Surveiller l’emplacement (sur les deux ordinateurs) où l’application BizTalk déplacer les messages de notification.</span><span class="sxs-lookup"><span data-stu-id="80932-143">Monitor the location (on both the computers) where the BizTalk application will be dropping the notification messages.</span></span> <span data-ttu-id="80932-144">Vous remarquerez que des enregistrements de centaines insérées, un seul emplacement reçoit les notifications pour certains enregistrements pendant que l’autre emplacement reçoit une notification pour les enregistrements restants.</span><span class="sxs-lookup"><span data-stu-id="80932-144">You will notice that of the hundred records inserted, one location gets notifications for some records while the other location gets notification for the remaining records.</span></span> <span data-ttu-id="80932-145">Ensemble, les emplacements recevez notification pour tous les enregistrements de centaines.</span><span class="sxs-lookup"><span data-stu-id="80932-145">Together, both the locations will get notification for all the hundred records.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="80932-146">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="80932-146">See Also</span></span>  
 [<span data-ttu-id="80932-147">Recevoir des Notifications de modification de base de données Oracle E-Business Suite à l’aide de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="80932-147">Receive Oracle E-Business Suite Database Change Notifications Using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-oracle-ebs/receive-oracle-ebs-database-change-notifications-using-biztalk-server.md)