---
title: "En savoir plus sur l’adaptateur BizTalk pour les propriétés de liaison de l’adaptateur SQL Server | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 4606f583-da74-4a26-95cb-88915ecafe37
caps.latest.revision: "43"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cc699e4317437305d3ebfba6b5b839f90c527f31
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties"></a>En savoir plus sur l’adaptateur BizTalk pour les propriétés de liaison de l’adaptateur SQL Server
Le [!INCLUDE[adaptersql](../../includes/adaptersql-md.md)] expose plusieurs propriétés de liaison. En définissant ces propriétés, vous pouvez contrôler partie du comportement de l’adaptateur. Cette section décrit les propriétés de liaison exposées par le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]. Il montre également comment vous pouvez y accéder à l’aide de programmation .NET ou en définissant des propriétés sur un [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] liaison de port physique.  
  
## <a name="the-adapter-binding-properties"></a>Les propriétés de liaison de carte  
 Le tableau suivant présente [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] propriétés de liaison groupées par catégorie. La catégorie fait référence au nœud sous lequel chaque propriété de liaison s’affiche dans les boîtes de dialogue qui sont présentés par différentes applications pour configurer l’adaptateur (ou la liaison).  
  
|Propriété de liaison|Catégorie| Description|Type .NET|  
|----------------------|--------------|-----------------|---------------|  
|**XmlStoredProcedureRootNodeName**|(POUR XML)|Spécifie le nom du nœud racine pour le schéma de réponse pour les procédures stockées qui ont une clause FOR XML dans l’instruction SELECT. Ce nœud racine encapsule la réponse XML reçue de SQL Server après l’exécution de ces procédures stockées. Vous devez ajouter ce nœud racine pour le schéma de réponse, comme décrit dans la rubrique [exécuter les procédures stockées ayant une clause FOR XML Clause dans SQL Server à l’aide de BizTalk Server](../../adapters-and-accelerators/adapter-sql/execute-stored-procedures-having-a-for-xml-clause-in-sql-server-using-biztalk.md).<br /><br /> **Important :** vous devez définir cette propriété de liaison lors de l’exécution de procédures stockées avec la clause FOR XML.|chaîne|  
|**XmlStoredProcedureRootNodeNamespace**|(POUR XML)|Spécifie l’espace de noms cible du nœud racine pour le schéma de réponse pour les procédures stockées qui ont une clause FOR XML dans l’instruction SELECT.|chaîne|  
|**CloseTimeout**|(Général)|Le [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] délai de fermeture de la connexion. La valeur par défaut est de 1 minute.|System.TimeSpan|  
|**Nom**|(Général)|Une valeur en lecture seule qui renvoie le nom du fichier généré par le [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)] pour contenir la [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] classe de client. Le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] constitue le nom de fichier en ajoutant « Client » à la valeur de la **nom** propriété. La valeur par défaut de cette propriété est « SqlAdapterBinding » ; pour cette valeur, le fichier généré sera nommé « SqlAdapterBindingClient ».|chaîne|  
|**OpenTimeout**|(Général)|Spécifie le [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] délai d’ouverture de connexion. La valeur par défaut est de 1 minute.<br /><br /> **Important :** le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] utilise toujours **OpenTimeout** pour définir le délai de connexion ouvert lorsqu’il ouvre une connexion à SQL Server. L’adaptateur ignore tout délai d’attente (**System.TimeSpan**) des paramètres transmis lorsque vous ouvrez un objet de communication. Par exemple, l’adaptateur ignore les paramètres de délai d’attente passés lors de l’ouverture d’un canal.|System.TimeSpan|  
|**ReceiveTimeout**|(Général)|Spécifie le [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] délai de réception du message. En résumé, cela signifie que la quantité maximale de délai de qu'attente de l’adaptateur pour un message entrant. La valeur par défaut est 10 minutes.<br /><br /> **Important :** pour les opérations entrantes telles que l’interrogation, nous vous recommandons de définir le délai d’attente à la valeur maximale possible, ce qui est 24.20:31:23.6470000 (24 jours). Lors de l’utilisation de l’adaptateur avec [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], définir le délai d’attente pour une valeur élevée n’affecte pas les fonctionnalités de la carte.|System.TimeSpan|  
|**SendTimeout**|(Général)|Spécifie le [!INCLUDE[nextref_btsWinCommFoundation](../../includes/nextref-btswincommfoundation-md.md)] délai d’envoi de message. La valeur par défaut est de 1 minute.|System.TimeSpan|  
|**EnableBizTalkCompatibilityMode**|BizTalk|Indique si l’adaptateur est utilisé avec [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] ou d’une application .NET.<br /><br /> -Lors de l’utilisation des adaptateurs de [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] (ou en générant des métadonnées pour les opérations sur SQL Server à l’aide de l’adaptateur dans un projet BizTalk), vous devez toujours définir la propriété **True**. Cela garantit que le schéma généré pour System.Data.DataSet est dans un format compatible avec [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], sinon votre projet BizTalk compilation échouera.<br /><br /> -Lors de l’utilisation des adaptateurs de [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] dans une application .NET, vous devez définir la propriété **False** si vous souhaitez utiliser la réponse comme un jeu de données. Cela garantit que le schéma généré pour l’objet System.Data.DataSet est dans un format compatible avec le DataContractSerializer WCF.|bool (System.Boolean)|  
|**BatchSize**|des réponses|Spécifie la taille de lot pour plusieurs enregistrements opérations Insert, Update et Delete sur une table ou une vue dans une base de données SQL Server. La valeur par défaut est 20. Pour les valeurs de **BatchSize** supérieur à un, le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] traite le nombre spécifié d’enregistrements en un seul appel. Une valeur plus élevée peut améliorer les performances, mais il affecte la consommation de mémoire.|int (System.Int32)|  
|**Taille du segment**|des réponses|Spécifie la taille de mémoire tampon utilisée pour les opérations de jeu < nom_colonne >. La valeur par défaut est 4 194 304 octets. Une valeur plus élevée peut améliorer les performances, mais il affecte la consommation de mémoire.<br /><br /> **Remarque :** pour plus d’informations sur les opérations de jeu < nom_colonne >, consultez [opérations sur les Tables et vues que contiennent des grands Types de données à l’aide de l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/supported-operations-on-tables-and-views-with-large-data-types-with-sql-adapter.md).|int (System.Int32)|  
|**Chiffrer**|Connexion|Indique si SQL Server (avec un certificat valide installé) utilise le chiffrement SSL pour tous les transferts de données entre SQL Server et le client. Valeur par défaut est **false**.|bool (System.Boolean)|  
|**MaxConnectionPoolSize**|Connexion|Spécifie le nombre maximal de connexions autorisées dans un pool de connexions pour une chaîne de connexion spécifique. La valeur par défaut est 100. Cette propriété est utilisée pour le réglage des performances.<br /><br /> **Important :** vous devez définir **MaxConnectionPoolSize** judicieusement. Il est possible de détourner le nombre de connexions disponibles, si cette valeur est trop grande.|int (System.Int32)|  
|**WorkstationId**|Connexion|Spécifie un ID unique pour la station de travail (ordinateur client) qui se connecte à la base de données SQL Server à l’aide du [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]. La valeur de cette propriété de liaison, si spécifié, est utilisée pour le **ID de station de travail** mot clé de propriété SqlConnection.ConnectionString. Pour plus d’informations, consultez [propriété SqlConnection.ConnectionString](https://msdn.microsoft.com/library/system.data.sqlclient.sqlconnection.connectionstring.aspx).|chaîne|  
|**EnablePerformanceCounters**|Diagnostics|Spécifie s’il faut activer la [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)] les compteurs de performance et la [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] compteur de performance de latence LOB. La valeur par défaut est **False**; les compteurs de performance sont désactivés. Le compteur de performance de latence LOB mesure le temps total passé par le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] dans les appels à la base de données SQL Server.<br /><br /> Pour plus d’informations sur les compteurs de performances pour le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)], consultez [utiliser des compteurs de performances avec l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/use-performance-counters-with-the-sql-adapter.md).|int (System.Int32)|  
|**InboundOperationType**|Trafic entrant|Spécifie si vous souhaitez effectuer **d’interrogation**, **TypedPolling**, **XmlPolling**, ou **Notification** opération entrante. Valeur par défaut est **d’interrogation**.<br /><br /> Pour plus d’informations sur **d’interrogation**, **TypedPolling**, et **XmlPolling** consultez [prise en charge pour l’interrogation](https://msdn.microsoft.com/library/dd788416.aspx). Pour plus d’informations sur **Notification**, consultez [considérations relatives à la réception de requête des Notifications à l’aide de l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/considerations-for-receiving-query-notifications-using-the-sql-adapter.md).|Enum|  
|**UseDatabaseNameInXsdNamespace**|Métadonnées|Spécifie si le schéma XSD généré pour un artefact particulier contient le nom de la base de données. Affectez la valeur **True** d’inclure le nom de la base de données. Sinon, affectez la valeur **False**. Valeur par défaut est **False**.<br /><br /> Cela est utile dans les scénarios où une seule application souhaite exécuter des opérations sur les objets portant le même nommés avec des métadonnées différentes à différentes bases de données. Si aucun nom de base de données est dans l’espace de noms, les métadonnées générées seront en conflit. En définissant cette propriété de liaison vous pouvez inclure le nom de la base de données dans l’espace de noms, ce qui les rend uniques. Voici un exemple de mise en surbrillance de la modification de l’espace de noms.<br /><br /> **UseDatabaseNameInXsdNamespace = False**<br /><br /> `http://schemas.microsoft.com/Sql/2008/05/TableOp/dbo/Employee`<br /><br /> **UseDatabaseNameInXsdNamespace = True**<br /><br /> `http://schemas.microsoft.com/Sql/2008/05/TableOp/MyDatabase/dbo/Employee`<br /><br /> Notez que le nom de base de données est inclus dans l’espace de noms lors de la propriété de liaison est définie à **True**.|Enum|  
|**AllowIdentityInsert**|Divers|Spécifie si l’adaptateur peut insérer des valeurs pour les colonnes d’identité lors des opérations Insert et Update. Définissez cette propriété sur **True** pour insérer ou mettre à jour les colonnes d’identité. Sinon, affectez la valeur **False**. Valeur par défaut est **False**.<br /><br /> **Remarque :** définissant cette propriété sur **True** se traduit par l’adaptateur à l’aide de «`SET IDENTITY_INSERT <table_name> ON`». Pour plus d’informations, consultez [SET IDENTITY_INSERT (Transact-SQL)](https://msdn.microsoft.com/library/ms188059.aspx). <br /><br /> Lors de l’utilisation de cette propriété de liaison, vous devez prendre en compte les points suivants :<br /><br /> -L’adaptateur ne valide pas la valeur que vous passez de la colonne identité. Par exemple, si une table possède une colonne d’identité qui a la valeur « Début du compteur » 100 « Incrément d’identité » définie sur 1, et le client de l’adaptateur transmet une valeur, par exemple 95, pour la colonne d’identité, l’adaptateur passe simplement à cette valeur à SQL Server.<br /><br /> -Même si vous définissez **AllowIdentityInsert** à **True**, il n’est pas obligatoire pour un client de l’adaptateur spécifier une valeur pour la colonne d’identité dans le message de demande. Si une valeur est présente pour la colonne d’identité, l’adaptateur transmet SQL Server. Si une valeur n’est pas présente, SQL Server insère une valeur basée sur la spécification de la colonne d’identité.|bool (System.Boolean)|  
|**NotificationStatement**|Notification (entrant)|Spécifie l’instruction SQL (SELECT ou EXEC \<procédure stockée\>) permet de s’inscrire aux notifications de SQL Server. Notez que vous devez spécifier plus précisément les noms de colonnes dans l’instruction comme indiqué dans l’instruction SELECT suivante.<br /><br /> `SELECT Employee_ID,Designation FROM dbo.Employee WHERE Status=0`<br /><br /> **Remarque :** vous devez spécifier le nom d’objet de base de données, ainsi que le nom du schéma. Par exemple, `dbo.Employee`.<br /><br /> L’adaptateur reçoit un message de notification de SQL Server que lorsque le jeu de résultats pour que les modifications d’instruction SQL spécifiées.|chaîne|  
|**NotifyOnListenerStart**|Notification (entrant)|Spécifie si l’adaptateur envoie un message de notification pour les clients de la carte, pour signaler que l’emplacement de réception est en cours d’exécution, au démarrage de l’écouteur. Valeur par défaut est **True**.<br /><br /> Vous recevez le message de notification se présente comme suit :<br /><br /> `<?xml version="1.0" encoding="utf-8" ?> <Notification xmlns="http://schemas.microsoft.com/Sql/2008/05/Notification/">   <Info>ListenerStarted</Info>    <Source>SqlBinding</Source>    <Type>Startup</Type>  </Notification>`|bool (System.Boolean)|  
|**PolledDataAvailableStatement**|Interrogation (entrant)|Spécifie l’instruction SQL exécutée pour déterminer si les données sont disponibles pour l’interrogation d’une table spécifique dans une base de données SQL Server. L’instruction spécifiée doit retourner un jeu de résultats composé de lignes et de colonnes. La valeur de la première cellule du jeu de résultats indique si l’adaptateur s’exécute l’instruction SQL spécifiée pour le **PollingStatement** propriété de liaison. Si la première cellule de résultat contient une valeur positive, l’adaptateur exécuté l’instruction d’interrogation. Voici quelques exemples de certaines instructions valides que vous pouvez spécifier pour cette propriété de liaison :<br /><br /> -Si vous spécifiez une instruction SELECT :<br /><br /> `SELECT COUNT(*) from <table_name>`<br /><br /> -Si vous spécifiez une procédure stockée, la procédure stockée peut être définie en tant que :<br /><br /> `CREATE PROCEDURE <procedure_name>  AS BEGIN      SELECT COUNT(*) FROM <table_name> END GO`<br /><br /> ou<br /><br /> `CREATE PROCEDURE <procedure_name>  AS BEGIN      DECLARE @count int      SELECT @count = SELECT(*) FROM <table_name>      SELECT @count END GO`<br /><br /> Si vous utilisez une procédure stockée, vous devez spécifier le **PolledDataAvailableStatement** comme `EXEC <procedure_name>`.<br /><br /> **Important :** l’instruction que vous spécifiez pour cette propriété de liaison n’est pas exécutée dans *un adaptateur initié* transaction et peut être appelée plusieurs fois avant l’exécution de l’instruction d’interrogation réel (même si l’exécution de l’instruction indiqué que des lignes sont disponibles pour l’interrogation).|chaîne|  
|**PollingIntervalInSeconds**|Interrogation (entrant)|Spécifie l’intervalle, en secondes, à laquelle le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] exécute l’instruction spécifiée pour le **PolledDataAvailableStatement** propriété de liaison. La valeur par défaut est 30 secondes. L’intervalle d’interrogation détermine l’intervalle de temps entre deux interrogations successives. Si l’instruction est exécutée dans l’intervalle spécifié, la carte est inactive pour le temps restant dans l’intervalle.|int (System.Int32)|  
|**PollingStatement**|Interrogation (entrant)|Spécifie l’instruction SQL pour interroger une table de base de données SQL Server. Vous pouvez spécifier une instruction SELECT simple ou des procédures stockées pour l’instruction d’interrogation. La valeur par défaut est **null**. Vous devez spécifier une valeur pour **PollingStatement** pour activer l’interrogation. L’instruction d’interrogation est exécutée uniquement si des données disponibles pour l’interrogation, ce qui est déterminée par le **PolledDataAvailableStatement** propriété de liaison.<br /><br /> Vous pouvez spécifier n’importe quel nombre d’instructions SQL séparées par un point-virgule. Vous pouvez utiliser l’instruction d’interrogation pour lire ou mettre à jour des données dans une table de base de données SQL Server. Le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] exécute les instructions d’interrogation à l’intérieur d’une transaction. Lorsque l’adaptateur est utilisé avec [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], la même transaction est utilisée pour envoyer des messages à partir de SQL Server dans la boîte de message BizTalk.|chaîne|  
|**PollWhileDataFound**|Interrogation (entrant)|Spécifie si le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] ignore l’intervalle d’interrogation et exécute en permanence de l’instruction SQL spécifiée pour le **PolledDataAvailableStatement** liaison de propriété, si les données sont disponibles dans la table interrogée. Si aucune donnée n’est disponible dans la table, l’adaptateur revient à exécuter l’instruction SQL à l’intervalle d’interrogation spécifié. Valeur par défaut est **false**.<br /><br /> Considérez un scénario où l’intervalle d’interrogation est défini sur 60 secondes, et l’instruction spécifiée pour **PolledDataAvailableStatement** retourne que les données sont disponibles pour l’interrogation. L’adaptateur puis exécute l’instruction spécifiée pour le **PollingStatement** propriété de liaison. En supposant que l’adaptateur prend seulement 10 secondes pour exécuter l’instruction d’interrogation, il aura attendre 50 secondes avant l’exécution de la **PolledDataAvailableStatement** à nouveau et puis exécuter ensuite l’instruction d’interrogation . En revanche, pour optimiser les performances, vous pouvez définie le **PollWhileDataFound** liaison de propriété **true** afin que l’adaptateur peut commencer l’exécution du prochain cycle d’interrogation dès que le précédent cycle d’interrogation se termine.|bool (System.Boolean)|  
|**UseAmbientTransaction**|Transaction|Spécifie si le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] effectue les opérations à l’aide du contexte transactionnel fourni par l’appelant. Valeur par défaut est **true**, ce qui signifie que l’adaptateur effectue toujours les opérations dans un contexte transactionnel. Si d’autres ressources participant à la transaction, et SQL Server joint également la transaction, la transaction obtient élevés au rang d’une transaction MSDTC.<br /><br /> Toutefois, il peut y avoir des scénarios où vous ne souhaitez pas la carte pour effectuer des opérations dans un contexte transactionnel. Exemple :<br /><br /> -Lors de l’exécution d’une opération Select simple sur un serveur SQL Server de la base de données<br /><br /> -Lors de la spécification d’une instruction d’interrogation qui effectue une opération de sélection et n’implique pas de modifications à la table via une instruction Delete ou en appelant une procédure stockée.<br /><br /> Ces opérations n’apportez pas les mises à jour à la table de base de données et, par conséquent, en élevant ces opérations pour utiliser une transaction MSDTC peut être une diminution des performances. Dans de tels scénarios, vous pouvez définir la propriété de liaison **false** afin que le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] n’effectue pas les opérations dans un contexte transactionnel.<br /><br /> **Remarque :** effectue ne pas les opérations dans un contexte transactionnel est recommandé uniquement pour les opérations qui ne modifient pas la base de données. Pour les opérations qui mettent à jour des données dans la base de données, nous vous recommandons de définir la propriété de liaison **true**; sinon, vous risquez de rencontrer soit perte de messages ou des messages en double, selon que vous effectuez entrant ou opérations sortantes.|bool (System.Boolean)|  
  
## <a name="how-do-i-set-sql-server-binding-properties"></a>Comment définir les propriétés de liaison de SQL Server ?  
 Vous pouvez définir les propriétés de liaison de SQL Server lorsque vous spécifiez une connexion à SQL Server. Pour plus d’informations sur la définition des propriétés de liaison lorsque vous :  
  
-   Utilisez le [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] ou [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)], consultez [se connecter à SQL Server à l’aide de l’authentification Windows avec l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/connect-to-sql-server-using-windows-authentication-with-the-sql-adapter.md).  
  
    > [!IMPORTANT]
    >  Lors de l’utilisation du [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] ou [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], si vous ne spécifiez pas une valeur pour une propriété de liaison de type chaîne et dont la valeur par défaut est null, cette propriété de liaison ne sera pas disponible dans le fichier de liaison (un fichier XML) ou le fichier app.config respectivement. Vous devez ajouter manuellement la propriété de liaison et sa valeur dans le fichier de liaison ou le fichier app.config, si nécessaire.  
  
-   Configurer un port d’envoi ou réception de port (emplacement) dans une solution BizTalk Server, consultez [configurer manuellement une liaison de port physique à l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md).
  
-   Utilisez le modèle de canal WCF dans une solution de programmation, consultez [créer un canal à l’aide de l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/create-a-channel-using-the-sql-adapter.md).  
  
-   Utilisez le modèle de service WCF dans une solution de programmation, consultez [configurer une liaison de Client de l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/configure-a-client-binding-for-the-sql-adapter.md).  
  
## <a name="see-also"></a>Voir aussi  
[Développer vos applications SQL](../../adapters-and-accelerators/adapter-sql/develop-your-sql-applications.md)