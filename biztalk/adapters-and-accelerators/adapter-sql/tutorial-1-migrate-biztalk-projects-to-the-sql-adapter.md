---
title: "Didacticiel 1 : Migrer des projets BizTalk à l’adaptateur SQL | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 0b4d2dbb-e37c-4d70-831f-3bdac3c28c97
caps.latest.revision: "8"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5ca17095841fb154be9ec34766a34f174414cd82
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="tutorial-1-migrate-biztalk-projects-to-the-sql-adapter"></a><span data-ttu-id="d226b-102">Didacticiel 1 : Migrer des projets BizTalk à l’adaptateur SQL</span><span class="sxs-lookup"><span data-stu-id="d226b-102">Tutorial 1: Migrate BizTalk Projects to the SQL adapter</span></span>
<span data-ttu-id="d226b-103">La version précédente de l’adaptateur SQL fourni avec Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] diffère de la station de travail WCF [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] dans nombreux aspects, notamment :</span><span class="sxs-lookup"><span data-stu-id="d226b-103">The previous version of the SQL adapter that shipped with Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] differs from the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] in many aspects, including:</span></span>  
  
-   <span data-ttu-id="d226b-104">L’expérience au moment du design de création d’un projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="d226b-104">The design-time experience of creating a BizTalk project.</span></span>  
  
-   <span data-ttu-id="d226b-105">L’expérience de récupération de métadonnées.</span><span class="sxs-lookup"><span data-stu-id="d226b-105">The metadata retrieval experience.</span></span>  
  
-   <span data-ttu-id="d226b-106">Nom de fichier de schéma et l’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="d226b-106">Schema file name and namespace.</span></span>  
  
-   <span data-ttu-id="d226b-107">Mappages de type de données.</span><span class="sxs-lookup"><span data-stu-id="d226b-107">Data type mappings.</span></span>  
  
-   <span data-ttu-id="d226b-108">Les opérations qui peuvent être effectuées à l’aide de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="d226b-108">The operations that can be performed using the adapter.</span></span>  
  
-   <span data-ttu-id="d226b-109">Configuration des ports physiques dans la console Administration de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="d226b-109">Physical port configuration in the BizTalk Server Administration console</span></span>  
  
 <span data-ttu-id="d226b-110">Ces différences sont expliquées dans les rubriques de migration BizTalk projets créés à l’aide de la Version précédente de l’adaptateur SQL.</span><span class="sxs-lookup"><span data-stu-id="d226b-110">These differences are explained in the topics within Migrating BizTalk Projects Created Using the Previous Version of the SQLadapter.</span></span>  
  
 <span data-ttu-id="d226b-111">Toutefois, vous pouvez apporter des modifications au projet BizTalk qui a été créé à l’aide de la version précédente de l’adaptateur et qu’il fonctionne avec la base de WCF [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d226b-111">However, you can make changes to the BizTalk project that was created using the previous version of the adapter and make it work with the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span></span>  
  
 <span data-ttu-id="d226b-112">Ce didacticiel fournit des instructions sur les modifications que vous devez apporter au projet BizTalk existant créé à l’aide de la version précédente de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="d226b-112">This tutorial provides instructions on the changes you should make to the existing BizTalk project created using the previous version of the adapter.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d226b-113">Dans ce didacticiel, par souci de concision, la version précédente de l’adaptateur SQL sera appelée vPrev l’adaptateur SQL.</span><span class="sxs-lookup"><span data-stu-id="d226b-113">In this tutorial, for the sake of brevity, the previous version of the SQL adapter will be referred to as vPrev SQL adapter.</span></span> <span data-ttu-id="d226b-114">De même, un projet BizTalk qui utilise l’adaptateur SQL vPrev est être appelé en tant que projet de BizTalk vPrev.</span><span class="sxs-lookup"><span data-stu-id="d226b-114">Similarly, a BizTalk project that uses the vPrev SQL adapter will be referred to as vPrev BizTalk project.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="d226b-115">Ce didacticiel fournit des conseils sur la migration d’un projet BizTalk adaptateur SQL vPrev qui effectue une opération d’insertion de base sur une table de base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="d226b-115">This tutorial provides guidance on how to migrate a vPrev SQL adapter BizTalk project that performs a basic insert operation on a SQL Server database table.</span></span> <span data-ttu-id="d226b-116">Ce didacticiel ne couvre pas tous les scénarios possibles pour la migration à partir de l’adaptateur SQL vPrev vers le nouveau basé sur WCF [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d226b-116">This tutorial does not cover all possible scenarios for migration from the vPrev SQL adapter to the new WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span></span> <span data-ttu-id="d226b-117">Vous devez utiliser ce didacticiel de migration de base et modifier en conséquence pour apporter des modifications qui s’applique à votre projet existant.</span><span class="sxs-lookup"><span data-stu-id="d226b-117">You must use this migration tutorial as a foundation and modify accordingly to make changes that are relevant to your existing project.</span></span>  
  
## <a name="sample-used-for-the-tutorial"></a><span data-ttu-id="d226b-118">Exemple utilisé pour le didacticiel</span><span class="sxs-lookup"><span data-stu-id="d226b-118">Sample Used for the Tutorial</span></span>  
 <span data-ttu-id="d226b-119">Ce didacticiel est basé sur un exemple qui montre comment migrer un projet BizTalk de vPrev (SQL_Migration).</span><span class="sxs-lookup"><span data-stu-id="d226b-119">This tutorial is based upon a sample (SQL_Migration) that demonstrates how to migrate a vPrev BizTalk project.</span></span> <span data-ttu-id="d226b-120">L’exemple est fourni avec Microsoft [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d226b-120">The sample is provided with Microsoft [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span></span> <span data-ttu-id="d226b-121">Pour plus d’informations, consultez les exemples.</span><span class="sxs-lookup"><span data-stu-id="d226b-121">For more information, see Samples.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="d226b-122">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="d226b-122">Prerequisites</span></span>  
  
-   <span data-ttu-id="d226b-123">Vous devez disposer d’un projet BizTalk de vPrev.</span><span class="sxs-lookup"><span data-stu-id="d226b-123">You must have a vPrev BizTalk project.</span></span> <span data-ttu-id="d226b-124">Ce didacticiel implique un projet BizTalk qui effectue une opération d’insertion sur une table dans la base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="d226b-124">This tutorial involves a BizTalk project that performs an Insert operation on a Customer table in the SQL Server database.</span></span> <span data-ttu-id="d226b-125">La table Customer a la structure suivante :</span><span class="sxs-lookup"><span data-stu-id="d226b-125">The Customer table has the following design:</span></span>  
  
    |<span data-ttu-id="d226b-126">Nom de la colonne</span><span class="sxs-lookup"><span data-stu-id="d226b-126">Column Name</span></span>|<span data-ttu-id="d226b-127"> Description</span><span class="sxs-lookup"><span data-stu-id="d226b-127">Description</span></span>|  
    |-----------------|-----------------|  
    |<span data-ttu-id="d226b-128">v_custid</span><span class="sxs-lookup"><span data-stu-id="d226b-128">v_custid</span></span>|<span data-ttu-id="d226b-129">Type entier clé, principal, le champ d’identité</span><span class="sxs-lookup"><span data-stu-id="d226b-129">Primary key, integer type, identity field</span></span>|  
    |<span data-ttu-id="d226b-130">Nom</span><span class="sxs-lookup"><span data-stu-id="d226b-130">Name</span></span>|<span data-ttu-id="d226b-131">type de nchar(10)</span><span class="sxs-lookup"><span data-stu-id="d226b-131">nchar(10) type</span></span>|  
  
-   <span data-ttu-id="d226b-132">Vous devez disposer d’un message de demande pour effectuer une opération d’insertion sur la base de données SQL Server à l’aide de l’adaptateur SQL vPrev.</span><span class="sxs-lookup"><span data-stu-id="d226b-132">You must have a request message to perform an Insert operation on the SQL Server database using the vPrev SQL adapter.</span></span> <span data-ttu-id="d226b-133">Le message de demande doit être conforme au schéma de l’opération d’insertion générée à l’aide de l’adaptateur SQL vPrev.</span><span class="sxs-lookup"><span data-stu-id="d226b-133">The request message must conform to the schema of the Insert operation generated using the vPrev SQL adapter.</span></span>  
  
-   <span data-ttu-id="d226b-134">Vous devez avoir terminé les étapes de [avant de vous développer des Applications BizTalk](http://msdn.microsoft.com/library/3539741d-5266-43d4-9b7b-73e82f0ed4f6).</span><span class="sxs-lookup"><span data-stu-id="d226b-134">You should have completed the steps in [Before You Develop BizTalk Applications](http://msdn.microsoft.com/library/3539741d-5266-43d4-9b7b-73e82f0ed4f6).</span></span>  
  
## <a name="understanding-a-biztalk-project-created-using-the-previous-version-of-the-adapter"></a><span data-ttu-id="d226b-135">Présentation d’un projet BizTalk créée à l’aide de la Version précédente de l’adaptateur</span><span class="sxs-lookup"><span data-stu-id="d226b-135">Understanding a BizTalk Project Created Using the Previous Version of the Adapter</span></span>  
 <span data-ttu-id="d226b-136">Les principaux composants d’un projet BizTalk de vPrev créés sont :</span><span class="sxs-lookup"><span data-stu-id="d226b-136">The key constituents of a vPrev BizTalk project created are:</span></span>  
  
-   <span data-ttu-id="d226b-137">**Orchestration BizTalk**.</span><span class="sxs-lookup"><span data-stu-id="d226b-137">**BizTalk orchestration**.</span></span> <span data-ttu-id="d226b-138">Il s’agit d’une orchestration simple qui Récupère les messages de demande à partir d’un emplacement de fichier, envoie le message de demande à la base de données SQL Server à l’aide de WCF-Custom envoi / réception port, reçoit la réponse et l’enregistre dans un autre emplacement de fichier.</span><span class="sxs-lookup"><span data-stu-id="d226b-138">This is a simple orchestration that picks request messages from a file location, sends the request message to the SQL Server database using a WCF-Custom send-receive port, receives the response, and saves it to another file location.</span></span>  
  
-   <span data-ttu-id="d226b-139">**Schéma pour l’opération que vous souhaitez effectuer sur la base de données SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="d226b-139">**Schema for the operation you wish to perform on the SQL Server database**.</span></span> <span data-ttu-id="d226b-140">Ce didacticiel implique un projet BizTalk qui effectue une opération d’insertion sur la table Customer.</span><span class="sxs-lookup"><span data-stu-id="d226b-140">This tutorial involves a BizTalk project that performs an Insert operation on the Customer table.</span></span> <span data-ttu-id="d226b-141">Le schéma généré pour la table Customer est InsertCustomerService.xsd.</span><span class="sxs-lookup"><span data-stu-id="d226b-141">The schema generated for the Customer table is InsertCustomerService.xsd.</span></span> <span data-ttu-id="d226b-142">Ce schéma est généré à l’aide de l’adaptateur SQL vPrev.</span><span class="sxs-lookup"><span data-stu-id="d226b-142">This schema is generated using the vPrev SQL adapter.</span></span>  
  
-   <span data-ttu-id="d226b-143">**Message de demande**.</span><span class="sxs-lookup"><span data-stu-id="d226b-143">**Request message**.</span></span> <span data-ttu-id="d226b-144">Le message de demande pour effectuer une opération d’insertion sur la table Customer.</span><span class="sxs-lookup"><span data-stu-id="d226b-144">The request message to perform an Insert operation on the Customer table.</span></span> <span data-ttu-id="d226b-145">Le schéma du message de demande est conforme au schéma de l’opération d’insertion, comme exposés par la version précédente de l’adaptateur SQL.</span><span class="sxs-lookup"><span data-stu-id="d226b-145">The schema of the request message conforms to the schema of the Insert operation as surfaced by the previous version of the SQL adapter.</span></span>  
  
## <a name="how-to-migrate-a-biztalk-project-created-using-the-previous-version-of-the-adapter"></a><span data-ttu-id="d226b-146">Comment migrer un projet BizTalk créée à l’aide de la Version précédente de l’adaptateur</span><span class="sxs-lookup"><span data-stu-id="d226b-146">How to Migrate a BizTalk Project Created Using the Previous Version of the Adapter</span></span>  
 <span data-ttu-id="d226b-147">L’objectif de ce didacticiel de migration consiste à vous permettent d’envoyer un message de demande, qui est conforme au schéma généré par l’adaptateur SQL vPrev, à l’aide d’un port personnalisé WCF qui peut traiter uniquement les messages conformes à la station de travail WCF [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d226b-147">The goal of this migration tutorial is to enable you to send a request message, which conforms to schema generated by vPrev SQL adapter, using a WCF-Custom port that can only process messages conforming to the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span></span> <span data-ttu-id="d226b-148">Par conséquent, en bref, l’exercice de migration implique la configuration du port WCF-Custom pour traiter les messages qui ne sont pas conformes à la station de travail WCF [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]du schéma.</span><span class="sxs-lookup"><span data-stu-id="d226b-148">So, in short, the migration exercise involves configuring the WCF-Custom port to process messages that do not conform to the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]'s schema.</span></span>  
  
 <span data-ttu-id="d226b-149">Toutefois, pour être en mesure de configurer le port WCF-Custom correctement, vous devez effectuer les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="d226b-149">However, to be able to configure the WCF-Custom port appropriately, you must perform the following tasks:</span></span>  
  
-   <span data-ttu-id="d226b-150">Générer des métadonnées pour l’opération d’insertion sur la table Customer à l’aide de la station de travail WCF [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d226b-150">Generate metadata for the Insert operation on the Customer table using the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span></span>  
  
-   <span data-ttu-id="d226b-151">Mapper le message de demande pour effectuer une opération d’insertion à l’aide de l’adaptateur SQL vPrev à un message de demande pour effectuer une opération d’insertion à l’aide de la station de travail WCF [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d226b-151">Map the request message for performing an Insert operation using the vPrev SQL adapter to a request message for performing an Insert operation using the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span></span>  
  
-   <span data-ttu-id="d226b-152">Mapper le message de réponse reçu à l’aide de la station de travail WCF [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] au message de réponse de l’adaptateur SQL vPrev.</span><span class="sxs-lookup"><span data-stu-id="d226b-152">Map the response message received using the WCF-based [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to the response message for the vPrev SQL adapter.</span></span>  
  
-   <span data-ttu-id="d226b-153">Créer un service WCF-Custom SQL envoi-port de réception dans le [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] console d’Administration.</span><span class="sxs-lookup"><span data-stu-id="d226b-153">Create a WCF-Custom SQL send-receive port in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
-   <span data-ttu-id="d226b-154">Configurer le port WCF-Custom pour utiliser les mappages de demande et de réponse.</span><span class="sxs-lookup"><span data-stu-id="d226b-154">Configure the WCF-Custom port to use the request and response mappings.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="d226b-155">Dans cette section</span><span class="sxs-lookup"><span data-stu-id="d226b-155">In This Section</span></span>  
  
-   [<span data-ttu-id="d226b-156">Étape 1 : Modifier le projet BizTalk à l’aide de l’adaptateur SQL vPrev</span><span class="sxs-lookup"><span data-stu-id="d226b-156">Step 1: Modify the vPrev BizTalk Project using the SQL adapter</span></span>](../../adapters-and-accelerators/adapter-sql/step-1-modify-the-vprev-biztalk-project-using-the-sql-adapter.md)  
  
-   [<span data-ttu-id="d226b-157">Étape 2 : Configurer l’Orchestration dans la Console Administration de BizTalk Server à l’aide de l’adaptateur SQL</span><span class="sxs-lookup"><span data-stu-id="d226b-157">Step 2: Configure the Orchestration in BizTalk Server Administration Console using the SQL adapter</span></span>](../../adapters-and-accelerators/adapter-sql/step-2-configure-the-orchestration-to-use-the-sql-adapter-in-biztalk-server.md)  
  
-   [<span data-ttu-id="d226b-158">Étape 3 : Tester l’Application migrée qui utilise l’adaptateur SQL</span><span class="sxs-lookup"><span data-stu-id="d226b-158">Step 3: Test the Migrated Application that uses the SQL adapter</span></span>](../../adapters-and-accelerators/adapter-sql/step-3-test-the-migrated-application-that-uses-the-sql-adapter.md)  
  
## <a name="see-also"></a><span data-ttu-id="d226b-159">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="d226b-159">See Also</span></span>  
 [<span data-ttu-id="d226b-160">Didacticiels de l’adaptateur SQL</span><span class="sxs-lookup"><span data-stu-id="d226b-160">SQL Adapter Tutorials</span></span>](../../adapters-and-accelerators/adapter-sql/sql-adapter-tutorials.md)