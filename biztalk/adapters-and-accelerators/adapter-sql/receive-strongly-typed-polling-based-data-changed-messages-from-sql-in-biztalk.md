---
title: "Recevoir des fortement typée d’interrogation de modification de données de messages à partir de SQL Server à l’aide de BizTalk Server | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: e6e6ba7e-9e13-4e28-b57d-d24569277bbc
caps.latest.revision: "21"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8b12450e87e730e3713a89350fc2a16440e4d911
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="receive-strongly-typed-polling-based-data-changed-messages-from-sql-server-using-biztalk-server"></a><span data-ttu-id="ef06e-102">Recevoir des fortement typée d’interrogation de modification de données de messages à partir de SQL Server à l’aide de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="ef06e-102">Receive strongly-typed polling-based data-changed messages from SQL Server using BizTalk Server</span></span>
<span data-ttu-id="ef06e-103">Vous pouvez configurer le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] pour recevoir des messages de l’interrogation fortement typée à partir de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ef06e-103">You can configure the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to receive strongly-typed polling messages from SQL Server.</span></span> <span data-ttu-id="ef06e-104">Vous pouvez spécifier une instruction d’interrogation de l’adaptateur s’exécute pour interroger la base de données.</span><span class="sxs-lookup"><span data-stu-id="ef06e-104">You can specify a polling statement that the adapter executes to poll the database.</span></span> <span data-ttu-id="ef06e-105">L’instruction d’interrogation peut être une instruction SELECT ou une procédure stockée qui retourne un jeu de résultats.</span><span class="sxs-lookup"><span data-stu-id="ef06e-105">The polling statement can be a SELECT statement or a stored procedure that returns a result set.</span></span>  
  
 <span data-ttu-id="ef06e-106">Vous devez utiliser interrogation fortement typée dans un scénario dans lequel vous souhaitez mapper les éléments dans le message d’interrogation à n’importe quel autre schéma.</span><span class="sxs-lookup"><span data-stu-id="ef06e-106">You must use strongly-typed polling in a scenario where you want to map the elements in the polling message to any other schema.</span></span> <span data-ttu-id="ef06e-107">Le schéma que vous souhaitez mapper aux peut être pour une autre opération sur SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ef06e-107">The schema you want to map to could be for another operation on SQL Server.</span></span> <span data-ttu-id="ef06e-108">Par exemple, vous pouvez mapper certains éléments dans le message d’interrogation pour le schéma pour une opération d’insertion sur une autre table.</span><span class="sxs-lookup"><span data-stu-id="ef06e-108">For example, you could map certain elements in the polling message to the schema for an Insert operation on another table.</span></span> <span data-ttu-id="ef06e-109">Par conséquent, les valeurs dans le message d’interrogation de servent de paramètres pour l’opération d’insertion.</span><span class="sxs-lookup"><span data-stu-id="ef06e-109">So, the values in the polling message serve as parameters for the Insert operation.</span></span> <span data-ttu-id="ef06e-110">Dans un scénario plus simple, vous pouvez mapper le schéma de message d’interrogation fortement typée à un fichier de schéma qui stocke des informations.</span><span class="sxs-lookup"><span data-stu-id="ef06e-110">In a simpler scenario, you could map the schema for strongly-typed polling message to a schema file that just stores information.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="ef06e-111">Si vous souhaitez disposer d’interrogation plus d’une opération dans une même application BizTalk, vous devez spécifier un **InboundID** propriété de connexion dans le cadre de la connexion URI pour le rendre unique.</span><span class="sxs-lookup"><span data-stu-id="ef06e-111">If you want to have more than one polling operation in a single BizTalk application, you must specify an **InboundID** connection property as part of the connection URI to make it unique.</span></span> <span data-ttu-id="ef06e-112">Avec un URI de connexion unique, vous pouvez créer plusieurs ports de réception qui interrogent la même base de données, ou même de la même table dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="ef06e-112">With a unique connection URI, you can create multiple receive ports that poll the same database, or even the same table in a database.</span></span> <span data-ttu-id="ef06e-113">Pour plus d’informations, consultez [de réception d’interrogation Messages entre plusieurs Ports réception à partir de SQL à l’aide de Biztalk Server](../../adapters-and-accelerators/adapter-sql/receive-polling-messages-across-multiple-receive-ports-from-sql-using-biztalk.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-113">For more information, see [Receive Polling Messages Across Multiple Receive Ports from SQL using Biztalk Server](../../adapters-and-accelerators/adapter-sql/receive-polling-messages-across-multiple-receive-ports-from-sql-using-biztalk.md).</span></span>  
  
 <span data-ttu-id="ef06e-114">Pour plus d’informations sur la façon dont l’adaptateur prend en charge l’interrogation fortement typée, consultez [prise en charge pour l’interrogation](https://msdn.microsoft.com/library/dd788416.aspx).</span><span class="sxs-lookup"><span data-stu-id="ef06e-114">For more information about how the adapter supports strongly-typed polling, see [Support for Polling](https://msdn.microsoft.com/library/dd788416.aspx).</span></span> <span data-ttu-id="ef06e-115">Pour plus d’informations sur le schéma de message pour une interrogation fortement typée, consultez [des schémas de Message pour l’interrogation et les opérations de TypedPolling](../../adapters-and-accelerators/adapter-sql/message-schemas-for-the-polling-and-typedpolling-operations.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-115">For more information about the message schema for strongly-typed polling, see [Message Schemas for the Polling and TypedPolling Operations](../../adapters-and-accelerators/adapter-sql/message-schemas-for-the-polling-and-typedpolling-operations.md).</span></span>  
  
## <a name="how-this-topic-demonstrates-strongly-typed-polling"></a><span data-ttu-id="ef06e-116">Comment cette rubrique illustre interrogation fortement typée</span><span class="sxs-lookup"><span data-stu-id="ef06e-116">How this Topic Demonstrates Strongly-typed Polling</span></span>  
 <span data-ttu-id="ef06e-117">Cette rubrique montre comment utiliser l’interrogation fortement typée pour mapper le message d’interrogation à un autre schéma.</span><span class="sxs-lookup"><span data-stu-id="ef06e-117">This topic demonstrates how to use strongly-typed polling to map the polling message to another schema.</span></span> <span data-ttu-id="ef06e-118">Cette rubrique montre comment créer un projet BizTalk et générer le schéma de **TypedPolling** opération.</span><span class="sxs-lookup"><span data-stu-id="ef06e-118">This topic shows how to create a BizTalk project and generate schema for **TypedPolling** operation.</span></span> <span data-ttu-id="ef06e-119">Avant de générer le schéma pour **TypedPolling** opération, vous devez procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="ef06e-119">Before generating schema for **TypedPolling** operation, you must do the following:</span></span>  
  
-   <span data-ttu-id="ef06e-120">Vous devez spécifier un **InboundID** dans le cadre de l’URI de connexion.</span><span class="sxs-lookup"><span data-stu-id="ef06e-120">You must specify an **InboundID** as part of the connection URI.</span></span>  
  
-   <span data-ttu-id="ef06e-121">Vous devez spécifier une instruction d’interrogation pour le **PollingStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="ef06e-121">You must specify a polling statement for the **PollingStatement** binding property.</span></span>  
  
 <span data-ttu-id="ef06e-122">Dans le cadre de l’instruction d’interrogation, effectuez les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="ef06e-122">As part of the polling statement, perform the following operations:</span></span>  
  
-   <span data-ttu-id="ef06e-123">Sélectionnez toutes les lignes de la table Employee.</span><span class="sxs-lookup"><span data-stu-id="ef06e-123">Select all the rows from the Employee table.</span></span>  
  
-   <span data-ttu-id="ef06e-124">Exécuter une procédure stockée (MOVE_EMP_DATA) pour déplacer tous les enregistrements de la table Employee pour une table HistoriqueEmployé.</span><span class="sxs-lookup"><span data-stu-id="ef06e-124">Execute a stored procedure (MOVE_EMP_DATA) to move all the records from the Employee table to an EmployeeHistory table.</span></span>  
  
-   <span data-ttu-id="ef06e-125">Exécuter une procédure stockée (ADD_EMP_DETAILS) pour ajouter un nouvel enregistrement dans la table Employee.</span><span class="sxs-lookup"><span data-stu-id="ef06e-125">Execute a stored procedure (ADD_EMP_DETAILS) to add a new record to the Employee table.</span></span> <span data-ttu-id="ef06e-126">Cette procédure prend le nom de l’employé, désignation et salaire en tant que paramètres.</span><span class="sxs-lookup"><span data-stu-id="ef06e-126">This procedure takes the employee name, designation, and salary as parameters.</span></span>  
  
 <span data-ttu-id="ef06e-127">Pour effectuer ces opérations, vous devez spécifier les informations suivantes pour le **PollingStatement** propriété de liaison :</span><span class="sxs-lookup"><span data-stu-id="ef06e-127">To perform these operations, you must specify the following for the **PollingStatement** binding property:</span></span>  
  
```  
SELECT * FROM Employee;EXEC MOVE_EMP_DATA;EXEC ADD_EMP_DETAILS John, Tester, 100000   
```  
  
 <span data-ttu-id="ef06e-128">Étant donné que vous générez le schéma pour le **TypedPolling** opération, le schéma est fortement typée et contient tous les éléments qui seront inclus dans le message d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ef06e-128">Because you generate schema for the **TypedPolling** operation, the schema is strongly-typed and contains all the elements that will be included in the polling message.</span></span>  
  
 <span data-ttu-id="ef06e-129">Dans le cadre d’un projet BizTalk, vous ajoutez un autre fichier de schéma, par exemple EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="ef06e-129">As part of the same BizTalk project, you add another schema file, for example EmployeeDetails.xsd.</span></span> <span data-ttu-id="ef06e-130">Le schéma pour EmployeeDetails.xsd ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="ef06e-130">The schema for EmployeeDetails.xsd resembles the following:</span></span>  
  
```  
<?xml version="1.0" encoding="utf-16" ?>   
<xs:schema xmlns:b="http://schemas.microsoft.com/BizTalk/2003" xmlns="http://Typed_Polling.EmployeeDetails" elementFormDefault="qualified" targetNamespace="http://Typed_Polling.EmployeeDetails" xmlns:xs="http://www.w3.org/2001/XMLSchema">  
  <xs:element name="EmployeeDetails">  
    <xs:complexType>  
      <xs:sequence>  
        <xs:element name="Employee_Info" type="xs:string" />   
        <xs:element name="Employee_Profile" type="xs:string" />   
        <xs:element name="Employee_Performance" type="xs:string" />   
      </xs:sequence>  
    </xs:complexType>  
  </xs:element>  
</xs:schema>  
```  
  
 <span data-ttu-id="ef06e-131">Vous montre également comment ajouter un Mappeur BizTalk pour le projet pour mapper les éléments de la table Employee (reçus en tant que message de sondage) pour les éléments dans le schéma EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="ef06e-131">You also add a BizTalk Mapper to the project to map the elements from the Employee table (received as polling message) to the elements in the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="ef06e-132">Dans le cadre de la carte, vous combinez un ou plusieurs éléments à partir du message d’interrogation et le mapper à un élément unique dans le schéma EmployeeDetails.</span><span class="sxs-lookup"><span data-stu-id="ef06e-132">As part of the map, you combine one or more elements from the polling message and map it to a single element in the EmployeeDetails schema.</span></span> <span data-ttu-id="ef06e-133">Vous pouvez le faire à l’aide de la **concaténation de chaînes** fonctoid.</span><span class="sxs-lookup"><span data-stu-id="ef06e-133">You can do so by using the **String Concatenate** functoid.</span></span>  
  
 <span data-ttu-id="ef06e-134">Enfin, dans le cadre du projet BizTalk, un fichier conforme au schéma de EmployeeDetails.xsd est supprimé pour un port d’envoi FILE.</span><span class="sxs-lookup"><span data-stu-id="ef06e-134">Finally, as part of the BizTalk project, a file conforming to the EmployeeDetails.xsd schema is dropped to a FILE send port.</span></span>  
  
## <a name="configure-typed-polling-with-the-sql-adapter-binding-properties"></a><span data-ttu-id="ef06e-135">Configurer l’interrogation typée avec l’adaptateur SQL propriétés de liaison</span><span class="sxs-lookup"><span data-stu-id="ef06e-135">Configure Typed Polling with the SQL Adapter Binding Properties</span></span>  
 <span data-ttu-id="ef06e-136">Le tableau suivant récapitule les [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] propriétés que vous utilisez pour configurer l’adaptateur pour recevoir des messages de modification de données de liaison.</span><span class="sxs-lookup"><span data-stu-id="ef06e-136">The following table summarizes the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] binding properties that you use to configure the adapter to receive data-change messages.</span></span> <span data-ttu-id="ef06e-137">Autre que le **PollingStatement** propriété de liaison, toutes les autres propriétés de liaison répertoriées dans cette section sont requises lors de la configuration du port de réception dans le [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] console d’Administration.</span><span class="sxs-lookup"><span data-stu-id="ef06e-137">Other than the **PollingStatement** binding property, all the other binding properties listed in this section are required while configuring the receive port in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="ef06e-138">Vous devez spécifier le **PollingStatement** propriété de liaison avant de générer le schéma pour le **TypedPolling** opération.</span><span class="sxs-lookup"><span data-stu-id="ef06e-138">You must specify the **PollingStatement** binding property before generating schema for the **TypedPolling** operation.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ef06e-139">Pour l’interrogation typée, vous devez spécifier le **PollingStatement** liaison de propriété lors de la génération du schéma.</span><span class="sxs-lookup"><span data-stu-id="ef06e-139">For typed polling, you must specify the **PollingStatement** biding property while generating the schema.</span></span> <span data-ttu-id="ef06e-140">Vous pouvez choisir de spécifier les autres propriétés de liaison ainsi lors de la génération du schéma, même s’ils ne sont pas obligatoires.</span><span class="sxs-lookup"><span data-stu-id="ef06e-140">You can choose to specify the other binding properties as well while generating the schema, even though they are not mandatory.</span></span> <span data-ttu-id="ef06e-141">Si vous ne spécifiez pas les propriétés de liaison, la liaison du port de fichiers qui le [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] génère comme partie de la génération de métadonnées contient également les valeurs spécifiées pour les propriétés de liaison.</span><span class="sxs-lookup"><span data-stu-id="ef06e-141">If you do specify the binding properties, the port binding file that the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] generates as part of the metadata generation also contains the values you specify for the binding properties.</span></span> <span data-ttu-id="ef06e-142">Vous pouvez importer ultérieurement ce fichier de liaison dans le [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] port de réception de la console Administration pour créer le WCF-custom ou WCF-SQL avec la liaison de propriétés déjà définies.</span><span class="sxs-lookup"><span data-stu-id="ef06e-142">You can later import this binding file in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console to create the WCF-custom or WCF-SQL receive port with the binding properties already set.</span></span> <span data-ttu-id="ef06e-143">Pour plus d’informations sur la création d’un port à l’aide du fichier de liaison, consultez [configurer une liaison de port physique à l’aide d’un fichier de liaison de port à utiliser l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-143">For more information about creating a port using the binding file, see [Configure a physical port binding using a port binding file to use the SQL adapter](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span></span>  
  
|<span data-ttu-id="ef06e-144">Propriété de liaison</span><span class="sxs-lookup"><span data-stu-id="ef06e-144">Binding Property</span></span>|<span data-ttu-id="ef06e-145"> Description</span><span class="sxs-lookup"><span data-stu-id="ef06e-145">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="ef06e-146">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="ef06e-146">**InboundOperationType**</span></span>|<span data-ttu-id="ef06e-147">Spécifie si vous souhaitez effectuer **d’interrogation**, **TypedPolling**, ou **Notification** opération entrante.</span><span class="sxs-lookup"><span data-stu-id="ef06e-147">Specifies whether you want to perform **Polling**, **TypedPolling**, or **Notification** inbound operation.</span></span> <span data-ttu-id="ef06e-148">Valeur par défaut est **d’interrogation**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-148">Default is **Polling**.</span></span> <span data-ttu-id="ef06e-149">Pour recevoir des messages d’interrogation fortement typée, affectez la valeur **TypedPolling**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-149">To receive strongly-typed polling messages, set this to **TypedPolling**.</span></span>|  
|<span data-ttu-id="ef06e-150">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="ef06e-150">**PolledDataAvailableStatement**</span></span>|<span data-ttu-id="ef06e-151">Spécifie l’instruction SQL qui s’exécute pour déterminer si les données sont disponibles pour l’interrogation de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="ef06e-151">Specifies the SQL statement that the adapter executes to determine whether any data is available for polling.</span></span> <span data-ttu-id="ef06e-152">L’instruction SQL doit retourner un jeu de résultats composé de lignes et de colonnes.</span><span class="sxs-lookup"><span data-stu-id="ef06e-152">The SQL statement must return a result set consisting of rows and columns.</span></span> <span data-ttu-id="ef06e-153">Uniquement si une ligne est disponible, l’instruction SQL spécifiée pour le **PollingStatement** liaison de la propriété sera exécutée.</span><span class="sxs-lookup"><span data-stu-id="ef06e-153">Only if a row is available, the SQL statement specified for the **PollingStatement** binding property will be executed.</span></span>|  
|<span data-ttu-id="ef06e-154">**PollingIntervalInSeconds**</span><span class="sxs-lookup"><span data-stu-id="ef06e-154">**PollingIntervalInSeconds**</span></span>|<span data-ttu-id="ef06e-155">Spécifie l’intervalle, en secondes, à laquelle le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] exécute l’instruction spécifiée pour le **PolledDataAvailableStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="ef06e-155">Specifies the interval, in seconds, at which the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] executes the statement specified for the **PolledDataAvailableStatement** binding property.</span></span> <span data-ttu-id="ef06e-156">La valeur par défaut est 30 secondes.</span><span class="sxs-lookup"><span data-stu-id="ef06e-156">The default is 30 seconds.</span></span> <span data-ttu-id="ef06e-157">L’intervalle d’interrogation détermine l’intervalle de temps entre deux interrogations successives.</span><span class="sxs-lookup"><span data-stu-id="ef06e-157">The polling interval determines the time interval between successive polls.</span></span> <span data-ttu-id="ef06e-158">Si l’instruction est exécutée dans l’intervalle spécifié, l’adaptateur attend que le temps restant dans l’intervalle.</span><span class="sxs-lookup"><span data-stu-id="ef06e-158">If the statement is executed within the specified interval, the adapter waits for the remaining time in the interval.</span></span>|  
|<span data-ttu-id="ef06e-159">**PollingStatement**</span><span class="sxs-lookup"><span data-stu-id="ef06e-159">**PollingStatement**</span></span>|<span data-ttu-id="ef06e-160">Spécifie l’instruction SQL pour interroger la table de base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ef06e-160">Specifies the SQL statement to poll the SQL Server database table.</span></span> <span data-ttu-id="ef06e-161">Vous pouvez spécifier une instruction SELECT simple ou une procédure stockée pour l’instruction d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ef06e-161">You can specify a simple SELECT statement or a stored procedure for the polling statement.</span></span> <span data-ttu-id="ef06e-162">La valeur par défaut est null.</span><span class="sxs-lookup"><span data-stu-id="ef06e-162">The default is null.</span></span> <span data-ttu-id="ef06e-163">Vous devez spécifier une valeur pour **PollingStatement** pour activer l’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ef06e-163">You must specify a value for **PollingStatement** to enable polling.</span></span> <span data-ttu-id="ef06e-164">L’instruction d’interrogation est exécutée uniquement si des données disponibles pour l’interrogation, ce qui est déterminée par le **PolledDataAvailableStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="ef06e-164">The polling statement is executed only if there is data available for polling, which is determined by the **PolledDataAvailableStatement** binding property.</span></span> <span data-ttu-id="ef06e-165">Vous pouvez spécifier n’importe quel nombre d’instructions SQL séparées par un point-virgule.</span><span class="sxs-lookup"><span data-stu-id="ef06e-165">You can specify any number of SQL statements separated by a semi-colon.</span></span><br /><br /> <span data-ttu-id="ef06e-166">**Important :** pour **TypedPolling**, vous devez spécifier cette propriété de liaison avant de générer des métadonnées.</span><span class="sxs-lookup"><span data-stu-id="ef06e-166">**Important:** For **TypedPolling**, you must specify this binding property before generating metadata.</span></span>|  
|<span data-ttu-id="ef06e-167">**PollWhileDataFound**</span><span class="sxs-lookup"><span data-stu-id="ef06e-167">**PollWhileDataFound**</span></span>|<span data-ttu-id="ef06e-168">Spécifie si le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] ignore l’intervalle d’interrogation et exécute en permanence de l’instruction SQL spécifiée pour le **PolledDataAvailableStatement** liaison de propriété, si les données sont disponibles dans la table interrogée.</span><span class="sxs-lookup"><span data-stu-id="ef06e-168">Specifies whether the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] ignores the polling interval and continuously executes the SQL statement specified for the **PolledDataAvailableStatement** binding property, if data is available in the table being polled.</span></span> <span data-ttu-id="ef06e-169">Si aucune donnée n’est disponible dans la table, l’adaptateur revient à exécuter l’instruction SQL à l’intervalle d’interrogation spécifié.</span><span class="sxs-lookup"><span data-stu-id="ef06e-169">If no data is available in the table, the adapter reverts to execute the SQL statement at the specified polling interval.</span></span> <span data-ttu-id="ef06e-170">Valeur par défaut est **false**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-170">Default is **false**.</span></span>|  
  
 <span data-ttu-id="ef06e-171">Pour obtenir une description plus complète de ces propriétés, consultez [en savoir plus sur l’adaptateur BizTalk pour les propriétés de liaison de l’adaptateur SQL Server](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-171">For a more complete description of these properties, see [Read about the BizTalk Adapter for SQL Server adapter Binding Properties](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span></span> <span data-ttu-id="ef06e-172">Pour obtenir une description complète de l’utilisation de la [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] pour interroger le SQL Server, poursuivre la lecture.</span><span class="sxs-lookup"><span data-stu-id="ef06e-172">For a complete description of how to use the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to poll SQL Server, read further.</span></span>  
  
## <a name="how-to-receive-strongly-typed-data-change-messages-from-the-sql-server-database"></a><span data-ttu-id="ef06e-173">La réception des Messages de modification de données fortement typé à partir de la base de données SQL Server</span><span class="sxs-lookup"><span data-stu-id="ef06e-173">How to Receive Strongly-typed Data-change Messages from the SQL Server Database</span></span>  
 <span data-ttu-id="ef06e-174">Une opération sur la base de données SQL Server à l’aide [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] avec [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] implique les tâches de procédures décrites dans [blocs de construction pour développer des applications BizTalk à l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/building-blocks-to-develop-biztalk-applications-with-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-174">Performing an operation on the SQL Server database using [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves the procedural tasks described in [Building blocks to develop BizTalk applications with the SQL adapter](../../adapters-and-accelerators/adapter-sql/building-blocks-to-develop-biztalk-applications-with-the-sql-adapter.md).</span></span> <span data-ttu-id="ef06e-175">Pour configurer l’adaptateur pour recevoir des messages de modification de données fortement typées, ces tâches sont :</span><span class="sxs-lookup"><span data-stu-id="ef06e-175">To configure the adapter to receive strongly-typed data-change messages, these tasks are:</span></span>  
  
1.  <span data-ttu-id="ef06e-176">Créez un projet BizTalk, puis générer le schéma pour le **TypedPolling** opération.</span><span class="sxs-lookup"><span data-stu-id="ef06e-176">Create a BizTalk project, and then generate schema for the **TypedPolling** operation.</span></span> <span data-ttu-id="ef06e-177">Vous devez spécifier le **InboundID** propriété de connexion et le **PollingStatement** lors de la génération de schéma de propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="ef06e-177">You must specify the **InboundID** connection property and the **PollingStatement** binding property while generating schema.</span></span> <span data-ttu-id="ef06e-178">Par exemple, un URI avec l’ID d’entrée spécifié de connexion ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="ef06e-178">For example, a connection URI with the inbound ID specified resembles the following:</span></span>  
  
    ```  
    mssql://mysqlserver//mysqldatabase?InboundID=mydatabaseId  
    ```  
  
2.  <span data-ttu-id="ef06e-179">Créez un message dans le projet BizTalk pour recevoir des messages à partir de la base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ef06e-179">Create a message in the BizTalk project for receiving messages from the SQL Server database.</span></span>  
  
3.  <span data-ttu-id="ef06e-180">Créez une orchestration pour recevoir des messages à partir de la base de données SQL Server et les enregistrer dans un dossier.</span><span class="sxs-lookup"><span data-stu-id="ef06e-180">Create an orchestration to receive messages from the SQL Server database and to save them to a folder.</span></span>  
  
4.  <span data-ttu-id="ef06e-181">Ajouter un schéma, par exemple, EmployeeDetails.xsd, dans le projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ef06e-181">Add a schema, for example, EmployeeDetails.xsd, in the BizTalk project.</span></span>  
  
5.  <span data-ttu-id="ef06e-182">Ajoutez un Mappeur BizTalk pour mapper le schéma pour le message d’interrogation au schéma de EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="ef06e-182">Add a BizTalk Mapper to map the schema for the polling message to EmployeeDetails.xsd schema.</span></span>  
  
6.  <span data-ttu-id="ef06e-183">Générez et déployez le projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ef06e-183">Build and deploy the BizTalk project.</span></span>  
  
7.  <span data-ttu-id="ef06e-184">Configurer l’application en créant physique d’envoi et ports de réception BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ef06e-184">Configure the BizTalk application by creating physical send and receive ports.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="ef06e-185">Pour les scénarios de trafic entrant d’interrogation, vous devez toujours configurer un WCF-Custom unidirectionnel ou port de réception WCF-SQL.</span><span class="sxs-lookup"><span data-stu-id="ef06e-185">For inbound polling scenarios you must always configure a one-way WCF-Custom or WCF-SQL receive port.</span></span> <span data-ttu-id="ef06e-186">Ports de réception bidirectionnel WCF-Custom ou WCF-SQL ne sont pas pris en charge pour les opérations entrantes.</span><span class="sxs-lookup"><span data-stu-id="ef06e-186">Two-way WCF-Custom or WCF-SQL receive ports are not supported for inbound operations.</span></span>  
  
8.  <span data-ttu-id="ef06e-187">Démarrez l’application BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ef06e-187">Start the BizTalk application.</span></span>  
  
 <span data-ttu-id="ef06e-188">Cette rubrique fournit des instructions pour effectuer ces tâches.</span><span class="sxs-lookup"><span data-stu-id="ef06e-188">This topic provides instructions to perform these tasks.</span></span>  
  
## <a name="sample-based-on-this-topic"></a><span data-ttu-id="ef06e-189">Exemple basé sur cette rubrique</span><span class="sxs-lookup"><span data-stu-id="ef06e-189">Sample Based on This Topic</span></span>  
 <span data-ttu-id="ef06e-190">Un exemple TypedPolling, en fonction de cette rubrique est fourni avec le [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ef06e-190">A sample, TypedPolling, based on this topic is provided with the [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span></span> <span data-ttu-id="ef06e-191">Pour plus d’informations, consultez [exemples de l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/samples-for-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-191">For more information, see [Samples for the SQL adapter](../../adapters-and-accelerators/adapter-sql/samples-for-the-sql-adapter.md).</span></span>  
  
## <a name="generate-schema"></a><span data-ttu-id="ef06e-192">Générer un schéma</span><span class="sxs-lookup"><span data-stu-id="ef06e-192">Generate Schema</span></span>  
 <span data-ttu-id="ef06e-193">Vous devez générer le schéma pour le **TypedPolling** opération.</span><span class="sxs-lookup"><span data-stu-id="ef06e-193">You must generate the schema for the **TypedPolling** operation.</span></span> <span data-ttu-id="ef06e-194">Consultez [récupérer des métadonnées pour les opérations de SQL Server dans Visual Studio à l’aide de l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md) pour plus d’informations sur la façon de générer le schéma.</span><span class="sxs-lookup"><span data-stu-id="ef06e-194">See [Retrieving Metadata for SQL Server Operations in Visual Studio using the SQL adapter](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md) for more information about how to generate the schema.</span></span> <span data-ttu-id="ef06e-195">Effectuer les tâches suivantes lors de la génération du schéma.</span><span class="sxs-lookup"><span data-stu-id="ef06e-195">Perform the following tasks when generating the schema.</span></span>  
  
1.  <span data-ttu-id="ef06e-196">Spécifiez le **InboundID** propriété de connexion lors de la spécification de l’URI de connexion.</span><span class="sxs-lookup"><span data-stu-id="ef06e-196">Specify the **InboundID** connection property while specifying the connection URI.</span></span> <span data-ttu-id="ef06e-197">Pour cette rubrique, vous pouvez spécifier le **InboundID** en tant que **employé**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-197">For this topic, you can specify the **InboundID** as **Employee**.</span></span> <span data-ttu-id="ef06e-198">Pour plus d’informations sur l’URI de connexion, consultez [créer l’URI de connexion SQL Server](../../adapters-and-accelerators/adapter-sql/create-the-sql-server-connection-uri.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-198">For more information about the connection URI, see [Create the SQL Server Connection URI](../../adapters-and-accelerators/adapter-sql/create-the-sql-server-connection-uri.md).</span></span>  
  
2.  <span data-ttu-id="ef06e-199">Spécifiez une valeur pour le **PollingStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="ef06e-199">Specify a value for the **PollingStatement** binding property.</span></span> <span data-ttu-id="ef06e-200">Pour plus d’informations sur cette propriété de liaison, consultez [en savoir plus sur l’adaptateur BizTalk pour les propriétés de liaison de l’adaptateur SQL Server](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-200">For more information about this binding property, see [Read about the BizTalk Adapter for SQL Server adapter Binding Properties](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span></span>  
  
     <span data-ttu-id="ef06e-201">Pour obtenir des instructions sur la façon de spécifier les propriétés de liaison, consultez [configurer les propriétés de liaison de l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/configure-the-binding-properties-for-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-201">For instructions on how to specify binding properties, see [Configure the binding properties for the SQL adapter](../../adapters-and-accelerators/adapter-sql/configure-the-binding-properties-for-the-sql-adapter.md).</span></span>  
  
3.  <span data-ttu-id="ef06e-202">Sélectionnez le type de contrat **Service (opération entrante)**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-202">Select the contract type as **Service (Inbound operation)**.</span></span>  
  
4.  <span data-ttu-id="ef06e-203">Génération du schéma pour le **TypedPolling** opération.</span><span class="sxs-lookup"><span data-stu-id="ef06e-203">Generate schema for the **TypedPolling** operation.</span></span>  
  
## <a name="define-messages-and-message-types"></a><span data-ttu-id="ef06e-204">Définir les Messages et le Message Types</span><span class="sxs-lookup"><span data-stu-id="ef06e-204">Define Messages and Message Types</span></span>  
 <span data-ttu-id="ef06e-205">Le schéma que vous avez généré précédemment décrit les « types » requis pour les messages dans l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="ef06e-205">The schema that you generated earlier describes the "types" required for the messages in the orchestration.</span></span> <span data-ttu-id="ef06e-206">Un message est généralement une variable, le type est défini par le schéma correspondant.</span><span class="sxs-lookup"><span data-stu-id="ef06e-206">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="ef06e-207">Une fois que le schéma est généré, vous devez le lier aux messages à partir de la vue de l’Orchestration du projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ef06e-207">Once the schema is generated, you must link it to the messages from the Orchestration view of the BizTalk project.</span></span>  
  
 <span data-ttu-id="ef06e-208">Pour cette rubrique, vous devez créer un message à recevoir des messages à partir de la base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ef06e-208">For this topic, you must create one message to receive messages from the SQL Server database.</span></span>  
  
 <span data-ttu-id="ef06e-209">Procédez comme suit pour créer des messages et les lier au schéma.</span><span class="sxs-lookup"><span data-stu-id="ef06e-209">Perform the following steps to create messages and link them to schema.</span></span>  
  
#### <a name="create-messages-and-link-to-schema"></a><span data-ttu-id="ef06e-210">Créer des messages et le lier au schéma</span><span class="sxs-lookup"><span data-stu-id="ef06e-210">Create messages and link to schema</span></span>  
  
1.  <span data-ttu-id="ef06e-211">Ajouter une orchestration au projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ef06e-211">Add an orchestration to the BizTalk project.</span></span> <span data-ttu-id="ef06e-212">À partir de l’Explorateur de solutions, cliquez sur le nom du projet BizTalk, pointez sur **ajouter**, puis cliquez sur **un nouvel élément**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-212">From the Solution Explorer, right-click the BizTalk project name, point to **Add**, and then click **New Item**.</span></span> <span data-ttu-id="ef06e-213">Tapez un nom pour l’orchestration BizTalk, puis **ajouter**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-213">Type a name for the BizTalk orchestration and then click **Add**.</span></span>  
  
2.  <span data-ttu-id="ef06e-214">Ouvrez la fenêtre Vue orchestration du projet BizTalk, s’il n’est pas déjà ouvert.</span><span class="sxs-lookup"><span data-stu-id="ef06e-214">Open the orchestration view window of the BizTalk project, if it is not already open.</span></span> <span data-ttu-id="ef06e-215">Cliquez sur **vue**, pointez sur **autres fenêtres**, puis cliquez sur **Vue Orchestration**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-215">Click **View**, point to **Other Windows**, and then click **Orchestration View**.</span></span>  
  
3.  <span data-ttu-id="ef06e-216">Dans le **Vue Orchestration**, avec le bouton droit **Messages**, puis cliquez sur **nouveau Message**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-216">In the **Orchestration View**, right-click **Messages**, and then click **New Message**.</span></span>  
  
4.  <span data-ttu-id="ef06e-217">Cliquez sur le message qui vient d’être créé, puis sélectionnez **fenêtre Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-217">Right-click the newly created message, and then select **Properties Window**.</span></span>  
  
5.  <span data-ttu-id="ef06e-218">Dans le **propriétés** volet pour **Message_1**, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="ef06e-218">In the **Properties** pane for **Message_1**, do the following:</span></span>  
  
    |<span data-ttu-id="ef06e-219">Utiliser</span><span class="sxs-lookup"><span data-stu-id="ef06e-219">Use this</span></span>|<span data-ttu-id="ef06e-220">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="ef06e-220">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="ef06e-221">Identificateur</span><span class="sxs-lookup"><span data-stu-id="ef06e-221">Identifier</span></span>|<span data-ttu-id="ef06e-222">Type **PollingMessage**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-222">Type **PollingMessage**.</span></span>|  
    |<span data-ttu-id="ef06e-223">Type de message</span><span class="sxs-lookup"><span data-stu-id="ef06e-223">Message Type</span></span>|<span data-ttu-id="ef06e-224">Dans la liste déroulante, développez **schémas**, puis sélectionnez *Typed_Polling.TypedPolling_Employee.TypedPolling*, où *Typed_Polling* est le nom de votre BizTalk projet.</span><span class="sxs-lookup"><span data-stu-id="ef06e-224">From the drop-down list, expand **Schemas**, and select *Typed_Polling.TypedPolling_Employee.TypedPolling*, where *Typed_Polling* is the name of your BizTalk project.</span></span> <span data-ttu-id="ef06e-225">*TypedPolling_Employee* est le schéma généré pour le **TypedPolling** opération.</span><span class="sxs-lookup"><span data-stu-id="ef06e-225">*TypedPolling_Employee* is the schema generated for the **TypedPolling** operation.</span></span>|  
  
## <a name="set-up-the-orchestration"></a><span data-ttu-id="ef06e-226">Configurer l’Orchestration</span><span class="sxs-lookup"><span data-stu-id="ef06e-226">Set up the Orchestration</span></span>  
 <span data-ttu-id="ef06e-227">Vous devez créer une orchestration BizTalk à utiliser [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] pour recevoir les messages de modification de données reposant sur l’interrogation de la base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ef06e-227">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for receiving polling-based data-change messages from the SQL Server database.</span></span> <span data-ttu-id="ef06e-228">Dans cette orchestration, l’adaptateur reçoit le message de l’interrogation de l’instruction d’interrogation spécifié.</span><span class="sxs-lookup"><span data-stu-id="ef06e-228">In this orchestration, the adapter receives the polling message for the specified polling statement.</span></span> <span data-ttu-id="ef06e-229">Le Mappeur BizTalk mappe ensuite le schéma de message d’interrogation au schéma EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="ef06e-229">The BizTalk Mapper then maps the polling message schema to the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="ef06e-230">Le message mappé est ensuite enregistré dans un emplacement de fichier.</span><span class="sxs-lookup"><span data-stu-id="ef06e-230">The mapped message is then saved to a FILE location.</span></span> <span data-ttu-id="ef06e-231">Contiendrait une orchestration par défaut pour la réception du message d’interrogation fortement typée à partir d’une base de données SQL Server :</span><span class="sxs-lookup"><span data-stu-id="ef06e-231">A typical orchestration for receiving strongly-typed polling message from a SQL Server database would contain:</span></span>  
  
-   <span data-ttu-id="ef06e-232">Recevoir et envoyer des formes pour recevoir des messages à partir de SQL Server et les envoyer vers un port FILE, respectivement.</span><span class="sxs-lookup"><span data-stu-id="ef06e-232">Receive and Send shapes to receive messages from SQL Server and send to a FILE port, respectively.</span></span>  
  
-   <span data-ttu-id="ef06e-233">Unidirectionnel port de réception pour recevoir des messages à partir de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ef06e-233">A one-way receive port to receive messages from SQL Server.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="ef06e-234">Pour les scénarios d’interrogation entrant que vous devez toujours configurer un port de réception unidirectionnel.</span><span class="sxs-lookup"><span data-stu-id="ef06e-234">For inbound polling scenarios you must always configure a one-way receive port.</span></span> <span data-ttu-id="ef06e-235">Bidirectionnel recevoir des ports ne sont pas pris en charge pour les opérations entrantes.</span><span class="sxs-lookup"><span data-stu-id="ef06e-235">Two-way receive ports are not supported for inbound operations.</span></span>  
  
-   <span data-ttu-id="ef06e-236">Un port d’envoi unidirectionnel pour envoyer des réponses d’interrogation à partir d’une base de données SQL Server dans un dossier.</span><span class="sxs-lookup"><span data-stu-id="ef06e-236">A one-way send port to send polling responses from a SQL Server database to a folder.</span></span>  
  
-   <span data-ttu-id="ef06e-237">Mappeur BizTalk pour mapper le schéma du message d’interrogation à n’importe quel autre schéma.</span><span class="sxs-lookup"><span data-stu-id="ef06e-237">A BizTalk Mapper to map the schema of the polling message to any other schema.</span></span>  
  
 <span data-ttu-id="ef06e-238">Un exemple d’orchestration semblable au suivant.</span><span class="sxs-lookup"><span data-stu-id="ef06e-238">A sample orchestration resembles the following.</span></span>  
  
 <span data-ttu-id="ef06e-239">![Orchestration pour fortement &#45; interrogation typée](../../adapters-and-accelerators/adapter-sql/media/1db03859-b7f8-470c-9158-2be4da0b45ae.gif "1db03859-b7f8-470c-9158-2be4da0b45ae")</span><span class="sxs-lookup"><span data-stu-id="ef06e-239">![Orchestration for strongly&#45;typed polling](../../adapters-and-accelerators/adapter-sql/media/1db03859-b7f8-470c-9158-2be4da0b45ae.gif "1db03859-b7f8-470c-9158-2be4da0b45ae")</span></span>  
  
### <a name="add-message-shapes"></a><span data-ttu-id="ef06e-240">Ajouter des formes de Message</span><span class="sxs-lookup"><span data-stu-id="ef06e-240">Add Message Shapes</span></span>  
 <span data-ttu-id="ef06e-241">Assurez-vous que vous spécifiez les propriétés suivantes pour chacune des formes de message.</span><span class="sxs-lookup"><span data-stu-id="ef06e-241">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="ef06e-242">Les noms répertoriés dans la colonne de forme sont les noms des formes de message tel qu’affiché dans l’orchestration juste-mentionné.</span><span class="sxs-lookup"><span data-stu-id="ef06e-242">The names listed in the Shape column are the names of the message shapes as displayed in the just-mentioned orchestration.</span></span>  
  
|<span data-ttu-id="ef06e-243">Graphique à base de formes</span><span class="sxs-lookup"><span data-stu-id="ef06e-243">Shape</span></span>|<span data-ttu-id="ef06e-244">Type de forme</span><span class="sxs-lookup"><span data-stu-id="ef06e-244">Shape Type</span></span>|<span data-ttu-id="ef06e-245">Propriétés</span><span class="sxs-lookup"><span data-stu-id="ef06e-245">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="ef06e-246">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="ef06e-246">ReceiveMessage</span></span>|<span data-ttu-id="ef06e-247">Recevoir</span><span class="sxs-lookup"><span data-stu-id="ef06e-247">Receive</span></span>|<span data-ttu-id="ef06e-248">-Définissez **nom** à *ReceiveMessage*</span><span class="sxs-lookup"><span data-stu-id="ef06e-248">- Set **Name** to *ReceiveMessage*</span></span><br /><br /> <span data-ttu-id="ef06e-249">-Définissez **activer** à *True*</span><span class="sxs-lookup"><span data-stu-id="ef06e-249">- Set **Activate** to *True*</span></span>|  
|<span data-ttu-id="ef06e-250">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="ef06e-250">SaveMessage</span></span>|<span data-ttu-id="ef06e-251">Send</span><span class="sxs-lookup"><span data-stu-id="ef06e-251">Send</span></span>|<span data-ttu-id="ef06e-252">-Définissez **nom** à *SaveMessage*</span><span class="sxs-lookup"><span data-stu-id="ef06e-252">- Set **Name** to *SaveMessage*</span></span>|  
  
### <a name="add-ports"></a><span data-ttu-id="ef06e-253">Ajouter des Ports</span><span class="sxs-lookup"><span data-stu-id="ef06e-253">Add Ports</span></span>  
 <span data-ttu-id="ef06e-254">Assurez-vous que vous spécifiez les propriétés suivantes pour chacun des ports logiques.</span><span class="sxs-lookup"><span data-stu-id="ef06e-254">Make sure you specify the following properties for each of the logical ports.</span></span> <span data-ttu-id="ef06e-255">Les noms répertoriés dans la colonne de Port sont les noms des ports tel qu’affiché dans l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="ef06e-255">The names listed in the Port column are the names of the ports as displayed in the orchestration.</span></span>  
  
|<span data-ttu-id="ef06e-256">Port</span><span class="sxs-lookup"><span data-stu-id="ef06e-256">Port</span></span>|<span data-ttu-id="ef06e-257">Propriétés</span><span class="sxs-lookup"><span data-stu-id="ef06e-257">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="ef06e-258">SQLReceivePort</span><span class="sxs-lookup"><span data-stu-id="ef06e-258">SQLReceivePort</span></span>|<span data-ttu-id="ef06e-259">-Définissez **identificateur** à *SQLReceivePort*</span><span class="sxs-lookup"><span data-stu-id="ef06e-259">- Set **Identifier** to *SQLReceivePort*</span></span><br /><br /> <span data-ttu-id="ef06e-260">-Définissez **Type** à *SQLReceivePortType*</span><span class="sxs-lookup"><span data-stu-id="ef06e-260">- Set **Type** to *SQLReceivePortType*</span></span><br /><br /> <span data-ttu-id="ef06e-261">-Définissez **modèle de Communication** à *à sens unique*</span><span class="sxs-lookup"><span data-stu-id="ef06e-261">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="ef06e-262">-Définissez **Direction de Communication** à *de réception*</span><span class="sxs-lookup"><span data-stu-id="ef06e-262">- Set **Communication Direction** to *Receive*</span></span>|  
|<span data-ttu-id="ef06e-263">SaveMessagePort</span><span class="sxs-lookup"><span data-stu-id="ef06e-263">SaveMessagePort</span></span>|<span data-ttu-id="ef06e-264">-Définissez **identificateur** à *SaveMessagePort*</span><span class="sxs-lookup"><span data-stu-id="ef06e-264">- Set **Identifier** to *SaveMessagePort*</span></span><br /><br /> <span data-ttu-id="ef06e-265">-Définissez **Type** à *SaveMessagePortType*</span><span class="sxs-lookup"><span data-stu-id="ef06e-265">- Set **Type** to *SaveMessagePortType*</span></span><br /><br /> <span data-ttu-id="ef06e-266">-Définissez **modèle de Communication** à *à sens unique*</span><span class="sxs-lookup"><span data-stu-id="ef06e-266">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="ef06e-267">-Définissez **Direction de Communication** à *envoyer*</span><span class="sxs-lookup"><span data-stu-id="ef06e-267">- Set **Communication Direction** to *Send*</span></span>|  
  
### <a name="enter-messages-for-action-shapes-and-connect-to-ports"></a><span data-ttu-id="ef06e-268">Entrez les Messages de formes d’Action et de se connecter à des Ports</span><span class="sxs-lookup"><span data-stu-id="ef06e-268">Enter Messages for Action Shapes and Connect to Ports</span></span>  
 <span data-ttu-id="ef06e-269">Le tableau suivant indique les propriétés et leurs valeurs, vous devez définir pour spécifier les messages de formes d’action et lier les messages aux ports.</span><span class="sxs-lookup"><span data-stu-id="ef06e-269">The following table specifies the properties and their values that you should set to specify messages for action shapes and to link the messages to the ports.</span></span> <span data-ttu-id="ef06e-270">Les noms répertoriés dans la colonne de forme sont les noms des formes de message tel qu’affiché dans l’orchestration mentionnée précédemment.</span><span class="sxs-lookup"><span data-stu-id="ef06e-270">The names listed in the Shape column are the names of the message shapes as displayed in the orchestration mentioned earlier.</span></span>  
  
|<span data-ttu-id="ef06e-271">Graphique à base de formes</span><span class="sxs-lookup"><span data-stu-id="ef06e-271">Shape</span></span>|<span data-ttu-id="ef06e-272">Propriétés</span><span class="sxs-lookup"><span data-stu-id="ef06e-272">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="ef06e-273">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="ef06e-273">ReceiveMessage</span></span>|<span data-ttu-id="ef06e-274">Définissez **Message** à *PollingMessage*</span><span class="sxs-lookup"><span data-stu-id="ef06e-274">Set **Message** to *PollingMessage*</span></span><br /><br /> <span data-ttu-id="ef06e-275">Définissez **opération** à *SQLReceivePort.TypedPolling.Request*</span><span class="sxs-lookup"><span data-stu-id="ef06e-275">Set **Operation** to *SQLReceivePort.TypedPolling.Request*</span></span>|  
|<span data-ttu-id="ef06e-276">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="ef06e-276">SaveMessage</span></span>|<span data-ttu-id="ef06e-277">Définissez **Message** à *PollingMessage*</span><span class="sxs-lookup"><span data-stu-id="ef06e-277">Set **Message** to *PollingMessage*</span></span><br /><br /> <span data-ttu-id="ef06e-278">Définissez **opération** à *SaveMessagePort.TypedPolling.Request*</span><span class="sxs-lookup"><span data-stu-id="ef06e-278">Set **Operation** to *SaveMessagePort.TypedPolling.Request*</span></span>|  
  
 <span data-ttu-id="ef06e-279">Une fois que vous avez défini ces propriétés, les formes de message et les ports sont connectés.</span><span class="sxs-lookup"><span data-stu-id="ef06e-279">After you have specified these properties, the message shapes and ports are connected.</span></span>  
  
### <a name="add-a-biztalk-mapper"></a><span data-ttu-id="ef06e-280">Ajouter un Mappeur BizTalk</span><span class="sxs-lookup"><span data-stu-id="ef06e-280">Add a BizTalk Mapper</span></span>  
 <span data-ttu-id="ef06e-281">Vous devez ajouter un Mappeur BizTalk à l’orchestration pour mapper le schéma du message d’interrogation au schéma EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="ef06e-281">You must add a BizTalk Mapper to the orchestration to map the polling message schema to the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="ef06e-282">Dans la [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] console d’Administration, vous utiliserez ce mappeur pour mapper le schéma pour le message d’interrogation au schéma EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="ef06e-282">In the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console, you will use this Mapper to map the schema for the polling message to the EmployeeDetails.xsd schema.</span></span>  
  

1.  <span data-ttu-id="ef06e-283">Ajoutez un Mappeur BizTalk au projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ef06e-283">Add a BizTalk Mapper to the BizTalk project.</span></span> <span data-ttu-id="ef06e-284">Cliquez sur le projet BizTalk, pointez sur **ajouter**, puis cliquez sur **un nouvel élément**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-284">Right-click the BizTalk project, point to **Add**, and click **New Item**.</span></span>  
  
     <span data-ttu-id="ef06e-285">Dans le **ajouter un nouvel élément** boîte de dialogue, dans le volet gauche, sélectionnez **les fichiers de mappage**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-285">In the **Add New Item** dialog box, from the left pane, select **Map Files**.</span></span> <span data-ttu-id="ef06e-286">Dans le volet droit, sélectionnez **carte**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-286">From the right pane, select **Map**.</span></span> <span data-ttu-id="ef06e-287">Spécifiez un nom pour le mappage, tel que `MapSchema.btm`.</span><span class="sxs-lookup"><span data-stu-id="ef06e-287">Specify a name for the map, such as `MapSchema.btm`.</span></span> <span data-ttu-id="ef06e-288">Cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-288">Click **Add**.</span></span>  
  
2.  <span data-ttu-id="ef06e-289">Dans le volet Schéma Source, cliquez sur **ouvrir le schéma Source**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-289">From the Source Schema pane, click **Open Source Schema**.</span></span>  
  
3.  <span data-ttu-id="ef06e-290">Dans le **sélecteur de Type BizTalk** boîte de dialogue, développez le nom du projet, développez **schémas**, puis sélectionnez le schéma du message d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ef06e-290">In the **BizTalk Type Picker** dialog box, expand the project name, expand **Schemas**, and select the schema for the polling message.</span></span> <span data-ttu-id="ef06e-291">Pour cette rubrique, sélectionnez Typed_Polling.TypedPolling_Employee.</span><span class="sxs-lookup"><span data-stu-id="ef06e-291">For this topic, select Typed_Polling.TypedPolling_Employee.</span></span> <span data-ttu-id="ef06e-292">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-292">Click **OK**.</span></span>  
  
4.  <span data-ttu-id="ef06e-293">Dans le **nœud racine pour le schéma Source** boîte de dialogue, sélectionnez TypedPolling, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-293">In the **Root Node for Source Schema** dialog box, select TypedPolling and click **OK**.</span></span>  
  
5.  <span data-ttu-id="ef06e-294">Dans le volet Schéma de Destination, cliquez sur **ouvrir le schéma de Destination**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-294">From the Destination Schema pane, click **Open Destination Schema**.</span></span>  
  
6.  <span data-ttu-id="ef06e-295">Dans le **sélecteur de Type BizTalk** boîte de dialogue, développez le nom du projet, développez **schémas**, puis sélectionnez le schéma pour EmployeeDetails.</span><span class="sxs-lookup"><span data-stu-id="ef06e-295">In the **BizTalk Type Picker** dialog box, expand the project name, expand **Schemas**, and select the schema for EmployeeDetails.</span></span> <span data-ttu-id="ef06e-296">Pour cette rubrique, sélectionnez Typed_Polling.EmployeeDetails.</span><span class="sxs-lookup"><span data-stu-id="ef06e-296">For this topic, select Typed_Polling.EmployeeDetails.</span></span> <span data-ttu-id="ef06e-297">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-297">Click **OK**.</span></span>  
  
7.  <span data-ttu-id="ef06e-298">Dans le schéma de la source du message de sondage, développez le nœud TypedPollingResultSet0 et les nœuds suivants pour afficher les éléments qui sont retournées dans le message d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ef06e-298">In the source schema of polling message, expand the TypedPollingResultSet0 node and the subsequent nodes to see the elements that are returned in the polling message.</span></span> <span data-ttu-id="ef06e-299">Dans le schéma de destination, développez le nœud de EmployeeDetails pour voir les différents éléments dans le schéma.</span><span class="sxs-lookup"><span data-stu-id="ef06e-299">In the destination schema, expand the EmployeeDetails node to see the different elements in the schema.</span></span> <span data-ttu-id="ef06e-300">Pour cette rubrique, vous devez mapper les schémas de sorte que :</span><span class="sxs-lookup"><span data-stu-id="ef06e-300">For this topic, you must map the schemas in such a way that:</span></span>  
  
    -   <span data-ttu-id="ef06e-301">**Employee_id** et **nom** dans la source de schéma doit mapper à **Employee_Info** dans le schéma de destination.</span><span class="sxs-lookup"><span data-stu-id="ef06e-301">**Employee_ID** and **Name** in the source schema must map to **Employee_Info** in the destination schema.</span></span>  
  
    -   <span data-ttu-id="ef06e-302">**Désignation** et **Job_Description** dans la source de schéma doit mapper à **Employee_Profile** dans le schéma de destination.</span><span class="sxs-lookup"><span data-stu-id="ef06e-302">**Designation** and **Job_Description** in the source schema must map to **Employee_Profile** in the destination schema.</span></span>  
  
    -   <span data-ttu-id="ef06e-303">**Évaluation** et **salaire** dans la source de schéma doit mapper à **Employee_Performance** dans le schéma de destination.</span><span class="sxs-lookup"><span data-stu-id="ef06e-303">**Rating** and **Salary** in the source schema must map to **Employee_Performance** in the destination schema.</span></span>  
  
     <span data-ttu-id="ef06e-304">Pour combiner plusieurs nœuds dans le schéma source et les mapper à un seul nœud dans le schéma de destination, vous devez utiliser le **fonctoid concaténation de chaînes**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-304">To combine more than one node in source schema and map them to a single node in the destination schema, you must use the **String Concatenate functoid**.</span></span> <span data-ttu-id="ef06e-305">Détails [!INCLUDE[ui-guidance-developers-reference](../../includes/ui-guidance-developers-reference.md)].</span><span class="sxs-lookup"><span data-stu-id="ef06e-305">Details [!INCLUDE[ui-guidance-developers-reference](../../includes/ui-guidance-developers-reference.md)].</span></span>
  
8.  <span data-ttu-id="ef06e-306">Pour utiliser le fonctoid concaténation de chaînes :</span><span class="sxs-lookup"><span data-stu-id="ef06e-306">To use the String Concatenate functoid:</span></span>  
  
    1.  <span data-ttu-id="ef06e-307">À partir de la **boîte à outils**, faites glisser le **concaténation de chaînes** fonctoid et déposez-la sur la grille du mappeur.</span><span class="sxs-lookup"><span data-stu-id="ef06e-307">From the **Toolbox**, drag the **String Concatenate** functoid and drop it on the Mapper grid.</span></span>  
  
    2.  <span data-ttu-id="ef06e-308">Connecter le **Employee_ID** et **nom** éléments dans le schéma source vers le fonctoid.</span><span class="sxs-lookup"><span data-stu-id="ef06e-308">Connect the **Employee_ID** and **Name** elements in the source schema to the functoid.</span></span>  
  
    3.  <span data-ttu-id="ef06e-309">Connectez le fonctoid à la **Employee_Info** élément dans le schéma de destination.</span><span class="sxs-lookup"><span data-stu-id="ef06e-309">Connect the functoid to the **Employee_Info** element in the destination schema.</span></span>  
  
    4.  <span data-ttu-id="ef06e-310">Répétez ces étapes pour tous les éléments que vous voulez mapper.</span><span class="sxs-lookup"><span data-stu-id="ef06e-310">Repeat these steps for all the elements that you want to map.</span></span> <span data-ttu-id="ef06e-311">Un mappage terminé ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="ef06e-311">A finished map will resemble the following:</span></span>  
  
         <span data-ttu-id="ef06e-312">![Mapper le schéma d’interrogation fortement typée](../../adapters-and-accelerators/adapter-sql/media/0a4a2608-3b84-4bac-9a16-512cf42c7525.gif "0a4a2608-3b84-4bac-9a16-512cf42c7525")</span><span class="sxs-lookup"><span data-stu-id="ef06e-312">![Map the strongly-typed polling schema](../../adapters-and-accelerators/adapter-sql/media/0a4a2608-3b84-4bac-9a16-512cf42c7525.gif "0a4a2608-3b84-4bac-9a16-512cf42c7525")</span></span>  
  
    5.  <span data-ttu-id="ef06e-313">Enregistrez le mappage.</span><span class="sxs-lookup"><span data-stu-id="ef06e-313">Save the map.</span></span>  
  
 <span data-ttu-id="ef06e-314">L’orchestration est terminée après avoir créé le mappeur.</span><span class="sxs-lookup"><span data-stu-id="ef06e-314">The orchestration is complete after you create the Mapper.</span></span> <span data-ttu-id="ef06e-315">Vous devez maintenant générer la solution BizTalk et déployez-le dans un [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ef06e-315">You must now build the BizTalk solution and deploy it to a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="ef06e-316">Pour plus d’informations, consultez [génération et exécution des Orchestrations](../../core/building-and-running-orchestrations.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-316">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md).</span></span>
  
## <a name="configure-the-biztalk-application"></a><span data-ttu-id="ef06e-317">Configurer l’Application BizTalk</span><span class="sxs-lookup"><span data-stu-id="ef06e-317">Configure the BizTalk Application</span></span>  
 <span data-ttu-id="ef06e-318">Après avoir déployé le projet BizTalk, l’orchestration que vous avez créé précédemment est répertoriée sous le **Orchestrations** volet de la console Administration de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="ef06e-318">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the **Orchestrations** pane in the BizTalk Server Administration console.</span></span> <span data-ttu-id="ef06e-319">Vous devez utiliser la console Administration de BizTalk Server pour configurer l’application.</span><span class="sxs-lookup"><span data-stu-id="ef06e-319">You must use the BizTalk Server Administration console to configure the application.</span></span> <span data-ttu-id="ef06e-320">Pour une procédure pas à pas, consultez [procédure pas à pas : déploiement d’une Application BizTalk base](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-320">For a walkthrough, see [Walkthrough: Deploying a Basic BizTalk Application](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span></span>
  
 <span data-ttu-id="ef06e-321">Configuration d’une application implique :</span><span class="sxs-lookup"><span data-stu-id="ef06e-321">Configuring an application involves:</span></span>  
  
-   <span data-ttu-id="ef06e-322">Sélection d’un hôte de l’application.</span><span class="sxs-lookup"><span data-stu-id="ef06e-322">Selecting a host for the application.</span></span>  
  
-   <span data-ttu-id="ef06e-323">Mappage de ports que vous avez créé dans l’orchestration aux ports physiques dans la console Administration de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="ef06e-323">Mapping the ports that you created in your orchestration to physical ports in the BizTalk Server Administration console.</span></span> <span data-ttu-id="ef06e-324">Pour cette orchestration, vous devez :</span><span class="sxs-lookup"><span data-stu-id="ef06e-324">For this orchestration you must:</span></span>  
  
    -   <span data-ttu-id="ef06e-325">Définir un WCF-Custom physique ou le port de réception unidirectionnel WCF-SQL.</span><span class="sxs-lookup"><span data-stu-id="ef06e-325">Define a physical WCF-Custom or WCF-SQL one-way receive port.</span></span> <span data-ttu-id="ef06e-326">Ce port interroge la base de données SQL Server avec l’instruction d’interrogation que vous spécifiez pour le port.</span><span class="sxs-lookup"><span data-stu-id="ef06e-326">This port polls the SQL Server database with the polling statement you specify for the port.</span></span> <span data-ttu-id="ef06e-327">Pour plus d’informations sur la création de ports, consultez [configurer manuellement une liaison de port physique à l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-327">For information about how to create ports, see [Manually configure a physical port binding to the SQL adapter](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md).</span></span> <span data-ttu-id="ef06e-328">Assurez-vous que vous spécifiez les propriétés suivantes de la liaison pour le port de réception.</span><span class="sxs-lookup"><span data-stu-id="ef06e-328">Make sure you specify the following binding properties for the receive port.</span></span>  
  
        > [!IMPORTANT]
        >  <span data-ttu-id="ef06e-329">Assurez-vous que vous spécifiez la **InboundID** dans le cadre de l’URI de connexion.</span><span class="sxs-lookup"><span data-stu-id="ef06e-329">Make sure you specify the **InboundID** as part of the connection URI.</span></span> <span data-ttu-id="ef06e-330">L’ID de trafic entrant doit être celui que vous avez spécifié lors de la génération du schéma.</span><span class="sxs-lookup"><span data-stu-id="ef06e-330">The inbound ID must be the same you specified while generating the schema.</span></span>  
  
        > [!IMPORTANT]
        >  <span data-ttu-id="ef06e-331">Vous n’avez pas besoin d’effectuer cette étape si vous avez spécifié les propriétés de liaison au moment du design.</span><span class="sxs-lookup"><span data-stu-id="ef06e-331">You do not need to perform this step if you specified the binding properties at design-time.</span></span> <span data-ttu-id="ef06e-332">Dans ce cas, vous pouvez créer un WCF-custom ou WCF-SQL port de réception, avec le jeu de propriétés de liaison requis, en important le fichier de liaison créé par le [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ef06e-332">In such a case, you can create a WCF-custom or WCF-SQL receive port, with the required binding properties set, by importing the binding file created by the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="ef06e-333">Pour plus d’informations, consultez [configurer une liaison de port physique à l’aide d’un fichier de liaison de port à utiliser l’adaptateur SQL](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-333">For more information see [Configure a physical port binding using a port binding file to use the SQL adapter](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span></span>  
  
        |<span data-ttu-id="ef06e-334">Propriété de liaison</span><span class="sxs-lookup"><span data-stu-id="ef06e-334">Binding Property</span></span>|<span data-ttu-id="ef06e-335">Valeur</span><span class="sxs-lookup"><span data-stu-id="ef06e-335">Value</span></span>|  
        |----------------------|-----------|  
        |<span data-ttu-id="ef06e-336">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="ef06e-336">**InboundOperationType**</span></span>|<span data-ttu-id="ef06e-337">Assurez-vous que vous affectez la valeur **TypedPolling**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-337">Make sure you set this to **TypedPolling**.</span></span>|  
        |<span data-ttu-id="ef06e-338">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="ef06e-338">**PolledDataAvailableStatement**</span></span>|<span data-ttu-id="ef06e-339">Assurez-vous que vous spécifiez la même instruction SQL que vous avez spécifié lors de la génération du schéma, qui est :</span><span class="sxs-lookup"><span data-stu-id="ef06e-339">Make sure you specify the same SQL statement you specified while generating the schema, which is:</span></span><br /><br /> `SELECT COUNT(*) FROM Employee`|  
        |<span data-ttu-id="ef06e-340">**PollingStatement**</span><span class="sxs-lookup"><span data-stu-id="ef06e-340">**PollingStatement**</span></span>|<span data-ttu-id="ef06e-341">Vérifiez que vous fournissez la même instruction d’interrogation que vous avez spécifié lors de la génération du schéma, qui est :</span><span class="sxs-lookup"><span data-stu-id="ef06e-341">Make sure you provide the same polling statement you specified while generating the schema, which is:</span></span><br /><br /> `SELECT * FROM Employee;EXEC MOVE_EMP_DATA;EXEC ADD_EMP_DETAILS John, Tester, 100000`|  
  
         <span data-ttu-id="ef06e-342">Pour plus d’informations sur les propriétés de liaison différente, consultez [en savoir plus sur l’adaptateur BizTalk pour les propriétés de liaison de l’adaptateur SQL Server](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-342">For more information about the different binding properties, see [Read about the BizTalk Adapter for SQL Server adapter Binding Properties](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="ef06e-343">Nous vous recommandons de configurer le niveau d’isolation de transaction et le délai d’attente de transaction lors de l’exécution d’opérations entrantes à l’aide de la [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ef06e-343">We recommend configuring the transaction isolation level and the transaction timeout while performing inbound operations using the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span></span> <span data-ttu-id="ef06e-344">Vous pouvez effectuer afin d’en ajoutant le service de port de réception comportement lors de la configuration WCF-Custom ou WCF-SQL.</span><span class="sxs-lookup"><span data-stu-id="ef06e-344">You can do so by adding the service behavior while configuring the WCF-Custom or WCF-SQL receive port.</span></span> <span data-ttu-id="ef06e-345">Pour obtenir des instructions sur la façon d’ajouter le comportement de service, consultez [configurer Transaction Isolation Level et délai de Transaction SQL](../../adapters-and-accelerators/adapter-sql/configure-transaction-isolation-level-and-transaction-timeout-with-sql.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-345">For instruction on how to add the service behavior, see [Configure Transaction Isolation Level and Transaction Timeout with SQL](../../adapters-and-accelerators/adapter-sql/configure-transaction-isolation-level-and-transaction-timeout-with-sql.md).</span></span>  
  
    -   <span data-ttu-id="ef06e-346">Définir un port d’envoi de fichier dans lequel l’adaptateur supprime le message.</span><span class="sxs-lookup"><span data-stu-id="ef06e-346">Define a FILE send port where the adapter will drop the message.</span></span> <span data-ttu-id="ef06e-347">Ce port d’envoi utilise également le mappage que vous avez créé dans l’orchestration pour mapper le message de l’interrogation à un message conforme au schéma EmployeeDetails.xsd.</span><span class="sxs-lookup"><span data-stu-id="ef06e-347">This send port will also use the map you created in the orchestration to map the polling message to a message conforming to the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="ef06e-348">Procédez comme suit pour configurer le port d’envoi de fichier pour utiliser le mappage.</span><span class="sxs-lookup"><span data-stu-id="ef06e-348">Perform the following steps to configure the FILE send port to use the map.</span></span>  
  
        1.  <span data-ttu-id="ef06e-349">Créer un port d’envoi FILE.</span><span class="sxs-lookup"><span data-stu-id="ef06e-349">Create a FILE send port.</span></span>  
  
        2.  <span data-ttu-id="ef06e-350">Dans le volet gauche de la boîte de dialogue de propriétés de port envoi, cliquez sur **mappages sortants**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-350">From the left pane of the send port properties dialog box, click **Outbound Maps**.</span></span> <span data-ttu-id="ef06e-351">Dans le volet droit, cliquez sur le champ sous le **carte** colonne et à partir de la liste déroulante, sélectionnez **MapSchema**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-351">From the right pane, click the field under the **Map** column, and from the drop-down select **MapSchema**.</span></span> <span data-ttu-id="ef06e-352">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ef06e-352">Click **OK**.</span></span>  
  
             <span data-ttu-id="ef06e-353">![Configurer le mappage sortant sur le port d’envoi FILE](../../adapters-and-accelerators/adapter-sql/media/831c9aee-fd97-466f-9270-3b04dbccd9fe.gif "831c9aee-fd97-466f-9270-3b04dbccd9fe")</span><span class="sxs-lookup"><span data-stu-id="ef06e-353">![Configure outbound map on the FILE send port](../../adapters-and-accelerators/adapter-sql/media/831c9aee-fd97-466f-9270-3b04dbccd9fe.gif "831c9aee-fd97-466f-9270-3b04dbccd9fe")</span></span>  
  
## <a name="start-the-application"></a><span data-ttu-id="ef06e-354">Démarrer l’Application</span><span class="sxs-lookup"><span data-stu-id="ef06e-354">Start the Application</span></span>  
 <span data-ttu-id="ef06e-355">Vous devez démarrer l’application BizTalk pour recevoir des messages à partir de la base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ef06e-355">You must start the BizTalk application for receiving messages from the SQL Server database.</span></span> <span data-ttu-id="ef06e-356">Pour obtenir des instructions sur le démarrage d’une application BizTalk, consultez [comment démarrer une Orchestration](../../core/how-to-start-an-orchestration.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-356">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md).</span></span>
  
 <span data-ttu-id="ef06e-357">À ce stade, vérifiez que :</span><span class="sxs-lookup"><span data-stu-id="ef06e-357">At this stage, make sure:</span></span>  
  
-   <span data-ttu-id="ef06e-358">Le WCF-Custom ou WCF-SQL unidirectionnel port de réception, qui interroge la base de données SQL Server à l’aide d’instructions spécifiées pour le **PollingStatement** propriété, de liaison est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="ef06e-358">The WCF-Custom or WCF-SQL one-way receive port, which polls the SQL Server database using the statements specified for the **PollingStatement** binding property, is running.</span></span>  
  
-   <span data-ttu-id="ef06e-359">Le port d’envoi FILE, qui mappe le message d’interrogation au schéma EmployeeDetails, est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="ef06e-359">The FILE send port, which will map the polling message to the EmployeeDetails schema, is running.</span></span>  
  
-   <span data-ttu-id="ef06e-360">L’orchestration BizTalk pour l’opération est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="ef06e-360">The BizTalk orchestration for the operation is running.</span></span>  
  
## <a name="execute-the-operation"></a><span data-ttu-id="ef06e-361">Exécuter l’opération</span><span class="sxs-lookup"><span data-stu-id="ef06e-361">Execute the Operation</span></span>  
 <span data-ttu-id="ef06e-362">Après avoir exécuté l’application, l’ensemble d’actions suivantes ont lieu, dans l’ordre :</span><span class="sxs-lookup"><span data-stu-id="ef06e-362">After you run the application, the following set of actions take place, in the same sequence:</span></span>  
  
-   <span data-ttu-id="ef06e-363">L’adaptateur exécute le **PolledDataAvailableStatement** sur l’employé de table et détermine que la table comporte des enregistrements pour l’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ef06e-363">The adapter executes the **PolledDataAvailableStatement** on the Employee table and determines that the table has records for polling.</span></span>  
  
-   <span data-ttu-id="ef06e-364">L’adaptateur exécute l’instruction d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ef06e-364">The adapter executes the polling statement.</span></span> <span data-ttu-id="ef06e-365">Étant donné que l’instruction d’interrogation se compose d’une instruction SELECT et les procédures stockées, l’adaptateur s’exécute toutes les instructions une après l’autre.</span><span class="sxs-lookup"><span data-stu-id="ef06e-365">Because the polling statement consists of a SELECT statement and stored procedures, the adapter will execute all the statements one after the other.</span></span>  
  
    -   <span data-ttu-id="ef06e-366">Tout d’abord, l’adaptateur exécute l’instruction SELECT qui retourne tous les enregistrements dans la table Employee.</span><span class="sxs-lookup"><span data-stu-id="ef06e-366">The adapter first executes the SELECT statement that returns all the records in the Employee table.</span></span>  
  
    -   <span data-ttu-id="ef06e-367">L’adaptateur exécute ensuite la procédure MOVE_EMP_DATA stockées qui déplace toutes les données à partir de la table Employee à la table HistoriqueEmployé.</span><span class="sxs-lookup"><span data-stu-id="ef06e-367">The adapter then executes the MOVE_EMP_DATA stored procedure that moves all data from the Employee table to the EmployeeHistory table.</span></span> <span data-ttu-id="ef06e-368">Cette procédure stockée ne retourne pas de n’importe quelle valeur.</span><span class="sxs-lookup"><span data-stu-id="ef06e-368">This stored procedure does not return any value.</span></span>  
  
    -   <span data-ttu-id="ef06e-369">L’adaptateur exécute ensuite la procédure stockée de ADD_EMP_DETAILS qui ajoute un enregistrement à la table Employee.</span><span class="sxs-lookup"><span data-stu-id="ef06e-369">The adapter then executes the ADD_EMP_DETAILS stored procedure that adds one record to the Employee table.</span></span> <span data-ttu-id="ef06e-370">Cette procédure stockée renvoie l’ID d’employé de l’enregistrement inséré.</span><span class="sxs-lookup"><span data-stu-id="ef06e-370">This stored procedure returns the Employee ID for the inserted record.</span></span>  
  
     <span data-ttu-id="ef06e-371">Après exécution de l’instruction d’interrogation et le message est reçu, le message d’interrogation obtient envoi au port d’envoi de fichier.</span><span class="sxs-lookup"><span data-stu-id="ef06e-371">After the polling statement is executed and the message is received, the polling message gets send to the FILE send port.</span></span> <span data-ttu-id="ef06e-372">Ici, le mappage sortant (**MapSchema**) configuré sur les mappages de port d’envoi, le message d’interrogation au schéma EmployeeDetails et dépose le message vers un emplacement de fichier.</span><span class="sxs-lookup"><span data-stu-id="ef06e-372">Here, the outbound map (**MapSchema**)configured on the send port maps the polling message to the EmployeeDetails schema and drops the message to a file location.</span></span> <span data-ttu-id="ef06e-373">Le message ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="ef06e-373">The message resembles the following:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <EmployeeDetails xmlns="http://Typed_Polling.EmployeeDetails">  
      <Employee_Info>10751John</Employee_Info>   
      <Employee_Profile>TesterManagesTesting</Employee_Profile>   
      <Employee_Performance>100000</EmployeePerformance>  
    </EmployeeDetails>  
    ```  
  
     <span data-ttu-id="ef06e-374">Dans la réponse précédente, vous pouvez remarquer que l’élément Employee_Info contient une combinaison de l’ID d’employé (10751) et le nom de l’employé (John).</span><span class="sxs-lookup"><span data-stu-id="ef06e-374">In the preceding response, you can notice that the Employee_Info element contains a combination of employee ID (10751) and employee name (John).</span></span> <span data-ttu-id="ef06e-375">Les autres éléments contiennent également des combinaisons mappé dans le Mappeur que vous avez créé dans le cadre de l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="ef06e-375">The other elements also contain combinations as mapped in the Mapper you created as part of the orchestration.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ef06e-376">Le [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] continue à interroger jusqu'à ce que vous désactiviez explicitement le port de réception à partir de la [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] console d’Administration.</span><span class="sxs-lookup"><span data-stu-id="ef06e-376">The [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] will continue to poll until you explicitly disable the receive port from the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="ef06e-377">Bonnes pratiques</span><span class="sxs-lookup"><span data-stu-id="ef06e-377">Best Practices</span></span>  
 <span data-ttu-id="ef06e-378">Après avoir déployé et configuré le projet BizTalk, vous pouvez exporter les paramètres de configuration dans un fichier XML appelé le fichier de liaison.</span><span class="sxs-lookup"><span data-stu-id="ef06e-378">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the binding file.</span></span> <span data-ttu-id="ef06e-379">Une fois que vous générez un fichier de liaison, vous pouvez importer les paramètres de configuration à partir du fichier, afin que vous n’avez pas besoin de créer les ports d’envoi et de réception pour l’orchestration même.</span><span class="sxs-lookup"><span data-stu-id="ef06e-379">Once you generate a binding file, you can import the configuration settings from the file, so that you do not need to create the send ports and receive ports for the same orchestration.</span></span> <span data-ttu-id="ef06e-380">Pour plus d’informations sur les fichiers de liaison, consultez [réutiliser les liaisons de l’adaptateur](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="ef06e-380">For more information about binding files, see [Reuse adapter bindings](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="ef06e-381">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ef06e-381">See Also</span></span>  
 [<span data-ttu-id="ef06e-382">Interrogation SQL Server à l’aide de l’adaptateur SQL avec BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="ef06e-382">Poll SQL Server by Using the SQL Adapter with BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-sql/poll-sql-server-using-the-sql-adapter-with-biztalk-server.md)