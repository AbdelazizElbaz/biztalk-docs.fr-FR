---
title: "Héberger un adaptateur dans IIS à l’aide de WCF LOB Adapter SDK | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 90b6cd97-01b3-4c98-a190-c6e0ccf24d2b
caps.latest.revision: "16"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 326dc5f3102354c8f2aa6fa785b145b72014f3d3
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="host-an-adapter-in-iis-using-the-wcf-lob-adapter-sdk"></a><span data-ttu-id="5f520-102">Héberger un adaptateur dans IIS à l’aide de WCF LOB Adapter SDK</span><span class="sxs-lookup"><span data-stu-id="5f520-102">Host an adapter in IIS using the WCF LOB Adapter SDK</span></span>
<span data-ttu-id="5f520-103">Cette section contient des informations sur l’hébergement d’un adaptateur créé à l’aide de la [!INCLUDE[afproductnamelong](../../includes/afproductnamelong-md.md)] dans Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="5f520-103">This section contains information about hosting an adapter built by using the [!INCLUDE[afproductnamelong](../../includes/afproductnamelong-md.md)] in Internet Information Services (IIS).</span></span> <span data-ttu-id="5f520-104">Pour plus d’informations sur les autres options d’hébergement, consultez [Services d’hébergement](https://msdn.microsoft.com/library/ms730158.aspx).</span><span class="sxs-lookup"><span data-stu-id="5f520-104">For more information about other hosting options, see [Hosting Services](https://msdn.microsoft.com/library/ms730158.aspx).</span></span>
  
## <a name="use-iis-and-aspnet"></a><span data-ttu-id="5f520-105">Utilisez les services IIS et ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5f520-105">Use IIS and ASP.NET</span></span>
 <span data-ttu-id="5f520-106">Vous pouvez utiliser IIS avec ASP.NET activé pour la publication des cartes créées avec WCF LOB Adapter SDK.</span><span class="sxs-lookup"><span data-stu-id="5f520-106">You can use IIS with ASP.NET enabled to publish adapters created with the WCF LOB Adapter SDK.</span></span> <span data-ttu-id="5f520-107">Pour héberger un adaptateur créé par le [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)], vous configurez Internet Information Services (IIS) pour la publication de services WCF.</span><span class="sxs-lookup"><span data-stu-id="5f520-107">To host an adapter created by the [!INCLUDE[afproductnameshort](../../includes/afproductnameshort-md.md)], you configure Internet Information Services (IIS) for publishing WCF services.</span></span> <span data-ttu-id="5f520-108">Ensuite, envisagez l’utilisation de votre adapterwith WCF ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5f520-108">Next, consider how to use your WCF adapterwith ASP.NET.</span></span>
 
 <span data-ttu-id="5f520-109">Lorsque vous hébergez un service WCF dans IIS, il existe deux modes d’hébergement disponibles : **côte-à-côte** et**le mode de compatibilité ASP.NET**.</span><span class="sxs-lookup"><span data-stu-id="5f520-109">When hosting a WCF service in IIS, there are two hosting modes available: **side-by-side** and A**SP.NET compatibility mode**.</span></span> <span data-ttu-id="5f520-110">La valeur par défaut en mode d’hébergement est côte-à-côte.</span><span class="sxs-lookup"><span data-stu-id="5f520-110">The default hosting mode is side-by-side.</span></span> <span data-ttu-id="5f520-111">Mode côte-à se comporte de manière cohérente avec d’autres solutions d’hébergement de WCF.</span><span class="sxs-lookup"><span data-stu-id="5f520-111">Side-by-side mode behaves consistently with other WCF hosting solutions.</span></span> <span data-ttu-id="5f520-112">Par conséquent, un service WCF hébergé dans IIS comporte comme un hébergé dans une application console.</span><span class="sxs-lookup"><span data-stu-id="5f520-112">Therefore, a WCF service hosted in IIS behaves the same as one hosted in a console application.</span></span> <span data-ttu-id="5f520-113">Toutefois, cela peut être pas souhaitable, car les développeurs web peuvent attendre comportement similaire à ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5f520-113">However, this may not be desirable because web developers might expect behavior similar to ASP.NET.</span></span> <span data-ttu-id="5f520-114">Par exemple, dans le mode côte à côte, WCF n’est pas conforme à toutes les règles d’autorisation basée sur l’URL spécifiées dans le `<system.web> <authorization>` élément de configuration du fichier web.config.</span><span class="sxs-lookup"><span data-stu-id="5f520-114">For instance, in side-by-side mode, WCF does not adhere to any URL-based authorization rules specified in the `<system.web> <authorization>` configuration element of web.config.</span></span>  
  
 <span data-ttu-id="5f520-115">Mode de compatibilité ASP.NET autorise le service WCF pour utiliser toutes les fonctionnalités d’ASP.NET et se comportent comme une page ASPX. Toutefois, vous devez prendre des étapes supplémentaires lors de la création de votre adaptateur WCF pour activer cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="5f520-115">ASP.NET compatibility mode allows the WCF service to use all the features of ASP.NET, and to behave the same as an ASPX page; however, you must take additional steps when creating your WCF adapter to enable this functionality.</span></span> <span data-ttu-id="5f520-116">Pour plus d'informations, consultez :</span><span class="sxs-lookup"><span data-stu-id="5f520-116">For more information, see:</span></span> 
 
 [<span data-ttu-id="5f520-117">Services WCF et ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5f520-117">WCF Services and ASP.NET</span></span>](https://msdn.microsoft.com/library/aa702682.aspx)
 
[<span data-ttu-id="5f520-118">Hébergement dans Internet Information Services</span><span class="sxs-lookup"><span data-stu-id="5f520-118">Hosting in Internet Information Services</span></span>](https://msdn.microsoft.com/library/ms734710.aspx)

[<span data-ttu-id="5f520-119">Hébergement de Services WCF</span><span class="sxs-lookup"><span data-stu-id="5f520-119">WCF Hosting Services</span></span>](https://msdn.microsoft.com/library/ms730158.aspx)

## <a name="use-the-wcf-adapter-service-development-wizard"></a><span data-ttu-id="5f520-120">Utilisez l’Assistant développement d’adaptateurs WCF</span><span class="sxs-lookup"><span data-stu-id="5f520-120">Use the WCF Adapter Service Development Wizard</span></span>

<span data-ttu-id="5f520-121">Utilisez le [!INCLUDE[afsvcdevwizlong](../../includes/afsvcdevwizlong-md.md)] pour automatiser la création d’un projet Web pour l’hébergement de votre adaptateur dans Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="5f520-121">Use the [!INCLUDE[afsvcdevwizlong](../../includes/afsvcdevwizlong-md.md)] to automate creation of a Web project for hosting your adapter within Internet Information Services (IIS).</span></span> <span data-ttu-id="5f520-122">L’adaptateur hébergé peut ensuite être consommé par les clients à l’aide de Windows Communication Framework (WCF) ou des services Web.</span><span class="sxs-lookup"><span data-stu-id="5f520-122">The hosted adapter can then be consumed by clients using Windows Communication Framework (WCF) or Web services.</span></span>  
  
### <a name="publish-an-adapter-as-a-wcf-service-hosted-in-iis"></a><span data-ttu-id="5f520-123">Publier un adaptateur sous la forme d’un service WCF hébergé dans IIS</span><span class="sxs-lookup"><span data-stu-id="5f520-123">Publish an adapter as a WCF service hosted in IIS</span></span>  
  
1.  <span data-ttu-id="5f520-124">Ouvrez [!INCLUDE[btsVStudioNoVersion_md](../../includes/btsvstudionoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5f520-124">Open [!INCLUDE[btsVStudioNoVersion_md](../../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="5f520-125">Sur le **fichier** menu, sélectionnez **nouveau**, puis sélectionnez **Site Web**.</span><span class="sxs-lookup"><span data-stu-id="5f520-125">On the **File** menu, select **New**, and then select **Web Site**.</span></span>  
  
2.  <span data-ttu-id="5f520-126">Dans **modèles**, sélectionnez **Visual C#**, puis sélectionnez **Service d’adaptateur WCF**.</span><span class="sxs-lookup"><span data-stu-id="5f520-126">In **Templates**, select **Visual C#**, and select **WCF Adapter Service**.</span></span>  
  
3.  <span data-ttu-id="5f520-127">Entrez le dossier pour enregistrer la solution, puis sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="5f520-127">Enter the folder to save the solution, and then select **OK**.</span></span> <span data-ttu-id="5f520-128">Le **Assistant développement d’adaptateurs WCF** démarre.</span><span class="sxs-lookup"><span data-stu-id="5f520-128">The **WCF Adapter Service Development Wizard** starts.</span></span>  
  
4.  <span data-ttu-id="5f520-129">Sur le **Introduction** , cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="5f520-129">On the **Introduction** page, click **Next**.</span></span>  
  
5.  <span data-ttu-id="5f520-130">Sur le **choisissez les opérations** , spécifiez la liaison, contrat et les opérations à utiliser pour ce service hébergé.</span><span class="sxs-lookup"><span data-stu-id="5f520-130">On the **Choose Operations** page, specify the binding, contract, and operations to use for this hosted service.</span></span>  
  
    1.  <span data-ttu-id="5f520-131">Dans le **sélectionner une liaison** , sélectionnez la liaison de la carte à utiliser, puis cliquez sur **configurer**.</span><span class="sxs-lookup"><span data-stu-id="5f520-131">In the **Select a binding** list, select the adapter binding to use, and then click **Configure**.</span></span> <span data-ttu-id="5f520-132">Cela permet d’afficher le **configurer l’adaptateur** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="5f520-132">This displays the **Configure Adapter** dialog box.</span></span> <span data-ttu-id="5f520-133">Indiquez les valeurs nécessaires pour invoquer l’adaptateur et pour récupérer les métadonnées de l’opération.</span><span class="sxs-lookup"><span data-stu-id="5f520-133">Provide the values necessary to invoke the adapter and to retrieve operation metadata.</span></span>  
  
    2.  <span data-ttu-id="5f520-134">Sur le **sécurité** onglet, sélectionnez le **type d’informations d’identification du Client** à utiliser lors du passage d’informations d’identification du client à l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="5f520-134">On the **Security** tab, select the **Client credential type** to use when passing client credentials to the adapter.</span></span>  
  
        |<span data-ttu-id="5f520-135">Type d'informations d'identification</span><span class="sxs-lookup"><span data-stu-id="5f520-135">Credential Type</span></span>|<span data-ttu-id="5f520-136"> Description</span><span class="sxs-lookup"><span data-stu-id="5f520-136">Description</span></span>|  
        |---------------------|-----------------|  
        |<span data-ttu-id="5f520-137">**Aucun**</span><span class="sxs-lookup"><span data-stu-id="5f520-137">**None**</span></span>|<span data-ttu-id="5f520-138">Le client n’a pas besoin de présenter des informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="5f520-138">The client does not need to present credentials.</span></span>|  
        |<span data-ttu-id="5f520-139">**Windows**</span><span class="sxs-lookup"><span data-stu-id="5f520-139">**Windows**</span></span>|<span data-ttu-id="5f520-140">Le client utilisera les informations d’identification Windows.</span><span class="sxs-lookup"><span data-stu-id="5f520-140">The client will use Windows credentials.</span></span>|  
        |<span data-ttu-id="5f520-141">**Nom d’utilisateur**</span><span class="sxs-lookup"><span data-stu-id="5f520-141">**Username**</span></span>|<span data-ttu-id="5f520-142">Le client fournit un nom d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="5f520-142">The client will supply a user name and password.</span></span>|  
        |<span data-ttu-id="5f520-143">**Certificat**</span><span class="sxs-lookup"><span data-stu-id="5f520-143">**Certificate**</span></span>|<span data-ttu-id="5f520-144">Le client est authentifié à l’aide d’un certificat X.509.</span><span class="sxs-lookup"><span data-stu-id="5f520-144">The client will be authenticated by using an X.509 certificate.</span></span> <span data-ttu-id="5f520-145">Si cette valeur est définie, cliquez sur **Parcourir** dans les **certificat Client** zone, puis sélectionnez le certificat à utiliser.</span><span class="sxs-lookup"><span data-stu-id="5f520-145">If this value is set, click **Browse** in the **Client Certificate** area, and then select the certificate to use.</span></span>|  
  
    3.  <span data-ttu-id="5f520-146">Sur le **propriétés URI** onglet, spécifiez les paramètres d’URI requis par l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="5f520-146">On the **URI Properties** tab, specify the URI parameters required by the adapter.</span></span> <span data-ttu-id="5f520-147">Les entrées affichées sous cet onglet varient selon les propriétés exposées dans la `ConnectionUri Properties` classe de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="5f520-147">The entries displayed in this tab vary based on the properties exposed in the  `ConnectionUri Properties` class of the adapter.</span></span>  
  
    4.  <span data-ttu-id="5f520-148">Sur le **propriétés de liaison** onglet, spécifiez des valeurs pour les propriétés de liaison requises pour l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="5f520-148">On the **Binding Properties** tab, specify values for the binding properties required for the adapter.</span></span> <span data-ttu-id="5f520-149">Le **général** section contient des paramètres communs tels que des valeurs de délai d’attente.</span><span class="sxs-lookup"><span data-stu-id="5f520-149">The **General** section contains common settings such as timeout values.</span></span> <span data-ttu-id="5f520-150">Propriétés supplémentaires sont répertoriées selon les propriétés personnalisées exposées dans votre `AdapterBinding` classe.</span><span class="sxs-lookup"><span data-stu-id="5f520-150">Additional properties are listed based on the custom properties exposed in your `AdapterBinding` class.</span></span>  
  
6.  <span data-ttu-id="5f520-151">Une fois que vous avez spécifié les valeurs de configuration, cliquez sur **connexion**.</span><span class="sxs-lookup"><span data-stu-id="5f520-151">Once you have specified the configuration values, click **Connect**.</span></span>  
  
    1.  <span data-ttu-id="5f520-152">À partir de la **type de contrat Select** , sélectionnez le contrat à utiliser.</span><span class="sxs-lookup"><span data-stu-id="5f520-152">From the **Select contract type** list, select the contract to use.</span></span> <span data-ttu-id="5f520-153">Cette opération remplit le **sélectionner une catégorie** arborescence contrôle avec une liste de catégories et opérations disponibles à partir de cet adaptateur.</span><span class="sxs-lookup"><span data-stu-id="5f520-153">This populates the **Select a category** tree control with a list of categories and operations available from this adapter.</span></span> <span data-ttu-id="5f520-154">Si l’adaptateur implémente les fonctionnalités de recherche via un `MetadataRetrievalClient` (classe), vous pouvez entrer un terme à rechercher dans le **recherche dans la catégorie** champ pour retourner uniquement les catégories et les opérations qui contiennent le terme de recherche.</span><span class="sxs-lookup"><span data-stu-id="5f520-154">If the adapter implements search functionality through a `MetadataRetrievalClient` class, you can enter a search term in the **Search in category** field to return only categories and operations that contain the search term.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="5f520-155">Seules les opérations sortantes sont disponibles pour la sélection.</span><span class="sxs-lookup"><span data-stu-id="5f520-155">Only outbound operations are available for selection.</span></span>  
  
    2.  <span data-ttu-id="5f520-156">À partir de la **catégories et opérations disponibles** , sélectionnez les éléments à ajouter, puis cliquez sur **ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5f520-156">From the **Available categories and operations** box, select the items to add, and then click **Add**.</span></span> <span data-ttu-id="5f520-157">Une fois que vous avez ajouté les éléments souhaités, cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="5f520-157">Once you have added the desired items, click **Next**.</span></span>  
  
7.  <span data-ttu-id="5f520-158">Sur le **configurer le Service et les comportements de point de terminaison** , définissez les comportements souhaités pour cet adaptateur.</span><span class="sxs-lookup"><span data-stu-id="5f520-158">On the **Configure Service and Endpoint Behaviors** page, set the desired behaviors for this adapter.</span></span>  
  
    1.  <span data-ttu-id="5f520-159">Le **Configuration de comportement de Service** section contient des entrées qui contrôlent le comportement de service.</span><span class="sxs-lookup"><span data-stu-id="5f520-159">The **Service Behavior Configuration** section contains entries that control the service behavior.</span></span> <span data-ttu-id="5f520-160">Après avoir exécuté l’Assistant, vous pouvez modifier les comportements de service sélectionné en modifiant le fichier web.config.</span><span class="sxs-lookup"><span data-stu-id="5f520-160">After running the wizard, you can modify the selected service behaviors by editing the web.config file.</span></span>  
  
        |<span data-ttu-id="5f520-161">Propriété</span><span class="sxs-lookup"><span data-stu-id="5f520-161">Property</span></span>|<span data-ttu-id="5f520-162"> Description</span><span class="sxs-lookup"><span data-stu-id="5f520-162">Description</span></span>|  
        |--------------|-----------------|  
        |<span data-ttu-id="5f520-163">**EnableMetadataExchange**</span><span class="sxs-lookup"><span data-stu-id="5f520-163">**EnableMetadataExchange**</span></span>|<span data-ttu-id="5f520-164">La valeur **True** permet aux services de publication des métadonnées aux demandes du client.</span><span class="sxs-lookup"><span data-stu-id="5f520-164">Setting this value to **True** enables service metadata publishing to client requests.</span></span> <span data-ttu-id="5f520-165">Cela peut également être définie en modifiant \< **serviceMetadata httpGetEnabled = » «** \> dans le fichier web.config. Valeur par défaut est **False**</span><span class="sxs-lookup"><span data-stu-id="5f520-165">This can also be set by modifying \<**serviceMetadata httpGetEnabled=””**\> in web.config. Default is **False**</span></span>|  
        |<span data-ttu-id="5f520-166">**IncludeExceptionDetailsinFault**</span><span class="sxs-lookup"><span data-stu-id="5f520-166">**IncludeExceptionDetailsinFault**</span></span>|<span data-ttu-id="5f520-167">La valeur **True** entraîne des informations d’exception gérées retourné au client dans les erreurs SOAP.</span><span class="sxs-lookup"><span data-stu-id="5f520-167">Setting this value to **True** results in managed exception information returned to the client in SOAP faults.</span></span> <span data-ttu-id="5f520-168">Cela peut également être définie en modifiant \< **serviceDebug usingincludeExceptionDetailInFaults = » «** \> dans le fichier web.config. Valeur par défaut est **False**.</span><span class="sxs-lookup"><span data-stu-id="5f520-168">This can also be set by modifying \<**serviceDebug usingincludeExceptionDetailInFaults=””**\> in web.config. Default is **False**.</span></span>|  
        |<span data-ttu-id="5f520-169">**Nom**</span><span class="sxs-lookup"><span data-stu-id="5f520-169">**Name**</span></span>|<span data-ttu-id="5f520-170">Nom de la configuration de comportement de service.</span><span class="sxs-lookup"><span data-stu-id="5f520-170">Name for the service behavior configuration.</span></span>|  
        |<span data-ttu-id="5f520-171">**UseServiceCertificate**</span><span class="sxs-lookup"><span data-stu-id="5f520-171">**UseServiceCertificate**</span></span>|<span data-ttu-id="5f520-172">Cette valeur détermine si le service utilise un certificat X.509 pour s’authentifier auprès du processus client.</span><span class="sxs-lookup"><span data-stu-id="5f520-172">This value determines whether the service will use an X.509 certificate to authenticate itself to the client process.</span></span> <span data-ttu-id="5f520-173">Valeur par défaut est **True**.</span><span class="sxs-lookup"><span data-stu-id="5f520-173">Default is **True**.</span></span>|  
        |<span data-ttu-id="5f520-174">**FindValue**</span><span class="sxs-lookup"><span data-stu-id="5f520-174">**FindValue**</span></span>|<span data-ttu-id="5f520-175">Cette valeur est utilisée pour rechercher un certificat X.509 spécifique dans le magasin de certificats.</span><span class="sxs-lookup"><span data-stu-id="5f520-175">This value is used to search for a specific X.509 certificate in the certificate store.</span></span> <span data-ttu-id="5f520-176">Cela peut également être définie en modifiant \< **serviceCredentials findValue = » «** \> dans le fichier web.config **Remarque :** spécifier une valeur pour cette propriété uniquement si  **UseServiceCertificate** a la valeur **True**.</span><span class="sxs-lookup"><span data-stu-id="5f520-176">This can also be set by modifying \<**serviceCredentials findValue=””**\> in web.config **Note:**  Specify a value for this property only if **UseServiceCertificate** is set to **True**.</span></span>|  
        |<span data-ttu-id="5f520-177">**StoreLocation**</span><span class="sxs-lookup"><span data-stu-id="5f520-177">**StoreLocation**</span></span>|<span data-ttu-id="5f520-178">Cette valeur spécifie l’emplacement du magasin système pour rechercher le certificat spécifié.</span><span class="sxs-lookup"><span data-stu-id="5f520-178">This value specifies system store location to search for the specified certificate.</span></span> <span data-ttu-id="5f520-179">Cela peut également être définie en modifiant \< **serviceCredentials storeLocation = » «** \> dans le fichier web.config. **Remarque :** spécifier une valeur pour cette propriété uniquement si **UseServiceCertificate** a la valeur **True**.</span><span class="sxs-lookup"><span data-stu-id="5f520-179">This can also be set by modifying \<**serviceCredentials storeLocation=””**\> in web.config. **Note:**  Specify a value for this property only if **UseServiceCertificate** is set to **True**.</span></span>|  
        |<span data-ttu-id="5f520-180">**StoreName**</span><span class="sxs-lookup"><span data-stu-id="5f520-180">**StoreName**</span></span>|<span data-ttu-id="5f520-181">Cette valeur spécifie le magasin système spécifique pour rechercher le certificat spécifié.</span><span class="sxs-lookup"><span data-stu-id="5f520-181">This value specifies the specific system store to search for the specified certificate.</span></span> <span data-ttu-id="5f520-182">Cela peut également être définie en modifiant \< **serviceCredentials storeName = » «** \> dans le fichier web.config **Remarque :** spécifier une valeur pour cette propriété uniquement si  **UseServiceCertificate** a la valeur **True**.</span><span class="sxs-lookup"><span data-stu-id="5f520-182">This can also be set by modifying \<**serviceCredentials storeName=””**\> in web.config **Note:**  Specify a value for this property only if **UseServiceCertificate** is set to **True**.</span></span>|  
        |<span data-ttu-id="5f520-183">**X509FindType**</span><span class="sxs-lookup"><span data-stu-id="5f520-183">**X509FindType**</span></span>|<span data-ttu-id="5f520-184">Le type de recherche à utiliser avec le FindValue spécifié précédemment afin de trouver le certificat spécifique à utiliser.</span><span class="sxs-lookup"><span data-stu-id="5f520-184">The type of search to use with the FindValue specified earlier in order to find the specific certificate to use.</span></span> <span data-ttu-id="5f520-185">Cela peut également être définie en modifiant \< **serviceCredentials x509FindType = » «** \> dans le fichier web.config **Remarque :** spécifier une valeur pour cette propriété uniquement si  **UseServiceCertificate** a la valeur **True**.</span><span class="sxs-lookup"><span data-stu-id="5f520-185">This can also be set by modifying \<**serviceCredentials x509FindType=””**\> in web.config **Note:**  Specify a value for this property only if **UseServiceCertificate** is set to **True**.</span></span>|  
  
    2.  <span data-ttu-id="5f520-186">Le **Configuration de comportement de point de terminaison** section contrôle le comportement de point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="5f520-186">The **Endpoint Behavior Configuration** section controls the endpoint behavior.</span></span>  
  
        |<span data-ttu-id="5f520-187">Propriété</span><span class="sxs-lookup"><span data-stu-id="5f520-187">Property</span></span>|<span data-ttu-id="5f520-188"> Description</span><span class="sxs-lookup"><span data-stu-id="5f520-188">Description</span></span>|  
        |--------------|-----------------|  
        |<span data-ttu-id="5f520-189">**Nom**</span><span class="sxs-lookup"><span data-stu-id="5f520-189">**Name**</span></span>|<span data-ttu-id="5f520-190">Le nom du comportement de point de terminaison</span><span class="sxs-lookup"><span data-stu-id="5f520-190">The name of the endpoint behavior</span></span>|  
        |<span data-ttu-id="5f520-191">**AuthenticationType**</span><span class="sxs-lookup"><span data-stu-id="5f520-191">**AuthenticationType**</span></span>|<span data-ttu-id="5f520-192">Cette valeur indique à la carte où obtenir le client les informations d’identification du document entrant.</span><span class="sxs-lookup"><span data-stu-id="5f520-192">This value instructs the adapter where to obtain the client credentials of the incoming document.</span></span> <span data-ttu-id="5f520-193">Pour activer les clients à spécifier un certificat client pour s’authentifier auprès du service, affectez la valeur **ClientCredentialUsernamePassword**.</span><span class="sxs-lookup"><span data-stu-id="5f520-193">To enable clients to specify a client certificate to authenticate to the service, set this to **ClientCredentialUsernamePassword**.</span></span> <span data-ttu-id="5f520-194">Pour activer les clients à spécifier le nom d’utilisateur et un mot de passe dans le cadre de l’en-tête HTTP, affectez la valeur **HTTPUsernamePassword**.</span><span class="sxs-lookup"><span data-stu-id="5f520-194">To enable clients to specify the user name and password as part of the HTTP header, set this to **HTTPUsernamePassword**.</span></span> <span data-ttu-id="5f520-195">Pour activer les clients à spécifier les informations d’identification via l’interface ClientCredential, affectez la valeur **automatique**. En cas d’échec, les clients peuvent passer des informations d’identification dans le cadre de l’en-tête HTTP.</span><span class="sxs-lookup"><span data-stu-id="5f520-195">To enable clients to specify credentials through the ClientCredential interface, set this to **Auto**. If this fails, clients can pass credentials as part of the HTTP header.</span></span><br /><br /> <span data-ttu-id="5f520-196">Cette valeur peut également être définie en modifiant \< **endpointBehavior adapterSecurityBridgeType** \> dans le fichier web.config. Valeur par défaut est **automatique**.</span><span class="sxs-lookup"><span data-stu-id="5f520-196">This value can also be set by modifying \<**endpointBehavior adapterSecurityBridgeType**\> in web.config. Default is **Auto**.</span></span>|  
        |<span data-ttu-id="5f520-197">**UsernameHeader**</span><span class="sxs-lookup"><span data-stu-id="5f520-197">**UsernameHeader**</span></span>|<span data-ttu-id="5f520-198">Spécifie le nom de l’en-tête qui sera utilisé pour transmettre le nom d’utilisateur pour le service.</span><span class="sxs-lookup"><span data-stu-id="5f520-198">This specifies the name of the header that will be used to pass the user name to the service.</span></span> <span data-ttu-id="5f520-199">Pour plus d’informations sur les en-têtes HTTP, consultez « Prise en charge pour les en-têtes personnalisés HTTP et SOAP » à [http://go.microsoft.com/fwlink/?LinkId=106692](http://go.microsoft.com/fwlink/?LinkId=106692)</span><span class="sxs-lookup"><span data-stu-id="5f520-199">For more information about HTTP headers, see “Support for Custom HTTP and SOAP headers” at [http://go.microsoft.com/fwlink/?LinkId=106692](http://go.microsoft.com/fwlink/?LinkId=106692)</span></span><br /><br /> <span data-ttu-id="5f520-200">Cette valeur peut également être définie en modifiant \< **endpointBehavior usernameHttpHeader** \> dans le fichier web.config. **Remarque :** vous devez spécifier une valeur pour cette propriété si le **AuthenticationType** a la valeur **HTTPUserNamePassword**.</span><span class="sxs-lookup"><span data-stu-id="5f520-200">This value can also be set by modifying \<**endpointBehavior usernameHttpHeader**\> in web.config. **Note:**  You must specify a value for this property if the **AuthenticationType** is set to **HTTPUserNamePassword**.</span></span>  <span data-ttu-id="5f520-201">Si la valeur **automatique**, cette propriété est facultative.</span><span class="sxs-lookup"><span data-stu-id="5f520-201">If set to **Auto**, this property is optional.</span></span>|  
        |<span data-ttu-id="5f520-202">**PasswordHeader**</span><span class="sxs-lookup"><span data-stu-id="5f520-202">**PasswordHeader**</span></span>|<span data-ttu-id="5f520-203">Spécifie le nom de l’en-tête qui sera utilisé pour passer le mot de passe pour le service.</span><span class="sxs-lookup"><span data-stu-id="5f520-203">This specifies the name of the header that will be used to pass the user password to the service.</span></span> <span data-ttu-id="5f520-204">Pour plus d’informations sur les en-têtes HTTP, consultez « Prise en charge pour HTTP et SOAP en-têtes personnalisés » à [http://go.microsoft.com/fwlink/?LinkId=106692](http://go.microsoft.com/fwlink/?LinkId=106692)</span><span class="sxs-lookup"><span data-stu-id="5f520-204">For more information about HTTP headers, see “Support for Custom HTTP and SOAP Headers” at [http://go.microsoft.com/fwlink/?LinkId=106692](http://go.microsoft.com/fwlink/?LinkId=106692)</span></span><br /><br /> <span data-ttu-id="5f520-205">Cette valeur peut également être définie en modifiant <**endpointBehavior passwordHttpHeader**< dans le fichier web.config. **Remarque :** vous devez spécifier une valeur pour cette propriété si le **AuthenticationType** a la valeur **HTTPUserNamePassword**.</span><span class="sxs-lookup"><span data-stu-id="5f520-205">This value can also be set by modifying <**endpointBehavior passwordHttpHeader**< in web.config. **Note:**  You must specify a value for this property if the **AuthenticationType** is set to **HTTPUserNamePassword**.</span></span> <span data-ttu-id="5f520-206">Si la valeur **automatique**, cette propriété est facultative.</span><span class="sxs-lookup"><span data-stu-id="5f520-206">If set to **Auto**, this property is optional.</span></span>|  
  
    3.  <span data-ttu-id="5f520-207">Après avoir défini le comportement souhaité, cliquez sur **suivant** pour continuer.</span><span class="sxs-lookup"><span data-stu-id="5f520-207">After setting the desired behavior, click **Next** to continue.</span></span>  
  
8.  <span data-ttu-id="5f520-208">Sur le **configurer une liaison de point de terminaison de Service et l’adresse** page, vous pouvez configurer les propriétés de liaison et une adresse pour les contrats.</span><span class="sxs-lookup"><span data-stu-id="5f520-208">On the **Configure Service Endpoint Binding and Address** page, you can configure the address and binding properties for the contracts.</span></span> <span data-ttu-id="5f520-209">Sélectionnez le contrat dans le **sélectionner un contrat pour configurer** liste, puis entrez les valeurs souhaitées dans les **configurer l’adresse et la liaison pour le contrat** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="5f520-209">Select the contract in the **Select a contract to configure** list, and then enter the desired values in the **Configure the address and binding for the contract** dialog box.</span></span>  
  
    1.  <span data-ttu-id="5f520-210">Sélectionnez le **BindingConfiguration** entrée sous propriétés de liaison.</span><span class="sxs-lookup"><span data-stu-id="5f520-210">Select the **BindingConfiguration** entry under Binding Properties.</span></span> <span data-ttu-id="5f520-211">L’Assistant prend uniquement en charge liaison HTTP de base pour le champ de configuration de liaison est automatiquement défini sur **System.ServiceModel.Configuration.BasicHttpBindingElement**.</span><span class="sxs-lookup"><span data-stu-id="5f520-211">The wizard only supports basic HTTP binding so the binding configuration field is automatically set to **System.ServiceModel.Configuration.BasicHttpBindingElement**.</span></span> <span data-ttu-id="5f520-212">Pour modifier les propriétés de configuration pour cette liaison, cliquez sur le bouton de sélection **...**</span><span class="sxs-lookup"><span data-stu-id="5f520-212">To change the configuration properties for this binding, click the ellipsis **…**</span></span> <span data-ttu-id="5f520-213">.</span><span class="sxs-lookup"><span data-stu-id="5f520-213">button.</span></span> <span data-ttu-id="5f520-214">Pour utiliser un canal de communication sécurisé, vous devez toujours définir la **Mode** propriété **Transport**.</span><span class="sxs-lookup"><span data-stu-id="5f520-214">To use a secure communication channel, you must always set the **Mode** property to **Transport**.</span></span> <span data-ttu-id="5f520-215">Ceci est la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="5f520-215">This is the default value.</span></span>  
  
    2.  <span data-ttu-id="5f520-216">Sélectionnez le **EndpointName**, puis entrez le nom souhaité du point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="5f520-216">Select the **EndpointName**, and then enter the desired name of the endpoint.</span></span>  
  
    3.  <span data-ttu-id="5f520-217">Pour appliquer vos modifications, cliquez sur **appliquer**.</span><span class="sxs-lookup"><span data-stu-id="5f520-217">To apply your changes, click **Apply**.</span></span>  
  
9. <span data-ttu-id="5f520-218">Pour continuer, cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="5f520-218">To continue, click **Next**.</span></span> <span data-ttu-id="5f520-219">La page Résumé répertorie une arborescence des opérations de carte qui a été sélectionné.</span><span class="sxs-lookup"><span data-stu-id="5f520-219">The Summary page lists a tree structure of the adapter operations that were selected.</span></span>  
  
10. <span data-ttu-id="5f520-220">Passez en revue le résumé, puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="5f520-220">Review the summary, and then click **Finish**.</span></span>  
  
11. <span data-ttu-id="5f520-221">L’Assistant crée un projet Web et ajoute les fichiers suivants.</span><span class="sxs-lookup"><span data-stu-id="5f520-221">The wizard creates a Web project and adds the following files.</span></span>  
  
    |<span data-ttu-id="5f520-222">Fichier</span><span class="sxs-lookup"><span data-stu-id="5f520-222">File</span></span>|<span data-ttu-id="5f520-223"> Description</span><span class="sxs-lookup"><span data-stu-id="5f520-223">Description</span></span>|  
    |----------|-----------------|  
    |<span data-ttu-id="5f520-224">.svc</span><span class="sxs-lookup"><span data-stu-id="5f520-224">.svc</span></span>|<span data-ttu-id="5f520-225">Fichier de service qui fait référence au proxy WCF.</span><span class="sxs-lookup"><span data-stu-id="5f520-225">Service file that references to the WCF proxy.</span></span>|  
    |<span data-ttu-id="5f520-226">.cs</span><span class="sxs-lookup"><span data-stu-id="5f520-226">.cs</span></span>|<span data-ttu-id="5f520-227">Implémente le proxy WCF.</span><span class="sxs-lookup"><span data-stu-id="5f520-227">Implements the WCF proxy.</span></span>|  
    |<span data-ttu-id="5f520-228">web.config</span><span class="sxs-lookup"><span data-stu-id="5f520-228">web.config</span></span>|<span data-ttu-id="5f520-229">Contient \< **point de terminaison** \, \< **liaisons**\>, et \< **comportements** \>éléments pour \< **système. ServiceModel**\></span><span class="sxs-lookup"><span data-stu-id="5f520-229">Contains \<**endpoint**\, \<**bindings**\>, and \<**behaviors**\> elements for \<**system.ServiceModel**\></span></span>|  
  
12. <span data-ttu-id="5f520-230">Publiez le projet de service WCF.</span><span class="sxs-lookup"><span data-stu-id="5f520-230">Publish the WCF service project.</span></span>  
  
    1.  <span data-ttu-id="5f520-231">Cliquez sur le projet dans l’Explorateur de solutions, puis cliquez sur **publier**.</span><span class="sxs-lookup"><span data-stu-id="5f520-231">Right-click the project in Solution Explorer, and then click **Publish**.</span></span>  
  
    2.  <span data-ttu-id="5f520-232">Dans le **publier le Site Web** boîte de dialogue, spécifiez l’URL cible pour le service WCF.</span><span class="sxs-lookup"><span data-stu-id="5f520-232">In the **Publish Web Site** dialog box, specify the target URL for the WCF service.</span></span>  
  
    3.  <span data-ttu-id="5f520-233">Sélectionnez **autoriser ce site précompilé à être mis à jour**.</span><span class="sxs-lookup"><span data-stu-id="5f520-233">Select **Allow this precompiled site to be updated**.</span></span>  
  
    4.  <span data-ttu-id="5f520-234">Sélectionnez **utiliser fixe pour les assemblys d’affectation de noms et une page**.</span><span class="sxs-lookup"><span data-stu-id="5f520-234">Select **Use fixed naming and single page assemblies**.</span></span>  
  
    5.  <span data-ttu-id="5f520-235">Sélectionnez **activer de noms forts sur les assemblys précompilés**, puis spécifiez la clé de signature à utiliser.</span><span class="sxs-lookup"><span data-stu-id="5f520-235">Select **Enable strong naming on precompiled assemblies**, and then specify the signing key to use.</span></span>  
  
13. <span data-ttu-id="5f520-236">Pour publier le site Web, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="5f520-236">To publish the Web site, click **OK**.</span></span>  
  
14. <span data-ttu-id="5f520-237">Vérifiez que le service est publié avec succès.</span><span class="sxs-lookup"><span data-stu-id="5f520-237">Verify that the service is published successfully.</span></span>  
  
    1.  <span data-ttu-id="5f520-238">Démarrez la Console de gestion IIS.</span><span class="sxs-lookup"><span data-stu-id="5f520-238">Start the IIS Management Console.</span></span>  <span data-ttu-id="5f520-239">Cliquez sur **Démarrer**, pointez sur **outils d’administration**, puis cliquez sur **Internet Information Services**.</span><span class="sxs-lookup"><span data-stu-id="5f520-239">Click **Start**, point to **Administrative Tools**, and then click **Internet Information Services**.</span></span>  
  
    2.  <span data-ttu-id="5f520-240">Accédez au nœud sur lequel vous avez publié le service.</span><span class="sxs-lookup"><span data-stu-id="5f520-240">Navigate to the node where you published the service.</span></span>  <span data-ttu-id="5f520-241">Si le service a été publié en tant que http://localhost/myservice, accédez à **Internet Information Services**> **nom de l’ordinateur**> **Web Sites** >  **Site Web par défaut**> **myservice**.</span><span class="sxs-lookup"><span data-stu-id="5f520-241">If the service was published as http://localhost/myservice, navigate to **Internet Information Services**> **Computer Name**> **Web Sites**> **Default Web Site**> **myservice**.</span></span>  
  
    3.  <span data-ttu-id="5f520-242">Dans le volet droit, cliquez sur le fichier .svc, puis cliquez sur **Parcourir**.</span><span class="sxs-lookup"><span data-stu-id="5f520-242">On the right pane, right-click the .svc file, and then click **Browse**.</span></span> <span data-ttu-id="5f520-243">La page Web affiche des informations sur le service.</span><span class="sxs-lookup"><span data-stu-id="5f520-243">The Web page shows up with information about the service.</span></span> <span data-ttu-id="5f520-244">Vous pouvez désormais utiliser ce service en utilisant des appels de service Web ou WCF à partir d’applications clientes.</span><span class="sxs-lookup"><span data-stu-id="5f520-244">You can now consume this service by using WCF or Web service calls from client applications.</span></span> 

## <a name="security"></a><span data-ttu-id="5f520-245">Sécurité</span><span class="sxs-lookup"><span data-stu-id="5f520-245">Security</span></span>
<span data-ttu-id="5f520-246">Lorsque l’adaptateur est hébergé dans un service, appels à partir d’applications clientes utilisent le pont de sécurité de carte pour passer des informations d’identification du client à l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="5f520-246">When the adapter is hosted within a service, calls from client applications use the Adapter Security Bridge to pass client credentials to the adapter.</span></span>  
  
 <span data-ttu-id="5f520-247">Lorsqu’un client WCF envoie l’authentification à un service WCF, normalement le service utilise l’authentification.</span><span class="sxs-lookup"><span data-stu-id="5f520-247">When a WCF client sends authentication to a WCF service, normally the service consumes the authentication.</span></span> <span data-ttu-id="5f520-248">Toutefois, dans le cas d’un adaptateur, l’idée est pour capturer les informations d’authentification pour une utilisation avec le système métier sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="5f520-248">However, in the case of an adapter, the idea is to capture the authentication information for use with the underlying LOB system.</span></span> <span data-ttu-id="5f520-249">Cela est implémenté via le pont de sécurité de carte, qui est présenté comme un comportement de point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="5f520-249">This is implemented through the Adapter Security Bridge, which is surfaced as an endpoint behavior.</span></span> <span data-ttu-id="5f520-250">En tant que développeur d’adaptateur, il n’y a rien qui doit être implémentée pour tirer parti de cette fonctionnalité ; Toutefois, lors du déploiement de la carte, vous devez considérer comment le client va fournir des informations d’identification pour le service.</span><span class="sxs-lookup"><span data-stu-id="5f520-250">As an adapter developer, there is nothing that needs to be implemented to take advantage of this functionality; however, when deploying the adapter, you must consider how the client will be providing credentials to the service.</span></span>  
  
 <span data-ttu-id="5f520-251">Si vous utilisez la sécurité au niveau du message, le pont de sécurité de l’adaptateur peut récupérer l’élément ClientCredentials envoyé par l’application cliente sur n’importe quelle liaison.</span><span class="sxs-lookup"><span data-stu-id="5f520-251">If you are using message-level security, the Adapter Security Bridge can retrieve the ClientCredentials sent by the client application on any binding.</span></span> <span data-ttu-id="5f520-252">Si vous utilisez une liaison HTTP de base, vous pouvez sélectionner à la place un en-tête personnalisé permet de passer les informations de nom et mot de passe utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5f520-252">If you are using basic HTTP binding, you can instead select to use a custom header to pass the user name and password information.</span></span> <span data-ttu-id="5f520-253">Il est recommandé d’utiliser la classe ClientCredential fournie par WCF pour passer des informations d’identification, mais de nombreuses applications clientes de Service Web devez utiliser un en-tête personnalisé pour passer des informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="5f520-253">It is recommended to use the ClientCredential class provided by WCF to pass credentials, however many Web Service client applications will need to use a custom header to pass credentials.</span></span>  
  
 <span data-ttu-id="5f520-254">Voici un exemple de configuration dans lesquels l’adaptateur recherche les informations d’identification dans l’élément ClientCredentials qui fournit de l’application cliente.</span><span class="sxs-lookup"><span data-stu-id="5f520-254">The following is an example configuration where the adapter looks for credentials in the ClientCredentials that the client application provides.</span></span> <span data-ttu-id="5f520-255">Si aucun n’est trouvé, l’adaptateur recherche ensuite dans les en-têtes de demande HTTP qui sont spécifiés.</span><span class="sxs-lookup"><span data-stu-id="5f520-255">If none is found, the adapter then looks in the HTTP request headers that are specified.</span></span>  
  
```  
<endpointBehaviors>  
   <behavior name="customEndpointBehavior">  
      <endpointBehavior usernameHttpHeader="UNHdr" passwordHttpHeader="PWHdr"  
         adapterSecurityBridgeType="Auto" />  
    </behavior>  
</endpointBehaviors>  
```      
  
## <a name="see-also"></a><span data-ttu-id="5f520-256">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="5f520-256">See Also</span></span>  
 [<span data-ttu-id="5f520-257">Activités de développement</span><span class="sxs-lookup"><span data-stu-id="5f520-257">Development Activities</span></span>](../../esb-toolkit/development-activities.md)