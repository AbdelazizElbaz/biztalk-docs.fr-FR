---
title: À l’aide de l’outil Service Model Metadata Tool avec l’adaptateur BizTalk pour base de données Oracle dans BizTalk Server | Documents Microsoft
description: Utiliser svcutil.exe pour une liaison non définis par défaut, ou pour créer une classe de Client WCF ou le contrat de Service WCF avec l’adaptateur de base de données Oracle - Pack de l’adaptateur BizTalk (LOB)
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f8660014-da04-4692-89e8-f14fcb419496
caps.latest.revision: ''
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9dfbdbd60333a2e5683b4f37a65edb928a451e46
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/23/2018
---
# <a name="using-the-servicemodel-metadata-utility-tool-with-the-biztalk-adapter-for-oracle-database"></a><span data-ttu-id="25277-103">À l’aide de l’outil Service Model Metadata Tool avec l’adaptateur BizTalk pour base de données Oracle</span><span class="sxs-lookup"><span data-stu-id="25277-103">Using the ServiceModel Metadata Utility Tool with the BizTalk Adapter for Oracle Database</span></span>
<span data-ttu-id="25277-104">Vous pouvez utiliser le service Model Metadata Utility Tool (svcutil.exe) pour générer une classe de client WCF ou un contrat de service WCF (interface) pour les opérations qui les [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] expose.</span><span class="sxs-lookup"><span data-stu-id="25277-104">You can use the ServiceModel Metadata Utility Tool (svcutil.exe) to generate a WCF client class or a WCF service contract (interface) for operations that the [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] exposes.</span></span> <span data-ttu-id="25277-105">Après avoir exécuté svcutil.exe pour générer une classe de client WCF ou d’un contrat de service WCF, vous pouvez inclure le fichier généré dans votre code et créer des instances de la classe générée ou implémenter un service WCF dans le contrat pour effectuer des opérations sur Oracle base de données.</span><span class="sxs-lookup"><span data-stu-id="25277-105">After you run svcutil.exe to generate either a WCF client class or a WCF service contract, you can include the generated file in your code and create instances of the generated class or implement a WCF service from the contract to perform operations on the Oracle database.</span></span>  
  
 <span data-ttu-id="25277-106">À l’aide de svcutil.exe vous oblige à fournir une URI qui contient les informations d’identification de connexion.</span><span class="sxs-lookup"><span data-stu-id="25277-106">Using svcutil.exe requires you to supply a connection URI that contains credentials.</span></span> <span data-ttu-id="25277-107">Étant donné que, par défaut, le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] désactive les informations d’identification dans l’URI de connexion, vous devez configurer svcutil.exe pour utiliser une liaison non définis par défaut pour le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="25277-107">Because, by default, the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] disables credentials in the connection URI, you must configure svcutil.exe to use a non-default binding for the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span>  
  
 <span data-ttu-id="25277-108">Les sections suivantes vous montrent comment configurer svcutil.exe et comment utiliser svcutil.exe pour générer le code du client WCF ou un contrat de service WCF avec les [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="25277-108">The following sections show you how to configure svcutil.exe and how to use svcutil.exe to generate WCF client code or a WCF service contract with the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span>  
  
##  <a name="BKMK_ConfigureSvcutil"></a> <span data-ttu-id="25277-109">Configuration de svcutil.exe pour une liaison non définis par défaut</span><span class="sxs-lookup"><span data-stu-id="25277-109">Configure svcutil.exe for a non-default binding</span></span>   
 <span data-ttu-id="25277-110">Pour configurer svcutil.exe pour utiliser une liaison non définis par défaut, vous devez créer une copie locale de svcutil.exe et ensuite créer ou modifier une copie locale du fichier de configuration svcutil.exe.config.</span><span class="sxs-lookup"><span data-stu-id="25277-110">To configure svcutil.exe to use a non-default binding, you must create a local copy of svcutil.exe and then create or modify a local copy of the svcutil.exe.config configuration file.</span></span>  
  
1.  <span data-ttu-id="25277-111">Créez un dossier et copier svcutil.exe dans le nouveau dossier.</span><span class="sxs-lookup"><span data-stu-id="25277-111">Create a folder, and copy svcutil.exe into the new folder.</span></span> <span data-ttu-id="25277-112">Vous pouvez généralement trouver svcutil.exe à l’emplacement d’installation du SDK Windows, en particulier, C:\Program Files\Microsoft SDKs\Windows\v6.0\Bin.</span><span class="sxs-lookup"><span data-stu-id="25277-112">You can typically find svcutil.exe at the Windows SDK installation location, specifically, C:\Program Files\Microsoft SDKs\Windows\v6.0\Bin.</span></span>  
  
2.  <span data-ttu-id="25277-113">Créez un fichier appelé svcutil.exe.config dans le nouveau dossier.</span><span class="sxs-lookup"><span data-stu-id="25277-113">Create a file named svcutil.exe.config in the new folder.</span></span>  
  
3.  <span data-ttu-id="25277-114">Ajouter une liaison et un point de terminaison client dans le fichier svcutil.exe.config.</span><span class="sxs-lookup"><span data-stu-id="25277-114">Add a binding and a client endpoint to the svcutil.exe.config file.</span></span> <span data-ttu-id="25277-115">Vous devez exécuter svcutil.exe depuis le nouveau dossier pour vous assurer que la configuration correcte est utilisée.</span><span class="sxs-lookup"><span data-stu-id="25277-115">You must run svcutil.exe from the new folder to ensure that the correct configuration is used.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="25277-116">L’attribut de nom du point de terminaison client doit spécifier le schéma utilisé dans l’URI de connexion.</span><span class="sxs-lookup"><span data-stu-id="25277-116">The name attribute of the client endpoint must specify the scheme used in the connection URI.</span></span> <span data-ttu-id="25277-117">Cette valeur respecte la casse.</span><span class="sxs-lookup"><span data-stu-id="25277-117">This value is case-sensitive.</span></span>  
  
    ```  
    <configuration>  
      <system.serviceModel>  
        <client>  
          <!-- the name should match the required scheme of the WS-Metadata Exchange endpoint   
          and the contract should be "IMetadataExchange" -->  
          <endpoint name="oracledb"  
                    binding="oracleDBBinding"  
                    bindingConfiguration="OracleDBBinding"  
                    contract="IMetadataExchange" />  
        </client>  
        <bindings>  
            <oracleDBBinding>  
                <binding name="OracleDBBinding" acceptCredentialsInUri="true" />  
            </oracleDBBinding>  
        </bindings>  
  
      </system.serviceModel>  
  
    </configuration>  
    ```  
  
> [!NOTE]
>  <span data-ttu-id="25277-118">Vous pouvez définir les propriétés de liaison de la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] dans la configuration de liaison.</span><span class="sxs-lookup"><span data-stu-id="25277-118">You can set any of the binding properties of the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] in the binding configuration.</span></span>  
  
 <span data-ttu-id="25277-119">Pour plus d’informations sur la configuration d’une liaison par défaut de svcutil.exe, consultez la rubrique « Custom sécuriser les métadonnées Endpoint » dans la documentation WCF à [ http://go.microsoft.com/fwlink/?LinkId=96077 ](http://go.microsoft.com/fwlink/?LinkId=96077).</span><span class="sxs-lookup"><span data-stu-id="25277-119">For more information about configuring a non-default binding for svcutil.exe, see the "Custom Secure Metadata Endpoint" topic in the WCF documentation at [http://go.microsoft.com/fwlink/?LinkId=96077](http://go.microsoft.com/fwlink/?LinkId=96077).</span></span>  
  
### <a name="configure-a-non-default-binding-for-the-pollingstmt-operation"></a><span data-ttu-id="25277-120">Configurer un Non-liaison par défaut pour l’opération POLLINGSTMT</span><span class="sxs-lookup"><span data-stu-id="25277-120">Configure a Non-Default Binding for the POLLINGSTMT Operation</span></span>  
 <span data-ttu-id="25277-121">Pour créer un contrat de service WCF pour l’opération POLLINGSTMT à l’aide de svcutil.exe, vous devez configurer la liaison par défaut pour inclure les **pollingStatement** propriété, en plus de **acceptCredentialsInUri**.</span><span class="sxs-lookup"><span data-stu-id="25277-121">To use svcutil.exe to create a WCF service contract for the POLLINGSTMT operation, you must configure the non-default binding to include the **pollingStatement** property, in addition to **acceptCredentialsInUri**.</span></span> <span data-ttu-id="25277-122">Le **pollingStatement** doit contenir l’instruction SELECT qui cible la table.</span><span class="sxs-lookup"><span data-stu-id="25277-122">The **pollingStatement** must contain the SELECT statement that targets the table.</span></span> <span data-ttu-id="25277-123">Le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] utilise cette propriété pour générer la classe qui représente le résultat fortement typée la valeur que l’opération POLLINGSTMT retourne.</span><span class="sxs-lookup"><span data-stu-id="25277-123">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] uses this property to generate the class that represents the strongly-typed result set that the POLLINGSTMT operation returns.</span></span> <span data-ttu-id="25277-124">L’exemple suivant montre une configuration de liaison qui est utilisée pour générer un contrat de service WCF pour une opération POLLINGSTMT qui cible la table /SCOTT/EMP.</span><span class="sxs-lookup"><span data-stu-id="25277-124">The following example shows a binding configuration that is used to generate a WCF service contract for a POLLINGSTMT operation that targets the /SCOTT/EMP table.</span></span>  
  
```  
<bindings>  
    <oracleDBBinding>  
        <binding name="OracleDBBinding" acceptCredentialsInUri="true"   
                                   pollingStatement="SELECT * FROM EMP FOR UPDATE" />  
    </oracleDBBinding>  
</bindings>  
```  
  
## <a name="create-a-wcf-client-class-or-wcf-service-contract-with-svcutilexe"></a><span data-ttu-id="25277-125">Créez une classe de Client WCF ou d’un contrat de Service WCF avec svcutil.exe</span><span class="sxs-lookup"><span data-stu-id="25277-125">Create a WCF Client Class or WCF Service Contract with svcutil.exe</span></span>  
 <span data-ttu-id="25277-126">Pour utiliser svcutil.exe pour générer le code du client WCF ou un contrat de service WCF (interface) pour le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], vous devez fournir une URI qui spécifie un point de terminaison WS-MEX (Metadata Exchange) et l’ou les opérations dont vous voulez svcutil.exe pour connexion générer du code.</span><span class="sxs-lookup"><span data-stu-id="25277-126">To use svcutil.exe to generate WCF client code or a WCF service contract (interface) for the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], you must supply a connection URI that specifies an WS-Metadata Exchange (MEX) endpoint and the operation or operations for which you want svcutil.exe to generate code.</span></span> <span data-ttu-id="25277-127">Vous devez également spécifier des informations d’identification de connexion pour la base de données Oracle dans l’URI de connexion.</span><span class="sxs-lookup"><span data-stu-id="25277-127">You must also specify connection credentials for the Oracle database in the connection URI.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="25277-128">Avant de pouvoir utiliser svcutil.exe avec la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], vous devez le configurer pour utiliser un non définis par défaut de liaison ; pour plus d’informations sur la procédure à suivre, consultez [configuration de svcutil.exe pour l’adaptateur de base de données Oracle](#BKMK_ConfigureSvcutil).</span><span class="sxs-lookup"><span data-stu-id="25277-128">Before you can use svcutil.exe with the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], you must configure it to use a non-default binding; for information about how to do this, see [Configuring svcutil.exe for the Oracle Database Adapter](#BKMK_ConfigureSvcutil).</span></span>  
  
 <span data-ttu-id="25277-129">Vous spécifiez une opération de point de terminaison et la cible MEX dans le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] URI de connexion de la manière suivante :</span><span class="sxs-lookup"><span data-stu-id="25277-129">You specify a MEX endpoint and target operations in the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] connection URI in the following manner:</span></span>  
  
-   <span data-ttu-id="25277-130">Vous devez inclure le paramètre « wsdl » dans query_string.</span><span class="sxs-lookup"><span data-stu-id="25277-130">You must include the "wsdl" parameter in the query_string.</span></span> <span data-ttu-id="25277-131">S’il est le premier paramètre de query_string, elle est spécifiée juste après le point d’interrogation ( ?).</span><span class="sxs-lookup"><span data-stu-id="25277-131">If it is the first parameter in the query_string, it is specified just after the question mark (?).</span></span> <span data-ttu-id="25277-132">Si elle n’est pas le premier paramètre, il doit être précédée d’une esperluette (&).</span><span class="sxs-lookup"><span data-stu-id="25277-132">If it is not the first parameter, it should be preceded with an ampersand (&).</span></span>  
  
-   <span data-ttu-id="25277-133">Vous devez suivre le paramètre « wsdl » par un ou plusieurs paramètres de « op ».</span><span class="sxs-lookup"><span data-stu-id="25277-133">You must follow the "wsdl" parameter by one or more "op" parameters.</span></span> <span data-ttu-id="25277-134">Chaque paramètre de « op » est précédé par une esperluette (&) et spécifie l’ID de nœud d’une opération de cible.</span><span class="sxs-lookup"><span data-stu-id="25277-134">Each "op" parameter is preceded by an ampersand (&) and specifies the node ID of a target operation.</span></span>  
  
 <span data-ttu-id="25277-135">Les trois exemples suivants montrent comment cibler différentes opérations à l’aide de svcutil.exe.</span><span class="sxs-lookup"><span data-stu-id="25277-135">The following three examples show how to target various operations by using svcutil.exe.</span></span>  
  
 <span data-ttu-id="25277-136">Cet exemple crée une classe de client WCF pour une opération d’insertion sur la table /SCOTT/EMP.</span><span class="sxs-lookup"><span data-stu-id="25277-136">This example creates a WCF client class for an Insert operation on the /SCOTT/EMP table.</span></span>  
  
 <span data-ttu-id="25277-137">**.\svcutil "oracledb://User=SCOTT;Password=TIGER@ADAPTER?wsdl&op=http://Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/EMP/Insert"**</span><span class="sxs-lookup"><span data-stu-id="25277-137">**.\svcutil "oracledb://User=SCOTT;Password=TIGER@ADAPTER?wsdl&op=http://Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/EMP/Insert"**</span></span>  
  
 <span data-ttu-id="25277-138">Cet exemple crée une classe de client WCF pour l’insertion et les opérations de suppression sur la table /SCOTT/EMP.</span><span class="sxs-lookup"><span data-stu-id="25277-138">This example creates a WCF client class for the Insert and the Delete operations on the /SCOTT/EMP table.</span></span>  
  
 <span data-ttu-id="25277-139">**.\svcutil "oracledb://User=SCOTT;Password=TIGER@ADAPTER?wsdl&op=http://Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/EMP/Insert&op=http://Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/EMP/Delete"**</span><span class="sxs-lookup"><span data-stu-id="25277-139">**.\svcutil "oracledb://User=SCOTT;Password=TIGER@ADAPTER?wsdl&op=http://Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/EMP/Insert&op=http://Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/EMP/Delete"**</span></span>  
  
 <span data-ttu-id="25277-140">Cet exemple crée un contrat de service WCF pour l’opération POLLLINGSTMT.</span><span class="sxs-lookup"><span data-stu-id="25277-140">This example creates a WCF service contract for the POLLLINGSTMT operation.</span></span> <span data-ttu-id="25277-141">(Pour utiliser svcutil.exe pour générer un contrat de service WCF pour l’opération POLLINGSTMT, vous devez configurer une liaison par défaut de svcutil.exe, qui inclut une instruction d’interrogation).</span><span class="sxs-lookup"><span data-stu-id="25277-141">(To use svcutil.exe to generate a WCF service contract for the POLLINGSTMT operation, you must configure a non-default binding for svcutil.exe that includes a polling statement.)</span></span>  
  
 <span data-ttu-id="25277-142">**.\svcutil "oracledb://User=SCOTT;Password=TIGER@ADAPTER?wsdl&op=http://Microsoft.LobServices.OracleDB/2007/03/POLLINGSTMT"**</span><span class="sxs-lookup"><span data-stu-id="25277-142">**.\svcutil "oracledb://User=SCOTT;Password=TIGER@ADAPTER?wsdl&op=http://Microsoft.LobServices.OracleDB/2007/03/POLLINGSTMT"**</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="25277-143">Vous devez placer l’URI de connexion dans des guillemets sur la ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="25277-143">You must place the connection URI in quotation marks on the command line.</span></span> <span data-ttu-id="25277-144">Sinon, svcutil.exe essaie de récupérer les métadonnées pour les opérations qui les [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] ne prend pas en charge.</span><span class="sxs-lookup"><span data-stu-id="25277-144">Otherwise, svcutil.exe attempts to retrieve metadata for operations that the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] does not support.</span></span> <span data-ttu-id="25277-145">Les résultats d’une tentative de ce type ne sont pas définis.</span><span class="sxs-lookup"><span data-stu-id="25277-145">The results of such an attempt are undefined.</span></span>  
  
 <span data-ttu-id="25277-146">Par défaut, svcutil.exe place le code généré dans le fichier output.cs ; Toutefois, vous pouvez modifier le nom du fichier de sortie et de nombreuses autres options svcutil.exe utilise en définissant des commutateurs de ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="25277-146">By default, svcutil.exe places the generated code in the output.cs file; however, you can change the name of the output file and many other options that svcutil.exe uses by setting command-line switches.</span></span> <span data-ttu-id="25277-147">Pour plus d’informations sur les options que svcutil.exe prend en charge, consultez la rubrique « Utilitaire les Metadata de ServiceModel-Tool (Svcutil.exe) » dans la documentation WCF à [ http://go.microsoft.com/fwlink/?LinkId=72777 ](http://go.microsoft.com/fwlink/?LinkId=72777).</span><span class="sxs-lookup"><span data-stu-id="25277-147">For more information about the options that svcutil.exe supports, see the "ServiceModel Metadata Utility Tool (Svcutil.exe)" topic in the WCF documentation at [http://go.microsoft.com/fwlink/?LinkId=72777](http://go.microsoft.com/fwlink/?LinkId=72777).</span></span>  
  
 <span data-ttu-id="25277-148">SvcUtil.exe ne fournit pas la fonction de recherche pour les opérations (par exemple, en utilisant des caractères génériques).</span><span class="sxs-lookup"><span data-stu-id="25277-148">Svcutil.exe does not provide the capability to search for operations (for example, by using wildcard characters).</span></span> <span data-ttu-id="25277-149">Vous devez spécifier explicitement les ID de nœud pour les opérations spécifiques que vous souhaitez cibler.</span><span class="sxs-lookup"><span data-stu-id="25277-149">You must explicitly specify node IDs for the specific operations you want to target.</span></span> <span data-ttu-id="25277-150">Vous ne pouvez pas spécifier les ID font référence uniquement aux catégories de nœud.</span><span class="sxs-lookup"><span data-stu-id="25277-150">You cannot specify node IDs that refer only to categories.</span></span> <span data-ttu-id="25277-151">Pour plus d’informations sur l’ID du nœud qui le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] surfaces, consultez [ID de nœud de métadonnées](../../adapters-and-accelerators/adapter-oracle-database/metadata-node-ids3.md).</span><span class="sxs-lookup"><span data-stu-id="25277-151">For more information about the node IDs that the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] surfaces, see [Metadata Node IDs](../../adapters-and-accelerators/adapter-oracle-database/metadata-node-ids3.md).</span></span>  
  
 <span data-ttu-id="25277-152">Le [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)] offre des avancées et fonctionnalités de recherche qui peuvent grandement simplifier la génération d’une classe de client WCF et d’un contrat de service WCF.</span><span class="sxs-lookup"><span data-stu-id="25277-152">The [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)] provides advanced browse and search capabilities that can greatly simplify generating a WCF client class and WCF service contract.</span></span> <span data-ttu-id="25277-153">Pour plus d’informations sur la [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], consultez [génération d’un Client WCF ou un contrat de Service WCF pour les artefacts de Solution de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/create-a-wcf-client-or-wcf-service-contract-for-oracle-db-solution-artifacts.md).</span><span class="sxs-lookup"><span data-stu-id="25277-153">For more information about the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], see [Generating a WCF Client or a WCF Service Contract for Oracle Database Solution Artifacts](../../adapters-and-accelerators/adapter-oracle-database/create-a-wcf-client-or-wcf-service-contract-for-oracle-db-solution-artifacts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="25277-154">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="25277-154">See Also</span></span>  
 [<span data-ttu-id="25277-155">Messages et schémas de message pour l’adaptateur BizTalk pour Oracle Database</span><span class="sxs-lookup"><span data-stu-id="25277-155">Messages and Message Schemas for BizTalk Adapter for Oracle Database</span></span>](../../adapters-and-accelerators/adapter-oracle-database/messages-and-message-schemas-for-biztalk-adapter-for-oracle-database.md)