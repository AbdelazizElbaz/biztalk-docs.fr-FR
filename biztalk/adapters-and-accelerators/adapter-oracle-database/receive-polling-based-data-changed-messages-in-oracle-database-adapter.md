---
title: Recevoir des messages d’interrogation de données modifiées dans la carte de base de données Oracle | Documents Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- polling-base notification, support for
ms.assetid: 043afb88-701c-41d8-8b8e-84702bd0d984
caps.latest.revision: 16
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2f234e57353d22c785dc57271add297e7a6d2c9f
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="receive-polling-based-data-changed-messages-in-oracle-database-adapter"></a><span data-ttu-id="ce656-102">Recevoir des messages d’interrogation de données modifiées dans la carte de base de données Oracle</span><span class="sxs-lookup"><span data-stu-id="ce656-102">Receive polling-based data-changed messages in Oracle Database adapter</span></span>
<span data-ttu-id="ce656-103">Le [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] prend en charge la réception des messages de modification de données reposant sur l’interrogation en interrogeant la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="ce656-103">The [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] supports receiving polling-based data-changed messages by polling the Oracle database.</span></span> <span data-ttu-id="ce656-104">L’adaptateur remet les messages à votre application par :</span><span class="sxs-lookup"><span data-stu-id="ce656-104">The adapter delivers the messages to your application by:</span></span>  
  
-   <span data-ttu-id="ce656-105">Exécution d’une requête SQL SELECT pour déterminer si les données sont disponibles pour l’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ce656-105">Executing a SQL SELECT query to determine whether data is available for polling.</span></span> <span data-ttu-id="ce656-106">Vous pouvez configurer l’adaptateur pour exécuter la requête SQL SELECT régulièrement ou en continu.</span><span class="sxs-lookup"><span data-stu-id="ce656-106">You can configure the adapter to execute the SQL SELECT query periodically or continuously.</span></span>  
  
-   <span data-ttu-id="ce656-107">Exécuter une requête SQL SELECT sur une table Oracle ou une vue ou procédures stockées, fonctions, ou empaquetées procédures et fonctions.</span><span class="sxs-lookup"><span data-stu-id="ce656-107">Executing a SQL SELECT query against an Oracle table or view or executing stored procedures, functions, or packaged procedures and functions.</span></span>  
  
-   <span data-ttu-id="ce656-108">Exécute un bloc de code facultatif après interrogation PL/SQL sur la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="ce656-108">Executing an optional post-poll PL/SQL code block on the Oracle database.</span></span> <span data-ttu-id="ce656-109">Ce bloc de code est souvent utilisé pour mettre à jour un champ sur les enregistrements interrogées dans la cible ou pour déplacer les enregistrements de requête vers une autre table ou vue.</span><span class="sxs-lookup"><span data-stu-id="ce656-109">This code block is often used to update a field on the queried records in the target or to move the queried records to another table or view.</span></span>  
  
-   <span data-ttu-id="ce656-110">Retour des résultats de la requête dans un résultat défini en appelant l’opération POLLINGSTMT ou les procédures stockées, fonctions, ou les procédures et fonctions qui sont exposées en tant que les opérations d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ce656-110">Returning the query results in a result set by invoking the POLLINGSTMT operation or the stored procedures, functions, or packaged procedures and functions that are exposed as polling operations.</span></span>  
  
 <span data-ttu-id="ce656-111">L’adaptateur s’exécute, toutes ces opérations à l’intérieur d’une transaction Oracle.</span><span class="sxs-lookup"><span data-stu-id="ce656-111">The adapter executes all of these operations inside of an Oracle transaction.</span></span>  
  
 <span data-ttu-id="ce656-112">L’adaptateur vous permet également de recevoir des messages de modifications de données de plusieurs artefacts d’Oracle dans la même application en exposant un `PollingId` paramètre dans l’URI de connexion.</span><span class="sxs-lookup"><span data-stu-id="ce656-112">The adapter also enables you to receive data-changes messages for multiple Oracle artifacts in the same application by exposing a `PollingId` parameter in the connection URI.</span></span> <span data-ttu-id="ce656-113">Ce paramètre modifie l’espace de noms cible de l’opération POLLINGSTMT.</span><span class="sxs-lookup"><span data-stu-id="ce656-113">This parameter modifies the target namespace of the POLLINGSTMT operation.</span></span>  
  
## <a name="change-the-target-namespace-of-pollingstmt"></a><span data-ttu-id="ce656-114">Modifier l’espace de noms cible POLLINGSTMT</span><span class="sxs-lookup"><span data-stu-id="ce656-114">Change the target namespace of POLLINGSTMT</span></span>  
 <span data-ttu-id="ce656-115">Vous pouvez modifier l’espace de noms cible de l’opération POLLINGSTMT en définissant le `PollingId` dans l’URI de connexion paramètre de chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="ce656-115">You can modify the target namespace of the POLLINGSTMT operation by setting the `PollingId` query string parameter in the connection URI.</span></span> <span data-ttu-id="ce656-116">Si un `PollingId` est spécifié dans l’URI, de connexion le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] ajoute la chaîne spécifiée dans le `PollingId` paramètre à l’espace de noms cible par défaut pour l’opération POLLINGSTMT : `http://microsoft.lobservices.oracledb/2007/03/POLLINGSTMT`.</span><span class="sxs-lookup"><span data-stu-id="ce656-116">If a `PollingId` is specified in the connection URI, the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] appends the string specified in the `PollingId` parameter to the default target namespace for the POLLINGSTMT operation: `http://microsoft.lobservices.oracledb/2007/03/POLLINGSTMT`.</span></span> <span data-ttu-id="ce656-117">L’action du message de l’opération POLLINGSTMT n’est pas modifiée.</span><span class="sxs-lookup"><span data-stu-id="ce656-117">The message action of the POLLINGSTMT operation is not modified.</span></span>  
  
 <span data-ttu-id="ce656-118">Par exemple, si l’URI de connexion suivante est spécifiée : `OracleDb://User=SCOTT;Password=TIGER@Adapter?PollingId=AcctActivity`, l’espace de noms cible `http:/microsoft.lobservices.oracledb/2007/03/POLLINGSTMTAcctActivity`.</span><span class="sxs-lookup"><span data-stu-id="ce656-118">For example, if the following connection URI is specified: `OracleDb://User=SCOTT;Password=TIGER@Adapter?PollingId=AcctActivity`, the target namespace will be `http:/microsoft.lobservices.oracledb/2007/03/POLLINGSTMTAcctActivity`.</span></span>  
  
 <span data-ttu-id="ce656-119">En fournissant un espace de noms unique pour chaque opération POLLINGSTMT, vous pouvez recevoir des messages de données modifiées pour plusieurs tables Oracle et les vues dans votre application.</span><span class="sxs-lookup"><span data-stu-id="ce656-119">By providing a unique namespace for each POLLINGSTMT operation, you can receive data-changed messages for multiple Oracle tables and views in your application.</span></span>  
  
 <span data-ttu-id="ce656-120">Pour plus d’informations sur la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] connexion URI, consultez [créer l’URI de connexion de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/create-the-oracle-database-connection-uri.md).</span><span class="sxs-lookup"><span data-stu-id="ce656-120">For more information about the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] connection URI, see [Create the Oracle Database connection URI](../../adapters-and-accelerators/adapter-oracle-database/create-the-oracle-database-connection-uri.md).</span></span>  
  
## <a name="receive-data-changed-messages-using-binding-properties"></a><span data-ttu-id="ce656-121">Recevoir des messages de modification de données à l’aide des propriétés de liaison</span><span class="sxs-lookup"><span data-stu-id="ce656-121">Receive data-changed messages using binding properties</span></span>
 <span data-ttu-id="ce656-122">Vous configurez le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] pour recevoir des messages de modification de données en définissant certaines ou toutes les propriétés suivantes de la liaison.</span><span class="sxs-lookup"><span data-stu-id="ce656-122">You configure the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] to receive data-changed messages by setting some or all of the following binding properties.</span></span>  
  
|<span data-ttu-id="ce656-123">Propriété de liaison</span><span class="sxs-lookup"><span data-stu-id="ce656-123">Binding Property</span></span>|<span data-ttu-id="ce656-124">Valeur</span><span class="sxs-lookup"><span data-stu-id="ce656-124">Value</span></span>|<span data-ttu-id="ce656-125">Valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="ce656-125">Default</span></span>|<span data-ttu-id="ce656-126">Obligatoire/Facultatif</span><span class="sxs-lookup"><span data-stu-id="ce656-126">Required/Optional</span></span>|  
|----------------------|-----------|-------------|------------------------|  
|<span data-ttu-id="ce656-127">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="ce656-127">**InboundOperationType**</span></span>|<span data-ttu-id="ce656-128">Assurez-vous que la valeur est définie sur **d’interrogation**.</span><span class="sxs-lookup"><span data-stu-id="ce656-128">Make sure that the value is set to **Polling**.</span></span>|<span data-ttu-id="ce656-129">Interrogation</span><span class="sxs-lookup"><span data-stu-id="ce656-129">Polling</span></span>|<span data-ttu-id="ce656-130">Obligatoire.</span><span class="sxs-lookup"><span data-stu-id="ce656-130">Required.</span></span> <span data-ttu-id="ce656-131">Si la valeur n’est pas explicitement ensemble, la valeur par défaut s’applique.</span><span class="sxs-lookup"><span data-stu-id="ce656-131">If not explicitly set, the default value will apply.</span></span>|  
|<span data-ttu-id="ce656-132">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="ce656-132">**PolledDataAvailableStatement**</span></span>|<span data-ttu-id="ce656-133">Spécifiez l’instruction SELECT est exécutée pour déterminer si les données sont disponibles pour l’interrogation d’une table spécifique.</span><span class="sxs-lookup"><span data-stu-id="ce656-133">Specify the SELECT statement executed to determine whether any data is available for polling for a specific table.</span></span> <span data-ttu-id="ce656-134">L’instruction spécifiée doit retourner un jeu de résultats composé de lignes et de colonnes.</span><span class="sxs-lookup"><span data-stu-id="ce656-134">The specified statement must return a result set consisting of rows and columns.</span></span> <span data-ttu-id="ce656-135">La valeur de la première cellule du jeu de résultats indique si l’adaptateur s’exécute à la valeur spécifiée pour le **PollingStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="ce656-135">The value in the first cell of the result set indicates whether the adapter executes the value specified for the **PollingStatement** binding property.</span></span> <span data-ttu-id="ce656-136">Si la première cellule de résultat contient une valeur positive, l’adaptateur exécute l’instruction d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ce656-136">If the first cell of the result contains a positive value, the adapter executes the polling statement.</span></span> <span data-ttu-id="ce656-137">Par exemple, une instruction valide pour cette propriété de liaison seront :</span><span class="sxs-lookup"><span data-stu-id="ce656-137">For example, a valid statement for this binding property will be:</span></span><br /><br /> `Select * from <table_name>`<br /><br /> <span data-ttu-id="ce656-138">**Remarque :** vous ne devez pas spécifier des procédures stockées pour cette propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="ce656-138">**Note:** You must not specify stored procedures for this binding property.</span></span> <span data-ttu-id="ce656-139">Également, cette instruction ne doit pas modifier la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="ce656-139">Also, this statement must not modify the underlying Oracle database.</span></span>|<span data-ttu-id="ce656-140">SÉLECTIONNEZ 1 DOUBLE</span><span class="sxs-lookup"><span data-stu-id="ce656-140">SELECT 1 FROM DUAL</span></span>|<span data-ttu-id="ce656-141">Obligatoire.</span><span class="sxs-lookup"><span data-stu-id="ce656-141">Required.</span></span> <span data-ttu-id="ce656-142">Si la valeur n’est pas explicitement ensemble, la valeur par défaut s’appliquent, ce qui implique que l’adaptateur doit continuer d’interrogation même si la table interrogée a des données ou non.</span><span class="sxs-lookup"><span data-stu-id="ce656-142">If not explicitly set, the default value will apply, which implies that the adapter must continue polling irrespective of whether the table being polled has data or not.</span></span>|  
|<span data-ttu-id="ce656-143">**PollingAction**</span><span class="sxs-lookup"><span data-stu-id="ce656-143">**PollingAction**</span></span>|<span data-ttu-id="ce656-144">Spécifie l’action pour l’opération d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ce656-144">Specifies the action for the polling operation.</span></span> <span data-ttu-id="ce656-145">Vous pouvez déterminer l’action de l’interrogation d’une opération spécifique à partir des métadonnées que vous générez pour l’opération en utilisant la [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ce656-145">You can determine the polling action for a specific operation from the metadata you generate for the operation using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>|<span data-ttu-id="ce656-146">Null</span><span class="sxs-lookup"><span data-stu-id="ce656-146">null</span></span>|<span data-ttu-id="ce656-147">Facultatif pour les opérations d’interrogation sur les tables et vues à l’aide de l’instruction SELECT.</span><span class="sxs-lookup"><span data-stu-id="ce656-147">Optional for polling operations on tables and views using the SELECT statement.</span></span>|  
|<span data-ttu-id="ce656-148">**PollingInterval**</span><span class="sxs-lookup"><span data-stu-id="ce656-148">**PollingInterval**</span></span>|<span data-ttu-id="ce656-149">Définissez l’intervalle, en secondes, auquel vous souhaitez que l’adaptateur pour interroger la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="ce656-149">Set to the interval, in seconds, at which you want the adapter to query the Oracle database.</span></span> <span data-ttu-id="ce656-150">Cette propriété spécifie l’intervalle d’interrogation et le délai d’attente d’interrogation de transaction. La valeur doit être supérieure à la quantité de temps que nécessaire pour exécuter la requête et l’instruction après interrogation (le cas échéant) sur la base de données Oracle ainsi que la quantité de temps que nécessaire pour traiter les données de la requête et renvoyer le message de réponse d’interrogation au client.</span><span class="sxs-lookup"><span data-stu-id="ce656-150">This property specifies the polling interval and the polling transaction time out. The value should be greater than the amount of time it takes to execute the query and post-poll statement (if one is specified) on the Oracle database plus the amount of time it takes for the client to process the query data and return the polling response message.</span></span>|<span data-ttu-id="ce656-151">500</span><span class="sxs-lookup"><span data-stu-id="ce656-151">500</span></span>|<span data-ttu-id="ce656-152">Obligatoire.</span><span class="sxs-lookup"><span data-stu-id="ce656-152">Required.</span></span> <span data-ttu-id="ce656-153">Si la valeur n’est pas explicitement ensemble, la valeur par défaut s’applique.</span><span class="sxs-lookup"><span data-stu-id="ce656-153">If not explicitly set, the default value will apply.</span></span>|  
|<span data-ttu-id="ce656-154">**PollingStatement**</span><span class="sxs-lookup"><span data-stu-id="ce656-154">**PollingStatement**</span></span>|<span data-ttu-id="ce656-155">Spécifier un des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="ce656-155">Specify either of the following:</span></span><br /><br /> <span data-ttu-id="ce656-156">-Instruction SQL SELECT qui doit être exécutée sur la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="ce656-156">- SQL SELECT statement that should be executed against the Oracle database.</span></span> <span data-ttu-id="ce656-157">Cette instruction doit inclure une clause FOR UPDATE.</span><span class="sxs-lookup"><span data-stu-id="ce656-157">This statement should include a FOR UPDATE clause.</span></span> <span data-ttu-id="ce656-158">Pour plus d’informations sur la clause FOR UPDATE, consultez [spécifiant une Clause de mise à jour pour dans l’instruction d’interrogation](#ForUpdate) plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="ce656-158">For information about the FOR UPDATE clause, see [Specifying a FOR UPDATE Clause in the Polling Statement](#ForUpdate) later in this topic.</span></span><br /><br /> <span data-ttu-id="ce656-159">-Message de demande pour une procédure stockée, fonction ou procédure ou une fonction dans un package que vous souhaitez interroger.</span><span class="sxs-lookup"><span data-stu-id="ce656-159">- Request message for a stored procedure, function, or procedure or function within a package that you want to be polled.</span></span>|<span data-ttu-id="ce656-160">Null</span><span class="sxs-lookup"><span data-stu-id="ce656-160">null</span></span>|<span data-ttu-id="ce656-161">Obligatoire.</span><span class="sxs-lookup"><span data-stu-id="ce656-161">Required.</span></span> <span data-ttu-id="ce656-162">Paramètre **PollingStatement** à une valeur non null permet d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ce656-162">Setting **PollingStatement** to a non-null value enables polling.</span></span>|  
|<span data-ttu-id="ce656-163">**PollWhileDataFound**</span><span class="sxs-lookup"><span data-stu-id="ce656-163">**PollWhileDataFound**</span></span>|<span data-ttu-id="ce656-164">Spécifie si le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] ignore l’intervalle d’interrogation et interroge en permanence la base de données Oracle, si les données sont disponibles dans la table interrogée.</span><span class="sxs-lookup"><span data-stu-id="ce656-164">Specifies whether the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] ignores the polling interval and continuously polls the Oracle database, if data is available in the table being polled.</span></span> <span data-ttu-id="ce656-165">Si aucune donnée n’est disponible dans la table, l’adaptateur revient à exécuter l’instruction SQL à l’intervalle d’interrogation spécifié</span><span class="sxs-lookup"><span data-stu-id="ce656-165">If no data is available in the table, the adapter reverts to execute the SQL statement at the specified polling interval</span></span>|<span data-ttu-id="ce656-166">False</span><span class="sxs-lookup"><span data-stu-id="ce656-166">False</span></span>|<span data-ttu-id="ce656-167">Obligatoire.</span><span class="sxs-lookup"><span data-stu-id="ce656-167">Required.</span></span> <span data-ttu-id="ce656-168">Si la valeur n’est pas explicitement ensemble, la valeur par défaut s’applique.</span><span class="sxs-lookup"><span data-stu-id="ce656-168">If not explicitly set, the default value will apply.</span></span>|  
|<span data-ttu-id="ce656-169">**PostPollStatement**</span><span class="sxs-lookup"><span data-stu-id="ce656-169">**PostPollStatement**</span></span>|<span data-ttu-id="ce656-170">Définir dans un bloc de code PL/SQL facultatif qui est exécuté par l’adaptateur, une fois que la requête est exécutée, mais avant que la requête les données sont retournées au client.</span><span class="sxs-lookup"><span data-stu-id="ce656-170">Set to an optional PL/SQL code block that is executed by the adapter after the query is performed, but before the query data is returned to the client.</span></span>|<span data-ttu-id="ce656-171">Null</span><span class="sxs-lookup"><span data-stu-id="ce656-171">null</span></span>|<span data-ttu-id="ce656-172">Ce paramètre est facultatif.</span><span class="sxs-lookup"><span data-stu-id="ce656-172">Optional.</span></span> <span data-ttu-id="ce656-173">Si aucune valeur n’est spécifiée, une instruction de sondage post n’est pas exécutée.</span><span class="sxs-lookup"><span data-stu-id="ce656-173">If no value is specified, a post poll statement is not executed.</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="ce656-174">Si vous utilisez le modèle de service WCF ou le modèle de canal WCF, vous devez également définir le **AcceptCredentialsInUri** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="ce656-174">If you are using the WCF service model or the WCF channel model, you must also set the **AcceptCredentialsInUri** binding property.</span></span>  
  
##  <a name="ForUpdate"></a><span data-ttu-id="ce656-175">Entrez une mise à jour pour dans l’instruction d’interrogation</span><span class="sxs-lookup"><span data-stu-id="ce656-175">Enter a FOR UPDATE in the polling statement</span></span>  
 <span data-ttu-id="ce656-176">Si vous utilisez une instruction SELECT en tant que l’instruction d’interrogation et l’exécution d’une instruction après interrogation qui affecte les lignes spécifiées dans l’instruction SELECT, vous devez utiliser la clause FOR UPDATE dans l’instruction d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ce656-176">If you are using a SELECT statement as the polling statement and executing a post-poll statement that affects the rows specified in the SELECT statement, you must use the FOR UPDATE clause in the polling statement.</span></span> <span data-ttu-id="ce656-177">Vous spécifiez une clause FOR UPDATE permet de s’assurer que les enregistrements sélectionnés par l’instruction d’interrogation sont verrouillées lors de la transaction et que l’instruction après interrogation peut effectuer toutes les mises à jour requises sur les.</span><span class="sxs-lookup"><span data-stu-id="ce656-177">Specifying a FOR UPDATE clause ensures that the records selected by the polling statement are locked during the transaction and that the post-poll statement can perform any required updates on them.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="ce656-178">Vous pouvez avoir des scénarios où, dans la fenêtre de temps entre les instructions après interrogation et d’interrogation, plusieurs enregistrements sont ajoutés à la table qui répondent à la condition de l’instruction après interrogation.</span><span class="sxs-lookup"><span data-stu-id="ce656-178">You can have scenarios where in the time window between the polling and post-poll statements, more records are added to the table that meet the condition of the post-poll statement.</span></span> <span data-ttu-id="ce656-179">Dans ce cas, l’instruction après interrogation serait mettre à jour tous les enregistrements qui satisfont la condition et pas seulement les enregistrements sélectionnés comme faisant partie de l’instruction d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="ce656-179">In such situations, the post-poll statement would update all the records that satisfy the condition and not just the records selected as part of the polling statement.</span></span>  
  
 <span data-ttu-id="ce656-180">Si une instruction après interrogation est spécifiée et que l’instruction d’interrogation ne contient pas une clause FOR UPDATE, vous rencontrez l’un des deux conditions suivantes :</span><span class="sxs-lookup"><span data-stu-id="ce656-180">If a post-poll statement is specified and the polling statement does not contain a FOR UPDATE clause, you will experience one of the following two conditions:</span></span>  
  
-   <span data-ttu-id="ce656-181">Si **TransactionIsolationLevel** a la valeur **ReadCommitted**, la requête d’interrogation après ne met pas à jour les lignes sélectionnées.</span><span class="sxs-lookup"><span data-stu-id="ce656-181">If **TransactionIsolationLevel** is set to **ReadCommitted**, the post-poll query will not update the selected rows.</span></span>  
  
-   <span data-ttu-id="ce656-182">Si **TransactionIsolationLevel** a la valeur **Serializable**, suivantes ciblent exception système (**Microsoft.ServiceModel.Channels.Common.TargetSystemException**) se produit lors de l’exécution de l’instruction après interrogation : « ORA-08177 ne peut pas sérialiser l’accès pour cette transaction ».</span><span class="sxs-lookup"><span data-stu-id="ce656-182">If **TransactionIsolationLevel** is set to **Serializable**, the following target system exception (**Microsoft.ServiceModel.Channels.Common.TargetSystemException**) will occur when the post-poll statement is executed: "ORA-08177 can't serialize access for this transaction".</span></span> <span data-ttu-id="ce656-183">Dans ce cas, vous devez définir le **PollingRetryCount** liaison de propriété pour définir le nombre de fois où vous souhaitez que l’adaptateur pour retenter la même transaction.</span><span class="sxs-lookup"><span data-stu-id="ce656-183">In such a case, you must set the **PollingRetryCount** binding property to define the number of times you want the adapter to retry the same transaction.</span></span>  
  
 <span data-ttu-id="ce656-184">Pour obtenir des instructions sur la façon de définir le niveau d’isolation de transaction, consultez [configurer le niveau d’isolation de transaction et le délai d’attente de transaction avec la base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-db.md).</span><span class="sxs-lookup"><span data-stu-id="ce656-184">For instructions on how to set the transaction isolation level, see [Configure transaction isolation level and transaction timeout with Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-db.md).</span></span>  
  
 <span data-ttu-id="ce656-185">Les instructions après interrogation et d’interrogation sont exécutées dans une transaction si les clients de la carte ont configuré pour utiliser des transactions et la valeur de la **UseAmbientTransaction** liaison de la propriété est définie sur **True**dans l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="ce656-185">The polling and post-poll statements are executed in a transaction if the adapter clients have configured to use transactions and the value of the **UseAmbientTransaction** binding property is set to **True** in the adapter.</span></span>  
  
 <span data-ttu-id="ce656-186">Est un exemple d’une requête d’interrogation avec l’option de mise à jour :</span><span class="sxs-lookup"><span data-stu-id="ce656-186">An example of a polling query with the FOR UPDATE option is:</span></span>  
  
```  
SELECT * from EMP WHERE FLAG = 'Y' FOR UPDATE  
```  
  
### <a name="enter-a-nowait-clause-in-the-polling-statement"></a><span data-ttu-id="ce656-187">Entrez une clause NOWAIT dans l’instruction d’interrogation</span><span class="sxs-lookup"><span data-stu-id="ce656-187">Enter a NOWAIT clause in the polling statement</span></span>  
 <span data-ttu-id="ce656-188">Vous pouvez avoir des scénarios où des threads simultanés accèdent à la table interrogée, conduisant à un trop grand nombre de conflits dans la table.</span><span class="sxs-lookup"><span data-stu-id="ce656-188">You may have scenarios where concurrent threads are accessing the table being polled, leading to too many contentions in the table.</span></span> <span data-ttu-id="ce656-189">Cela peut entraîner la requête d’interrogation peut être bloqué pour obtenir un verrou sur les lignes de la table.</span><span class="sxs-lookup"><span data-stu-id="ce656-189">This may cause the polling query to be blocked to get a lock on table rows.</span></span> <span data-ttu-id="ce656-190">Si vous utilisez une instruction SELECT en tant que l’instruction d’interrogation, il pouvez que vous souhaitez spécifier un mot-clé NOWAIT, ainsi que le mot clé pour la mise à jour dans l’instruction SELECT.</span><span class="sxs-lookup"><span data-stu-id="ce656-190">If you are using a SELECT statement as the polling statement, you may want to specify a NOWAIT keyword along with the FOR UPDATE keyword in the SELECT statement.</span></span> <span data-ttu-id="ce656-191">Cela entraîne l’exécution de la requête d’interrogation de l’adaptateur pour retourner immédiatement s’il existe des verrous sur les lignes dont la requête d’interrogation est une tentative de sélection.</span><span class="sxs-lookup"><span data-stu-id="ce656-191">This will cause the polling query execution within the adapter to return immediately if there are locks on rows which the polling query is trying to select.</span></span> <span data-ttu-id="ce656-192">Une exception est généralement levée par Oracle dans ces conditions.</span><span class="sxs-lookup"><span data-stu-id="ce656-192">An exception is usually thrown by Oracle under such conditions.</span></span> <span data-ttu-id="ce656-193">Là encore, les clients de l’adaptateur peuvent utiliser le **PollingInterval** propriété pour spécifier l’intervalle de temps après lequel les clients de l’adaptateur doivent Réessayer afin d’interroger les données de liaison.</span><span class="sxs-lookup"><span data-stu-id="ce656-193">Again, adapter clients may use the **PollingInterval** binding property to specify the time interval after which the adapter clients must retry for polling the data.</span></span>  
  
 <span data-ttu-id="ce656-194">Un exemple d’une requête d’interrogation avec l’option NOWAIT est :</span><span class="sxs-lookup"><span data-stu-id="ce656-194">An example of a polling query with the NOWAIT option is:</span></span>  
  
```  
SELECT * from EMP WHERE FLAG = 'Y' FOR UPDATE NOWAIT  
```  
  
### <a name="enter-a-skip-locked-clause-in-the-polling-statement"></a><span data-ttu-id="ce656-195">Entrez une clause SKIP verrouillé dans l’instruction d’interrogation</span><span class="sxs-lookup"><span data-stu-id="ce656-195">Enter a SKIP LOCKED clause in the polling statement</span></span>  
 <span data-ttu-id="ce656-196">Vous pouvez avoir des scénarios où certaines lignes du jeu de résultats de la clause WHERE spécifiée dans la requête d’interrogation en raison de l’accès à la table interrogée de threads simultanés, verrouillés.</span><span class="sxs-lookup"><span data-stu-id="ce656-196">You may have scenarios where due to concurrent threads accessing the table being polled, some rows in the result set of the WHERE clause specified in the polling query are locked.</span></span> <span data-ttu-id="ce656-197">Par exemple, votre requête d’interrogation retourne des 6 lignes à partir d’une table ; 4 en dehors de ces 6 lignes sont déjà verrouillés en raison d’une autre transaction.</span><span class="sxs-lookup"><span data-stu-id="ce656-197">For example, your polling query returns 6 rows from a table; 4 out of these 6 rows are already locked because of some other transaction.</span></span> <span data-ttu-id="ce656-198">Dans ce cas, vous souhaiterez spécifier un mot-clé ignorer verrouillés en même temps que le mot clé pour la mise à jour qui fait en sorte que la base de données tente de verrouiller les lignes spécifiées par la clause WHERE et pour ignorer toutes les lignes qui sont trouvent le point d’être déjà verrouillé.</span><span class="sxs-lookup"><span data-stu-id="ce656-198">In this case, you might want to specify a SKIP LOCKED keyword along with the FOR UPDATE keyword that instructs the database to attempt to lock the rows specified by the WHERE clause, and to skip any rows that are found to be already locked.</span></span> <span data-ttu-id="ce656-199">Les lignes non verrouillées dans la clause WHERE sont verrouillées pendant la transaction et l’instruction après interrogation peut effectuer toutes les mises à jour requises sur ces afin que ces lignes ne sont pas interrogés à nouveau.</span><span class="sxs-lookup"><span data-stu-id="ce656-199">The unlocked rows in the WHERE clause are locked during the transaction and the post-poll statement can perform any required updates on them so that these rows are not polled again.</span></span> <span data-ttu-id="ce656-200">Cela garantit que vous n’avez pas à attendre de recevoir les messages d’interrogation jusqu'à ce que toutes les lignes spécifiées par la clause WHERE sont déverrouillées.</span><span class="sxs-lookup"><span data-stu-id="ce656-200">This ensures that you do not have to wait to receive the polling messages until all the rows specified by the WHERE clause are unlocked.</span></span>  
  
 <span data-ttu-id="ce656-201">Le mot clé SKIP verrouillé est utile dans un scénario où vous avez des clients de l’adaptateur sur plusieurs ordinateurs qui demandent la même table dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="ce656-201">The SKIP LOCKED keyword is useful in a scenario where you have adapter clients on multiple computers that are polling the same table in a database.</span></span> <span data-ttu-id="ce656-202">Vous pouvez charger l’équilibre entre les clients de la carte en configurant l’opération d’interrogation de manière à ce que vous recevez des messages de modification de données reposant sur l’interrogation pour les lignes spécifiées par la clause WHERE qui ne sont pas verrouillées pour le moment d’exécution et ensuite mettre à jour la ligne pour vous assurer que si un message de modification de données reposant sur l’interrogation est reçu par un client de carte, les autres clients n’obtiennent pas le même message.</span><span class="sxs-lookup"><span data-stu-id="ce656-202">You can load balance among the adapter clients by configuring the polling operation in such a way that you receive polling-based data-change messages for the rows specified by the WHERE clause that are unlocked at that point of time, and then update the row to ensure that if a polling-based data-change message is received by an adapter client, the other clients do not get the same message.</span></span>  
  
 <span data-ttu-id="ce656-203">Est un exemple d’une requête d’interrogation avec l’option SKIP verrouillé :</span><span class="sxs-lookup"><span data-stu-id="ce656-203">An example of a polling query with the SKIP LOCKED option is:</span></span>  
  
```  
SELECT * from EMP WHERE FLAG = 'Y' FOR UPDATE SKIP LOCKED  
```  
  
## <a name="support-for-ordered-delivery-fifo"></a><span data-ttu-id="ce656-204">Prise en charge de la livraison chronologique des messages (FIFO)</span><span class="sxs-lookup"><span data-stu-id="ce656-204">Support for ordered delivery (FIFO)</span></span>  
 <span data-ttu-id="ce656-205">Dans un environnement de production, l’interrogation peut être utilisée pour surveiller les modifications de données dans la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="ce656-205">In a production environment, polling can be used to monitor the data changes in the Oracle database.</span></span> <span data-ttu-id="ce656-206">Ces messages de modification de données sont reçus par le client de carte à l’aide de la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ce656-206">These data-changed messages are received by the adapter client using the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span> <span data-ttu-id="ce656-207">Selon les scénarios d’entreprise, il peut être essentiel que les messages de modification de données sont reçus par le client de l’adaptateur dans le bon ordre.</span><span class="sxs-lookup"><span data-stu-id="ce656-207">Based on business scenarios, it can be critical that the data-changed messages are received by the adapter client in the right order.</span></span>  
  
 <span data-ttu-id="ce656-208">Le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] prend en charge classés de remise ou in-first-out (FIFO) pour conserver l’ordre dans lequel les messages sont reçus à partir de la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="ce656-208">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] supports ordered delivery or first-in-first-out (FIFO) to maintain the order in which messages are received from the Oracle database.</span></span> <span data-ttu-id="ce656-209">Voici quelques considérations liées à la prise en charge de FIFO dans les scénarios de trafic entrants pour le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ce656-209">Here are a few considerations related to support for FIFO in inbound scenarios for the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span>  
  
-   <span data-ttu-id="ce656-210">Si le message est consommé par une orchestration, l’orchestration doit avoir la livraison chronologique des messages défini pour les messages en provenance de le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] port de réception.</span><span class="sxs-lookup"><span data-stu-id="ce656-210">If the message is being consumed by an orchestration, the orchestration must have the ordered delivery set for the messages coming from the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] receive port.</span></span>  
  
-   <span data-ttu-id="ce656-211">Si le message est consommé par un scénario de port (dans un routage basé sur le contenu) d’envoi, le port d’envoi doit avoir livraison chronologique des messages défini pour les messages en provenance de le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] port de réception.</span><span class="sxs-lookup"><span data-stu-id="ce656-211">If the message is being consumed by a send port (in a content-based routing) scenario, the send port must have ordered delivery set for the messages coming from the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] receive port.</span></span>  
  
 <span data-ttu-id="ce656-212">L’adaptateur WCF-Custom ou WCF-OracleDB a une propriété **suspendre le message de demande en cas d’échec** qui spécifie s’il faut interrompre le message de demande que le traitement entrant a échoué.</span><span class="sxs-lookup"><span data-stu-id="ce656-212">The WCF-Custom or WCF-OracleDB adapter has a property **Suspend request message on failure** that specifies whether to suspend the request message that fails inbound processing.</span></span> <span data-ttu-id="ce656-213">Cette propriété peut être définie sur le **Messages** onglet du WCF-Custom ou WCF-OracleDB réception port sous la **la gestion des erreurs** section.</span><span class="sxs-lookup"><span data-stu-id="ce656-213">This property can be set on the **Messages** tab of the WCF-Custom or WCF-OracleDB receive port under the **Error handling** section.</span></span> <span data-ttu-id="ce656-214">Le tableau suivant répertorie les scénarios décrivant la façon dont les messages entrants sont traités en fonction de si cette propriété est définie et l’état de l’abonné de message (orchestration ou port).</span><span class="sxs-lookup"><span data-stu-id="ce656-214">The following table lists the scenarios describing how the incoming messages are processed based on whether this property is set and the state of the message subscriber (orchestration or port).</span></span>  
  
|<span data-ttu-id="ce656-215">Port, propriété</span><span class="sxs-lookup"><span data-stu-id="ce656-215">Port property</span></span>|<span data-ttu-id="ce656-216">Abonné dans un état désinscrit</span><span class="sxs-lookup"><span data-stu-id="ce656-216">Subscriber in Unenlisted state</span></span>|<span data-ttu-id="ce656-217">Abonné dans inscrite, mais l’état arrêté</span><span class="sxs-lookup"><span data-stu-id="ce656-217">Subscriber in Enlisted but Stopped state</span></span>|  
|-------------------|------------------------------------|----------------------------------------------|  
|<span data-ttu-id="ce656-218">**Suspendre le message de demande en cas d’échec** propriété non définie</span><span class="sxs-lookup"><span data-stu-id="ce656-218">**Suspend request message on failure** property NOT set</span></span>|<span data-ttu-id="ce656-219">-Rapport d’échec routage est généré comme interrompue (sans reprise possible)</span><span class="sxs-lookup"><span data-stu-id="ce656-219">- Routing Failure Report is generated as a suspended (non-resumable message)</span></span><br /><br /> <span data-ttu-id="ce656-220">-Réel du message n’est pas interrompu.</span><span class="sxs-lookup"><span data-stu-id="ce656-220">- Actual message is not suspended</span></span><br /><br /> <span data-ttu-id="ce656-221">-Requête d’interrogation n’est pas exécutée lorsque la transaction est interrompue.</span><span class="sxs-lookup"><span data-stu-id="ce656-221">- Post poll query is not executed as transaction gets aborted.</span></span> <span data-ttu-id="ce656-222">Par conséquent, l’interrogation se répète et extrait les lignes à nouveau.</span><span class="sxs-lookup"><span data-stu-id="ce656-222">Hence polling repeats and fetches the rows again.</span></span><br /><br /> <span data-ttu-id="ce656-223">-Erreurs signalées dans l’événement journal de décrire ce qui s’est produit.</span><span class="sxs-lookup"><span data-stu-id="ce656-223">- Errors reported in the event log to describe what has happened.</span></span>|<span data-ttu-id="ce656-224">-N’est pas considéré comme un « échec ».</span><span class="sxs-lookup"><span data-stu-id="ce656-224">- Not considered a “Failure”.</span></span> <span data-ttu-id="ce656-225">Il existe des messages d’erreur dans le journal des événements.</span><span class="sxs-lookup"><span data-stu-id="ce656-225">There are no error messages in the event log.</span></span><br /><br /> <span data-ttu-id="ce656-226">-Message réel est placé dans la file d’attente suspendue (peut être repris).</span><span class="sxs-lookup"><span data-stu-id="ce656-226">- Actual message is put into the suspended (resumable) queue.</span></span><br /><br /> <span data-ttu-id="ce656-227">-Lorsque le port ou une orchestration abonnée démarre, les messages sont automatiquement repris.</span><span class="sxs-lookup"><span data-stu-id="ce656-227">- When the subscribing port or orchestration starts, the messages are automatically resumed.</span></span> <span data-ttu-id="ce656-228">Si la livraison chronologique des messages sont défini sur l’abonné, elle est respectée.</span><span class="sxs-lookup"><span data-stu-id="ce656-228">If ordered delivery is set on the subscriber, it will be honored.</span></span><br /><br /> <span data-ttu-id="ce656-229">-Les messages peuvent également être repris manuellement.</span><span class="sxs-lookup"><span data-stu-id="ce656-229">- The messages may also be resumed manually.</span></span>|  
|<span data-ttu-id="ce656-230">**Suspendre le message de demande en cas d’échec** est définie</span><span class="sxs-lookup"><span data-stu-id="ce656-230">**Suspend request message on failure** property IS set</span></span>|<span data-ttu-id="ce656-231">-Rapport d’échec routage est généré comme interrompue (sans reprise possible)</span><span class="sxs-lookup"><span data-stu-id="ce656-231">- Routing Failure Report is generated as a suspended (non-resumable message)</span></span><br /><br /> <span data-ttu-id="ce656-232">-Réel du message est également interrompu.</span><span class="sxs-lookup"><span data-stu-id="ce656-232">- Actual message is also suspended</span></span><br /><br /> <span data-ttu-id="ce656-233">-Requête d’interrogation n’est pas exécutée lorsque la transaction est interrompue.</span><span class="sxs-lookup"><span data-stu-id="ce656-233">- Post poll query is not executed as transaction gets aborted.</span></span> <span data-ttu-id="ce656-234">Par conséquent, l’interrogation se répète et extrait les lignes à nouveau.</span><span class="sxs-lookup"><span data-stu-id="ce656-234">Hence polling repeats and fetches the rows again.</span></span><br /><br /> <span data-ttu-id="ce656-235">-Erreurs signalées dans l’événement journal de décrire ce qui s’est produit.</span><span class="sxs-lookup"><span data-stu-id="ce656-235">- Errors reported in the event log to describe what has happened.</span></span>|<span data-ttu-id="ce656-236">-N’est pas considéré comme un « échec ».</span><span class="sxs-lookup"><span data-stu-id="ce656-236">- Not considered a “Failure”.</span></span> <span data-ttu-id="ce656-237">Il existe des messages d’erreur dans le journal des événements.</span><span class="sxs-lookup"><span data-stu-id="ce656-237">There are no error messages in the event log.</span></span><br /><br /> <span data-ttu-id="ce656-238">-Message réel est placé dans la file d’attente suspendue (peut être repris).</span><span class="sxs-lookup"><span data-stu-id="ce656-238">- Actual message is put into the suspended (resumable) queue.</span></span><br /><br /> <span data-ttu-id="ce656-239">-Lorsque le port ou une orchestration abonnée démarre, les messages sont automatiquement repris.</span><span class="sxs-lookup"><span data-stu-id="ce656-239">- When the subscribing port or orchestration starts, the messages are automatically resumed.</span></span> <span data-ttu-id="ce656-240">Si la livraison chronologique des messages sont défini sur l’abonné, elle est respectée.</span><span class="sxs-lookup"><span data-stu-id="ce656-240">If ordered delivery is set on the subscriber, it will be honored.</span></span><br /><br /> <span data-ttu-id="ce656-241">-Les messages peuvent également être repris manuellement.</span><span class="sxs-lookup"><span data-stu-id="ce656-241">- The messages may also be resumed manually.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="ce656-242">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ce656-242">See also</span></span>  
[<span data-ttu-id="ce656-243">Développer vos applications de base de données Oracle</span><span class="sxs-lookup"><span data-stu-id="ce656-243">Develop your Oracle Database applications</span></span>](../../adapters-and-accelerators/adapter-oracle-database/develop-your-oracle-database-applications.md)  
 <span data-ttu-id="ce656-244">[Base de données Oracle interrogation à l’aide de BizTalk Server](../../adapters-and-accelerators/adapter-oracle-database/poll-oracle-database-using-biztalk-server.md) </span><span class="sxs-lookup"><span data-stu-id="ce656-244">[Poll Oracle Database using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-database/poll-oracle-database-using-biztalk-server.md) </span></span>  
 <span data-ttu-id="ce656-245">[Recevoir des Messages d’interrogation de données modifiées dans la base de données Oracle à l’aide du modèle de Service WCF](../../adapters-and-accelerators/adapter-oracle-database/receive-polling-based-data-changed-messages-in-oracle-db-using-a-wcf-service.md) </span><span class="sxs-lookup"><span data-stu-id="ce656-245">[Receive Polling-based Data-changed Messages in Oracle Database using the WCF Service Model](../../adapters-and-accelerators/adapter-oracle-database/receive-polling-based-data-changed-messages-in-oracle-db-using-a-wcf-service.md) </span></span>  
 [<span data-ttu-id="ce656-246">Recevoir des Messages d’interrogation de données modifiées dans la base de données Oracle à l’aide du modèle de canal WCF</span><span class="sxs-lookup"><span data-stu-id="ce656-246">Receive Polling-based Data-changed Messages in Oracle Database using the WCF Channel Model</span></span>](../../adapters-and-accelerators/adapter-oracle-database/receive-polling-based-data-changed-messages-in-oracle-db-using-a-wcf-channel.md)