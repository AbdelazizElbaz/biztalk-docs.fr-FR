---
title: "Considérations relatives à la réception de base de données modifiées des Notifications à l’aide de l’adaptateur de base de données Oracle | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 206439b9-0408-4fbb-80e3-cfda2f5a89a5
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 01894ab7011324d0f5a3eab84a4cea72e8186c14
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="considerations-for-receiving-database-change-notifications-using-the-oracle-database-adapter"></a><span data-ttu-id="9ca18-102">Considérations relatives à la réception de base de données modifiées des Notifications à l’aide de l’adaptateur de base de données Oracle</span><span class="sxs-lookup"><span data-stu-id="9ca18-102">Considerations for Receiving Database Change Notifications Using the Oracle Database adapter</span></span>
<span data-ttu-id="9ca18-103">Cette rubrique fournit quelques considérations et les meilleures pratiques que vous devez garder à l’esprit lors de l’utilisation du [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] pour recevoir des notifications de la base de données à partir d’une base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="9ca18-103">This topic provides some considerations and best practices that you must keep in mind while using the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] to receive database notifications from an Oracle database.</span></span>  
  
## <a name="considerations-while-using-the-adapter-to-receive-notifications"></a><span data-ttu-id="9ca18-104">Considérations lors de l’utilisation de l’adaptateur pour recevoir des Notifications</span><span class="sxs-lookup"><span data-stu-id="9ca18-104">Considerations While Using the Adapter to Receive Notifications</span></span>  
 <span data-ttu-id="9ca18-105">Vous devez prendre en compte les éléments suivants lors de l’utilisation du [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] pour recevoir des notifications de requête.</span><span class="sxs-lookup"><span data-stu-id="9ca18-105">You must consider the following while using the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] to receive query notifications.</span></span>  
  
-   <span data-ttu-id="9ca18-106">Le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] transmet simplement sur la notification, il reçoit à partir de la base de données Oracle pour les clients de la carte.</span><span class="sxs-lookup"><span data-stu-id="9ca18-106">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] simply passes on the notification, which it receives from the Oracle database, to the adapter clients.</span></span> <span data-ttu-id="9ca18-107">L’adaptateur ne distingue pas les notifications pour les différentes opérations, c'est-à-dire, l’adaptateur n’a pas d’informations si une notification spécifique s’applique à une opération d’insertion ou d’une opération de mise à jour.</span><span class="sxs-lookup"><span data-stu-id="9ca18-107">The adapter does not distinguish between the notifications for different operations, i.e., the adapter does not have any information whether a particular notification is for an Insert operation or an Update operation.</span></span>  
  
-   <span data-ttu-id="9ca18-108">Le message de notification pour une opération n’est pas affecté par le nombre d’enregistrements concernés par cette opération.</span><span class="sxs-lookup"><span data-stu-id="9ca18-108">The notification message for an operation is not affected by the number of records affected by that operation.</span></span> <span data-ttu-id="9ca18-109">Par exemple, quel que soit le nombre d’enregistrements insérés dans une table de base de données Oracle, les clients de l’adaptateur de réception qu’un seul message de notification.</span><span class="sxs-lookup"><span data-stu-id="9ca18-109">For example, irrespective of the number of records inserted in an Oracle database table, the adapter clients receive only one notification message.</span></span>  
  
-   <span data-ttu-id="9ca18-110">Nous recommandons que l’application cliente de carte contiennent la logique pour interpréter le type de notification reçue à partir de la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="9ca18-110">We recommend that the adapter client application contain the logic to interpret the kind of notification received from the Oracle database.</span></span> <span data-ttu-id="9ca18-111">Les applications clientes d’adaptateur peuvent se faire en extrayant les informations contenues dans le  **\<Info >** élément du message de notification a été reçue.</span><span class="sxs-lookup"><span data-stu-id="9ca18-111">The adapter client applications can do so by extracting the information in the **\<Info>** element of the received notification message.</span></span> <span data-ttu-id="9ca18-112">Voici un exemple d’un message de notification reçu pour une opération d’insertion.</span><span class="sxs-lookup"><span data-stu-id="9ca18-112">Here’s an example of a notification message received for an Insert operation.</span></span>  
  
    ```  
    \<?xml version="1.0" encoding="utf-8" ?>   
    <Notification xmlns="http://Microsoft.LobServices.OracleDB/2007/03/Notification/">  
      <Details>  
        <NotificationDetails>  
          <ResourceName>SCOTT.ACCOUNTACTIVITY</ResourceName>   
          <Info>1</Info>   
          <QueryId>0</QueryId>   
        </NotificationDetails>  
      </Details>  
      <Info>Insert</Info>   
      <ResourceNames>  
        <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">SCOTT.ACCOUNTACTIVITY</string>   
      </ResourceNames>  
      <Source>Data</Source>   
      <Type>Change</Type>   
    </Notification>  
  
    ```  
  
     <span data-ttu-id="9ca18-113">Notez la valeur dans la  **\<Info >** élément.</span><span class="sxs-lookup"><span data-stu-id="9ca18-113">Notice the value within the **\<Info>** element.</span></span> <span data-ttu-id="9ca18-114">Cette valeur fournit des informations sur l’opération pour laquelle le message de notification a été reçu.</span><span class="sxs-lookup"><span data-stu-id="9ca18-114">This value provides information on the operation for which the notification message was received.</span></span> <span data-ttu-id="9ca18-115">Votre application doit avoir les fonctionnalités pour extraire la valeur dans la  **\<Info >** élément, puis en fonction de la valeur, effectuez les tâches suivantes.</span><span class="sxs-lookup"><span data-stu-id="9ca18-115">Your application should have the functionality to extract the value within the **\<Info>** element and then based on the value, perform subsequent tasks.</span></span> <span data-ttu-id="9ca18-116">La rubrique [le traitement des Messages de Notification pour effectuer des tâches spécifiques dans la base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/process-notification-messages-to-run-specific-tasks-in-oracle-db-using-biztalk.md) contient des instructions sur la façon d’extraire la valeur dans la  **\<Info >** élément.</span><span class="sxs-lookup"><span data-stu-id="9ca18-116">The topic [Processing Notification Messages to complete Specific Tasks in Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/process-notification-messages-to-run-specific-tasks-in-oracle-db-using-biztalk.md) has instructions on how to extract the value within the **\<Info>** element.</span></span>  
  
-   <span data-ttu-id="9ca18-117">Dans l’idéal, une fois que l’application cliente reçoit une notification, elle doit mettre à jour l’enregistrement pour lequel la notification est déjà reçue afin que les notifications suivantes ne sont pas pour un même enregistrement.</span><span class="sxs-lookup"><span data-stu-id="9ca18-117">Ideally, after the client application receives a notification, it should update the record for which the notification is already received so that the subsequent notifications are not for the same record.</span></span> <span data-ttu-id="9ca18-118">Par exemple, considérez un **ACCOUNTACTIVITY** table qui a un **traités** colonne.</span><span class="sxs-lookup"><span data-stu-id="9ca18-118">For example, consider an **ACCOUNTACTIVITY** table that has a **Processed** column.</span></span> <span data-ttu-id="9ca18-119">Pour tous les nouveaux enregistrements insérés dans le **ACCOUNTACTIVITY** table, la valeur de la **traités** colonne est toujours n '.</span><span class="sxs-lookup"><span data-stu-id="9ca18-119">For all new records inserted into the **ACCOUNTACTIVITY** table, the value in the **Processed** column is always ‘n’.</span></span> <span data-ttu-id="9ca18-120">Par exemple, après une opération d’insertion, les enregistrements dans la **ACCOUNTACTIVITY** table doit ressembler à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="9ca18-120">For example, after an insert operation, the records in the **ACCOUNTACTIVITY** table will look like the following:</span></span>  
  
    |<span data-ttu-id="9ca18-121">ID de Transaction de compte</span><span class="sxs-lookup"><span data-stu-id="9ca18-121">Account Transaction ID</span></span>|<span data-ttu-id="9ca18-122">Traités</span><span class="sxs-lookup"><span data-stu-id="9ca18-122">Processed</span></span>|  
    |----------------------------|---------------|  
    |<span data-ttu-id="9ca18-123">10001</span><span class="sxs-lookup"><span data-stu-id="9ca18-123">10001</span></span>|n|  
  
     <span data-ttu-id="9ca18-124">Pour obtenir des notifications pour l’enregistrement inséré, le client de carte définira la **NotificationStatement** de la propriété de liaison :</span><span class="sxs-lookup"><span data-stu-id="9ca18-124">To get notifications for the newly inserted record, the adapter client will set the **NotificationStatement** binding property as:</span></span>  
  
    ```  
    SELECT * FROM SCOTT.ACCOUNTACTIVITY WHERE PROCESSED = ‘n’  
    ```  
  
     <span data-ttu-id="9ca18-125">Après réception de la notification, l’application cliente doit définir la valeur de la **traités** colonne à 'y' afin que l’instruction de notification ne fonctionne pas sur l’enregistrement qui a été déjà informé pour.</span><span class="sxs-lookup"><span data-stu-id="9ca18-125">After, receiving the notification, the client application must set the value of the **Processed** column to ‘y’ so that the notification statement does not operate on the record that was already notified for.</span></span> <span data-ttu-id="9ca18-126">Par conséquent, pour ce faire, l’application cliente doit effectuer une opération de mise à jour sur le **ACCOUNTACTIVITY** table.</span><span class="sxs-lookup"><span data-stu-id="9ca18-126">So, to achieve this, the client application must perform an Update operation on the **ACCOUNTACTIVITY** table.</span></span> <span data-ttu-id="9ca18-127">Après l’opération de mise à jour, le même enregistrement dans le **ACCOUNTACTIVITY** table doit ressembler à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="9ca18-127">After the Update operation, the same record in the **ACCOUNTACTIVITY** table will look like the following:</span></span>  
  
    |<span data-ttu-id="9ca18-128">ID de Transaction de compte</span><span class="sxs-lookup"><span data-stu-id="9ca18-128">Account Transaction ID</span></span>|<span data-ttu-id="9ca18-129">Traités</span><span class="sxs-lookup"><span data-stu-id="9ca18-129">Processed</span></span>|  
    |----------------------------|---------------|  
    |<span data-ttu-id="9ca18-130">10001</span><span class="sxs-lookup"><span data-stu-id="9ca18-130">10001</span></span>|<span data-ttu-id="9ca18-131">y</span><span class="sxs-lookup"><span data-stu-id="9ca18-131">y</span></span>|  
  
     <span data-ttu-id="9ca18-132">Chose intéressante, l’opération de mise à jour à nouveau envoie une notification au client de carte et l’ensemble du processus est répété à nouveau.</span><span class="sxs-lookup"><span data-stu-id="9ca18-132">Interestingly, the Update operation will again send a notification to the adapter client and the whole process will be repeated again.</span></span> <span data-ttu-id="9ca18-133">Par conséquent, l’application cliente doit avoir la logique nécessaire pour ignorer ces notifications inutiles.</span><span class="sxs-lookup"><span data-stu-id="9ca18-133">So, the client application must have the required logic to discard such unwanted notifications.</span></span>  
  
-   <span data-ttu-id="9ca18-134">Si le **NotifyOnListenerStart** liaison de la propriété a la valeur true, l’adaptateur envoie une notification au client de carte chaque fois que l’emplacement de réception démarre.</span><span class="sxs-lookup"><span data-stu-id="9ca18-134">If the **NotifyOnListenerStart** binding property is true, the adapter will send a notification to the adapter client every time the receive location starts.</span></span> <span data-ttu-id="9ca18-135">Pour plus d’informations sur la façon d’utiliser la propriété de liaison et d’interpréter le message de notification, consultez [réception Oracle de base de données modification Notifications après une réception emplacement répartition](../../adapters-and-accelerators/adapter-oracle-database/receive-oracle-database-change-notifications-after-a-receive-location-breakdown.md).</span><span class="sxs-lookup"><span data-stu-id="9ca18-135">For more information on how to use the binding property and interpret the notification message, see [Receiving Oracle Database Change Notifications After a Receive Location Breakdown](../../adapters-and-accelerators/adapter-oracle-database/receive-oracle-database-change-notifications-after-a-receive-location-breakdown.md).</span></span>  
  
## <a name="typical-orchestration-for-receiving-notifications"></a><span data-ttu-id="9ca18-136">Orchestration classique pour recevoir des Notifications</span><span class="sxs-lookup"><span data-stu-id="9ca18-136">Typical Orchestration for Receiving Notifications</span></span>  
 <span data-ttu-id="9ca18-137">Cette section décrit le flux typique d’orchestration pour recevoir des notifications à l’aide de la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9ca18-137">This section outlines the typical orchestration flow for receiving notifications using the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span>  
  
1.  <span data-ttu-id="9ca18-138">La première chose que l’orchestration doit faire est de vérifier le type de notification reçue.</span><span class="sxs-lookup"><span data-stu-id="9ca18-138">The first thing that the orchestration must do is to check the kind of notification received.</span></span> <span data-ttu-id="9ca18-139">Les éléments à vérifier sont :</span><span class="sxs-lookup"><span data-stu-id="9ca18-139">The things to check for are:</span></span>  
  
    -   <span data-ttu-id="9ca18-140">Indique si la notification a été reçue pour le redémarrage d’emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="9ca18-140">Whether the notification was received for the receive location restart.</span></span>  
  
    -   <span data-ttu-id="9ca18-141">Si la notification a été reçue pour une opération sur une table de base de données, telles que Insert, Update ou Delete.</span><span class="sxs-lookup"><span data-stu-id="9ca18-141">Whether the notification was received for an operation on a database table, such as Insert, Update, or Delete.</span></span>  
  
     <span data-ttu-id="9ca18-142">L’orchestration doit inclure un **Expression** forme, et dans laquelle une requête xpath, pour décider quel type de message est reçue.</span><span class="sxs-lookup"><span data-stu-id="9ca18-142">The orchestration must include an **Expression** shape, and within that an xpath query, to decide what kind of message is received.</span></span>  
  
2.  <span data-ttu-id="9ca18-143">Une fois que le type de notification n’est disponible, l’orchestration doit inclure un bloc de décision pour effectuer des actions spécifiques en fonction du type de notification reçue.</span><span class="sxs-lookup"><span data-stu-id="9ca18-143">After the notification type is available, the orchestration must include a decision block to perform specific actions based on the type of notification received.</span></span> <span data-ttu-id="9ca18-144">Pour ce faire, l’orchestration doit inclure un **décider** forme.</span><span class="sxs-lookup"><span data-stu-id="9ca18-144">To achieve this, the orchestration must include a **Decide** shape.</span></span> <span data-ttu-id="9ca18-145">Le **décider** forme se compose d’un **règle** bloc et un **Else** bloc.</span><span class="sxs-lookup"><span data-stu-id="9ca18-145">The **Decide** shape consists of a **Rule** block and an **Else** block.</span></span> <span data-ttu-id="9ca18-146">Dans le **règle** bloc, vous devez spécifier la condition et ensuite inclure des formes d’orchestration pour effectuer certaines opérations si la condition est remplie.</span><span class="sxs-lookup"><span data-stu-id="9ca18-146">Within the **Rule** block, you must specify the condition and then include orchestration shapes to perform certain operations if the condition is met.</span></span> <span data-ttu-id="9ca18-147">Dans le **Else** bloc, vous devez inclure des formes d’orchestration pour effectuer certaines opérations si la condition est *pas* remplie.</span><span class="sxs-lookup"><span data-stu-id="9ca18-147">Within the **Else** block, you must include orchestration shapes to perform certain operations if the condition is *not* met.</span></span>  
  
 <span data-ttu-id="9ca18-148">Ces recommandations sont décrites en détail dans [le traitement des Messages de Notification pour effectuer des tâches spécifiques dans la base de données Oracle à l’aide de BizTalk Server](../../adapters-and-accelerators/adapter-oracle-database/process-notification-messages-to-run-specific-tasks-in-oracle-db-using-biztalk.md).</span><span class="sxs-lookup"><span data-stu-id="9ca18-148">The preceding recommendations are described in detail in [Processing Notification Messages to complete Specific Tasks in Oracle Database using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-database/process-notification-messages-to-run-specific-tasks-in-oracle-db-using-biztalk.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9ca18-149">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="9ca18-149">See Also</span></span>  
 [<span data-ttu-id="9ca18-150">Recevoir des Notifications de modification de base de données Oracle à l’aide de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="9ca18-150">Receiving Oracle Database Change Notifications Using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-oracle-database/receive-oracle-database-change-notifications-using-biztalk-server.md)