---
title: "Base de données Oracle interrogation à l’aide de l’instruction SELECT | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- polling-based notifications, receiving from Oracle
- polling query, configuring a
ms.assetid: d2689eb9-6f17-498f-8a32-07f43a368833
caps.latest.revision: "19"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2987d58e17ea7ddbd0db5b0a4d242f9ff42afec5
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="poll-oracle-database-using-the-select-statement"></a><span data-ttu-id="19759-102">Base de données Oracle interrogation à l’aide de l’instruction SELECT</span><span class="sxs-lookup"><span data-stu-id="19759-102">Poll Oracle Database using the SELECT statement</span></span>
<span data-ttu-id="19759-103">Vous pouvez configurer le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] pour recevoir des messages de modification de données périodiques à l’aide d’une instruction SELECT pour interroger en permanence des tables et des vues dans la base de données Oracle d’Oracle.</span><span class="sxs-lookup"><span data-stu-id="19759-103">You can configure the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] to receive periodic data-change messages by using a SELECT statement to continuously poll the tables and views in Oracle the Oracle database.</span></span> <span data-ttu-id="19759-104">Vous pouvez spécifier une instruction SELECT comme une instruction d’interrogation de l’adaptateur s’exécute périodiquement pour interroger la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="19759-104">You can specify a SELECT statement as a polling statement that the adapter executes periodically to poll the Oracle database.</span></span> <span data-ttu-id="19759-105">Si vous le souhaitez, vous pouvez également spécifier un bloc de code après interrogation PL/SQL qui s’exécute de l’adaptateur s’il existe une modification de données.</span><span class="sxs-lookup"><span data-stu-id="19759-105">Optionally, you can also specify a post-poll PL/SQL code block that the adapter executes if there is a change in data.</span></span> <span data-ttu-id="19759-106">Ce bloc est souvent utilisé pour mettre à jour un champ sur les enregistrements interrogées dans la cible ou pour déplacer les enregistrements de requête vers une autre table ou vue.</span><span class="sxs-lookup"><span data-stu-id="19759-106">This block is often used to update a field on the queried records in the target or to move the queried records to another table or view.</span></span>  
  
 <span data-ttu-id="19759-107">Pour ce faire, vous devez spécifier certaines propriétés de liaison sur le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="19759-107">To enable this, you must specify certain binding properties on the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span> <span data-ttu-id="19759-108">Vous pouvez également modifier l’espace de noms cible pour l’opération POLLINGSTMT en définissant le **PollingId** propriété dans l’URI de connexion.</span><span class="sxs-lookup"><span data-stu-id="19759-108">You can also modify the target namespace for the POLLINGSTMT operation by setting the **PollingId** property in the connection URI.</span></span> <span data-ttu-id="19759-109">Pour plus d’informations, consultez [prise en charge de Messages basés sur la réception d’interrogation de données modifiées dans la base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/support-for-receiving-polling-based-data-changed-messages-in-oracle-database.md) et [recevoir des messages d’interrogation de données modifiées dans la carte de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/receive-polling-based-data-changed-messages-in-oracle-database-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="19759-109">For more information, see [Support for Receiving Polling-based Data-changed Messages in Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/support-for-receiving-polling-based-data-changed-messages-in-oracle-database.md) and [Receive polling-based data-changed messages in Oracle Database adapter](../../adapters-and-accelerators/adapter-oracle-database/receive-polling-based-data-changed-messages-in-oracle-database-adapter.md).</span></span> <span data-ttu-id="19759-110">Pour plus d’informations sur la structure du message SOAP pour les opérations d’interrogation, consultez [des schémas de Message pour l’interrogation Operations2](../../adapters-and-accelerators/adapter-oracle-database/message-schemas-for-the-polling-operations2.md).</span><span class="sxs-lookup"><span data-stu-id="19759-110">For information about the structure of the SOAP message for polling operations, see [Message Schemas for the Polling Operations2](../../adapters-and-accelerators/adapter-oracle-database/message-schemas-for-the-polling-operations2.md).</span></span>  
  
## <a name="configuring-a-polling-operation-with-oracle-database-adapter-binding-properties"></a><span data-ttu-id="19759-111">Configuration d’une opération d’interrogation avec l’adaptateur de base de données Oracle propriétés de liaison</span><span class="sxs-lookup"><span data-stu-id="19759-111">Configuring a Polling Operation with Oracle Database Adapter Binding Properties</span></span>  
 <span data-ttu-id="19759-112">Le tableau suivant récapitule les [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] messages de modification des propriétés de liaison que vous utilisez pour configurer l’adaptateur pour recevoir des données.</span><span class="sxs-lookup"><span data-stu-id="19759-112">The following table summarizes the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] binding properties that you use to configure the adapter to receive data change messages.</span></span> <span data-ttu-id="19759-113">Vous devez spécifier ces propriétés de liaison lors de la configuration du port de réception [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] console d’Administration.</span><span class="sxs-lookup"><span data-stu-id="19759-113">You must specify these binding properties while configuring the receive port in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
|<span data-ttu-id="19759-114">Propriété de liaison</span><span class="sxs-lookup"><span data-stu-id="19759-114">Binding Property</span></span>|<span data-ttu-id="19759-115"> Description</span><span class="sxs-lookup"><span data-stu-id="19759-115">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="19759-116">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="19759-116">**InboundOperationType**</span></span>|<span data-ttu-id="19759-117">Spécifie si vous souhaitez effectuer d’interrogation ou de Notification opération entrante.</span><span class="sxs-lookup"><span data-stu-id="19759-117">Specifies whether you want to perform Polling or Notification inbound operation.</span></span> <span data-ttu-id="19759-118">Valeur par défaut est **d’interrogation**.</span><span class="sxs-lookup"><span data-stu-id="19759-118">Default is **Polling**.</span></span>|  
|<span data-ttu-id="19759-119">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="19759-119">**PolledDataAvailableStatement**</span></span>|<span data-ttu-id="19759-120">Spécifie l’instruction SQL qui s’exécute pour déterminer si les données sont disponibles pour l’interrogation de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="19759-120">Specifies the SQL statement that the adapter executes to determine whether any data is available for polling.</span></span> <span data-ttu-id="19759-121">Uniquement si un enregistrement n’est disponible, l’instruction SELECT que vous spécifiez pour le **PollingStatement** liaison de la propriété sera exécutée.</span><span class="sxs-lookup"><span data-stu-id="19759-121">Only if a record is available, the SELECT statement you specify for the **PollingStatement** binding property will be executed.</span></span> <span data-ttu-id="19759-122">La valeur par défaut est `SELECT 1 FROM DUAL`, ce qui implique que l’adaptateur doit continuer d’interrogation même si la table interrogée a des données ou non.</span><span class="sxs-lookup"><span data-stu-id="19759-122">The default is `SELECT 1 FROM DUAL`, which implies that the adapter must continue polling irrespective of whether the table being polled has data or not.</span></span>|  
|<span data-ttu-id="19759-123">**PollingInterval**</span><span class="sxs-lookup"><span data-stu-id="19759-123">**PollingInterval**</span></span>|<span data-ttu-id="19759-124">Spécifie l’intervalle, en secondes, à laquelle le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] exécute l’instruction spécifiée pour le **PolledDataAvailableStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="19759-124">Specifies the interval, in seconds, at which the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] executes the statement specified for the **PolledDataAvailableStatement** binding property.</span></span> <span data-ttu-id="19759-125">La valeur par défaut est 500 secondes.</span><span class="sxs-lookup"><span data-stu-id="19759-125">The default is 500 seconds.</span></span> <span data-ttu-id="19759-126">L’intervalle d’interrogation détermine l’intervalle de temps entre deux interrogations successives.</span><span class="sxs-lookup"><span data-stu-id="19759-126">The polling interval determines the time interval between successive polls.</span></span> <span data-ttu-id="19759-127">Si l’instruction est exécutée dans l’intervalle spécifié, l’adaptateur est en veille pendant le temps restant dans l’intervalle.</span><span class="sxs-lookup"><span data-stu-id="19759-127">If the statement is executed within the specified interval, the adapter sleeps for the remaining time in the interval.</span></span>|  
|<span data-ttu-id="19759-128">**PollingStatement**</span><span class="sxs-lookup"><span data-stu-id="19759-128">**PollingStatement**</span></span>|<span data-ttu-id="19759-129">Spécifie l’instruction d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="19759-129">Specifies the polling statement.</span></span> <span data-ttu-id="19759-130">Pour interroger à l’aide d’une instruction SELECT, vous devez spécifier une instruction SELECT pour cette propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="19759-130">To poll using a SELECT statement, you must specify a SELECT statement for this binding property.</span></span> <span data-ttu-id="19759-131">La valeur par défaut est null.</span><span class="sxs-lookup"><span data-stu-id="19759-131">The default is null.</span></span><br /><br /> <span data-ttu-id="19759-132">Vous devez spécifier une valeur pour **PollingStatement** propriété pour activer l’interrogation de liaison.</span><span class="sxs-lookup"><span data-stu-id="19759-132">You must specify a value for **PollingStatement** binding property to enable polling.</span></span> <span data-ttu-id="19759-133">L’instruction d’interrogation est exécutée uniquement si des données disponibles pour l’interrogation, ce qui est déterminée par le **PolledDataAvailableStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="19759-133">The polling statement is executed only if there is data available for polling, which is determined by the **PolledDataAvailableStatement** binding property.</span></span>|  
|<span data-ttu-id="19759-134">**PollingAction**</span><span class="sxs-lookup"><span data-stu-id="19759-134">**PollingAction**</span></span>|<span data-ttu-id="19759-135">Spécifie l’action pour l’opération d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="19759-135">Specifies the action for the polling operation.</span></span> <span data-ttu-id="19759-136">Vous pouvez déterminer l’action de l’interrogation d’une opération spécifique à partir des métadonnées que vous générez pour l’opération en utilisant la [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="19759-136">You can determine the polling action for a specific operation from the metadata you generate for the operation using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>|  
|<span data-ttu-id="19759-137">**PostPollStatement**</span><span class="sxs-lookup"><span data-stu-id="19759-137">**PostPollStatement**</span></span>|<span data-ttu-id="19759-138">Spécifie un bloc d’instructions qui est exécuté après l’instruction spécifiée par le **PollingStatement** propriété de liaison est exécutée.</span><span class="sxs-lookup"><span data-stu-id="19759-138">Specifies a statement block that is executed after the statement specified by the **PollingStatement** binding property is executed.</span></span>|  
|<span data-ttu-id="19759-139">**PollWhileDataFound**</span><span class="sxs-lookup"><span data-stu-id="19759-139">**PollWhileDataFound**</span></span>|<span data-ttu-id="19759-140">Spécifie si le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] ignore l’intervalle d’interrogation et exécute en permanence l’instruction d’interrogation, si les données sont disponibles dans la table interrogée.</span><span class="sxs-lookup"><span data-stu-id="19759-140">Specifies whether the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] ignores the polling interval and continuously executes the polling statement, if data is available in the table being polled.</span></span> <span data-ttu-id="19759-141">Si aucune donnée n’est disponible dans la table, l’adaptateur revient pour exécuter l’instruction d’interrogation à l’intervalle d’interrogation spécifié.</span><span class="sxs-lookup"><span data-stu-id="19759-141">If no data is available in the table, the adapter reverts to execute the polling statement at the specified polling interval.</span></span> <span data-ttu-id="19759-142">La valeur par défaut est False.</span><span class="sxs-lookup"><span data-stu-id="19759-142">Default is false.</span></span>|  
  
 <span data-ttu-id="19759-143">Pour obtenir une description plus complète de ces propriétés, consultez [en savoir plus sur les propriétés de liaison de carte de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="19759-143">For a more complete description of these properties, see [Read about the   Oracle Database adapter binding properties](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span></span> <span data-ttu-id="19759-144">Pour obtenir une description complète de l’utilisation de la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] pour interroger la base de données Oracle, poursuivre la lecture.</span><span class="sxs-lookup"><span data-stu-id="19759-144">For a complete description of how to use the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] to poll the Oracle database, read further.</span></span>  
  
## <a name="how-this-topic-demonstrates-polling"></a><span data-ttu-id="19759-145">Comment cette rubrique illustre l’interrogation</span><span class="sxs-lookup"><span data-stu-id="19759-145">How This Topic Demonstrates Polling</span></span>  
 <span data-ttu-id="19759-146">Dans cette rubrique, pour illustrer comment le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] prend en charge la réception de données modifier des messages à l’aide des instructions SELECT, créez un projet BizTalk et générer le schéma pour le **POLLINGSTMT** opération en définissant le  **PollingStatement** propriété de liaison à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="19759-146">In this topic, to demonstrate how the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] supports receiving data change messages using SELECT statements, create a BizTalk project and generate schema for the **POLLINGSTMT** operation by setting the **PollingStatement** binding property to the following:</span></span>  
  
```  
SELECT * FROM ACCOUNTACTIVITY FOR UPDATE  
```  
  
 <span data-ttu-id="19759-147">La table ACCOUNTACTIVITY est créée lorsque vous exécutez les scripts SQL fournis avec les exemples pour créer ces objets dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="19759-147">The ACCOUNTACTIVITY table is created when you run the SQL scripts provided with the samples to create these objects in the database.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="19759-148">L’orchestration sous cette forme de sondages rubrique le ACCOUNTACTIVITY de table, qui est une table de base de données créée en exécutant les scripts fournis avec les exemples.</span><span class="sxs-lookup"><span data-stu-id="19759-148">The orchestration in this topic polls the ACCOUNTACTIVITY table, which is a base database table created by running the scripts provided with the samples.</span></span> <span data-ttu-id="19759-149">Vous devez effectuer les procédures similaires comme décrit dans cette rubrique pour interroger toute autre table.</span><span class="sxs-lookup"><span data-stu-id="19759-149">You must perform similar procedures as described in this topic to poll any other table.</span></span>  
  
 <span data-ttu-id="19759-150">Pour illustrer une opération d’interrogation, nous les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="19759-150">To demonstrate a polling operation, we do the following:</span></span>  
  
-   <span data-ttu-id="19759-151">Spécifiez une instruction SELECT pour le **PolledDataAvailableStatement** liaison de propriété pour déterminer où la table interrogés (ACCOUNTACTIVITY) comporte des données.</span><span class="sxs-lookup"><span data-stu-id="19759-151">Specify a SELECT statement for the **PolledDataAvailableStatement** binding property to determine where the table being polled (ACCOUNTACTIVITY) has any data.</span></span> <span data-ttu-id="19759-152">Dans cet exemple, vous pouvez définir cette propriété de liaison en tant que :</span><span class="sxs-lookup"><span data-stu-id="19759-152">In this example, you can set this binding property as:</span></span>  
  
    ```  
    SELECT COUNT (*) FROM ACCOUNTACTIVITY  
    ```  
  
     <span data-ttu-id="19759-153">Cela garantit que l’adaptateur s’exécute l’instruction d’interrogation uniquement lorsque la table ACCOUNTACTIVITY a des enregistrements.</span><span class="sxs-lookup"><span data-stu-id="19759-153">This ensures that the adapter executes the polling statement only when the ACCOUNTACTIVITY table has some records.</span></span>  
  
-   <span data-ttu-id="19759-154">Spécifiez l’instruction SELECT comme indiqué précédemment pour le **PollingStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="19759-154">Specify the SELECT statement as stated earlier for the **PollingStatement** binding property.</span></span> <span data-ttu-id="19759-155">Cette instruction récupère toutes les lignes dans la table ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="19759-155">This statement retrieves all the rows in the ACCOUNTACTIVITY table.</span></span>  
  
-   <span data-ttu-id="19759-156">EXÉCUTION d’un bloc de PL/SQL dans le cadre de la **PostPollStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="19759-156">EXECUTE a PL/SQL block as part of the **PostPollStatement** binding property.</span></span> <span data-ttu-id="19759-157">Cette instruction déplacera toutes les données à partir de la table ACCOUNTACTIVITY à une autre table dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="19759-157">This statement will move all data from ACCOUNTACTIVITY table to another table in the database.</span></span> <span data-ttu-id="19759-158">Une fois que cela se produit, la prochaine fois que l’instruction spécifiée pour **PollingStatement** sera exécutée, elle ne permet pas d’extraire des données.</span><span class="sxs-lookup"><span data-stu-id="19759-158">Once this happens, the next time the statement specified for **PollingStatement** will be executed, it will not fetch any data.</span></span>  
  
-   <span data-ttu-id="19759-159">Jusqu'à ce que davantage de données est ajouté à la table ACCOUNTACTIVITY, vous n’obtiendrez pas les messages d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="19759-159">Until more data is added to the ACCOUNTACTIVITY table, you will not get any polling messages.</span></span> <span data-ttu-id="19759-160">Par conséquent, vous devez remplir de nouveau la table ACCOUNTACTIVITY avec les nouveaux enregistrements.</span><span class="sxs-lookup"><span data-stu-id="19759-160">So, you must repopulate the ACCOUNTACTIVITY table with new records.</span></span> <span data-ttu-id="19759-161">Vous pouvez le faire en exécutant le script more_activity_data.sql fourni avec les exemples.</span><span class="sxs-lookup"><span data-stu-id="19759-161">You can do so by running the more_activity_data.sql script provided with the samples.</span></span> <span data-ttu-id="19759-162">Une fois que vous exécutez ce script, l’opération d’interrogation suivante permet d’extraire les nouveaux enregistrements insérés dans la table.</span><span class="sxs-lookup"><span data-stu-id="19759-162">After you run this script, the next polling operation will fetch the new records inserted into the table.</span></span>  
  
## <a name="how-to-receive-data-change-messages-from-oracle"></a><span data-ttu-id="19759-163">La réception des Messages de modification de données à partir d’Oracle</span><span class="sxs-lookup"><span data-stu-id="19759-163">How to Receive Data-change Messages from Oracle</span></span>  
 <span data-ttu-id="19759-164">Une opération sur l’utilisation de base de données Oracle [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] avec [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] implique les tâches procédurales suivantes décrites dans [blocs de construction pour développer des Applications BizTalk avec la base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/building-blocks-to-develop-biztalk-applications-with-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="19759-164">Performing an operation on Oracle database using [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves the following procedural tasks described in [Building Blocks to develop BizTalk Applications with Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/building-blocks-to-develop-biztalk-applications-with-oracle-database.md).</span></span> <span data-ttu-id="19759-165">Pour configurer l’adaptateur pour interroger la base de données Oracle à l’aide d’une instruction SELECT, ces tâches sont :</span><span class="sxs-lookup"><span data-stu-id="19759-165">To configure the adapter to poll Oracle database using a SELECT statement, these tasks are:</span></span>  
  
1.  <span data-ttu-id="19759-166">Créez un projet BizTalk et la génération du schéma pour le **POLLINGSTMT** opération pour la table que vous voulez interroger.</span><span class="sxs-lookup"><span data-stu-id="19759-166">Create a BizTalk project, and generate schema for the **POLLINGSTMT** operation for the table you want to poll.</span></span>  
  
2.  <span data-ttu-id="19759-167">Créez un message dans le projet BizTalk pour recevoir des messages à partir de la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="19759-167">Create a message in the BizTalk project for receiving messages from Oracle database.</span></span>  
  
3.  <span data-ttu-id="19759-168">Créez une orchestration pour recevoir des messages à partir d’Oracle et les enregistrer dans un dossier.</span><span class="sxs-lookup"><span data-stu-id="19759-168">Create an orchestration to receive messages from Oracle and save them to a folder.</span></span>  
  
4.  <span data-ttu-id="19759-169">Générez et déployez le projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="19759-169">Build and deploy the BizTalk project.</span></span>  
  
5.  <span data-ttu-id="19759-170">Configurer l’application en créant physique d’envoi et ports de réception BizTalk.</span><span class="sxs-lookup"><span data-stu-id="19759-170">Configure the BizTalk application by creating physical send and receive ports.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="19759-171">Pour les scénarios d’interrogation entrant que vous devez toujours configurer un port de réception unidirectionnel.</span><span class="sxs-lookup"><span data-stu-id="19759-171">For inbound polling scenarios you must always configure a one-way receive port.</span></span> <span data-ttu-id="19759-172">Bidirectionnel recevoir des ports ne sont pas pris en charge pour les opérations entrantes.</span><span class="sxs-lookup"><span data-stu-id="19759-172">Two-way receive ports are not supported for inbound operations.</span></span>  
  
6.  <span data-ttu-id="19759-173">Démarrez l’application BizTalk.</span><span class="sxs-lookup"><span data-stu-id="19759-173">Start the BizTalk application.</span></span>  
  
 <span data-ttu-id="19759-174">Cette rubrique fournit des instructions pour effectuer ces tâches.</span><span class="sxs-lookup"><span data-stu-id="19759-174">This topic provides instructions to perform these tasks.</span></span>  
  
## <a name="generating-schema"></a><span data-ttu-id="19759-175">Génération du schéma</span><span class="sxs-lookup"><span data-stu-id="19759-175">Generating Schema</span></span>  
 <span data-ttu-id="19759-176">Vous devez générer le schéma pour le **POLLINGSTMT** opération.</span><span class="sxs-lookup"><span data-stu-id="19759-176">You must generate the schema for the **POLLINGSTMT** operation.</span></span> <span data-ttu-id="19759-177">Effectuer les tâches suivantes lors de la génération de schéma à l’aide du [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="19759-177">Perform the following tasks while generating the schema using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
-   <span data-ttu-id="19759-178">Spécifiez une valeur pour **PollingStatement** lors de la génération du schéma de propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="19759-178">Specify a value for **PollingStatement** binding property while generating the schema.</span></span> <span data-ttu-id="19759-179">Pour plus d’informations sur cette propriété de liaison, consultez [en savoir plus sur les propriétés de liaison de carte de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="19759-179">For more information about this binding property, see [Read about the   Oracle Database adapter binding properties](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span></span> <span data-ttu-id="19759-180">Par exemple, spécifiez les éléments suivants en tant qu’une instruction d’interrogation :</span><span class="sxs-lookup"><span data-stu-id="19759-180">For example, specify the following as a polling statement:</span></span>  
  
    ```  
    SELECT * FROM ACCOUNTACTIVITY FOR UPDATE  
    ```  
  
-   <span data-ttu-id="19759-181">Sélectionnez le type de contrat **Service (opération entrante)**.</span><span class="sxs-lookup"><span data-stu-id="19759-181">Select the contract type as **Service (Inbound operation)**.</span></span>  
  
-   <span data-ttu-id="19759-182">Génération du schéma pour le **POLLINGSTMT** opération.</span><span class="sxs-lookup"><span data-stu-id="19759-182">Generate schema for the **POLLINGSTMT** operation.</span></span>  
  
 <span data-ttu-id="19759-183">Pour plus d’informations sur la génération de schéma, consultez [Parcourir, rechercher et obtenir des métadonnées pour les opérations de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/browse-search-and-get-metadata-for-oracle-database-operations.md).</span><span class="sxs-lookup"><span data-stu-id="19759-183">For more information about how to generate schema, see [Browse, search, and get metadata for Oracle Database operations](../../adapters-and-accelerators/adapter-oracle-database/browse-search-and-get-metadata-for-oracle-database-operations.md).</span></span>  
  
## <a name="defining-messages-and-message-types"></a><span data-ttu-id="19759-184">Définition des Messages et les Types de messages</span><span class="sxs-lookup"><span data-stu-id="19759-184">Defining Messages and Message Types</span></span>  
 <span data-ttu-id="19759-185">Le schéma que vous avez généré précédemment décrit les « types » requis pour les messages dans l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="19759-185">The schema that you generated earlier describes the "types" required for the messages in the orchestration.</span></span> <span data-ttu-id="19759-186">Un message est généralement une variable, le type est défini par le schéma correspondant.</span><span class="sxs-lookup"><span data-stu-id="19759-186">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="19759-187">Une fois que le schéma est généré, vous devez le lier aux messages à partir de la vue de l’Orchestration du projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="19759-187">Once the schema is generated, you must link it to the messages from the Orchestration view of the BizTalk project.</span></span>  
  
 <span data-ttu-id="19759-188">Pour cette rubrique, vous devez créer un message à recevoir des messages à partir d’Oracle.</span><span class="sxs-lookup"><span data-stu-id="19759-188">For this topic, you must create one message to receive messages from Oracle.</span></span>  
  
 <span data-ttu-id="19759-189">Procédez comme suit pour créer des messages et les lier au schéma.</span><span class="sxs-lookup"><span data-stu-id="19759-189">Perform the following steps to create messages and link them to schema.</span></span>  
  
#### <a name="to-create-messages-and-link-to-schema"></a><span data-ttu-id="19759-190">Pour créer des messages et le lier au schéma</span><span class="sxs-lookup"><span data-stu-id="19759-190">To create messages and link to schema</span></span>  
  
1.  <span data-ttu-id="19759-191">Ajouter une orchestration au projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="19759-191">Add an orchestration to the BizTalk project.</span></span> <span data-ttu-id="19759-192">À partir de l’Explorateur de solutions, cliquez sur le nom du projet BizTalk, pointez sur **ajouter**, puis cliquez sur **un nouvel élément**.</span><span class="sxs-lookup"><span data-stu-id="19759-192">From the Solution Explorer, right-click the BizTalk project name, point to **Add**, and then click **New Item**.</span></span> <span data-ttu-id="19759-193">Tapez un nom pour l’orchestration BizTalk, puis **ajouter**.</span><span class="sxs-lookup"><span data-stu-id="19759-193">Type a name for the BizTalk orchestration and then click **Add**.</span></span>  
  
2.  <span data-ttu-id="19759-194">Ouvrez la fenêtre Vue orchestration du projet BizTalk, s’il n’est pas déjà ouvert.</span><span class="sxs-lookup"><span data-stu-id="19759-194">Open the orchestration view window of the BizTalk project, if it is not already open.</span></span> <span data-ttu-id="19759-195">Cliquez sur **vue**, pointez sur **autres fenêtres**, puis cliquez sur **Vue Orchestration**.</span><span class="sxs-lookup"><span data-stu-id="19759-195">Click **View**, point to **Other Windows**, and then click **Orchestration View**.</span></span>  
  
3.  <span data-ttu-id="19759-196">Dans le **Vue Orchestration**, avec le bouton droit **Messages**, puis cliquez sur **nouveau Message**.</span><span class="sxs-lookup"><span data-stu-id="19759-196">In the **Orchestration View**, right-click **Messages**, and then click **New Message**.</span></span>  
  
4.  <span data-ttu-id="19759-197">Cliquez sur le message qui vient d’être créé, puis sélectionnez **fenêtre Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="19759-197">Right-click the newly created message, and then select **Properties Window**.</span></span>  
  
5.  <span data-ttu-id="19759-198">Dans le **propriétés** volet pour **Message_1**, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="19759-198">In the **Properties** pane for **Message_1**, do the following:</span></span>  
  
    |<span data-ttu-id="19759-199">Utiliser</span><span class="sxs-lookup"><span data-stu-id="19759-199">Use this</span></span>|<span data-ttu-id="19759-200">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="19759-200">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="19759-201">Identificateur</span><span class="sxs-lookup"><span data-stu-id="19759-201">Identifier</span></span>|<span data-ttu-id="19759-202">Type **réception**.</span><span class="sxs-lookup"><span data-stu-id="19759-202">Type **Receive**.</span></span>|  
    |<span data-ttu-id="19759-203">Type de message</span><span class="sxs-lookup"><span data-stu-id="19759-203">Message Type</span></span>|<span data-ttu-id="19759-204">Dans la liste déroulante, développez **schémas**, puis sélectionnez *TablePolling.OracleDBBinding*, où *TablePolling* est le nom de votre projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="19759-204">From the drop-down list, expand **Schemas**, and select *TablePolling.OracleDBBinding*, where *TablePolling* is the name of your BizTalk project.</span></span> <span data-ttu-id="19759-205">*OracleDBBindingSchema* est le schéma de réponse généré pour le **POLLINGSTMT** opération sur la table ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="19759-205">*OracleDBBindingSchema* is the response schema generated for the **POLLINGSTMT** operation on ACCOUNTACTIVITY table.</span></span><br /><br /> <span data-ttu-id="19759-206">**Important** , car l’interrogation est une opération unidirectionnelle, le schéma généré par l’adaptateur ne contient pas un nœud de la réponse, et il n'est qu’un seul nœud racine dans le schéma.</span><span class="sxs-lookup"><span data-stu-id="19759-206">**Important** Because polling is a one way operation, the schema generated by the adapter does not contain a response node, and hence there is only one root node in the schema.</span></span> <span data-ttu-id="19759-207">Si vous utilisez ce type de schéma pour un type de message, vous devez identifier le schéma par le nom de fichier du schéma généré.</span><span class="sxs-lookup"><span data-stu-id="19759-207">If you use such schemas for a message type, you must identify the schema by the filename of the generated schema.</span></span><br /><br /> <span data-ttu-id="19759-208">Par exemple, si vous créez le schéma pour une opération bidirectionnelle, les nœuds dans le schéma de fichier avec un nom `OracleDBBindingSchema` peut ressembler à « Requête » et « Réponse ».</span><span class="sxs-lookup"><span data-stu-id="19759-208">For example, if you create schema for a two-way operation, the nodes in the schema file with a name `OracleDBBindingSchema` may look like “Request” and “Response”.</span></span> <span data-ttu-id="19759-209">Si vous souhaitez créer un message dans l’orchestration qui mappe au schéma de requête, vous pouvez identifier le schéma dans la liste en recherchant `OracleDBBindingSchema.Request`.</span><span class="sxs-lookup"><span data-stu-id="19759-209">If you want to create a message in the orchestration that maps to the request schema, you can identify the schema in the list by looking for `OracleDBBindingSchema.Request`.</span></span> <span data-ttu-id="19759-210">Toutefois, dans le cas d’opération d’interrogation, car le seul nœud est « POLLINGSTMT », il n’est pas facile d’identifier le schéma que vous voulez mapper à, car les schémas avec des nœuds individuels ne sont pas répertoriées en tant que \<schemafilename\>.\< rootnodename\>.</span><span class="sxs-lookup"><span data-stu-id="19759-210">However, in the case of polling operation, because the only node is “POLLINGSTMT”, it is not easy to identify the schema you want to map to because schemas with single nodes are not listed as \<schemafilename\>.\<rootnodename\>.</span></span> <span data-ttu-id="19759-211">Au lieu de cela, ces schémas sont répertoriées par uniquement le nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="19759-211">Instead, such schemas are listed by only the filename.</span></span> <span data-ttu-id="19759-212">Dans ce cas, la seule façon d’identifier le schéma est par le nom de fichier de schéma, par exemple, OracleDBBindingSchema.</span><span class="sxs-lookup"><span data-stu-id="19759-212">In such a case, the only way to identify the schema is by the schema filename, for example, OracleDBBindingSchema.</span></span>|  
  
## <a name="setting-up-the-orchestration"></a><span data-ttu-id="19759-213">Configuration de l’Orchestration</span><span class="sxs-lookup"><span data-stu-id="19759-213">Setting up the Orchestration</span></span>  
 <span data-ttu-id="19759-214">Vous devez créer une orchestration BizTalk à utiliser [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] pour recevoir les messages de modification de données reposant sur l’interrogation à partir d’Oracle.</span><span class="sxs-lookup"><span data-stu-id="19759-214">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for receiving polling-based data-change messages from Oracle.</span></span> <span data-ttu-id="19759-215">Dans cette orchestration, l’adaptateur reçoit la réponse en exécutant l’instruction SELECT spécifiée pour le **PollingStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="19759-215">In this orchestration, the adapter receives the response by executing the SELECT statement specified for the **PollingStatement** binding property.</span></span> <span data-ttu-id="19759-216">Le message de réponse pour l’instruction SELECT est enregistré dans un emplacement de fichier.</span><span class="sxs-lookup"><span data-stu-id="19759-216">The response message for the SELECT statement is saved to a FILE location.</span></span> <span data-ttu-id="19759-217">Contiendrait une orchestration classique de l’interrogation de la base de données Oracle :</span><span class="sxs-lookup"><span data-stu-id="19759-217">A typical orchestration for polling Oracle database would contain:</span></span>  
  
-   <span data-ttu-id="19759-218">Formes réception et envoi pour recevoir des messages à partir d’Oracle et l’envoyer vers un port FILE, respectivement.</span><span class="sxs-lookup"><span data-stu-id="19759-218">Receive and Send shapes to receive messages from Oracle and send to a FILE port, respectively.</span></span>  
  
-   <span data-ttu-id="19759-219">Port pour recevoir des messages à partir de la base de données Oracle de réception unidirectionnel.</span><span class="sxs-lookup"><span data-stu-id="19759-219">A one-way receive port to receive messages from Oracle database.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="19759-220">Pour les scénarios d’interrogation entrant que vous devez toujours configurer un port de réception unidirectionnel.</span><span class="sxs-lookup"><span data-stu-id="19759-220">For inbound polling scenarios you must always configure a one-way receive port.</span></span> <span data-ttu-id="19759-221">Bidirectionnel recevoir des ports ne sont pas pris en charge pour les opérations entrantes.</span><span class="sxs-lookup"><span data-stu-id="19759-221">Two-way receive ports are not supported for inbound operations.</span></span>  
  
-   <span data-ttu-id="19759-222">Un port d’envoi unidirectionnel pour envoyer des réponses d’interrogation à partir de la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="19759-222">A one-way send port to send polling responses from Oracle database.</span></span>  
  
 <span data-ttu-id="19759-223">Un exemple d’orchestration semblable au suivant.</span><span class="sxs-lookup"><span data-stu-id="19759-223">A sample orchestration resembles the following.</span></span>  
  
 <span data-ttu-id="19759-224">![Orchestration pour une requête d’interrogation pour Oracle](../../adapters-and-accelerators/adapter-oracle-database/media/6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3.gif "6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3")</span><span class="sxs-lookup"><span data-stu-id="19759-224">![Orchestration for a polling query for Oracle](../../adapters-and-accelerators/adapter-oracle-database/media/6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3.gif "6eddfe32-bfd0-4bd9-9e2a-fb4a7d0b53e3")</span></span>  
  
### <a name="adding-message-shapes"></a><span data-ttu-id="19759-225">Ajouter des formes de Message</span><span class="sxs-lookup"><span data-stu-id="19759-225">Adding Message Shapes</span></span>  
 <span data-ttu-id="19759-226">Assurez-vous que vous spécifiez les propriétés suivantes pour chacune des formes de message.</span><span class="sxs-lookup"><span data-stu-id="19759-226">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="19759-227">Les noms répertoriés dans la colonne de forme sont les noms des formes de message tel qu’affiché dans l’orchestration juste-mentionné.</span><span class="sxs-lookup"><span data-stu-id="19759-227">The names listed in the Shape column are the names of the message shapes as displayed in the just-mentioned orchestration.</span></span>  
  
|<span data-ttu-id="19759-228">Graphique à base de formes</span><span class="sxs-lookup"><span data-stu-id="19759-228">Shape</span></span>|<span data-ttu-id="19759-229">Type de forme</span><span class="sxs-lookup"><span data-stu-id="19759-229">Shape Type</span></span>|<span data-ttu-id="19759-230">Propriétés</span><span class="sxs-lookup"><span data-stu-id="19759-230">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="19759-231">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="19759-231">ReceiveMessage</span></span>|<span data-ttu-id="19759-232">Recevoir</span><span class="sxs-lookup"><span data-stu-id="19759-232">Receive</span></span>|<span data-ttu-id="19759-233">-Définissez **nom** à *ReceiveMessage*</span><span class="sxs-lookup"><span data-stu-id="19759-233">- Set **Name** to *ReceiveMessage*</span></span><br /><br /> <span data-ttu-id="19759-234">-Définissez **activer** à *True*</span><span class="sxs-lookup"><span data-stu-id="19759-234">- Set **Activate** to *True*</span></span>|  
|<span data-ttu-id="19759-235">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="19759-235">SaveMessage</span></span>|<span data-ttu-id="19759-236">Send</span><span class="sxs-lookup"><span data-stu-id="19759-236">Send</span></span>|<span data-ttu-id="19759-237">-Définissez **nom** à *SaveMessage*</span><span class="sxs-lookup"><span data-stu-id="19759-237">- Set **Name** to *SaveMessage*</span></span>|  
  
### <a name="adding-ports"></a><span data-ttu-id="19759-238">Ajout de Ports</span><span class="sxs-lookup"><span data-stu-id="19759-238">Adding Ports</span></span>  
 <span data-ttu-id="19759-239">Assurez-vous que vous spécifiez les propriétés suivantes pour chacun des ports logiques.</span><span class="sxs-lookup"><span data-stu-id="19759-239">Make sure you specify the following properties for each of the logical ports.</span></span> <span data-ttu-id="19759-240">Les noms répertoriés dans la colonne de Port sont les noms des ports tel qu’affiché dans l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="19759-240">The names listed in the Port column are the names of the ports as displayed in the orchestration.</span></span>  
  
|<span data-ttu-id="19759-241">Port</span><span class="sxs-lookup"><span data-stu-id="19759-241">Port</span></span>|<span data-ttu-id="19759-242">Propriétés</span><span class="sxs-lookup"><span data-stu-id="19759-242">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="19759-243">OracleReceivePort</span><span class="sxs-lookup"><span data-stu-id="19759-243">OracleReceivePort</span></span>|<span data-ttu-id="19759-244">-Définissez **identificateur** à *OracleReceivePort*</span><span class="sxs-lookup"><span data-stu-id="19759-244">- Set **Identifier** to *OracleReceivePort*</span></span><br /><br /> <span data-ttu-id="19759-245">-Définissez **Type** à *OracleReceivePortType*</span><span class="sxs-lookup"><span data-stu-id="19759-245">- Set **Type** to *OracleReceivePortType*</span></span><br /><br /> <span data-ttu-id="19759-246">-Définissez **modèle de Communication** à *à sens unique*</span><span class="sxs-lookup"><span data-stu-id="19759-246">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="19759-247">-Définissez **Direction de Communication** à *de réception*</span><span class="sxs-lookup"><span data-stu-id="19759-247">- Set **Communication Direction** to *Receive*</span></span>|  
|<span data-ttu-id="19759-248">SaveMessagePort</span><span class="sxs-lookup"><span data-stu-id="19759-248">SaveMessagePort</span></span>|<span data-ttu-id="19759-249">-Définissez **identificateur** à *SaveMessagePort*</span><span class="sxs-lookup"><span data-stu-id="19759-249">- Set **Identifier** to *SaveMessagePort*</span></span><br /><br /> <span data-ttu-id="19759-250">-Définissez **Type** à *SaveMessagePortType*</span><span class="sxs-lookup"><span data-stu-id="19759-250">- Set **Type** to *SaveMessagePortType*</span></span><br /><br /> <span data-ttu-id="19759-251">-Définissez **modèle de Communication** à *à sens unique*</span><span class="sxs-lookup"><span data-stu-id="19759-251">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="19759-252">-Définissez **Direction de Communication** à *envoyer*</span><span class="sxs-lookup"><span data-stu-id="19759-252">- Set **Communication Direction** to *Send*</span></span>|  
  
### <a name="specify-messages-for-action-shapes-and-connect-to-ports"></a><span data-ttu-id="19759-253">Spécifier des Messages pour les formes d’Action et de se connecter à des Ports</span><span class="sxs-lookup"><span data-stu-id="19759-253">Specify Messages for Action Shapes and Connect to Ports</span></span>  
 <span data-ttu-id="19759-254">Le tableau suivant indique les propriétés et leurs valeurs, vous devez définir pour spécifier les messages de formes d’action et lier les messages aux ports.</span><span class="sxs-lookup"><span data-stu-id="19759-254">The following table specifies the properties and their values that you should set to specify messages for action shapes and to link the messages to the ports.</span></span> <span data-ttu-id="19759-255">Les noms répertoriés dans la colonne de forme sont les noms des formes de message tel qu’affiché dans l’orchestration mentionnée précédemment.</span><span class="sxs-lookup"><span data-stu-id="19759-255">The names listed in the Shape column are the names of the message shapes as displayed in the orchestration mentioned earlier.</span></span>  
  
|<span data-ttu-id="19759-256">Graphique à base de formes</span><span class="sxs-lookup"><span data-stu-id="19759-256">Shape</span></span>|<span data-ttu-id="19759-257">Propriétés</span><span class="sxs-lookup"><span data-stu-id="19759-257">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="19759-258">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="19759-258">ReceiveMessage</span></span>|<span data-ttu-id="19759-259">-Définissez **Message** à *de réception*</span><span class="sxs-lookup"><span data-stu-id="19759-259">- Set **Message** to *Receive*</span></span><br /><br /> <span data-ttu-id="19759-260">-Définissez **opération** à *OracleReceivePort.Polling.Request*</span><span class="sxs-lookup"><span data-stu-id="19759-260">- Set **Operation** to *OracleReceivePort.Polling.Request*</span></span>|  
|<span data-ttu-id="19759-261">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="19759-261">SaveMessage</span></span>|<span data-ttu-id="19759-262">-Définissez **Message** à *de réception*</span><span class="sxs-lookup"><span data-stu-id="19759-262">- Set **Message** to *Receive*</span></span><br /><br /> <span data-ttu-id="19759-263">-Définissez **opération** à *SaveMessagePort.Polling.Request*</span><span class="sxs-lookup"><span data-stu-id="19759-263">- Set **Operation** to *SaveMessagePort.Polling.Request*</span></span>|  
  
 <span data-ttu-id="19759-264">Une fois que vous avez défini ces propriétés, les formes de message et les ports sont connectés et l’orchestration est terminée.</span><span class="sxs-lookup"><span data-stu-id="19759-264">After you have specified these properties, the message shapes and ports are connected and your orchestration is complete.</span></span>  
  
 <span data-ttu-id="19759-265">Vous devez maintenant générer la solution BizTalk et déployez-le dans un [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="19759-265">You must now build the BizTalk solution and deploy it to a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="19759-266">Pour plus d’informations, consultez [génération et exécution des Orchestrations](../../core/building-and-running-orchestrations.md).</span><span class="sxs-lookup"><span data-stu-id="19759-266">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md).</span></span>  
  
## <a name="configuring-the-biztalk-application"></a><span data-ttu-id="19759-267">Configuration de l’Application BizTalk</span><span class="sxs-lookup"><span data-stu-id="19759-267">Configuring the BizTalk Application</span></span>  
 <span data-ttu-id="19759-268">Après avoir déployé le projet BizTalk, l’orchestration que vous avez créé précédemment est répertoriée sous le **Orchestrations** volet de la console Administration de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="19759-268">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the **Orchestrations** pane in the BizTalk Server Administration console.</span></span> <span data-ttu-id="19759-269">Vous devez utiliser la console Administration de BizTalk Server pour configurer l’application.</span><span class="sxs-lookup"><span data-stu-id="19759-269">You must use the BizTalk Server Administration console to configure the application.</span></span> <span data-ttu-id="19759-270">Pour une procédure pas à pas, consultez [procédure pas à pas : déploiement d’une Application BizTalk base](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span><span class="sxs-lookup"><span data-stu-id="19759-270">For a walkthrough, see [Walkthrough: Deploying a Basic BizTalk Application](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span></span>
  
 <span data-ttu-id="19759-271">Configuration d’une application implique :</span><span class="sxs-lookup"><span data-stu-id="19759-271">Configuring an application involves:</span></span>  
  
-   <span data-ttu-id="19759-272">Sélection d’un hôte de l’application.</span><span class="sxs-lookup"><span data-stu-id="19759-272">Selecting a host for the application.</span></span>  
  
-   <span data-ttu-id="19759-273">Mappage de ports que vous avez créé dans l’orchestration aux ports physiques dans la console Administration de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="19759-273">Mapping the ports that you created in your orchestration to physical ports in the BizTalk Server Administration console.</span></span> <span data-ttu-id="19759-274">Pour cette orchestration, vous devez :</span><span class="sxs-lookup"><span data-stu-id="19759-274">For this orchestration you must:</span></span>  
  
    -   <span data-ttu-id="19759-275">Définir un emplacement sur le disque dur et un port de fichier correspondant dans lequel l’orchestration BizTalk supprimera les messages à partir d’Oracle.</span><span class="sxs-lookup"><span data-stu-id="19759-275">Define a location on the hard disk and a corresponding FILE port where the BizTalk orchestration will drop the messages from Oracle.</span></span> <span data-ttu-id="19759-276">Ces messages seront en réponse à l’instruction d’interrogation que vous spécifiez pour le port de réception.</span><span class="sxs-lookup"><span data-stu-id="19759-276">These messages will be in response to the polling statement that you specify for the receive port.</span></span>  
  
    -   <span data-ttu-id="19759-277">Définir un WCF-Custom physique ou port de réception WCF-OracleDB à sens unique.</span><span class="sxs-lookup"><span data-stu-id="19759-277">Define a physical WCF-Custom or WCF-OracleDB one-way receive port.</span></span> <span data-ttu-id="19759-278">Ce port interroge la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="19759-278">This port polls the Oracle database.</span></span> <span data-ttu-id="19759-279">Pour plus d’informations sur la création des ports de réception, consultez [configurer manuellement une liaison de port physique à l’adaptateur de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/manually-configure-a-physical-port-binding-to-the-oracle-database-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="19759-279">For information about how to create receive ports, see [Manually configure a physical port binding to the Oracle Database Adapter](../../adapters-and-accelerators/adapter-oracle-database/manually-configure-a-physical-port-binding-to-the-oracle-database-adapter.md).</span></span> <span data-ttu-id="19759-280">Assurez-vous que vous spécifiez les propriétés suivantes de la liaison pour le port de réception.</span><span class="sxs-lookup"><span data-stu-id="19759-280">Make sure you specify the following binding properties for the receive port.</span></span>  
  
        |<span data-ttu-id="19759-281">Propriété de liaison</span><span class="sxs-lookup"><span data-stu-id="19759-281">Binding Property</span></span>|<span data-ttu-id="19759-282">Valeur</span><span class="sxs-lookup"><span data-stu-id="19759-282">Value</span></span>|  
        |----------------------|-----------|  
        |<span data-ttu-id="19759-283">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="19759-283">**InboundOperationType**</span></span>|<span data-ttu-id="19759-284">Affectez la valeur **d’interrogation**.</span><span class="sxs-lookup"><span data-stu-id="19759-284">Set this to **Polling**.</span></span>|  
        |<span data-ttu-id="19759-285">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="19759-285">**PolledDataAvailableStatement**</span></span>|<span data-ttu-id="19759-286">Pour cet exemple, définissez cette propriété de liaison sur :</span><span class="sxs-lookup"><span data-stu-id="19759-286">For this example, set this binding property to:</span></span><br /><br /> `SELECT COUNT (*) FROM ACCOUNTACTIVITY`<br /><br /> <span data-ttu-id="19759-287">Cela garantit que l’adaptateur s’exécute l’instruction d’interrogation uniquement lorsque la table ACCOUNTACTIVITY a des enregistrements.</span><span class="sxs-lookup"><span data-stu-id="19759-287">This ensures that the adapter executes the polling statement only when the ACCOUNTACTIVITY table has some records.</span></span>|  
        |<span data-ttu-id="19759-288">**PollingStatement**</span><span class="sxs-lookup"><span data-stu-id="19759-288">**PollingStatement**</span></span>|<span data-ttu-id="19759-289">Pour cette propriété de liaison, spécifiez une instruction SELECT pour récupérer tous les enregistrements à partir de la table ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="19759-289">For this binding property, specify a SELECT statement to retrieve all records from ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="19759-290">Pour cet exemple, définissez cette propriété de liaison sur :</span><span class="sxs-lookup"><span data-stu-id="19759-290">For this example, set this binding property to:</span></span><br /><br /> `SELECT * FROM ACCOUNTACTIVITY FOR UPDATE`|  
        |<span data-ttu-id="19759-291">**PostPollStatement**</span><span class="sxs-lookup"><span data-stu-id="19759-291">**PostPollStatement**</span></span>|<span data-ttu-id="19759-292">Spécifiez l’instruction après interrogation pour déplacer toutes les données à partir de la table ACCOUNTACTIVITY à une autre table.</span><span class="sxs-lookup"><span data-stu-id="19759-292">Specify the post-poll statement to move all data from ACCOUNTACTIVITY table to another table.</span></span> <span data-ttu-id="19759-293">Pour cet exemple, définissez cette propriété de liaison sur :</span><span class="sxs-lookup"><span data-stu-id="19759-293">For this example, set this binding property to:</span></span><br /><br /> `BEGIN ACCOUNT_PKG.PROCESS_ACTIVITY(); END;`|  
  
         <span data-ttu-id="19759-294">Pour plus d’informations sur les propriétés de liaison différente, consultez [en savoir plus sur les propriétés de liaison de carte de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="19759-294">For more information about the different binding properties, see [Read about the Oracle Database adapter binding properties](../../adapters-and-accelerators/adapter-oracle-database/read-about-the-oracle-database-adapter-binding-properties.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="19759-295">Nous vous recommandons de configurer le niveau d’isolation de transaction et le délai d’attente de transaction lors de l’exécution d’opérations entrantes à l’aide de la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="19759-295">We recommend configuring the transaction isolation level and the transaction timeout while performing inbound operations using the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span> <span data-ttu-id="19759-296">Vous pouvez le faire en ajoutant le comportement de service lors de la configuration du port de réception.</span><span class="sxs-lookup"><span data-stu-id="19759-296">You can do so by adding the service behavior while configuring the receive port.</span></span> <span data-ttu-id="19759-297">Pour obtenir des instructions sur la façon d’ajouter le comportement de service, consultez [configurer le niveau d’isolation de transaction et le délai d’attente de transaction](../../adapters-and-accelerators/adapter-oracle-database/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-db.md).</span><span class="sxs-lookup"><span data-stu-id="19759-297">For instruction on how to add the service behavior, see [Configure transaction isolation level and transaction timeout](../../adapters-and-accelerators/adapter-oracle-database/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-db.md).</span></span>  
  
## <a name="starting-the-application"></a><span data-ttu-id="19759-298">Démarrage de l’Application</span><span class="sxs-lookup"><span data-stu-id="19759-298">Starting the Application</span></span>  
 <span data-ttu-id="19759-299">Vous devez démarrer l’application BizTalk afin d’interroger la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="19759-299">You must start the BizTalk application for polling Oracle database.</span></span> <span data-ttu-id="19759-300">Pour obtenir des instructions sur le démarrage d’une application BizTalk, consultez [comment démarrer une Orchestration](../../core/how-to-start-an-orchestration.md).</span><span class="sxs-lookup"><span data-stu-id="19759-300">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md).</span></span>  
  
 <span data-ttu-id="19759-301">À ce stade, vérifiez que :</span><span class="sxs-lookup"><span data-stu-id="19759-301">At this stage, make sure:</span></span>  
  
-   <span data-ttu-id="19759-302">Le WCF-Custom ou WCF-OracleDB unidirectionnel port de réception, qui interroge Oracle à l’aide de l’instruction SELECT spécifiée pour le **PollingStatement** propriété, de liaison est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="19759-302">The WCF-Custom or WCF-OracleDB one-way receive port, which polls Oracle using the SELECT statement specified for the **PollingStatement** binding property, is running.</span></span>  
  
-   <span data-ttu-id="19759-303">Le port d’envoi de fichier qui reçoit des messages à partir de la base de données Oracle, est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="19759-303">The FILE send port, which receives messages from Oracle database, is running.</span></span>  
  
-   <span data-ttu-id="19759-304">L’orchestration BizTalk pour l’opération est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="19759-304">The BizTalk orchestration for the operation is running.</span></span>  
  
## <a name="executing-the-operation"></a><span data-ttu-id="19759-305">L’exécution de l’opération</span><span class="sxs-lookup"><span data-stu-id="19759-305">Executing the Operation</span></span>  
 <span data-ttu-id="19759-306">Après avoir exécuté l’application, l’ensemble d’actions suivantes ont lieu, dans l’ordre :</span><span class="sxs-lookup"><span data-stu-id="19759-306">After you run the application, the following set of actions take place, in the same sequence:</span></span>  
  
-   <span data-ttu-id="19759-307">L’adaptateur exécute le **PolledDataAvailableStatement** qui retourne une valeur positive indiquant l’adaptateur pour exécuter l’instruction spécifiée pour **PollingStatement** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="19759-307">The adapter executes the **PolledDataAvailableStatement** which returns a positive value indicating the adapter to execute the statement specified for **PollingStatement** binding property.</span></span>  
  
-   <span data-ttu-id="19759-308">L’adaptateur exécute l’instruction SELECT pour le **PollingStatement** liaison de propriété et retourne toutes les lignes dans la table ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="19759-308">The adapter executes the SELECT statement for the **PollingStatement** binding property and returns all the rows in the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="19759-309">La réponse à partir de la base de données Oracle ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="19759-309">The response from Oracle database resembles the following:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <POLLINGSTMT xmlns="http://Microsoft.LobServices.OracleDB/2007/03/POLLINGSTMT">  
      <POLLINGSTMTRECORD>  
        <POLLINGSTMTRECORD>  
          <TID>1</TID>   
          <ACCOUNT>100001</ACCOUNT>   
          <AMOUNT>500</AMOUNT>   
          <DESCRIPTION />   
          <TRANSDATE>2008-08-03T20:10:28</TRANSDATE>   
          <PROCESSED>n</PROCESSED>   
        <POLLINGSTMTRECORD>  
      <POLLINGSTMTRECORD>  
          ......  
          ......  
      </POLLINGSTMTRECORD>  
        ......  
        ......  
      </POLLINGSTMTRECORD>  
    </POLLINGSTMT>  
    ```  
  
-   <span data-ttu-id="19759-310">L’adaptateur exécute l’instruction après interrogation, ce qui déplace toutes les données à partir de la table ACCOUNTACTIVITY à une autre table.</span><span class="sxs-lookup"><span data-stu-id="19759-310">The adapter executes the post-poll statement, which moves all the data from ACCOUNTACTIVITY table to another table.</span></span>  
  
-   <span data-ttu-id="19759-311">Après l’intervalle d’interrogation, l’adaptateur s’exécute à nouveau **PolledDataAvailableStatement**.</span><span class="sxs-lookup"><span data-stu-id="19759-311">After the polling interval, the adapter again executes **PolledDataAvailableStatement**.</span></span> <span data-ttu-id="19759-312">Car ACCOUNTACTIVITY table aucun enregistrement maintenant, **PolledDataAvailableStatement** ne retourne pas une valeur positive et par conséquent, l’adaptateur ne s’exécute pas l’instruction spécifiée pour le **PollingStatement**propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="19759-312">Because ACCOUNTACTIVITY table has no records now, **PolledDataAvailableStatement** does not return a positive value and hence the adapter does not execute the statement specified for the **PollingStatement** binding property.</span></span> <span data-ttu-id="19759-313">Par conséquent, client de carte n’obtient pas de tout message d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="19759-313">As a result, adapter client does not get any polling message.</span></span>  
  
-   <span data-ttu-id="19759-314">Le client de carte n’obtiendra pas plus de messages d’interrogation jusqu'à ce que des enregistrements sont insérés explicitement dans la table ACCOUNTACTIVITY.</span><span class="sxs-lookup"><span data-stu-id="19759-314">The adapter client will not get any more polling messages until some records are explicitly inserted into the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="19759-315">Pour insérer des enregistrements de plus, vous pouvez exécuter le script more_activity_data.sql fourni avec les exemples.</span><span class="sxs-lookup"><span data-stu-id="19759-315">To insert more records, you can run the more_activity_data.sql script provided with the samples.</span></span> <span data-ttu-id="19759-316">Une fois que vous exécutez ce script, lors du prochain **PolledDataAvailableStatement** est exécutée, elle retourne une valeur positive.</span><span class="sxs-lookup"><span data-stu-id="19759-316">After you run this script, the next time **PolledDataAvailableStatement** is executed, it returns a positive value.</span></span> <span data-ttu-id="19759-317">Par conséquent, l’adaptateur exécute l’instruction d’interrogation et les clients de carte à nouveau un message d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="19759-317">As a result, the adapter executes the polling statement and adapter clients again receive a polling message.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="19759-318">Le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] continue à interroger jusqu'à ce que vous désactiviez explicitement le port de réception à partir de la [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] console d’Administration.</span><span class="sxs-lookup"><span data-stu-id="19759-318">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] will continue to poll until you explicitly disable the receive port from the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
## <a name="possible-exceptions"></a><span data-ttu-id="19759-319">Exceptions possibles</span><span class="sxs-lookup"><span data-stu-id="19759-319">Possible Exceptions</span></span>  
 <span data-ttu-id="19759-320">Pour plus d’informations sur les exceptions que vous pouvez rencontrer lors de l’exécution d’une requête d’interrogation sur Oracle de base de données à l’aide de [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], consultez [Exceptions et gestion des erreurs avec l’adaptateur de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/exceptions-and-error-handling-with-the-oracle-database-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="19759-320">For information about the exceptions you might encounter while running a polling query on the Oracle database using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], see [Exceptions and error handling with the Oracle Database adapter](../../adapters-and-accelerators/adapter-oracle-database/exceptions-and-error-handling-with-the-oracle-database-adapter.md).</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="19759-321">Bonnes pratiques</span><span class="sxs-lookup"><span data-stu-id="19759-321">Best Practices</span></span>  
 <span data-ttu-id="19759-322">Après avoir déployé et configuré le projet BizTalk, vous pouvez exporter les paramètres de configuration dans un fichier XML appelé le fichier de liaisons.</span><span class="sxs-lookup"><span data-stu-id="19759-322">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the bindings file.</span></span> <span data-ttu-id="19759-323">Une fois que vous générez un fichier de liaison, vous pouvez importer les paramètres de configuration à partir du fichier afin que vous n’avez pas besoin de créer les ports d’envoi et de réception pour l’orchestration même.</span><span class="sxs-lookup"><span data-stu-id="19759-323">Once you generate a bindings file, you can import the configuration settings from the file so that you do not need to create the send ports and receive ports for the same orchestration.</span></span> <span data-ttu-id="19759-324">Pour plus d’informations sur les fichiers de liaison, consultez [liaisons de l’adaptateur de base de données Oracle de réutiliser](../../adapters-and-accelerators/adapter-oracle-database/reuse-oracle-database-adapter-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="19759-324">For more information about binding files, see [Reuse Oracle Database Adapter bindings](../../adapters-and-accelerators/adapter-oracle-database/reuse-oracle-database-adapter-bindings.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="19759-325">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="19759-325">See Also</span></span>  
 [<span data-ttu-id="19759-326">Base de données Oracle interrogation à l’aide de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="19759-326">Poll Oracle Database using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-oracle-database/poll-oracle-database-using-biztalk-server.md)