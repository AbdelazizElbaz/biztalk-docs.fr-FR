---
title: "Vue d’ensemble du modèle de service WCF avec l’adaptateur de base de données Oracle | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- WCF service model, overview
- invoking operations
- WCF service, creating and implementing
ms.assetid: 8ed765e5-b5e6-46bd-bcd6-282219caf75d
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 100bacfeaf2e06d7ff491ec77f88e00980a96fa1
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="overview-of-the-wcf-service-model-with-the-oracle-database-adapter"></a><span data-ttu-id="7cf2f-102">Vue d’ensemble du modèle de service WCF avec l’adaptateur de base de données Oracle</span><span class="sxs-lookup"><span data-stu-id="7cf2f-102">Overview of the WCF service model with the Oracle Database adapter</span></span>
<span data-ttu-id="7cf2f-103">Lorsque vous consommez des opérations qui les [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] surfaces, votre code agit comme un client ou un service à l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-103">When you consume operations that the [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] surfaces, your code acts either as a client or a service to the adapter.</span></span> <span data-ttu-id="7cf2f-104">Pour presque toutes les opérations qui les [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] surfaces, votre code est le client.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-104">For almost all of the operations that the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] surfaces, your code is the client.</span></span> <span data-ttu-id="7cf2f-105">Autrement dit, votre application appelle l’opération sur la carte ; par exemple insérer des enregistrements dans une table Oracle.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-105">That is, your application invokes the operation on the adapter; for example to insert records into an Oracle table.</span></span> <span data-ttu-id="7cf2f-106">La seule opération pour laquelle votre code fonctionne comme un service à le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] est pour l’opération POLLINGSMT.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-106">The only operation for which your code acts as a service to the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] is for the POLLINGSMT operation.</span></span> <span data-ttu-id="7cf2f-107">Dans ce cas, l’adaptateur envoie les résultats de l’opération de requête d’interrogation à votre application.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-107">In this case, the adapter sends the results of the polling query operation to your application.</span></span>  
  
 <span data-ttu-id="7cf2f-108">Dans la [!INCLUDE[firstref_btsWinCommFoundation](../../includes/firstref-btswincommfoundation-md.md)] modèle de service, le contrat de service qui existe entre un client et un service est représenté sous la forme d’une interface .NET et les opérations sont représentées en tant que méthodes sur cette interface.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-108">In the [!INCLUDE[firstref_btsWinCommFoundation](../../includes/firstref-btswincommfoundation-md.md)] service model, the service contract that exists between a client and a service is represented as a .NET interface, and operations are represented as methods on this interface.</span></span> <span data-ttu-id="7cf2f-109">Le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] et WCF fournissent des outils qui vous permettent de générer cette interface pour les opérations ciblées à partir des métadonnées qui expose de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-109">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] and WCF provide tools that enable you to generate this interface for targeted operations from the metadata that the adapter exposes.</span></span> <span data-ttu-id="7cf2f-110">Ces outils créent également une classe de client WCF qui peut être utilisée pour appeler les opérations exposées dans l’interface de service.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-110">These tools also create a WCF client class that can be used to invoke the operations exposed in the service interface.</span></span> <span data-ttu-id="7cf2f-111">Une application cliente peut appeler les méthodes de la classe de client WCF pour appeler des opérations sur la carte.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-111">A client application can call the methods of the WCF client class to invoke operations on the adapter.</span></span> <span data-ttu-id="7cf2f-112">Pour implémenter un service pour la réception de l’opération POLLINGSTMT le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], vous implémentez l’interface générée pour l’opération POLLINGSTMT.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-112">To implement a service to receive the POLLINGSTMT operation from the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], you implement the interface generated for the POLLINGSTMT operation.</span></span>  
  
 <span data-ttu-id="7cf2f-113">Les sections suivantes expliquent comment utiliser le modèle de service WCF pour créer un code client et le service pour le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7cf2f-113">The following sections explain how to use the WCF service model to create client and service code for the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span>  
  
## <a name="creating-and-invoking-operations-on-a-wcf-client-by-using-the-oracle-database-adapter"></a><span data-ttu-id="7cf2f-114">Création et l’appel d’opérations sur un Client WCF à l’aide de l’adaptateur de base de données Oracle</span><span class="sxs-lookup"><span data-stu-id="7cf2f-114">Creating and Invoking Operations on a WCF Client by Using the Oracle Database Adapter</span></span>  
 <span data-ttu-id="7cf2f-115">Pour utiliser le modèle de service WCF pour appeler des opérations sur le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], vous devez commencer par générer une classe de client WCF pour les opérations de la cible.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-115">To use the WCF service model to invoke operations on the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], you must first generate a WCF client class for the target operations.</span></span> <span data-ttu-id="7cf2f-116">Vous pouvez ensuite créer une instance de cette classe, un client WCF et appeler ses méthodes pour effectuer des opérations sur la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-116">You can then create an instance of this class, a WCF client, and call its methods to perform operations on the Oracle database.</span></span>  
  
#### <a name="to-invoke-operations-on-the-oracle-database-adapter"></a><span data-ttu-id="7cf2f-117">Pour appeler des opérations sur la carte de base de données Oracle</span><span class="sxs-lookup"><span data-stu-id="7cf2f-117">To invoke operations on the Oracle Database adapter</span></span>  
  
1.  <span data-ttu-id="7cf2f-118">Générer un code de classe et d’assistance de client WCF.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-118">Generate a WCF client class and helper code.</span></span> <span data-ttu-id="7cf2f-119">Utilisez le [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)] ou le service Model Metadata Utility Tool (svcutil.exe) pour générer une classe de client WCF ciblée sur les artefacts de base de données Oracle avec lequel vous souhaitez travailler.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-119">Use the [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)] or the ServiceModel Metadata Utility Tool (svcutil.exe) to generate a WCF client class targeted at the Oracle database artifacts with which you want to work.</span></span> <span data-ttu-id="7cf2f-120">Pour plus d’informations sur la façon de générer un client WCF, consultez [génération d’un Client WCF ou un contrat de Service WCF pour les artefacts de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/create-a-wcf-client-or-wcf-service-contract-for-oracle-db-solution-artifacts.md).</span><span class="sxs-lookup"><span data-stu-id="7cf2f-120">For more information about how to generate a WCF client, see [Generating a WCF Client or a WCF Service Contract for Oracle Database Artifacts](../../adapters-and-accelerators/adapter-oracle-database/create-a-wcf-client-or-wcf-service-contract-for-oracle-db-solution-artifacts.md).</span></span>  
  
2.  <span data-ttu-id="7cf2f-121">Créez une instance du client WCF en spécifiant une liaison de client.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-121">Create a WCF client instance by specifying a client binding.</span></span> <span data-ttu-id="7cf2f-122">Spécification d’une liaison de client implique la spécification de la liaison et l’adresse de point de terminaison utilisé par le client WCF.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-122">Specifying a client binding involves specifying the binding and endpoint address that the WCF client will use.</span></span> <span data-ttu-id="7cf2f-123">Ce faire, vous pouvez soit impérativement dans du code ou de façon déclarative dans la configuration.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-123">You can do this either imperatively in code or declaratively in configuration.</span></span> <span data-ttu-id="7cf2f-124">Pour plus d’informations sur la façon de spécifier une liaison de client, consultez [configurer un client de liaison pour la base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/configure-a-client-binding-for-the-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="7cf2f-124">For more information about how to specify a client binding, see [Configure a client binding for the Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/configure-a-client-binding-for-the-oracle-database.md).</span></span> <span data-ttu-id="7cf2f-125">Le code suivant crée un client WCF qui peut être utilisé pour effectuer des opérations de data manipulation language (DML) sur une table de base de données Oracle (/ SCOTT/ACCOUNTACTIVITY).</span><span class="sxs-lookup"><span data-stu-id="7cf2f-125">The following code creates a WCF client that can be used to perform data manipulation language (DML) operations on an Oracle database table (/SCOTT/ACCOUNTACTIVITY).</span></span> <span data-ttu-id="7cf2f-126">Il définit également les informations d’identification pour la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-126">It also sets the credentials for the Oracle database.</span></span> <span data-ttu-id="7cf2f-127">Le client WCF est initialisé à partir de la configuration.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-127">The WCF client is initialized from configuration.</span></span>  
  
    ```  
    SCOTTTableACCOUNTACTIVITYClient aaTableClient =   
        new SCOTTTableACCOUNTACTIVITYClient("OracleDBBinding_SCOTT.Table.ACCOUNTACTIVITY");  
  
    aaTableClient.ClientCredentials.UserName.UserName = "SCOTT";  
    aaTableClient.ClientCredentials.UserName.Password = "TIGER";  
    ```  
  
3.  <span data-ttu-id="7cf2f-128">Ouvrez le client WCF.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-128">Open the WCF client.</span></span>  
  
    ```  
    aaTableClient.Open();  
    ```  
  
4.  <span data-ttu-id="7cf2f-129">Appeler des méthodes sur le client WCF créé à l’étape 2 pour effectuer des opérations sur la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-129">Invoke methods on the WCF client created in step 2 to perform operations on the Oracle database.</span></span> <span data-ttu-id="7cf2f-130">Le code suivant appelle la **sélectionnez** méthode du client WCF pour effectuer la requête SQL SELECT suivante sur la table ACCOUNTACTIVITY : `SELECT * FROM ACCOUNTACTIVITY`.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-130">The following code invokes the **Select** method of the WCF client to perform the following SQL SELECT query on the ACCOUNTACTIVITY table: `SELECT * FROM ACCOUNTACTIVITY`.</span></span>  
  
    ```  
    // create a record set parameter to hold the SELECT query result set and invoke the Select operation;  
    microsoft.lobservices.oracledb._2007._03.SCOTT.Table.ACCOUNTACTIVITY.ACCOUNTACTIVITYRECORDSELECT[] selectRecords;  
    selectRecords = aaTableClient.Select("*", null);  
    ```  
  
5.  <span data-ttu-id="7cf2f-131">Fermez le client WCF.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-131">Close the WCF client.</span></span>  
  
    ```  
    aaTableClient.Close();  
    ```  
  
 <span data-ttu-id="7cf2f-132">Pour plus d’informations sur l’exécution d’opérations DML sur les tables et vues, y compris l’opération Select ci-dessus, consultez [effectuant base opérations d’insertion, mise à jour, supprimer et sélectionnez à l’aide du modèle de Service WCF](../../adapters-and-accelerators/adapter-oracle-database/insert-update-delete-select-operations-in-oracle-db-using-a-wcf-service.md).</span><span class="sxs-lookup"><span data-stu-id="7cf2f-132">For more information about performing DML operations on tables and views, including the Select operation used above, see [Performing Basic Insert, Update, Delete, and Select Operations by Using the WCF Service Model](../../adapters-and-accelerators/adapter-oracle-database/insert-update-delete-select-operations-in-oracle-db-using-a-wcf-service.md).</span></span>  
  
## <a name="creating-and-implementing-a-wcf-service-by-using-the-oracle-database-adapter"></a><span data-ttu-id="7cf2f-133">Création et implémentation d’un Service WCF à l’aide de l’adaptateur de base de données Oracle</span><span class="sxs-lookup"><span data-stu-id="7cf2f-133">Creating and Implementing a WCF Service by Using the Oracle Database Adapter</span></span>  
 <span data-ttu-id="7cf2f-134">Le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] peut effectuer d’interrogation sur une table de base de données Oracle ou la vue.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-134">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] can perform polling on an Oracle database table or view.</span></span> <span data-ttu-id="7cf2f-135">Cette fonctionnalité vous permet de spécifier une requête SQL SELECT que l’adaptateur doit s’exécuter régulièrement par rapport à la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-135">This functionality lets you specify a SQL SELECT query that the adapter should execute periodically against the Oracle database.</span></span> <span data-ttu-id="7cf2f-136">Les résultats de cette requête sont retournés à votre application via une opération particulière, l’opération POLLINGSTMT.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-136">The results of this query are returned to your application through a special operation, the POLLINGSTMT operation.</span></span> <span data-ttu-id="7cf2f-137">Pour recevoir les résultats de la requête d’interrogation, votre application doit implémenter le service de contrat qui la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] expose pour l’opération POLLINGSTMT.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-137">To receive the results of the polling query, your application must implement the service contract that the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] exposes for the POLLINGSTMT operation.</span></span>  
  
 <span data-ttu-id="7cf2f-138">Pour implémenter un service pour l’opération POLLINGSTMT de réception, vous devez tout d’abord générer l’interface .NET (également appelé le contrat de service WCF) qui représente le contrat de service exposé par le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] pour l’opération POLLINGSTMT.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-138">To implement a service to receive the POLLINGSTMT operation, you must first generate the .NET interface (also called the WCF service contract) that represents the service contract exposed by the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] for the POLLINGSTMT operation.</span></span> <span data-ttu-id="7cf2f-139">Pour plus d’informations, consultez [génération d’un Client WCF ou un contrat de Service WCF pour les artefacts de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/create-a-wcf-client-or-wcf-service-contract-for-oracle-db-solution-artifacts.md).</span><span class="sxs-lookup"><span data-stu-id="7cf2f-139">For more information about how to do this, see [Generating a WCF Client or a WCF Service Contract for Oracle Database Artifacts](../../adapters-and-accelerators/adapter-oracle-database/create-a-wcf-client-or-wcf-service-contract-for-oracle-db-solution-artifacts.md).</span></span>  
  
 <span data-ttu-id="7cf2f-140">Ensuite, vous implémentez un service WCF en implémentant l’interface générée.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-140">Then you implement a WCF service by implementing the generated interface.</span></span> <span data-ttu-id="7cf2f-141">Cette classe contient la logique métier pour traiter le message POLLINGSTMT et renvoyer une réponse à la carte.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-141">This class contains the business logic to process the POLLINGSTMT message and return a response to the adapter.</span></span> <span data-ttu-id="7cf2f-142">Puis vous utilisez un hôte de service (**System.ServiceModel.ServiceHost**) pour héberger une instance de ce service.</span><span class="sxs-lookup"><span data-stu-id="7cf2f-142">Then you use a service host (**System.ServiceModel.ServiceHost**) to host an instance of this service.</span></span> <span data-ttu-id="7cf2f-143">Pour plus d’informations, consultez [Messages basés sur la réception d’interrogation de données modifiées à l’aide du modèle de Service WCF](../../adapters-and-accelerators/adapter-oracle-database/receive-polling-based-data-changed-messages-in-oracle-db-using-a-wcf-service.md).</span><span class="sxs-lookup"><span data-stu-id="7cf2f-143">For more detailed information, see [Receiving Polling-based Data-changed Messages by Using the WCF Service Model](../../adapters-and-accelerators/adapter-oracle-database/receive-polling-based-data-changed-messages-in-oracle-db-using-a-wcf-service.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7cf2f-144">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="7cf2f-144">See Also</span></span>  
 [<span data-ttu-id="7cf2f-145">Développer des Applications de base de données Oracle à l’aide du modèle de Service WCF</span><span class="sxs-lookup"><span data-stu-id="7cf2f-145">Develop Oracle Database Applications by Using the WCF Service Model</span></span>](../../adapters-and-accelerators/adapter-oracle-database/develop-oracle-database-applications-using-the-wcf-service-model.md)