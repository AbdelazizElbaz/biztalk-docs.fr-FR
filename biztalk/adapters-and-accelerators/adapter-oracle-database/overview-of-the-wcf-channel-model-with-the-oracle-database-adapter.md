---
title: Vue d’ensemble du modèle de canal WCF avec l’adaptateur de base de données Oracle | Documents Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- WCF channel model, overview
ms.assetid: 4712ba62-8360-475c-b2e4-422e499eca21
caps.latest.revision: 5
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 94cb4b8cfdb0315b55aa88ddd385396ff967b8f6
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="overview-of-the-wcf-channel-model-with-the-oracle-database-adapter"></a><span data-ttu-id="25c31-102">Vue d’ensemble du modèle de canal WCF avec l’adaptateur de base de données Oracle</span><span class="sxs-lookup"><span data-stu-id="25c31-102">Overview of the WCF channel model with the Oracle Database adapter</span></span>
<span data-ttu-id="25c31-103">Pour appeler des opérations sur le [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)], votre code se comporte comme un client WCF et envoie les opérations sortantes à l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="25c31-103">To invoke operations on the [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)], your code acts as a WCF client and sends outbound operations to the adapter.</span></span> <span data-ttu-id="25c31-104">Dans le modèle de canal WCF, votre code appelle les opérations sur la carte en envoyant un message de demande sur un canal.</span><span class="sxs-lookup"><span data-stu-id="25c31-104">In the WCF channel model, your code invokes operations on the adapter by sending a request message over a channel.</span></span>  
  
 <span data-ttu-id="25c31-105">Pour appeler des opérations entrantes, telles qu’entrant d’interrogation de messages basés sur Modification de données à l’aide de l’opération de POLLINGSTMT fournie par l’adaptateur, votre code fonctionne comme un service WCF et reçoit l’opération entrante à partir de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="25c31-105">To invoke inbound operations, such as receiveing polling-based data-changed messages using the POLLINGSTMT operation provided by the adapter, your code acts as a WCF service and receives the inbound operation from the adapter.</span></span> <span data-ttu-id="25c31-106">En d’autres termes, votre code reçoit un message de demande de l’adaptateur sur un canal.</span><span class="sxs-lookup"><span data-stu-id="25c31-106">In other words, your code receives a request message from the adapter over a channel.</span></span>  
  
 <span data-ttu-id="25c31-107">Les rubriques de cette section fournissent une vue d’ensemble de l’utilisation de la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] avec le modèle de canal WCF.</span><span class="sxs-lookup"><span data-stu-id="25c31-107">The topics in this section provide an overview of using the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] with the WCF channel model.</span></span>  
  
## <a name="wcf-channel-model-overview"></a><span data-ttu-id="25c31-108">Vue d’ensemble du modèle de canal WCF</span><span class="sxs-lookup"><span data-stu-id="25c31-108">WCF Channel Model Overview</span></span>  
 <span data-ttu-id="25c31-109">Les services et les clients communiquent en échangeant des messages SOAP.</span><span class="sxs-lookup"><span data-stu-id="25c31-109">Clients and services communicate by exchanging SOAP messages.</span></span> <span data-ttu-id="25c31-110">Le modèle de canal WCF est une abstraction de bas niveau de l’échange de messages.</span><span class="sxs-lookup"><span data-stu-id="25c31-110">The WCF channel model is a low-level abstraction of this message exchange.</span></span> <span data-ttu-id="25c31-111">Il fournit des interfaces et des types qui vous permettent d’envoyer et recevoir des messages à l’aide d’une pile de protocole en couche appelée une pile de canaux.</span><span class="sxs-lookup"><span data-stu-id="25c31-111">It provides interfaces and types that enable you to send and receive messages by using a layered protocol stack called a channel stack.</span></span> <span data-ttu-id="25c31-112">Chaque couche de la pile est composé d’un canal, et chaque canal est créé à partir d’une liaison WCF.</span><span class="sxs-lookup"><span data-stu-id="25c31-112">Each layer of the stack is composed of a channel, and each channel is created from a WCF binding.</span></span> <span data-ttu-id="25c31-113">Au niveau de la couche la plus basse est le canal de transport.</span><span class="sxs-lookup"><span data-stu-id="25c31-113">At the lowest layer is the transport channel.</span></span> <span data-ttu-id="25c31-114">Le canal de transport implémente le mécanisme de transport sous-jacent entre un service et un client et présente chaque message vers les couches supérieures (et, finalement, l’application consommatrice) comme un **System.ServiceModel.Message**.</span><span class="sxs-lookup"><span data-stu-id="25c31-114">The transport channel implements the underlying transport mechanism between a service and a client and presents each message to the higher layers (and ultimately the consuming application) as a **System.ServiceModel.Message**.</span></span> <span data-ttu-id="25c31-115">WCF **Message** classe est une abstraction d’un message SOAP.</span><span class="sxs-lookup"><span data-stu-id="25c31-115">The WCF **Message** class is an abstraction of a SOAP message.</span></span> <span data-ttu-id="25c31-116">WCF fournit plusieurs interfaces de canal, appelés formes de canal, qui modèlent les SOAP message exchange modèles de base, telles que demande-réponse ou unidirectionnel.</span><span class="sxs-lookup"><span data-stu-id="25c31-116">WCF provides several channel interfaces, called channel shapes, that model the basic SOAP message exchange patterns, such as request-reply or one-way.</span></span> <span data-ttu-id="25c31-117">Un transport WCF liaison fournit une implémentation d’un ou plusieurs formes de canal supérieur couches peuvent utiliser pour envoyer et recevoir des messages.</span><span class="sxs-lookup"><span data-stu-id="25c31-117">A WCF transport binding provides an implementation of one or more channel shapes that higher layers can use to send and receive messages.</span></span> <span data-ttu-id="25c31-118">Pour plus d’informations sur le modèle de canal WCF, consultez [vue d’ensemble du modèle de canal](https://msdn.microsoft.com/library/ms729840.aspx).</span><span class="sxs-lookup"><span data-stu-id="25c31-118">For more information about the WCF channel model, see [Channel Model Overview](https://msdn.microsoft.com/library/ms729840.aspx).</span></span>   
  
 <span data-ttu-id="25c31-119">Le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] est une liaison de transport personnalisé WCF qui expose une base de données Oracle en tant qu’un service WCF.</span><span class="sxs-lookup"><span data-stu-id="25c31-119">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] is a WCF custom transport binding that exposes an Oracle database as a WCF service.</span></span>  
  
## <a name="supported-channel-shapes-for-the-oracle-database-adapter"></a><span data-ttu-id="25c31-120">Prise en charge des formes de canal pour l’adaptateur de base de données Oracle</span><span class="sxs-lookup"><span data-stu-id="25c31-120">Supported Channel Shapes for the Oracle Database Adapter</span></span>  
 <span data-ttu-id="25c31-121">L’adaptateur implémente les formes de canal WCF suivantes :</span><span class="sxs-lookup"><span data-stu-id="25c31-121">The adapter implements the following WCF channel shapes:</span></span>  
  
-   <span data-ttu-id="25c31-122">**IRequestChannel** (**System.ServiceModel.Channels.IRequestChannel**).</span><span class="sxs-lookup"><span data-stu-id="25c31-122">**IRequestChannel** (**System.ServiceModel.Channels.IRequestChannel**).</span></span> <span data-ttu-id="25c31-123">Le **IRequestChannel** interface implémente le côté client d’un échange de messages de demande-réponse.</span><span class="sxs-lookup"><span data-stu-id="25c31-123">The **IRequestChannel** interface implements the client side of a request-reply message exchange.</span></span> <span data-ttu-id="25c31-124">Vous pouvez utiliser un **IRequestChannel** pour effectuer des opérations pour lesquelles vous souhaitez utiliser une réponse, par exemple, pour effectuer une sélection de requête sur une table Oracle.</span><span class="sxs-lookup"><span data-stu-id="25c31-124">You can use an **IRequestChannel** to perform operations for which you want to consume a response, for example to perform a SELECT query on an Oracle table.</span></span>  
  
-   <span data-ttu-id="25c31-125">**IOutputChannel** (**System.ServiceModel.Channels.IOutputChannel**).</span><span class="sxs-lookup"><span data-stu-id="25c31-125">**IOutputChannel** (**System.ServiceModel.Channels.IOutputChannel**).</span></span> <span data-ttu-id="25c31-126">Cette forme implémente le côté client d’un échange de messages unidirectionnels.</span><span class="sxs-lookup"><span data-stu-id="25c31-126">This shape implements the client side of a one-way message exchange.</span></span> <span data-ttu-id="25c31-127">Vous pouvez utiliser un **IOutputChannel** pour appeler une opération pour laquelle vous n’avez pas besoin de consommer une réponse, par exemple, pour appeler une procédure d’Oracle qui n’a aucun paramètre de sortie.</span><span class="sxs-lookup"><span data-stu-id="25c31-127">You can use an **IOutputChannel** to invoke an operation for which you do not need to consume a response, for example to call an Oracle procedure that has no OUT parameters.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="25c31-128">Tous les appels sous-jacente par l’adaptateur pour le client Oracle sont synchrones.</span><span class="sxs-lookup"><span data-stu-id="25c31-128">All underlying calls by the adapter to the Oracle client are synchronous.</span></span> <span data-ttu-id="25c31-129">Cela inclut les appels au client d’Oracle qui sont le résultat des opérations appelé sur un **IOutputChannel**.</span><span class="sxs-lookup"><span data-stu-id="25c31-129">This includes calls to the Oracle client that are the result of operations invoked over an **IOutputChannel**.</span></span> <span data-ttu-id="25c31-130">Lorsque vous utilisez un **IOutputChannel**, l’adaptateur rejette la réponse reçue à partir du client Oracle.</span><span class="sxs-lookup"><span data-stu-id="25c31-130">When you use an **IOutputChannel**, the adapter discards the response received from the Oracle client.</span></span>  
  
-   <span data-ttu-id="25c31-131">**IInputChannel** (**System.ServiceModel.Channels.IInputChannel**).</span><span class="sxs-lookup"><span data-stu-id="25c31-131">**IInputChannel** (**System.ServiceModel.Channels.IInputChannel**).</span></span> <span data-ttu-id="25c31-132">Cette forme implémente le côté service, d’un échange de messages unidirectionnels.</span><span class="sxs-lookup"><span data-stu-id="25c31-132">This shape implements the service side of a one-way message exchange.</span></span> <span data-ttu-id="25c31-133">Vous utilisez un **IInputChannel** pour recevoir des messages pour les opérations entrantes à partir de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="25c31-133">You use an **IInputChannel** to receive messages for inbound operations from the adapter.</span></span>  
  
 <span data-ttu-id="25c31-134">Comme toute liaison WCF, le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] utilise un modèle de fabrique pour fournir des canaux pour le code d’application.</span><span class="sxs-lookup"><span data-stu-id="25c31-134">Like any WCF binding, the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] uses a factory pattern to provide channels to application code.</span></span> <span data-ttu-id="25c31-135">Vous utilisez un **Microsoft.Adapters.OracleDBBinding** pour créer des instances d’objet :</span><span class="sxs-lookup"><span data-stu-id="25c31-135">You use a **Microsoft.Adapters.OracleDBBinding** object to create instances of:</span></span>  
  
-   <span data-ttu-id="25c31-136">**System.ServiceModel.ChannelFactory\<IRequestChannel\>**  pour fournir **IRequestChannel** canaux, vous pouvez utiliser pour appeler des opérations de requête-réponse sur la carte.</span><span class="sxs-lookup"><span data-stu-id="25c31-136">**System.ServiceModel.ChannelFactory\<IRequestChannel\>** to provide **IRequestChannel** channels you can use to invoke request-response operations on the adapter.</span></span>  
  
-   <span data-ttu-id="25c31-137">**System.ServiceModel.ChannelFactory\<IOutputChannel\>**  pour fournir **IOutputChannel** canaux, vous pouvez utiliser pour appeler des opérations unidirectionnelles sur la carte.</span><span class="sxs-lookup"><span data-stu-id="25c31-137">**System.ServiceModel.ChannelFactory\<IOutputChannel\>** to provide **IOutputChannel** channels you can use to invoke one-way operations on the adapter.</span></span>  
  
-   <span data-ttu-id="25c31-138">**System.ServiceModel.IChannelListener\<IInputChannel\>**  pour fournir **IInputChannel** canaux, vous pouvez utiliser pour recevoir des messages entrants (par exemple, une opération POLLINGSTMT) de l’adaptateur .</span><span class="sxs-lookup"><span data-stu-id="25c31-138">**System.ServiceModel.IChannelListener\<IInputChannel\>** to provide **IInputChannel** channels you can use to receive inbound messages (e.g. POLLINGSTMT operation) from the adapter.</span></span>  
  
### <a name="creating-messages-for-the-oracle-database-adapter-in-the-wcf-channel-model"></a><span data-ttu-id="25c31-139">Création de Messages pour l’adaptateur de base de données Oracle dans le modèle de canal WCF</span><span class="sxs-lookup"><span data-stu-id="25c31-139">Creating Messages for the Oracle Database Adapter in the WCF Channel Model</span></span>  
 <span data-ttu-id="25c31-140">Dans WCF le **System.ServiceModel.Channels.Message** classe fournit une mémoire en représentation sous forme d’un message SOAP.</span><span class="sxs-lookup"><span data-stu-id="25c31-140">In WCF the **System.ServiceModel.Channels.Message** class provides an in memory representation of a SOAP message.</span></span> <span data-ttu-id="25c31-141">Vous créez un **Message** instance en appelant la méthode statique **Message.Create** (méthode).</span><span class="sxs-lookup"><span data-stu-id="25c31-141">You create a **Message** instance by invoking the static **Message.Create** method.</span></span>  
  
 <span data-ttu-id="25c31-142">Deux parties importantes du message SOAP que vous devez spécifier lorsque vous créez un **Message** instance à envoyer à la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="25c31-142">There are two important parts to the SOAP message that you must specify when you create a **Message** instance to send to the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span>  
  
-   <span data-ttu-id="25c31-143">L’action du message est une chaîne qui fait partie de l’en-tête du message SOAP.</span><span class="sxs-lookup"><span data-stu-id="25c31-143">The message action is a string that is part of the SOAP message header.</span></span> <span data-ttu-id="25c31-144">L’action du message identifie l’opération qui doit être appelée sur la base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="25c31-144">The message action identifies the operation that should be invoked on the Oracle database.</span></span> <span data-ttu-id="25c31-145">L’exemple suivant montre l’action du message spécifiée pour appeler l’opération Select sur la table/SCOTT/EMP : `http://Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/EMP/Select`.</span><span class="sxs-lookup"><span data-stu-id="25c31-145">The following shows the message action specified to invoke the Select operation on the /SCOTT/EMP table: `http://Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/EMP/Select`.</span></span>  
  
-   <span data-ttu-id="25c31-146">Le corps du message contient les données de paramètre pour l’opération.</span><span class="sxs-lookup"><span data-stu-id="25c31-146">The message body contains the parameter data for the operation.</span></span> <span data-ttu-id="25c31-147">Le corps du message est composé de code XML bien formé qui correspond au schéma de message attendu par le [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] pour l’opération demandée.</span><span class="sxs-lookup"><span data-stu-id="25c31-147">The message body is composed of well-formed XML that corresponds to the message schema expected by the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] for the requested operation.</span></span> <span data-ttu-id="25c31-148">Le corps du message suivant spécifie une opération Select sur SCOTT. Table EMP (sélectionnez \* à partir de EMP).</span><span class="sxs-lookup"><span data-stu-id="25c31-148">The following message body specifies a Select operation on the SCOTT.EMP table (SELECT \* FROM EMP).</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>  
    <Select xmlns="http://Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/EMP">  
        <COLUMN_NAMES>*</COLUMN_NAMES>  
    </Select>  
    ```  
  
 <span data-ttu-id="25c31-149">Pour plus d’informations sur la [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] schémas de message et les actions pour les opérations de message, consultez [Messages et des schémas de Message pour l’adaptateur BizTalk pour base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/messages-and-message-schemas-for-biztalk-adapter-for-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="25c31-149">For information about the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] message schemas and message actions for operations, see [Messages and Message Schemas for BizTalk Adapter for Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/messages-and-message-schemas-for-biztalk-adapter-for-oracle-database.md).</span></span>  
  
 <span data-ttu-id="25c31-150">Cela **créer** méthode est surchargée et offre de nombreuses options pour fournir le corps du message.</span><span class="sxs-lookup"><span data-stu-id="25c31-150">This **Create** method is overloaded and offers many different options for providing the message body.</span></span> <span data-ttu-id="25c31-151">Le code suivant montre comment créer un **Message** instance en utilisant un **XmlReader** pour fournir le corps du message.</span><span class="sxs-lookup"><span data-stu-id="25c31-151">The following code shows how to create a **Message** instance by using an **XmlReader** to supply the message body.</span></span> <span data-ttu-id="25c31-152">Dans ce code, le corps du message est lu à partir d’un fichier.</span><span class="sxs-lookup"><span data-stu-id="25c31-152">In this code, the message body is read from a file.</span></span>  
  
```  
XmlReader readerIn = XmlReader.Create("SelectAllActivity.xml");  
Message messageIn = Message.CreateMessage(MessageVersion.Default,  
    "http://Microsoft.LobServices.OracleDB/2007/03/SCOTT/Table/EMP/Select",  
    readerIn);  
```  
  
> [!IMPORTANT]
>  <span data-ttu-id="25c31-153">Vous devez fournir une action de message dans votre **Message** instance.</span><span class="sxs-lookup"><span data-stu-id="25c31-153">You must provide a message action in your **Message** instance.</span></span> <span data-ttu-id="25c31-154">Cela est généralement le cas lorsque le **Message** instance est créée.</span><span class="sxs-lookup"><span data-stu-id="25c31-154">This is typically done when the **Message** instance is created.</span></span>  
  
## <a name="streaming-support-for-lob-data-types-in-the-wcf-channel-model"></a><span data-ttu-id="25c31-155">Prise en charge de diffusion en continu pour les Types de données LOB dans le modèle de canal WCF</span><span class="sxs-lookup"><span data-stu-id="25c31-155">Streaming Support for LOB Data Types in the WCF Channel Model</span></span>  
 <span data-ttu-id="25c31-156">Diffusion en continu de bout en bout de types de données LOB est pris en charge pour certaines opérations exposées par l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="25c31-156">End-to-end streaming of LOB data types is supported for some operations surfaced by the adapter.</span></span> <span data-ttu-id="25c31-157">Pour ces opérations, comment créer et consommer les messages que vous envoyez et recevez sur le canal détermine si le flux est pris en charge sur les données LOB.</span><span class="sxs-lookup"><span data-stu-id="25c31-157">For these operations, how you create and consume the messages that you send and receive over the channel determines whether streaming is supported on the LOB data.</span></span>  
  
 <span data-ttu-id="25c31-158">Pour plus d’informations sur la façon dont [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] prend en charge la diffusion en continu des données LOB, consultez [diffusion en continu des types de données dans la carte de base de données Oracle](../../adapters-and-accelerators/adapter-oracle-database/streaming-large-object-data-types-in-oracle-database-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="25c31-158">For more information about how the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] supports streaming on LOB data, see [Streaming large object data types in Oracle Database adapter](../../adapters-and-accelerators/adapter-oracle-database/streaming-large-object-data-types-in-oracle-database-adapter.md).</span></span>  
  
 <span data-ttu-id="25c31-159">Pour plus d’informations sur l’implémentation de diffusion en continu dans votre code pour prendre en charge la diffusion en continu de bout en bout des données LOB de valeur de nœud, consultez [de diffusion en continu Oracle de base de données LOB données Types à l’aide du modèle de canal WCF](../../adapters-and-accelerators/adapter-oracle-database/streaming-oracle-database-lob-data-types-using-the-wcf-channel-model.md).</span><span class="sxs-lookup"><span data-stu-id="25c31-159">For more information about implementing node-value streaming in your code to support end-to-end streaming of LOB data, see [Streaming Oracle Database LOB Data Types Using the WCF Channel Model](../../adapters-and-accelerators/adapter-oracle-database/streaming-oracle-database-lob-data-types-using-the-wcf-channel-model.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="25c31-160">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="25c31-160">See Also</span></span>  
 [<span data-ttu-id="25c31-161">Développer des applications de base de données Oracle à l’aide du modèle de canal WCF</span><span class="sxs-lookup"><span data-stu-id="25c31-161">Develop Oracle Database applications using the WCF Channel Model</span></span>](../../adapters-and-accelerators/adapter-oracle-database/develop-oracle-database-applications-using-the-wcf-channel-model.md)