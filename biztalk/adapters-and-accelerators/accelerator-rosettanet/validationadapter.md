---
title: ValidationAdapter | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 5fe99350-14c0-4ddb-b257-af9a0c4258f6
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a325a561017c6efaf6d6aefe2e271c834c13a363
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="validationadapter"></a><span data-ttu-id="7cfb5-102">ValidationAdapter</span><span class="sxs-lookup"><span data-stu-id="7cfb5-102">ValidationAdapter</span></span>
<span data-ttu-id="7cfb5-103">L’exemple ValidationAdapter montre comment exécuter des règles de validation spéciales sur un message dans un processus public répondeur.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-103">The ValidationAdapter sample demonstrates how to run special validation rules on a message in a responder public process.</span></span> [!INCLUDE[btsCoName](../../includes/btsconame-md.md)]<span data-ttu-id="7cfb5-104">® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] en mode natif effectue la validation de l’envoi ou réception de pipeline et dans les orchestrations.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-104">® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] natively performs validation in the send or receive pipeline, and in orchestrations.</span></span> <span data-ttu-id="7cfb5-105">Si vous souhaitez effectuer une validation supplémentaire, vous pouvez créer un adaptateur de validation.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-105">If you want to perform additional validation, you can create a validation adapter.</span></span> <span data-ttu-id="7cfb5-106">La validation supplémentaire peut inclure la validation de champ croisé ou des règles de validation spécifique à l’entreprise que vous ne pouvez pas implémenter à l’aide d’un fichier XSD.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-106">The additional validation could include cross-field validation or business-specific validation rules that you cannot implement using an XSD.</span></span>  
  
 <span data-ttu-id="7cfb5-107">Vous pouvez créer un adaptateur de validation en ajoutant [!INCLUDE[btsCSharp](../../includes/btscsharp-md.md)] code à l’exemple ValidationAdapter, les interfaces de publication et en entrant la carte dans les propriétés de l’accord.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-107">You can create a validation adapter by adding [!INCLUDE[btsCSharp](../../includes/btscsharp-md.md)] code to the ValidationAdapter sample, publishing the interfaces, and entering the adapter into the agreement properties.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="7cfb5-108">appelle ensuite l’adaptateur de validation lors du traitement du message.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-108"> will then call the validation adapter during message processing.</span></span>  
  
 <span data-ttu-id="7cfb5-109">Étant donné que le ValidationAdapter est utilisé par l’orchestration de processus public, il s’exécute sous les mêmes informations d’identification que le service d’hôte BizTalk qui héberge cette orchestration.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-109">Since the ValidationAdapter is used by the public process orchestration , it runs under the same credentials as the BizTalk host service hosting that orchestration.</span></span>  
  
 <span data-ttu-id="7cfb5-110">L’exemple de ValidationAdapter se trouve dans \< *lecteur*\>: \Program Files\\ [!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk \<version\> Accelerator for RosettaNet\SDK\ ValidationAdapter.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-110">The ValidationAdapter sample is located in \<*drive*\>:\Program Files\\[!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk \<version\> Accelerator for RosettaNet\SDK\ValidationAdapter.</span></span>  
  
## <a name="demonstrates"></a><span data-ttu-id="7cfb5-111">Montre</span><span class="sxs-lookup"><span data-stu-id="7cfb5-111">Demonstrates</span></span>  
 <span data-ttu-id="7cfb5-112">L’exemple ValidationAdapter illustre la validation de l’adresse de messagerie dans le contenu du service.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-112">The ValidationAdapter sample demonstrates validation of the e-mail address in the service content.</span></span> <span data-ttu-id="7cfb5-113">L’exemple implémente la `IValidateRNIFMessageParts` interface.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-113">The sample implements the `IValidateRNIFMessageParts` interface.</span></span> <span data-ttu-id="7cfb5-114">Elle retourne un `RNIFException` si l’adresse de messagerie n’est pas dans le format correct.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-114">It returns an `RNIFException` if the e-mail address is not in the correct format.</span></span> <span data-ttu-id="7cfb5-115">Les documents XML **preambleToValidate**, **serviceHeaderToValidate**, **deliveryHeaderToValidate**, et **serviceContentToValidate**définir la validation.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-115">The XML documents **preambleToValidate**, **serviceHeaderToValidate**, **deliveryHeaderToValidate**, and **serviceContentToValidate** define the validation.</span></span>  
  
 <span data-ttu-id="7cfb5-116">Le ValidationAdapter utilise la propriété RNIFerror.IsOkToSendException pour déterminer le type de message à envoyer en cas d’erreur.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-116">The ValidationAdapter uses the RNIFerror.IsOkToSendException property to determine what kind of message to send in the event of an error.</span></span> <span data-ttu-id="7cfb5-117">Si la validation ne réussit pas, le ValidationAdapter définit RNIFerror.ErrorCode sur une valeur différente de zéro.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-117">If validation does not succeed, the ValidationAdapter sets RNIFerror.ErrorCode to a non-zero value.</span></span> <span data-ttu-id="7cfb5-118">Si la propriété de RNIFerror.IsOkToSendException est true, le processus envoie un accusé de réception négatif.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-118">If RNIFerror.IsOkToSendException property is true, the process sends a negative acknowledgment.</span></span> <span data-ttu-id="7cfb5-119">Pour RNIF 2.0, il s’agit d’un message d’exception.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-119">For RNIF 2.0, this is an exception message.</span></span> <span data-ttu-id="7cfb5-120">Pour RNIF 1.1, il s’agit d’un message d’exception reçu d’accusé de réception.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-120">For RNIF 1.1, this is a receipt acknowledgment exception message.</span></span> <span data-ttu-id="7cfb5-121">Si la propriété RNIFerror.IsOkToSendException est false et 0 a 1 est configuré, le processus envoie un message de 0 a 1.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-121">If RNIFerror.IsOkToSendException property is false and 0A1 is configured, the process will send a 0A1 message.</span></span> <span data-ttu-id="7cfb5-122">Une fois le processus envoie un message d’exception, message d’exception reçu d’accusé de réception ou 0 a 1 message, il va se terminer.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-122">Once the process sends an exception message, receipt acknowledgment exception message, or 0A1 message, it will terminate.</span></span>  
  
 <span data-ttu-id="7cfb5-123">Si la propriété RNIFerror.IsOkToSendException est false et 0 a 1 n’est pas configuré, le processus envoie une exception, ni un 0 a 1.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-123">If RNIFerror.IsOkToSendException property is false and 0A1 is not configured, the process will send neither an exception nor a 0A1.</span></span> <span data-ttu-id="7cfb5-124">Il sera enregistrer l’erreur, puis se ferme.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-124">It will log the error and then terminate.</span></span>  
  
 <span data-ttu-id="7cfb5-125">Si la validation réussit, le ValidationAdapter définit RNIFerror.ErrorCode à 0 et BTARN achemine le message vers le processus privé.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-125">If validation succeeds, the ValidationAdapter sets RNIFerror.ErrorCode to 0, and BTARN routes the message to the private process.</span></span> <span data-ttu-id="7cfb5-126">Il achemine le message vers le processus privé uniquement si la validation est réussie.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-126">It routes the message to the private process only if validation is successful.</span></span>  
  
## <a name="to-implement-this-sample"></a><span data-ttu-id="7cfb5-127">Pour implémenter cet exemple</span><span class="sxs-lookup"><span data-stu-id="7cfb5-127">To Implement this Sample</span></span>  
 <span data-ttu-id="7cfb5-128">Pour implémenter l’exemple ValidationAdapter, vous devez ajouter l’adaptateur de validation de l’accord.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-128">To implement the ValidationAdapter sample, you must add the validation adapter to the agreement.</span></span>  
  
#### <a name="to-add-the-validation-adapter-to-the-agreement"></a><span data-ttu-id="7cfb5-129">Pour ajouter l’adaptateur de validation de l’accord</span><span class="sxs-lookup"><span data-stu-id="7cfb5-129">To add the validation adapter to the agreement</span></span>  
  
1.  <span data-ttu-id="7cfb5-130">Cliquez sur **Démarrer**, pointez sur **tous les programmes**, pointez sur [!INCLUDE[btsCoName](../../includes/btsconame-md.md)] [!INCLUDE[btaBTARNNoVersion](../../includes/btabtarnnoversion-md.md)], puis cliquez sur [!INCLUDE[btaBTARNNoVersionui](../../includes/btabtarnnoversionui-md.md)] **Console de gestion**.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-130">Click **Start**, point to **All Programs**, point to [!INCLUDE[btsCoName](../../includes/btsconame-md.md)][!INCLUDE[btaBTARNNoVersion](../../includes/btabtarnnoversion-md.md)], and then click [!INCLUDE[btaBTARNNoVersionui](../../includes/btabtarnnoversionui-md.md)] **Management Console**.</span></span>  
  
2.  <span data-ttu-id="7cfb5-131">Dans le [!INCLUDE[btaBTARNNoVersion](../../includes/btabtarnnoversion-md.md)] Management Console, développez [!INCLUDE[btaBTARNNoVersionui](../../includes/btabtarnnoversionui-md.md)], puis cliquez sur **accords**.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-131">In the [!INCLUDE[btaBTARNNoVersion](../../includes/btabtarnnoversion-md.md)] Management Console, expand [!INCLUDE[btaBTARNNoVersionui](../../includes/btabtarnnoversionui-md.md)], and then click **Agreements**.</span></span>  
  
3.  <span data-ttu-id="7cfb5-132">Double-cliquez sur l’accord auquel vous souhaitez ajouter l’adaptateur de validation.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-132">Double-click the agreement to which you want to add the validation adapter.</span></span>  
  
4.  <span data-ttu-id="7cfb5-133">Dans le **Validation adaptateur** boîte de dialogue, cliquez sur le bouton de sélection (**...** ) situé à droite de **nom de l’Assembly**, accédez à l’emplacement qui contient l’assembly d’adaptateur de validation, sélectionnez le fichier .dll approprié, puis cliquez sur **ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-133">In the **Validation Adapter** dialog box, click the ellipsis button (**...**) button to the right of **Assembly name**, move to the location that contains the validation adapter assembly, select the appropriate .dll file, and then click **Open**.</span></span>  
  
5.  <span data-ttu-id="7cfb5-134">Cliquez sur la flèche vers le bas pour **nom de la classe**, sélectionnez la classe d’adaptateur de validation, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="7cfb5-134">Click the down arrow for **Class Name**, select the validation adapter class, and then click **OK**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7cfb5-135">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="7cfb5-135">See Also</span></span>  
 [<span data-ttu-id="7cfb5-136">Exemples d’adaptateur</span><span class="sxs-lookup"><span data-stu-id="7cfb5-136">Adapter Samples</span></span>](../../adapters-and-accelerators/accelerator-rosettanet/adapter-samples.md)