---
title: "Création d’un Port d’envoi pour gérer orphelines ou des Messages en double | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- messages, duplicate messages
- messages, orphaned messages
- send ports, duplicate messages
- send ports, orphaned messages
- messages, send ports
ms.assetid: 61d51206-13e3-4d32-a184-866248db9b45
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d9a5e52197c81e86bac69603e72d294cfbcd6faa
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="creating-a-send-port-to-handle-orphan-or-duplicate-messages"></a><span data-ttu-id="5cf65-102">Création d’un Port d’envoi pour gérer orphelines ou des Messages en double</span><span class="sxs-lookup"><span data-stu-id="5cf65-102">Creating a Send Port to Handle Orphan or Duplicate Messages</span></span>
<span data-ttu-id="5cf65-103">Cette rubrique décrit comment configurer un port d’envoi que vous pouvez utiliser pour supprimer orphelines ou des messages en double.</span><span class="sxs-lookup"><span data-stu-id="5cf65-103">This topic describes how to set up a send port that you can use to delete orphan or duplicate messages.</span></span>  
  
 <span data-ttu-id="5cf65-104">Orphelines ou des messages en double peuvent être un problème si [!INCLUDE[btsCoName](../../includes/btsconame-md.md)]® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] reçoit des copies supplémentaires d’un message une fois l’orchestration de processus publics a terminé le traitement de la première copie du message.</span><span class="sxs-lookup"><span data-stu-id="5cf65-104">Orphan or duplicate messages can be a problem if [!INCLUDE[btsCoName](../../includes/btsconame-md.md)]® [!INCLUDE[BTARN_CurrentVersion_FirstRef](../../includes/btarn-currentversion-firstref-md.md)] receives additional copies of a message after the public-process orchestration has completed processing the first copy of the message.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="5cf65-105">marque les messages comme des doublons et les interrompt.</span><span class="sxs-lookup"><span data-stu-id="5cf65-105"> marks those messages as duplicates and suspends them.</span></span> <span data-ttu-id="5cf65-106">Vous pouvez afficher ces messages dans la Console Administration de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="5cf65-106">You can view these messages in the BizTalk Administration Console.</span></span> <span data-ttu-id="5cf65-107">Pour plus d’informations sur la Console Administration de BizTalk, consultez « À l’aide de la Console d’Administration BizTalk » dans le [!INCLUDE[btsBizTalkServer2006r3](../../includes/btsbiztalkserver2006r3-md.md)] aide.</span><span class="sxs-lookup"><span data-stu-id="5cf65-107">For more information about BizTalk Administration Console, see "Using the BizTalk Administration Console" in the [!INCLUDE[btsBizTalkServer2006r3](../../includes/btsbiztalkserver2006r3-md.md)] Help.</span></span>  
  
 <span data-ttu-id="5cf65-108">Orphelin ou des messages en double restent dans la Console Administration de BizTalk, jusqu'à ce que vous passez en revue ou les supprimer.</span><span class="sxs-lookup"><span data-stu-id="5cf65-108">Orphan or duplicate messages remain in the BizTalk Administration Console until you review or delete them.</span></span> <span data-ttu-id="5cf65-109">Il est le moyen le plus efficace de les supprimer pour configurer un port d’envoi avec les filtres définis pour orphelin ou des messages en double.</span><span class="sxs-lookup"><span data-stu-id="5cf65-109">The most effective way of deleting them is to set up a send port with filters set for orphan or duplicate messages.</span></span> <span data-ttu-id="5cf65-110">Vous pouvez les déplacer à l’aide de n’importe quel moyen de transport disponibles dans [!INCLUDE[btsBizTalkServer2006r3](../../includes/btsbiztalkserver2006r3-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5cf65-110">You can move them using any transportation means available in [!INCLUDE[btsBizTalkServer2006r3](../../includes/btsbiztalkserver2006r3-md.md)].</span></span> <span data-ttu-id="5cf65-111">Par exemple, vous pouvez les déplacer à l’aide du transport File.</span><span class="sxs-lookup"><span data-stu-id="5cf65-111">For example, you can move them by using File transport.</span></span> [!INCLUDE[btaBTARN3.3abbrevnonumber](../../includes/btabtarn3-3abbrevnonumber-md.md)]<span data-ttu-id="5cf65-112">envoie les messages en double orphelin sous forme de fichiers vers un emplacement sur un disque dur.</span><span class="sxs-lookup"><span data-stu-id="5cf65-112"> sends the orphan or duplicate messages as files to a location on a hard disk.</span></span> <span data-ttu-id="5cf65-113">Vous pouvez ainsi facilement la supprimer.</span><span class="sxs-lookup"><span data-stu-id="5cf65-113">This lets you to delete them easily.</span></span> <span data-ttu-id="5cf65-114">Le port peut être dans l’inscrit et arrêté état, dans laquelle les cas de tous les messages envoyés à ce dernier apparaît comme suspendu sous ce port d’envoi.</span><span class="sxs-lookup"><span data-stu-id="5cf65-114">The port can be in the enlisted and stopped state, in which case all messages sent to it will show as suspended under that send port.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5cf65-115">Au lieu de créer un port d’envoi pour traiter les messages en double et orphelines, vous pouvez créer un composant de pipeline spécial pour supprimer ces messages à partir de la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="5cf65-115">Instead of creating a send port to handle duplicate/orphan messages, you can create a special pipeline component to delete these messages from the MessageBox database.</span></span> <span data-ttu-id="5cf65-116">Vous pouvez utiliser le composant FixMsg dans le [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Kit de développement logiciel en tant que modèle.</span><span class="sxs-lookup"><span data-stu-id="5cf65-116">You can use the FixMsg component in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] SDK as a template.</span></span> <span data-ttu-id="5cf65-117">Vous devez modifier le `IComponent.Execute` méthode pour retourner une valeur null.</span><span class="sxs-lookup"><span data-stu-id="5cf65-117">You have to modify the `IComponent.Execute` method to return null.</span></span> <span data-ttu-id="5cf65-118">Cela entraîne [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] pour ignorer les messages envoyés à un pipeline qui contient le composant.</span><span class="sxs-lookup"><span data-stu-id="5cf65-118">This causes [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] to discard any message sent to a pipeline that contains the component.</span></span> <span data-ttu-id="5cf65-119">Vous devez compiler ce composant de pipeline et ajoutez-le à un pipeline d’envoi, puis le compiler, déployer et sélectionnez le pipeline d’envoi pour le port récepteur.</span><span class="sxs-lookup"><span data-stu-id="5cf65-119">You have to compile this pipeline component and add it to a send pipeline, and then compile, deploy, and select the send pipeline for the sink port.</span></span> <span data-ttu-id="5cf65-120">Pour plus d’informations, consultez « CustomComponent ([!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] exemple) » dans [!INCLUDE[btsBizTalkServer2006r3](../../includes/btsbiztalkserver2006r3-md.md)] aide.</span><span class="sxs-lookup"><span data-stu-id="5cf65-120">For more information, see "CustomComponent ([!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Sample)" in [!INCLUDE[btsBizTalkServer2006r3](../../includes/btsbiztalkserver2006r3-md.md)] Help.</span></span>  
  
### <a name="to-create-a-send-port-to-handle-orphan-or-duplicate-messages"></a><span data-ttu-id="5cf65-121">Pour créer un port d’envoi pour gérer orphelines ou des messages en double</span><span class="sxs-lookup"><span data-stu-id="5cf65-121">To create a send port to handle orphan or duplicate messages</span></span>  
  
1.  <span data-ttu-id="5cf65-122">Dans [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)], dans le **vue** menu, cliquez sur **l’Explorateur BizTalk**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-122">In [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)], on the **View** menu, click **BizTalk Explorer**.</span></span>  
  
2.  <span data-ttu-id="5cf65-123">Dans l’Explorateur BizTalk, développez **base de données de gestion BizTalk**, puis développez **Ports d’envoi**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-123">In BizTalk Explorer, expand **BizTalk Management Database**, and then expand **Send Ports**.</span></span>  
  
3.  <span data-ttu-id="5cf65-124">Cliquez avec le bouton droit sur **Ports d'envoi**, puis cliquez sur **Ajouter un port d'envoi**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-124">Right-click **Send Ports**, and then click **Add Send Port**.</span></span>  
  
4.  <span data-ttu-id="5cf65-125">Dans la fenêtre Créer un Port d’envoi, sélectionnez **Port statique unidirectionnel**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-125">In the Create New Send Port window, select **Static One-Way Port**, and then click **OK**.</span></span>  
  
5.  <span data-ttu-id="5cf65-126">Dans la fenêtre statique propriétés du Port d’envoi unidirectionnel, dans le **nom** , tapez un nom pour le port d’envoi.</span><span class="sxs-lookup"><span data-stu-id="5cf65-126">In the Static One-Way Send Port Properties window, in the **Name** box, type a name for the send port.</span></span>  
  
6.  <span data-ttu-id="5cf65-127">Dans le volet gauche, cliquez sur **Transport**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-127">In the left pane, click **Transport**.</span></span> <span data-ttu-id="5cf65-128">Dans le volet droit, cliquez sur **Type de Transport**, puis sélectionnez **fichier** pour le type de transport.</span><span class="sxs-lookup"><span data-stu-id="5cf65-128">In the right pane, click **Transport Type**, and select **FILE** for the transport type.</span></span> <span data-ttu-id="5cf65-129">Cliquez sur le bouton de sélection (...) à côté de **adresse (URI)**, tapez un emplacement sur votre disque dur, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-129">Click the ellipsis button (...) next to **Address (URI)**, type a location on your hard disk, and then click **OK**.</span></span>  
  
7.  <span data-ttu-id="5cf65-130">Dans le volet gauche, cliquez sur **envoyer**, cliquez sur **Pipeline d’envoi**, puis sélectionnez **Microsoft.BizTalk.DefaultPipelines.PassThruTransmit**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-130">In the left pane, click **Send**, click **Send Pipeline**, and then select **Microsoft.BizTalk.DefaultPipelines.PassThruTransmit**.</span></span>  
  
8.  <span data-ttu-id="5cf65-131">Dans le volet gauche, cliquez sur **filtre et mappe**, puis cliquez sur **filtres**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-131">In the left pane, click **Filters and Maps**, and then click **Filters**.</span></span>  
  
9. <span data-ttu-id="5cf65-132">Sur la première ligne dans le volet droit, pour **propriété**, sélectionnez **Microsoft.Solutions.BTARN.GlobalSchemas.IsDuplicateMessage** dans la liste déroulante, laissez le **opérateur**en tant que  **==** , entrez **True** pour **valeur**, puis sélectionnez **ou** dans la liste déroulante pour  **Groupe**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-132">On the first line in the right pane, for **Property**, select **Microsoft.Solutions.BTARN.GlobalSchemas.IsDuplicateMessage** from the drop-down list, leave the **Operator** as **==**, enter **True** for **Value**, and then select **Or** from the drop-down list for **Group**.</span></span>  
  
10. <span data-ttu-id="5cf65-133">Sur la deuxième ligne dans le volet droit, pour **propriété**, sélectionnez **Microsoft.Solutions.BTARN.GlobalSchemas.IsOrphanMessage** dans la liste déroulante, laissez le **opérateur**en tant que  **==** , puis entrez **True** pour **valeur**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-133">On the second line in the right pane, for **Property**, select **Microsoft.Solutions.BTARN.GlobalSchemas.IsOrphanMessage** from the drop-down list, leave the **Operator** as **==**, and then enter **True** for **Value**.</span></span>  
  
11. <span data-ttu-id="5cf65-134">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-134">Click **OK**.</span></span>  
  
12. <span data-ttu-id="5cf65-135">Dans l’Explorateur BizTalk, cliquez sur le nom du port d’envoi, cliquez sur **Enlist**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-135">In BizTalk Explorer, right-click the name of the send port, click **Enlist**.</span></span> <span data-ttu-id="5cf65-136">Une fois que le port d’envoi a été inscrit, cliquez sur le port d’envoi, puis cliquez sur **Démarrer**.</span><span class="sxs-lookup"><span data-stu-id="5cf65-136">After the send port has been enlisted, right-click the send port, and then click **Start**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5cf65-137">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="5cf65-137">See Also</span></span>  
 [<span data-ttu-id="5cf65-138">Guide de programmation</span><span class="sxs-lookup"><span data-stu-id="5cf65-138">Programming Guide</span></span>](../../adapters-and-accelerators/accelerator-rosettanet/programming-guide2.md)