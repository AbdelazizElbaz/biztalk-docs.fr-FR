---
title: Activer la Validation des Codes d’identificateur Bank | Documents Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Bank Identifier Code (BIC), enabling
ms.assetid: d268a892-f304-44cb-b590-28ef359c8d99
caps.latest.revision: ''
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c3868906d4f61242b1344a02147e4e71307d67d3
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/28/2018
---
# <a name="enabling-validation-of-bank-identifier-codes"></a><span data-ttu-id="06764-102">Activer la Validation des Codes d’identificateur de banque</span><span class="sxs-lookup"><span data-stu-id="06764-102">Enabling Validation of Bank Identifier Codes</span></span>
[!INCLUDE[btsCoName](../../includes/btsconame-md.md)]<span data-ttu-id="06764-103"> [!INCLUDE[A4SWIFT_CurrentVersion_FirstRef](../../includes/a4swift-currentversion-firstref-md.md)] schémas de vous assurer que les Codes d’identificateur de banque (BICs) spécifiée dans le document d’échange SWIFT respectent le format de données définis par le SWIFT de BIC.</span><span class="sxs-lookup"><span data-stu-id="06764-103"> [!INCLUDE[A4SWIFT_CurrentVersion_FirstRef](../../includes/a4swift-currentversion-firstref-md.md)] schemas ensure that the Bank Identifier Codes (BICs) specified in the SWIFT interchange document conform to the SWIFT-defined BIC data format.</span></span> <span data-ttu-id="06764-104">A4SWIFT prend également en charge la validation des BICs par rapport à une liste BIC spécifié par le client dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="06764-104">A4SWIFT also supports validating the BICs against a customer-specified BIC list in a database.</span></span>  
  
 <span data-ttu-id="06764-105">Vous pouvez effectuer cette validation si vous avez activé la validation de BRE et puis activé la validation BIC.</span><span class="sxs-lookup"><span data-stu-id="06764-105">You can perform this validation if you have enabled BRE validation and then enabled BIC validation.</span></span>  
  
 <span data-ttu-id="06764-106">Par défaut, le programme d’installation A4SWIFT désactive la validation de BRE.</span><span class="sxs-lookup"><span data-stu-id="06764-106">By default, A4SWIFT Setup disables BRE validation.</span></span> <span data-ttu-id="06764-107">Pour l’activer, vous devez définir le paramètre de configuration de la validation BRE sur true pour un pipeline de réception qui utilise le désassembleur A4SWIFT.</span><span class="sxs-lookup"><span data-stu-id="06764-107">To enable it, you must set the BRE validation configuration parameter to true for a receive pipeline that uses the A4SWIFT disassembler.</span></span> <span data-ttu-id="06764-108">Vous devez également exécuter l’utilitaire de déploiement BRE pour déployer la stratégie principal et la stratégie de validation spécifique au message de validation (MT*xxx*_Master_policy.xml et MT*xxx*_Validation_Policy.xml).</span><span class="sxs-lookup"><span data-stu-id="06764-108">You must also run the BRE Deployment Utility to deploy the master policy and validation policy specific to the message to be validated (MT*xxx*_Master_policy.xml and MT*xxx*_Validation_Policy.xml).</span></span> <span data-ttu-id="06764-109">Pour plus d’informations, consultez [fonctionne avec les stratégies BRE](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md) et [BRE, les règles de déploiement](../../adapters-and-accelerators/accelerator-swift/deploying-bre-rules.md).</span><span class="sxs-lookup"><span data-stu-id="06764-109">For more information, see [Working with BRE Policies](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md) and [Deploying BRE Rules](../../adapters-and-accelerators/accelerator-swift/deploying-bre-rules.md).</span></span>  
  
 <span data-ttu-id="06764-110">Une fois que vous avez activé la validation BRE, vous devez utiliser publier et déployer les deux stratégies de validation BIC (BIC_Master_Policy.xml et BIC_Validation_Policy.xml) à l’aide de l’Assistant Déploiement du moteur de règles.</span><span class="sxs-lookup"><span data-stu-id="06764-110">After you have enabled BRE validation, you must use publish and deploy both BIC validation policies (BIC_Master_Policy.xml and BIC_Validation_Policy.xml) using the Rules Engine Deployment Wizard.</span></span> <span data-ttu-id="06764-111">Avant cela, vous devez procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="06764-111">Before doing so, you must do the following:</span></span>  
  
-   <span data-ttu-id="06764-112">Remplir la base de données avec les valeurs BIC de SWIFT.</span><span class="sxs-lookup"><span data-stu-id="06764-112">Populate the database with BIC values from SWIFT.</span></span> <span data-ttu-id="06764-113">Vous pouvez utiliser la table Bicplus dans la base de données A4SWIFT, qui est installé par le programme d’installation A4SWIFT, ou vous pouvez utiliser votre propre base de données personnalisée.</span><span class="sxs-lookup"><span data-stu-id="06764-113">You can use the Bicplus table in the A4SWIFT database, which is installed by A4SWIFT Setup, or you can use your own custom database.</span></span> <span data-ttu-id="06764-114">Pour plus d’informations, consultez [la gestion de la Table dans la base de données A4SWIFT Bicplus](../../adapters-and-accelerators/accelerator-swift/managing-the-bicplus-table-in-the-a4swift-database.md).</span><span class="sxs-lookup"><span data-stu-id="06764-114">For more information, see [Managing the Bicplus Table in the A4SWIFT Database](../../adapters-and-accelerators/accelerator-swift/managing-the-bicplus-table-in-the-a4swift-database.md).</span></span>  
  
-   <span data-ttu-id="06764-115">Définir la base de données BIC et activer la validation BIC en personnalisant la stratégie BIC principale.</span><span class="sxs-lookup"><span data-stu-id="06764-115">Set the BIC database and enable BIC validation by customizing the BIC Master Policy.</span></span> <span data-ttu-id="06764-116">Consultez la procédure ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="06764-116">See the procedure below.</span></span>  
  
 <span data-ttu-id="06764-117">Pour de meilleures performances, vous ne devez pas déployer les stratégies de validation BIC si la validation BIC n’est pas nécessaire.</span><span class="sxs-lookup"><span data-stu-id="06764-117">For better performance, you should not deploy the BIC validation policies if BIC validation is not required.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="06764-118">Vous pouvez publier et déployer la stratégie de validation BIC uniquement si vous avez publié les vocabulaires A4SWIFT_Codelist et A4SWIFT_Functions.</span><span class="sxs-lookup"><span data-stu-id="06764-118">You can publish and deploy the BIC validation policy only if you have published the A4SWIFT_Codelist and A4SWIFT_Functions vocabularies.</span></span> <span data-ttu-id="06764-119">Publier ces vocabulaires en exécutant l’utilitaire de déploiement du moteur BRE sur l’assembly SWIFTSchemas.</span><span class="sxs-lookup"><span data-stu-id="06764-119">Publish these vocabularies by running the BRE Deployment Utility on the SWIFTSchemas assembly.</span></span> <span data-ttu-id="06764-120">Pour plus d’informations, consultez [leçon 1 : déployer les règles d’entreprise connexes](../../adapters-and-accelerators/accelerator-swift/lesson-1-deploying-the-related-business-rules.md).</span><span class="sxs-lookup"><span data-stu-id="06764-120">For more information, see [Lesson 1: Deploying the Related Business Rules](../../adapters-and-accelerators/accelerator-swift/lesson-1-deploying-the-related-business-rules.md).</span></span>  
  
### <a name="to-customize-the-bic-master-policy"></a><span data-ttu-id="06764-121">Pour personnaliser la stratégie BIC principale</span><span class="sxs-lookup"><span data-stu-id="06764-121">To customize the BIC Master Policy</span></span>  
  
1.  <span data-ttu-id="06764-122">Ouvrez un éditeur XML (tel que bloc-notes) et accédez à  **< *lecteur*programme Files\Microsoft Microsoft BizTalk Accelerator pour SWIFT \<version\> Messages\ Pack\SWIFT de Message A4SWIFT-SRG\<version\>\Base stratégies**.</span><span class="sxs-lookup"><span data-stu-id="06764-122">Open an XML editor (such as Notepad), and browse to **<*drive*Program Files\ Microsoft BizTalk Accelerator for SWIFT \<version\> Message Pack\SWIFT Messages\A4SWIFT-SRG\<version\>\Base Policies**.</span></span>  
  
2.  <span data-ttu-id="06764-123">Ouvrez **BIC_Master_Policy.xml**.</span><span class="sxs-lookup"><span data-stu-id="06764-123">Open **BIC_Master_Policy.xml**.</span></span> <span data-ttu-id="06764-124">Remplacez les chaînes d’existants suivants avec les nouvelles valeurs.</span><span class="sxs-lookup"><span data-stu-id="06764-124">Replace the following existing strings with new values.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="06764-125">Vous devez entrer des valeurs pour la table Bicplus dans la base de données A4SWIFT ou votre propre base de données personnalisée.</span><span class="sxs-lookup"><span data-stu-id="06764-125">You must enter values for either the Bicplus table in the A4SWIFT database or your own custom database.</span></span> <span data-ttu-id="06764-126">La base de données A4SWIFT n’est pas la valeur par défaut dans BIC_Master_Policy.xml.</span><span class="sxs-lookup"><span data-stu-id="06764-126">The A4SWIFT database is not the default in BIC_Master_Policy.xml.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="06764-127">Les chaînes suivantes ne doivent pas figurer entre guillemets doubles.</span><span class="sxs-lookup"><span data-stu-id="06764-127">The following strings must not be contained within double quotes.</span></span>  
  
    |<span data-ttu-id="06764-128">Chaîne existante</span><span class="sxs-lookup"><span data-stu-id="06764-128">Existing string</span></span>|<span data-ttu-id="06764-129">Remplacer par</span><span class="sxs-lookup"><span data-stu-id="06764-129">Replace with</span></span>|  
    |---------------------|------------------|  
    |<span data-ttu-id="06764-130">**SPÉCIFIEZ LE NOM DU SERVEUR SQL**</span><span class="sxs-lookup"><span data-stu-id="06764-130">**SPECIFY SQL SERVER NAME**</span></span>|<span data-ttu-id="06764-131">Le nom de la [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] contenant la base de données contenant le code BIC.</span><span class="sxs-lookup"><span data-stu-id="06764-131">The name of the [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] containing the database holding the BIC.</span></span>|  
    |<span data-ttu-id="06764-132">**SPÉCIFIEZ LE NOM DE BASE DE DONNÉES BIC**</span><span class="sxs-lookup"><span data-stu-id="06764-132">**SPECIFY BIC DATABASE NAME**</span></span>|<span data-ttu-id="06764-133">Le nom de la base de données qui contient la table BIC.</span><span class="sxs-lookup"><span data-stu-id="06764-133">The name of the database that contains the BIC table.</span></span>|  
    |<span data-ttu-id="06764-134">**SPÉCIFIEZ LA VALEUR DE LA SÉCURITÉ INTÉGRÉE**</span><span class="sxs-lookup"><span data-stu-id="06764-134">**SPECIFY INTEGRATED SECURITY VALUE**</span></span>|<span data-ttu-id="06764-135">**SSPI**</span><span class="sxs-lookup"><span data-stu-id="06764-135">**SSPI**</span></span>|  
  
3.  <span data-ttu-id="06764-136">Enregistrer la stratégie modifiée de Master.</span><span class="sxs-lookup"><span data-stu-id="06764-136">Save the modified Master Policy.</span></span>  
  
4.  <span data-ttu-id="06764-137">Cliquez sur **Démarrer**, pointez sur **tous les programmes**, pointez sur **Microsoft**[!INCLUDE[btsBizTalkServer2006r3ui](../../includes/btsbiztalkserver2006r3ui-md.md)], puis cliquez sur **Assistant Déploiement du moteur des règles métier**.</span><span class="sxs-lookup"><span data-stu-id="06764-137">Click **Start**, point to **All Programs**, point to **Microsoft**[!INCLUDE[btsBizTalkServer2006r3ui](../../includes/btsbiztalkserver2006r3ui-md.md)], and then click **Business Rules Engine Deployment Wizard**.</span></span>  
  
5.  <span data-ttu-id="06764-138">Dans la page d’accueil, cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-138">On the Welcome page, click **Next**.</span></span>  
  
6.  <span data-ttu-id="06764-139">Dans la page de la tâche de déploiement, cliquez sur **importer et publier la stratégie/vocabulaire à base de données à partir du fichier**, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-139">On the Deployment Task page, click **Import and publish Policy/Vocabulary to database from file**, and then click **Next**.</span></span>  
  
7.  <span data-ttu-id="06764-140">Dans la page magasin de stratégies, dans **nom SQL Server**, sélectionnez le [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] qui contient vos bases de données BizTalk.</span><span class="sxs-lookup"><span data-stu-id="06764-140">On the Policy Store page, in **SQL Server Name**, select the [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] that contains your BizTalk databases.</span></span> <span data-ttu-id="06764-141">Dans **base de données de Configuration sur le serveur sélectionné**, sélectionnez **BizTalkRuleEngineDb**, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-141">In **Configuration Database on selected server**, select **BizTalkRuleEngineDb**, and then click **Next**.</span></span>  
  
8.  <span data-ttu-id="06764-142">Dans la page de fichier du moteur de règles d’importation stratégie/vocabulaire, accédez à  **< *lecteur*\Program Files\ Microsoft BizTalk Accelerator pour SWIFT \<version\> Pack\SWIFT de Message Messages\A4SWIFT-SRG\<version\>\Base stratégies**, cliquez sur **BIC_Master_Policy.xml**, cliquez sur **ouvrez**, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-142">In the Import Rules Engine Policy/Vocabulary file page, browse to **<*drive*\Program Files\ Microsoft BizTalk Accelerator for SWIFT \<version\> Message Pack\SWIFT Messages\A4SWIFT-SRG\<version\>\Base Policies**, click **BIC_Master_Policy.xml**, click **Open**, and then click **Next**.</span></span>  
  
9. <span data-ttu-id="06764-143">Dans la page prêt, vérifier les données, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-143">On the Ready page, verify the data, and then click **Next**.</span></span>  
  
10. <span data-ttu-id="06764-144">Dans la page de l’importation de la stratégie/le vocabulaire, vérifiez que la commande a réussi, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-144">On the Importing Policy/Vocabulary page, verify that the command succeeded, and then click **Next**.</span></span>  
  
11. <span data-ttu-id="06764-145">Sur la fin de la page de l’Assistant de déploiement du moteur de règles, cliquez sur **réexécuter cet Assistant**, puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="06764-145">On the Completing the Rules Engine Deployment Wizard page, click **Run this wizard again**, and then click **Finish**.</span></span>  
  
12. <span data-ttu-id="06764-146">Dans la page d’accueil, cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-146">On the Welcome page, click **Next**.</span></span>  
  
13. <span data-ttu-id="06764-147">Dans la page de la tâche de déploiement, cliquez sur **déployer la stratégie de**, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-147">On the Deployment Task page, click **Deploy Policy**, and then click **Next**.</span></span>  
  
14. <span data-ttu-id="06764-148">Sur le **magasin de stratégies** page **nom SQL Server**, sélectionnez le [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] qui contient vos bases de données BizTalk.</span><span class="sxs-lookup"><span data-stu-id="06764-148">On the **Policy Store** page, in **SQL Server Name**, select the [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] that contains your BizTalk databases.</span></span> <span data-ttu-id="06764-149">Dans **base de données de Configuration sur le serveur sélectionné**, sélectionnez **BizTalkRuleEngineDb**, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-149">In **Configuration Database on selected server**, select **BizTalkRuleEngineDb**, and then click **Next**.</span></span>  
  
15. <span data-ttu-id="06764-150">Sur le **déployer la stratégie de** page, sélectionnez **BIC_Master_Policy.1.0**, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-150">On the **Deploy Policy** page, select **BIC_Master_Policy.1.0**, and then click **Next**.</span></span>  
  
16. <span data-ttu-id="06764-151">Sur le **prêt** , cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-151">On the **Ready** page, click **Next**.</span></span>  
  
17. <span data-ttu-id="06764-152">Dans la page déploiement de la stratégie, si le déploiement a réussi, cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="06764-152">On the Deploying Policy page, if the deployment has succeeded, click **Next**.</span></span> <span data-ttu-id="06764-153">Cliquez sur **réexécuter cet Assistant**, puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="06764-153">Click **Run this wizard again**, and then click **Finish**.</span></span>  
  
18. <span data-ttu-id="06764-154">Répétez les étapes 5 à 17 pour **BIC_Validation_Policy.xml**, saisie **BIC_Validation_Policy** au lieu de **BIC_Master_Policy**.</span><span class="sxs-lookup"><span data-stu-id="06764-154">Repeat steps 5 through 17 for **BIC_Validation_Policy.xml**, entering **BIC_Validation_Policy** instead of **BIC_Master_Policy**.</span></span>  
  
19. <span data-ttu-id="06764-155">Quittez l’Assistant Déploiement du moteur de règles.</span><span class="sxs-lookup"><span data-stu-id="06764-155">Exit the Rules Engine Deployment Wizard.</span></span>  
  
20. <span data-ttu-id="06764-156">Cliquez sur **Démarrer**, pointez sur **tous les programmes**, pointez sur **Microsoft**[!INCLUDE[btsBizTalkServer2006r3ui](../../includes/btsbiztalkserver2006r3ui-md.md)], puis cliquez sur **Éditeur des règles d’entreprise**.</span><span class="sxs-lookup"><span data-stu-id="06764-156">Click **Start**, point to **All Programs**, point to **Microsoft**[!INCLUDE[btsBizTalkServer2006r3ui](../../includes/btsbiztalkserver2006r3ui-md.md)], and then click **Business Rule Composer**.</span></span> <span data-ttu-id="06764-157">Vérifiez que le **stratégies** liste inclut **BIC_Master_Policy** et **BIC_Validation_Policy** sous **stratégies**.</span><span class="sxs-lookup"><span data-stu-id="06764-157">Verify that the **Policies** list includes **BIC_Master_Policy** and **BIC_Validation_Policy** under **Policies**.</span></span>  
  
21. <span data-ttu-id="06764-158">Développez **Version 1.0 déployée** sous **BIC_Master_Policy**, puis cliquez sur **BIC_Master_Rule**.</span><span class="sxs-lookup"><span data-stu-id="06764-158">Expand **Version 1.0 - Deployed** under **BIC_Master_Policy**, and then click **BIC_Master_Rule**.</span></span>  
  
22. <span data-ttu-id="06764-159">Dans le volet THEN, vérifiez que les propriétés de connexion SQL répertoriées sont correctes.</span><span class="sxs-lookup"><span data-stu-id="06764-159">In the THEN pane, verify that the SQL Connection properties listed are correct.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="06764-160">A4SWIFT ne récupère pas les modifications apportées à la stratégie de validation BIC principal jusqu'à ce que vous redémarrez le service BizTalk qui héberge le pipeline de réception qui est actuellement configuré pour utiliser le désassembleur SWIFT.</span><span class="sxs-lookup"><span data-stu-id="06764-160">A4SWIFT does not pick up changes made to the master BIC validation policy until you restart the BizTalk service that hosts the receive pipeline that is currently configured to use the SWIFT disassembler.</span></span> <span data-ttu-id="06764-161">A4SWIFT valide tous les documents qui passent par ce pipeline pour les valeurs BIC qui figurent dans la colonne BIC spécifiée dans la stratégie maître BIC.</span><span class="sxs-lookup"><span data-stu-id="06764-161">A4SWIFT validates all documents that pass through this pipeline for the BIC values that are contained in the BIC column specified in the BIC master policy.</span></span> <span data-ttu-id="06764-162">Le compte d’utilisateur utilisé pour démarrer ce service BizTalk (BTSNTSvc.exe) doit avoir accès à la base de données BIC et la table.</span><span class="sxs-lookup"><span data-stu-id="06764-162">The user account used to start this BizTalk service (BTSNTSvc.exe) must have access to the BIC database and table.</span></span> <span data-ttu-id="06764-163">Pour une meilleure sécurité, il est recommandé d’accorder l’accès en lecture seule à la base de données BIC et la table.</span><span class="sxs-lookup"><span data-stu-id="06764-163">For better security, it is recommended that you grant read-only access to the BIC database and table.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="06764-164">Si vous utilisez Message Repair et New Submission, le service de publication World Wide Web doit être redémarré (en exécutant iisreset.exe) pour la validation BIC travailler à partir d’InfoPath.</span><span class="sxs-lookup"><span data-stu-id="06764-164">If you are using Message Repair and New Submission, the World Wide Web Publishing service must be restarted (by running iisreset.exe) for BIC validation to work from InfoPath.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="06764-165">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="06764-165">See Also</span></span>  
 <span data-ttu-id="06764-166">[Utilisation des stratégies BRE](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md) </span><span class="sxs-lookup"><span data-stu-id="06764-166">[Working with BRE Policies](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md) </span></span>  
 [<span data-ttu-id="06764-167">Gestion de la table Bicplus dans la base de données A4SWIFT</span><span class="sxs-lookup"><span data-stu-id="06764-167">Managing the Bicplus Table in the A4SWIFT Database</span></span>](../../adapters-and-accelerators/accelerator-swift/managing-the-bicplus-table-in-the-a4swift-database.md)