---
title: Moteur de Validation de message | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- message validation engine
- errors, validating
- XML validation
- parsing validation
- BRE policies, validating
- errors, messages
- messages, errors
- validating, messages
- validating, BRE policies
- validating, XML
- messages, validating
- validating, errors
- validating, parsing
ms.assetid: 4ba0b75e-665b-4771-b04f-5bc3e90d83f0
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: dbdcb375c04e4c9684b2a805c7a7a7315f46f83d
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="message-validation-engine"></a><span data-ttu-id="7165c-102">Moteur de Validation de message</span><span class="sxs-lookup"><span data-stu-id="7165c-102">Message Validation Engine</span></span>
<span data-ttu-id="7165c-103">Une des fonctionnalités plus importantes fournies par [!INCLUDE[A4SWIFT_CurrentVersion_FirstRef](../../includes/a4swift-currentversion-firstref-md.md)] est la capacité à valider entièrement les messages SWIFT reçus à partir de systèmes back-end destiné au réseau rapide ou reçus à partir du réseau rapide (envoyé par les partenaires commerciaux).</span><span class="sxs-lookup"><span data-stu-id="7165c-103">One of the most important features provided by [!INCLUDE[A4SWIFT_CurrentVersion_FirstRef](../../includes/a4swift-currentversion-firstref-md.md)] is the ability to fully validate SWIFT messages received from back-end systems destined for the SWIFT network, or received from the SWIFT network (sent by trading partners).</span></span> <span data-ttu-id="7165c-104">Validation des messages SWIFT sortants garantit que les messages sont conformes aux normes SWIFT et que le réseau SWIFT pas rejette les messages.</span><span class="sxs-lookup"><span data-stu-id="7165c-104">Validating outbound SWIFT messages guarantees that the messages conform to SWIFT standards and that the SWIFT network will not reject the messages.</span></span>  
  
 <span data-ttu-id="7165c-105">Validation des messages SWIFT entrants garantit que les messages reçus à partir d’autres institutions financières obéissent aux règles de contrats particuliers (règles d’entreprise) spécifiques à la relation.</span><span class="sxs-lookup"><span data-stu-id="7165c-105">Validating inbound SWIFT messages ensures that messages received from other financial institutions obey particular agreements (business rules) specific to the relationship.</span></span> <span data-ttu-id="7165c-106">Dans les deux cas, la possibilité de valider et d’intercepter les erreurs avant de valider un message permet de réduire les coûts de transaction et le coût total de possession (TCO).</span><span class="sxs-lookup"><span data-stu-id="7165c-106">In both scenarios, the ability to validate and trap errors before committing a message helps to reduce transaction costs and total cost of ownership (TCO).</span></span>  
  
 <span data-ttu-id="7165c-107">La liste suivante décrit les quatre parties qui composent le moteur de validation A4SWIFT :</span><span class="sxs-lookup"><span data-stu-id="7165c-107">The following list describes the four parts that make up the A4SWIFT validation engine:</span></span>  
  
-   <span data-ttu-id="7165c-108">Validation structurelle effectuée par l’Analyseur de fichier plat</span><span class="sxs-lookup"><span data-stu-id="7165c-108">Structural validation performed by the flat file parser</span></span>  
  
-   <span data-ttu-id="7165c-109">Validation des données effectuée par le lecteur de validation de XML</span><span class="sxs-lookup"><span data-stu-id="7165c-109">Data validation performed by the XML validating reader</span></span>  
  
-   <span data-ttu-id="7165c-110">Réseau rapide et l’utilisation de règle de validation effectués par le moteur de règles d’entreprise (BRE)</span><span class="sxs-lookup"><span data-stu-id="7165c-110">SWIFT network and usage rule validation performed by the Business Rule Engine (BRE)</span></span>  
  
-   <span data-ttu-id="7165c-111">Marquage de message et l’erreur « meilleur effort » de collecte</span><span class="sxs-lookup"><span data-stu-id="7165c-111">Message marking and "best effort" error collecting</span></span>  
  
## <a name="structural-validation-parsing"></a><span data-ttu-id="7165c-112">Validation structurelle (analyse)</span><span class="sxs-lookup"><span data-stu-id="7165c-112">Structural Validation (Parsing)</span></span>  
 <span data-ttu-id="7165c-113">A4SWIFT analyse les messages de fichier plat SWIFT par rapport aux schémas XSD définies pour chaque type de message SWIFT conformément à la norme SWIFT.</span><span class="sxs-lookup"><span data-stu-id="7165c-113">A4SWIFT parses SWIFT flat file messages against XSD schemas defined for each SWIFT message type in accordance with the SWIFT standard.</span></span> <span data-ttu-id="7165c-114">L’analyse d’un fichier plat au format XML garantit que le fichier plat est structurellement correct.</span><span class="sxs-lookup"><span data-stu-id="7165c-114">Parsing a flat file into XML guarantees that the flat file is structurally correct.</span></span> <span data-ttu-id="7165c-115">L’analyse génère également XML qui est plus facile à lire, manipuler ou transformer dans d’autres formats ou les types de messages.</span><span class="sxs-lookup"><span data-stu-id="7165c-115">Parsing also produces XML that is easier to read, manipulate, or transform into other formats or message types.</span></span> <span data-ttu-id="7165c-116">Vous pouvez également valider le XML par rapport à la validité des données du schéma et utiliser le moteur de règles d’entreprise (BRE) pour des évaluations plus complexes.</span><span class="sxs-lookup"><span data-stu-id="7165c-116">You can also validate the XML against schema for data validity and use the Business Rule Engine (BRE) for more complex evaluations.</span></span>  
  
 <span data-ttu-id="7165c-117">Le désassembleur SWIFT appelle l’Analyseur de fichier plat BizTalk pour analyser les messages de fichier plat SWIFT appelés par le désassembleur SWIFT.</span><span class="sxs-lookup"><span data-stu-id="7165c-117">The SWIFT disassembler invokes the BizTalk flat file parser to parse SWIFT flat file messages invoked by the SWIFT disassembler.</span></span> <span data-ttu-id="7165c-118">Le désassembleur SWIFT enregistre dans une collection d’erreurs, les détails de toutes les erreurs rencontrées lors de l’analyse et tente toujours de continuer l’analyse des données dans le but pour collecter les erreurs de structurels autant que possible sur le premier test.</span><span class="sxs-lookup"><span data-stu-id="7165c-118">The SWIFT disassembler records in an error collection the details of any errors encountered during parsing, and always attempts to continue parsing the data in an effort to collect as many structural errors as possible on the first pass.</span></span> <span data-ttu-id="7165c-119">Toutefois, la plupart des erreurs d’analyse sont irrécupérables et arrêter le traitement des messages à la première erreur.</span><span class="sxs-lookup"><span data-stu-id="7165c-119">However, most parse errors are fatal and halt message processing at the first error.</span></span>  
  
 <span data-ttu-id="7165c-120">Pour plus d’informations sur la validation structurelle, consultez [utilisation de schémas](../../adapters-and-accelerators/accelerator-swift/working-with-schemas.md).</span><span class="sxs-lookup"><span data-stu-id="7165c-120">For more information about structural validation, see [Working with Schemas](../../adapters-and-accelerators/accelerator-swift/working-with-schemas.md).</span></span>  
  
## <a name="data-validation-xml-validation"></a><span data-ttu-id="7165c-121">Validation des données (Validation XML)</span><span class="sxs-lookup"><span data-stu-id="7165c-121">Data Validation (XML Validation)</span></span>  
 <span data-ttu-id="7165c-122">Vous pouvez définir des messages SWIFT qui passent d’une validation structurelle en tant que XML bien formé conformes aux schémas XSD de défini.</span><span class="sxs-lookup"><span data-stu-id="7165c-122">You can define SWIFT messages that pass structural validation as well-formed XML conforming to defined XSD schemas.</span></span> <span data-ttu-id="7165c-123">A4SWIFT génère le code XML pour les messages SWIFT structurellement valides lors de l’étape d’analyse.</span><span class="sxs-lookup"><span data-stu-id="7165c-123">A4SWIFT produces XML for structurally valid SWIFT messages during the parsing stage.</span></span> <span data-ttu-id="7165c-124">A4SWIFT peut alors valider ce document XML pour l’exactitude des données par rapport aux contraintes définies dans le schéma XSD correspondant.</span><span class="sxs-lookup"><span data-stu-id="7165c-124">A4SWIFT can then validate this XML for data correctness against constraints defined in the corresponding XSD schema.</span></span>  
  
 <span data-ttu-id="7165c-125">Ces contraintes incluent notamment typage de données, la longueur et les plages de valeurs définies conformément à la SWIFT standard.</span><span class="sxs-lookup"><span data-stu-id="7165c-125">These constraints include data typing, length, and value ranges defined in accordance with the SWIFT standard.</span></span> <span data-ttu-id="7165c-126">Le désassembleur SWIFT appelle le code XML lecteur pour effectuer une validation de données de validation.</span><span class="sxs-lookup"><span data-stu-id="7165c-126">The SWIFT disassembler invokes the XML validating reader to perform data validation.</span></span>  
  
 <span data-ttu-id="7165c-127">Le désassembleur SWIFT enregistre dans une collection d’erreurs, les détails de toutes les erreurs rencontrées pendant la validation du XML et continue de valider les données restantes pour collecter les erreurs de validation XML autant que possible sur le premier test.</span><span class="sxs-lookup"><span data-stu-id="7165c-127">The SWIFT disassembler records in an error collection the details of any errors encountered during XML validation, and continues validating the remaining data to collect as many XML validation errors as possible on the first pass.</span></span> <span data-ttu-id="7165c-128">(Contrairement à l’analyse, la continuation de la validation XML est garantie.)</span><span class="sxs-lookup"><span data-stu-id="7165c-128">(Unlike parsing, continuation of XML validation is guaranteed.)</span></span>  
  
 <span data-ttu-id="7165c-129">Pour plus d’informations sur la validation des données, consultez [utilisation de schémas](../../adapters-and-accelerators/accelerator-swift/working-with-schemas.md).</span><span class="sxs-lookup"><span data-stu-id="7165c-129">For more information about data validation, see [Working with Schemas](../../adapters-and-accelerators/accelerator-swift/working-with-schemas.md).</span></span>  
  
## <a name="swift-network-and-usage-rule-validation-bre-validation"></a><span data-ttu-id="7165c-130">Réseau SWIFT et Validation de la règle d’utilisation (Validation BRE)</span><span class="sxs-lookup"><span data-stu-id="7165c-130">SWIFT Network and Usage Rule Validation (BRE Validation)</span></span>  
 <span data-ttu-id="7165c-131">A4SWIFT valide le fichier XML pour les messages SWIFT structurellement valides d’exactitude au niveau de l’entreprise par rapport aux stratégies de moteur de règles d’entreprise (BRE).</span><span class="sxs-lookup"><span data-stu-id="7165c-131">A4SWIFT validates XML for structurally valid SWIFT messages for business-level correctness against Business Rule Engine (BRE) policies.</span></span> <span data-ttu-id="7165c-132">Ces stratégies incluent l’application des règles de réseau et l’utilisation rapide et des autres règles de champ croisé complexes définies conformément à la norme SWIFT.</span><span class="sxs-lookup"><span data-stu-id="7165c-132">These policies include enforcement of SWIFT network and usage rules and other complex cross-field rules defined in accordance with the SWIFT standard.</span></span> <span data-ttu-id="7165c-133">Le désassembleur SWIFT appelle le moteur BRE pour effectuer la validation au niveau de l’entreprise.</span><span class="sxs-lookup"><span data-stu-id="7165c-133">The SWIFT disassembler invokes the BRE to perform business-level validation.</span></span>  
  
 <span data-ttu-id="7165c-134">Le désassembleur SWIFT enregistre dans une collection d’erreurs, les détails de toutes les erreurs rencontrées lors de la validation de BRE et continue de valider les données restantes pour collecter les erreurs de validation BRE autant que possible sur le premier test.</span><span class="sxs-lookup"><span data-stu-id="7165c-134">The SWIFT disassembler records in an error collection the details of any errors encountered during BRE validation, and continues validating the remaining data to collect as many BRE validation errors as possible on the first pass.</span></span> <span data-ttu-id="7165c-135">(Comme la validation XML, continuation de validation du moteur BRE est garantie.)</span><span class="sxs-lookup"><span data-stu-id="7165c-135">(Like XML validation, continuation of BRE validation is guaranteed.)</span></span>  
  
 <span data-ttu-id="7165c-136">Pour plus d’informations sur la validation de règle SWIFT réseau et l’utilisation, consultez [fonctionne avec les stratégies BRE](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md).</span><span class="sxs-lookup"><span data-stu-id="7165c-136">For more information about SWIFT network and usage rule validation, see [Working with BRE Policies](../../adapters-and-accelerators/accelerator-swift/working-with-bre-policies.md).</span></span>  
  
## <a name="validation-failures-and-message-marking"></a><span data-ttu-id="7165c-137">Échecs de validation et le marquage du Message</span><span class="sxs-lookup"><span data-stu-id="7165c-137">Validation Failures and Message Marking</span></span>  
 <span data-ttu-id="7165c-138">A4SWIFT collecte des erreurs de validation et les détails de chaque étape de validation de message : l’analyse de structure, de la validation XML et de la validation de BRE.</span><span class="sxs-lookup"><span data-stu-id="7165c-138">A4SWIFT collects validation errors and details through each stage of message validation: structural parsing, XML validation, and BRE validation.</span></span> <span data-ttu-id="7165c-139">A4SWIFT collecte ces erreurs à l’aide d’une heuristique « meilleur effort » pour collecter d’autant plus d’informations sur un message d’erreur que possible.</span><span class="sxs-lookup"><span data-stu-id="7165c-139">A4SWIFT collects these errors using a "best effort" heuristic to gather as much error information about a message as possible.</span></span> <span data-ttu-id="7165c-140">Cette fonctionnalité permet à un message d’échec pour toutes les erreurs interceptées et signalés en une seule fois au lieu d’utiliser plusieurs itérations de soumission, valider, échec, corriger, soumettez à nouveau.</span><span class="sxs-lookup"><span data-stu-id="7165c-140">This functionality allows a failing message to have all errors caught and reported in one pass rather than having multiple iterations of submit, validate, fail, fix, resubmit.</span></span>  
  
 <span data-ttu-id="7165c-141">Les messages qui ont au moins une erreur s’est produite au cours de n’importe quelle étape de validation dans la collection d’erreurs sont considérés comme non valides et ont échoué.</span><span class="sxs-lookup"><span data-stu-id="7165c-141">Messages that have at least one error encountered during any validation stage in the error collection are considered invalid and are failed.</span></span> <span data-ttu-id="7165c-142">A4SWIFT publie ces messages dans la base de données MessageBox, mais ils sont marqués avec des propriétés promues pour indiquer que le message d’échec de la validation et de rapport nombre d’erreurs pour chaque étape de validation.</span><span class="sxs-lookup"><span data-stu-id="7165c-142">A4SWIFT publishes these messages to the MessageBox database, but they are marked with promoted properties to indicate that the message has failed validation and to report error counts for each validation stage.</span></span>  
  
 <span data-ttu-id="7165c-143">Outre les propriétés promues, A4SWIFT sérialise la collection d’erreurs en XML et joint la collection dans le cadre une « erreur » du message à parties multiples.</span><span class="sxs-lookup"><span data-stu-id="7165c-143">In addition to the promoted properties, A4SWIFT serializes the error collection into XML and attaches the collection as an "error part" of the multipart message.</span></span> <span data-ttu-id="7165c-144">Le message final se compose du message ayant échoué dans le corps et XML de collection d’erreurs dans la partie de l’erreur et a été amélioré avec A4SWIFT promu les propriétés qui indiquent un état d’échec.</span><span class="sxs-lookup"><span data-stu-id="7165c-144">The final message consists of the failed message in the body part and error-collection XML in the error part, and is enhanced with A4SWIFT promoted properties that indicate a failure state.</span></span> <span data-ttu-id="7165c-145">Le désassembleur SWIFT publie ce message à parties multiples dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="7165c-145">The SWIFT disassembler publishes this multipart message to the MessageBox database.</span></span>  
  
 <span data-ttu-id="7165c-146">Ports d’envoi BizTalk ou orchestrations peuvent récupérer des messages ayant échoué à partir de la base de données MessageBox en vous abonnant à l’A4SWIFT promu des propriétés spéciales.</span><span class="sxs-lookup"><span data-stu-id="7165c-146">BizTalk send ports or orchestrations can retrieve failed messages from the MessageBox database by subscribing to the special A4SWIFT promoted properties.</span></span> <span data-ttu-id="7165c-147">Vous pouvez créer des abonnements pour récupérer tous les messages ayant échoué ou uniquement les messages avec un certain nombre d’erreurs à partir des étapes de validation spécifiques.</span><span class="sxs-lookup"><span data-stu-id="7165c-147">You can make subscriptions to retrieve all failed messages or only messages with a particular number of errors from specific validation stages.</span></span>  
  
 <span data-ttu-id="7165c-148">Après la récupération d’un message ayant échoué, vous pouvez l’envoyer à une application de création de rapports, une application de réparation ou de processus ou un référentiel de l’échec, ou vous pouvez l’ignorer.</span><span class="sxs-lookup"><span data-stu-id="7165c-148">After a failed message is retrieved, you can send it to a reporting application, a repair application or process, or a failure repository, or you can discard it.</span></span>  
  
 <span data-ttu-id="7165c-149">Cette possibilité de s’abonner aux messages ayant échoué (et pour distinguer les différents types d’échecs dans l’abonnement), associée à la collection d’erreurs de riche en informations XML associé à chaque message ayant échoué, constitue une infrastructure puissante pour le développement d’erreurs simple rapports applications, tel que fournies par la réparation de message et la nouvelle fonctionnalité d’envoi installé par le programme d’installation A4SWIFT.</span><span class="sxs-lookup"><span data-stu-id="7165c-149">This ability to subscribe to failed messages (and to differentiate between types of failures in the subscription), coupled with information-rich error collection XML attached to each failed message, forms a powerful framework for developing simple error reporting applications, such as provided by the message repair and new submission feature installed by A4SWIFT setup.</span></span>  
  
 <span data-ttu-id="7165c-150">Pour plus d’informations sur les échecs de validation et le marquage du message, consultez [utilisation des abonnements de Message d’échec de](../../adapters-and-accelerators/accelerator-swift/working-with-failed-message-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="7165c-150">For more information about validation failures and message marking, see [Working with Failed Message Subscriptions](../../adapters-and-accelerators/accelerator-swift/working-with-failed-message-subscriptions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7165c-151">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="7165c-151">See Also</span></span>  
 [<span data-ttu-id="7165c-152">BizTalk Accelerator pour SWIFT Runtime</span><span class="sxs-lookup"><span data-stu-id="7165c-152">BizTalk Accelerator for SWIFT Runtime</span></span>](../../adapters-and-accelerators/accelerator-swift/biztalk-accelerator-for-swift-runtime.md)