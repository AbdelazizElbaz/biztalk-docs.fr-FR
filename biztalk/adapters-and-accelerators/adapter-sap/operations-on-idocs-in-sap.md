---
title: "Opérations sur IDOC dans SAP | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- IDOC, operations to receive an
- IDOCs
- IDOCs, operations on
- tRFC server
- IDOC, operations to send an
- RFC server
ms.assetid: 6abcc646-c7a3-48cf-a09e-01f516dcef97
caps.latest.revision: "5"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c6a70e6bc4062a6c2865c9adb8f76d68a078e965
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="operations-on-idocs-in-sap"></a><span data-ttu-id="446b4-102">Opérations sur IDOC dans SAP</span><span class="sxs-lookup"><span data-stu-id="446b4-102">Operations on IDOCs in SAP</span></span>
<span data-ttu-id="446b4-103">IDOC sont des documents de type EDI standardisés qui prend en charge par SAP pour la communication asynchrone avec SAP et les systèmes non-SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-103">IDOCs are standardized EDI-like documents that SAP supports for asynchronously communicating with SAP and non-SAP systems.</span></span> <span data-ttu-id="446b4-104">IDOC sont utilisés pour envoyer et recevoir des documents telles que les commandes, par exemple, « business » ou un système SAP d’un partenaire commercial ou un programme externe.</span><span class="sxs-lookup"><span data-stu-id="446b4-104">IDOCs are used for sending and receiving “business” documents such as sales orders, for example, to or from a trading partner’s SAP system or an external program.</span></span>  
  
 <span data-ttu-id="446b4-105">Bien que le système SAP prend en charge un nombre de types de port pour envoyer et recevoir des IDOC (tel que le port de fichier, port de communications CPIC), le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] prend en charge d’envoyer et recevoir des IDOC via le port tRFC.</span><span class="sxs-lookup"><span data-stu-id="446b4-105">Although the SAP system supports a number of port types to send and receive IDOCs (such as file port, CPIC port), the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports sending and receiving IDOCs via the tRFC port.</span></span>  
  
## <a name="operations-to-send-an-idoc"></a><span data-ttu-id="446b4-106">Opérations à envoyer un IDOC</span><span class="sxs-lookup"><span data-stu-id="446b4-106">Operations to Send an IDOC</span></span>  
 <span data-ttu-id="446b4-107">Tous les appels IDOC à SAP sont traitées en interne comme tRFC appelle laquelle l’adaptateur se comporte comme un client tRFC et appelle une commande RFC dans SAP pour envoyer un IDOC.</span><span class="sxs-lookup"><span data-stu-id="446b4-107">All IDOC calls to SAP are internally treated as tRFC calls in which the adapter acts as a tRFC client and calls an RFC in SAP to send an IDOC.</span></span> <span data-ttu-id="446b4-108">Tout comme n’importe quel autre appel de client tRFC, le client de l’adaptateur transmet éventuellement un GUID à l’adaptateur, qui à son tour l’associe à la transaction ID (TID) qu’il utilise pour l’appel sur le système SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-108">Just like any other tRFC client call, the adapter client optionally passes a GUID to the adapter, which in turn associates it with the transaction ID (TID) that it uses for the call on the SAP system.</span></span> <span data-ttu-id="446b4-109">(Si le client de l’adaptateur ne transmet pas un GUID, l’adaptateur génère son propre GUID.) Le GUID est renvoyé au client de carte dans le message de réponse.</span><span class="sxs-lookup"><span data-stu-id="446b4-109">(If the adapter client does not pass a GUID, the adapter generates its own GUID.) The GUID is returned to the adapter client in the response message.</span></span> <span data-ttu-id="446b4-110">Le client de l’adaptateur peut utiliser ce GUID pour confirmer le TID sur le système SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-110">The adapter client can use this GUID to confirm the TID on the SAP system.</span></span> <span data-ttu-id="446b4-111">Le TID SAP réel utilisé par l’adaptateur pour l’appel de tRFC peut être obtenu en appelant une méthode statique spéciale dans la liaison de SAP, **ConvertGuidToTid**.</span><span class="sxs-lookup"><span data-stu-id="446b4-111">The actual SAP TID used by the adapter for the tRFC call can be obtained by invoking a special static method in the SAP binding, **ConvertGuidToTid**.</span></span> <span data-ttu-id="446b4-112">Ayant le TID réel peut être utile pour résoudre les problèmes sur le système SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-112">Having the actual TID may be useful for troubleshooting issues on the SAP system.</span></span>  
  
 <span data-ttu-id="446b4-113">Après l’appel pour envoyer que l’IDOC est terminée, le TID doit être confirmé sur le système SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-113">After the call to send the IDOC is completed, the TID must be confirmed on the SAP system.</span></span> <span data-ttu-id="446b4-114">Ainsi, le système SAP afin de supprimer le TID sa base de données.</span><span class="sxs-lookup"><span data-stu-id="446b4-114">This enables the SAP system to delete the TID from its database.</span></span> <span data-ttu-id="446b4-115">Le client de carte puisse confirmer le TID sur le système SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-115">The adapter client can confirm the TID on the SAP system.</span></span>  
  
-   <span data-ttu-id="446b4-116">Explicitement, en appelant le **RfcConfirmTransID** opération sur la carte.</span><span class="sxs-lookup"><span data-stu-id="446b4-116">Explicitly, by invoking the **RfcConfirmTransID** operation on the adapter.</span></span> <span data-ttu-id="446b4-117">Cette opération accepte un GUID (retourné dans le message de réponse ci-dessus) et la carte confirmer le TID associé sur le système SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-117">This operation takes a GUID (returned in the response message above) and causes the adapter to confirm the associated TID on the SAP system.</span></span>  
  
-   <span data-ttu-id="446b4-118">Implicitement, en définissant le **AutoConfirmSentIdocs** propriété de liaison.</span><span class="sxs-lookup"><span data-stu-id="446b4-118">Implicitly, by setting the **AutoConfirmSentIdocs** binding property.</span></span> <span data-ttu-id="446b4-119">Si cette propriété de liaison a la valeur true, l’adaptateur valide automatiquement le TID après avoir envoyé l’IDOC au système SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-119">If this binding property is true, the adapter automatically commits the TID after it sends the IDOC to the SAP system.</span></span> <span data-ttu-id="446b4-120">Consultez [en savoir plus sur l’adaptateur BizTalk pour mySAP Business Suite liaison propriétés](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="446b4-120">See [Read about BizTalk Adapter for mySAP Business Suite Binding Properties](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md) for more information.</span></span>  
  
 <span data-ttu-id="446b4-121">Le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] utilise les normes RFC suivantes pour envoyer un IDOC :</span><span class="sxs-lookup"><span data-stu-id="446b4-121">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] uses the following RFCs to send an IDOC:</span></span>  
  
-   <span data-ttu-id="446b4-122">INBOUND_IDOC_PROCESS.</span><span class="sxs-lookup"><span data-stu-id="446b4-122">INBOUND_IDOC_PROCESS.</span></span> <span data-ttu-id="446b4-123">Ce module de fonction est utilisé pour les versions de SAP avant 4.0.</span><span class="sxs-lookup"><span data-stu-id="446b4-123">This function module is used for SAP releases before 4.0.</span></span>  
  
-   <span data-ttu-id="446b4-124">IDOC_INBOUND_ASYNCHRONOUS.</span><span class="sxs-lookup"><span data-stu-id="446b4-124">IDOC_INBOUND_ASYNCHRONOUS.</span></span> <span data-ttu-id="446b4-125">Ce module de fonction est utilisée pour SAP version 4.0 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="446b4-125">This function module is used for SAP release 4.0 and later.</span></span>  
  
### <a name="sending-idocs-with-segment-data-across-multiple-lines"></a><span data-ttu-id="446b4-126">Envoyer des IDOC avec segmenter les données sur plusieurs lignes</span><span class="sxs-lookup"><span data-stu-id="446b4-126">Sending IDOCs with Segment Data Across Multiple Lines</span></span>  
 <span data-ttu-id="446b4-127">IDOC sont constitués de segments.</span><span class="sxs-lookup"><span data-stu-id="446b4-127">IDOCs are constituted of segments.</span></span> <span data-ttu-id="446b4-128">Chaque entrée de segment dans un fichier plat IDOC contient les informations d’en-tête de segment (qui contient le champ DOCNUM) et les données du segment.</span><span class="sxs-lookup"><span data-stu-id="446b4-128">Each segment entry in an IDOC flat-file contains the segment header info (containing the DOCNUM field) and the segment data.</span></span> <span data-ttu-id="446b4-129">Dans certains IDOC, les données du segment peuvent être réparties entre plusieurs lignes.</span><span class="sxs-lookup"><span data-stu-id="446b4-129">In some IDOCs, the segment data can be split across multiple lines.</span></span> <span data-ttu-id="446b4-130">Exemple :</span><span class="sxs-lookup"><span data-stu-id="446b4-130">For example:</span></span>  
  
```  
Segment header (DOCNUM is one of the fields here)  |  Segment data  
Segment header (DOCNUM is one of the fields here)  |  Segment data  
Segment data wrapped from the previous line  
Segment header (DOCNUM is one of the fields here)  |  Segment data  
```  
  
 <span data-ttu-id="446b4-131">La station de travail WCF [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] prend en charge l’envoi de ce type IDOC au système SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-131">The WCF-based [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports sending such IDOCs to the SAP system.</span></span> <span data-ttu-id="446b4-132">Pour prendre en charge l’envoi de ce type IDOC, le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] détermine si les données de chaque segment sont une continuation de la précédente, ou s’il s’agit d’une nouveau segmenter les données.</span><span class="sxs-lookup"><span data-stu-id="446b4-132">To support sending such IDOCs, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] determines whether each segment data is a continuation of the previous one, or whether it is a new segment data.</span></span> <span data-ttu-id="446b4-133">Le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] il décide par l’analyse de chaque en-tête de segment et recherchez le champ DOCNUM.</span><span class="sxs-lookup"><span data-stu-id="446b4-133">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] decides this by parsing each segment header and looking for the DOCNUM field.</span></span> <span data-ttu-id="446b4-134">Si les données du segment sont divisées en deux lignes, la deuxième ligne n’a pas un en-tête de segment et par conséquent le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] ne trouve pas le champ DOCNUM.</span><span class="sxs-lookup"><span data-stu-id="446b4-134">If the segment data is split across two lines, the second line does not have a segment header and as a result the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] does not find the DOCNUM field.</span></span> <span data-ttu-id="446b4-135">Par conséquent, le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] peut déterminer qu’il s’agit d’une continuation des données du segment précédent.</span><span class="sxs-lookup"><span data-stu-id="446b4-135">Hence, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] can determine that it is a continuation of the previous segment data.</span></span>  
  
 <span data-ttu-id="446b4-136">Par exemple, dans la représentation sous forme d’un IDOC illustrée ci-dessus, le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] ne trouve pas de n’importe quel champ DOCNUM dans «`Segment data wrapped from the previous line`» et est en mesure de déterminer que la ligne est la suite des données du segment précédent.</span><span class="sxs-lookup"><span data-stu-id="446b4-136">For example, in the representation of an IDOC shown above, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] does not find any DOCNUM field in “`Segment data wrapped from the previous line`” and is able to decide that the line is a continuation of the previous segment data.</span></span> <span data-ttu-id="446b4-137">Compte tenu de la taille des IDOC fichiers plats dans les environnements de production, l’exécution de ce type de contrôle pour chaque segment peuvent entraîner des temps de traitement.</span><span class="sxs-lookup"><span data-stu-id="446b4-137">Considering the size of IDOC flat files in production environments, performing such checks for each segment data may result in increased processing time.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="446b4-138">L’adaptateur utilise le champ DOCNUM au lieu d’une ligne de retour chariot (CRLF) de flux pour identifier et extraire chaque enregistrement du segment à partir des données d’IDOC.</span><span class="sxs-lookup"><span data-stu-id="446b4-138">The adapter uses the DOCNUM field instead of a carriage return line feed (CRLF) to identify and extract each segment record from IDOC data.</span></span> <span data-ttu-id="446b4-139">Si les champs DOCNUM dans les enregistrements de contrôle et les données sont non valides ou partiellement vide, l’adaptateur ne peut pas analyser l’IDOC.</span><span class="sxs-lookup"><span data-stu-id="446b4-139">If the DOCNUM fields in the control and data records are invalid or partly blank, the adapter fails to parse the IDOC.</span></span> <span data-ttu-id="446b4-140">Par conséquent, l’IDOC n’est pas envoyée au système SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-140">Hence, the IDOC is not sent to the SAP system.</span></span>  
  
### <a name="operations-to-send-an-idoc"></a><span data-ttu-id="446b4-141">Opérations à envoyer un IDOC</span><span class="sxs-lookup"><span data-stu-id="446b4-141">Operations to Send an IDOC</span></span>  
 <span data-ttu-id="446b4-142">Les opérations suivantes sont prises en charge pour l’envoi des IDOC à un système SAP :</span><span class="sxs-lookup"><span data-stu-id="446b4-142">The following operations are supported for sending IDOCs to an SAP system:</span></span>  
  
-   <span data-ttu-id="446b4-143">**Envoyer**.</span><span class="sxs-lookup"><span data-stu-id="446b4-143">**Send**.</span></span> <span data-ttu-id="446b4-144">Cette opération permet d’envoyer un IDOC au système SAP à l’aide d’un schéma fortement typé.</span><span class="sxs-lookup"><span data-stu-id="446b4-144">Use this operation to send an IDOC to the SAP system using a strongly-typed schema.</span></span> <span data-ttu-id="446b4-145">Le schéma pour cette opération expose les champs d’enregistrement contrôle et les champs d’enregistrement de données, y compris les en-têtes de segment et les champs du segment.</span><span class="sxs-lookup"><span data-stu-id="446b4-145">The schema for this operation exposes control record fields and data record fields, including segment headers and segment fields.</span></span> <span data-ttu-id="446b4-146">L’opération d’envoi est spécifique à un IDocType CimType + ReleaseNumber + Version combinaison.</span><span class="sxs-lookup"><span data-stu-id="446b4-146">The Send operation is specific to an IDocType + CimType + ReleaseNumber + Version combination.</span></span>  
  
     <span data-ttu-id="446b4-147">Cette opération est visible pour chaque IDOC et est disponible sous un nœud IDOC spécifique dans le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] ou [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="446b4-147">This operation is surfaced for each IDOC and is available under a specific IDOC node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="446b4-148">Pour pouvoir exécuter correctement un **envoyer** opération, vous devez disposer d’autorisations appropriées dans le système SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-148">To be able to successfully perform a **Send** operation, you must have relevant authorization in the SAP system.</span></span> <span data-ttu-id="446b4-149">Pour plus d’informations, consultez</span><span class="sxs-lookup"><span data-stu-id="446b4-149">For more information.</span></span>  
  
-   <span data-ttu-id="446b4-150">**SendIdoc**.</span><span class="sxs-lookup"><span data-stu-id="446b4-150">**SendIdoc**.</span></span> <span data-ttu-id="446b4-151">Cette opération permet d’envoyer un IDOC au système SAP à l’aide d’un schéma faiblement typée.</span><span class="sxs-lookup"><span data-stu-id="446b4-151">Use this operation to send an IDOC to the SAP system using a weakly-typed schema.</span></span> <span data-ttu-id="446b4-152">Le schéma pour cette opération expose IDOC sous la forme d’un champ de chaîne unique composé de l’enregistrement de contrôle et l’enregistrement de données.</span><span class="sxs-lookup"><span data-stu-id="446b4-152">The schema for this operation exposes IDOCs as a single string field consisting the control record and data record.</span></span> <span data-ttu-id="446b4-153">L’opération SendIdoc prend une chaîne IDOC et un GUID en tant que paramètre.</span><span class="sxs-lookup"><span data-stu-id="446b4-153">The SendIdoc operation takes an IDOC string and a GUID as a parameter.</span></span>  
  
     <span data-ttu-id="446b4-154">Cela indique une opération visible pour tous les IDOC exposées par le système SAP et est disponible sous la racine **IDOC** nœud dans le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] ou [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="446b4-154">This is a single operation surfaced for all IDOCs exposed by the SAP system and is available under the root **IDOC** node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
 <span data-ttu-id="446b4-155">Pour plus d’informations sur :</span><span class="sxs-lookup"><span data-stu-id="446b4-155">For more information about:</span></span>  
  
-   <span data-ttu-id="446b4-156">Envoyer un IDOC à un système SAP à l’aide de BizTalk Server, consultez [envoyer des IDOC à SAP par à l’aide de BizTalk Server](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="446b4-156">Sending an IDOC to an SAP system using BizTalk Server, see [Send IDOCs to SAP by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-biztalk-server.md).</span></span>  
  
-   <span data-ttu-id="446b4-157">Envoyer un IDOC à un système SAP à l’aide du modèle de service WCF, consultez [envoyer des IDOC à SAP à l’aide du modèle de Service WCF](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-the-wcf-service-model.md).</span><span class="sxs-lookup"><span data-stu-id="446b4-157">Sending an IDOC to an SAP system using WCF service model, see [Send IDOCs to SAP by Using the WCF Service Model](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-the-wcf-service-model.md).</span></span>  
  
-   <span data-ttu-id="446b4-158">Structures et action SOAP pour envoyer un IDOC des messages, consultez [des schémas de Message pour des opérations IDOC](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md).</span><span class="sxs-lookup"><span data-stu-id="446b4-158">Message structures and SOAP action for sending an IDOC, see [Message Schemas for IDOC Operations](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md).</span></span>  
  
## <a name="operations-to-receive-an-idoc"></a><span data-ttu-id="446b4-159">Opérations pour recevoir un IDOC</span><span class="sxs-lookup"><span data-stu-id="446b4-159">Operations to Receive an IDOC</span></span>  
 <span data-ttu-id="446b4-160">Pour recevoir un IDOC, les [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] peuvent se comporter comme un serveur tRFC ou un serveur RFC :</span><span class="sxs-lookup"><span data-stu-id="446b4-160">To receive an IDOC, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] can behave either as a tRFC server or an RFC server:</span></span>  
  
-   <span data-ttu-id="446b4-161">À l’adaptateur pour se comporter comme un serveur tRFC, la propriété de liaison **TidDatabaseConnectionString** doit être définie sur la chaîne de connexion pour la base de données TID sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="446b4-161">For the adapter to behave as a tRFC server, the binding property **TidDatabaseConnectionString** must be set to the connection string for the TID database on your computer.</span></span> <span data-ttu-id="446b4-162">Pour un scénario de serveur tRFC, l’adaptateur accepte un appel du client tRFC à partir du système SAP pour recevoir l’IDOC.</span><span class="sxs-lookup"><span data-stu-id="446b4-162">For a tRFC server scenario, the adapter accepts a tRFC client call from the SAP system to receive the IDOC.</span></span>  
  
-   <span data-ttu-id="446b4-163">À l’adaptateur pour se comporter comme un serveur RFC, le **TidDatabaseConnectionString** doit avoir la valeur null (valeur par défaut).</span><span class="sxs-lookup"><span data-stu-id="446b4-163">For the adapter to behave as an RFC server, the **TidDatabaseConnectionString** should be null (default).</span></span> <span data-ttu-id="446b4-164">Pour un scénario de serveur RFC, l’adaptateur accepte un appel du client à partir du système SAP RFC pour recevoir l’IDOC.</span><span class="sxs-lookup"><span data-stu-id="446b4-164">For an RFC server scenario, the adapter accepts an RFC client call from the SAP system to receive the IDOC.</span></span>  
  
 <span data-ttu-id="446b4-165">Les documents RFC suivants sont utilisés pour envoyer et recevoir des IDOC ; lors de l’envoi IDOC, l’adaptateur utilise ces RFC, tandis que lors de la réception IDOC, le système SAP les utilise.</span><span class="sxs-lookup"><span data-stu-id="446b4-165">The following RFCs are used to send and receive IDOCs; when sending IDOCs, the adapter uses these RFCs, whereas when receiving IDOCS, the SAP system uses them.</span></span>  
  
-   <span data-ttu-id="446b4-166">INBOUND_IDOC_PROCESS.</span><span class="sxs-lookup"><span data-stu-id="446b4-166">INBOUND_IDOC_PROCESS.</span></span> <span data-ttu-id="446b4-167">Ce module de fonction est utilisé pour les versions de SAP avant 4.0.</span><span class="sxs-lookup"><span data-stu-id="446b4-167">This function module is used for SAP releases before 4.0.</span></span>  
  
-   <span data-ttu-id="446b4-168">IDOC_INBOUND_ASYNCHRONOUS.</span><span class="sxs-lookup"><span data-stu-id="446b4-168">IDOC_INBOUND_ASYNCHRONOUS.</span></span> <span data-ttu-id="446b4-169">Ce module de fonction est utilisée pour SAP version 4.0 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="446b4-169">This function module is used for SAP release 4.0 and later.</span></span>  
  
 <span data-ttu-id="446b4-170">Les opérations suivantes sont prises en charge pour la réception des IDOC à partir d’un système SAP :</span><span class="sxs-lookup"><span data-stu-id="446b4-170">The following operations are supported for receiving IDOCs from an SAP system:</span></span>  
  
-   <span data-ttu-id="446b4-171">**Réception**.</span><span class="sxs-lookup"><span data-stu-id="446b4-171">**Receive**.</span></span> <span data-ttu-id="446b4-172">Cette opération permet de recevoir un IDOC à partir du système SAP à l’aide d’un schéma fortement typé.</span><span class="sxs-lookup"><span data-stu-id="446b4-172">Use this operation to receive an IDOC from the SAP system using a strongly-typed schema.</span></span> <span data-ttu-id="446b4-173">Le schéma pour cette opération expose les champs d’enregistrement contrôle et les champs d’enregistrement données y compris les en-têtes de segment et les champs du segment.</span><span class="sxs-lookup"><span data-stu-id="446b4-173">The schema for this operation exposes control record fields and data record fields including segment headers and segment fields.</span></span>  
  
     <span data-ttu-id="446b4-174">Cette opération est visible pour chaque IDOC et est disponible sous un nœud IDOC spécifique dans le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] ou [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="446b4-174">This operation is surfaced for each IDOC and is available under a specific IDOC node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="446b4-175">Pour pouvoir exécuter correctement un **réception** opération, vous devez disposer d’autorisations appropriées dans le système SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-175">To be able to successfully perform a **Receive** operation, you must have relevant authorization in the SAP system.</span></span> <span data-ttu-id="446b4-176">Pour plus d’informations, consultez</span><span class="sxs-lookup"><span data-stu-id="446b4-176">For more information.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="446b4-177">À l’aide de la **réception** opération, vous pouvez également recevoir des IDOC plusieurs.</span><span class="sxs-lookup"><span data-stu-id="446b4-177">Using the **Receive** operation, you can also receive multiple IDOCs.</span></span>  
  
-   <span data-ttu-id="446b4-178">**ReceiveIdoc**.</span><span class="sxs-lookup"><span data-stu-id="446b4-178">**ReceiveIdoc**.</span></span> <span data-ttu-id="446b4-179">Cette opération permet de recevoir un IDOC à partir du système SAP à l’aide d’un schéma faiblement typée.</span><span class="sxs-lookup"><span data-stu-id="446b4-179">Use this operation to receive an IDOC from the SAP system using a weakly-typed schema.</span></span> <span data-ttu-id="446b4-180">Le schéma pour cette opération expose IDOC sous la forme d’un champ de chaîne unique composé de l’enregistrement de contrôle et l’enregistrement de données.</span><span class="sxs-lookup"><span data-stu-id="446b4-180">The schema for this operation exposes IDOCs as a single string field consisting of the control record and data record.</span></span> <span data-ttu-id="446b4-181">Cette opération reçoit IDOC sous forme de chaîne dans un message XML sous la \<idocData > balise.</span><span class="sxs-lookup"><span data-stu-id="446b4-181">This operation receives IDOCs as a string in an XML message under the \<idocData> tag.</span></span>  
  
     <span data-ttu-id="446b4-182">Cela indique une opération visible pour tous les IDOC exposées par le système SAP et est disponible sous la racine **IDOC** nœud dans le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] ou [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="446b4-182">This is a single operation surfaced for all IDOCs exposed by the SAP system and is available under the root **IDOC** node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
 <span data-ttu-id="446b4-183">Lors de la réception IDOC, le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] prend en charge différents formats de message, qui peuvent être spécifiés en tant que valeur pour la propriété de liaison, **ReceiveIDocFormat** exposées par le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="446b4-183">When receiving IDOCs, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports different message formats, which can be specified as a value for the binding property, **ReceiveIDocFormat** exposed by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
-   <span data-ttu-id="446b4-184">Si la valeur « Typé », le schéma XML est fortement typé pour l’IDOC spécifique en cours de réception.</span><span class="sxs-lookup"><span data-stu-id="446b4-184">If set to "Typed", the XML schema is strongly typed to the specific IDOC being received.</span></span> <span data-ttu-id="446b4-185">(Le schéma pour ce message peut être consulté dans les opérations de réception.</span><span class="sxs-lookup"><span data-stu-id="446b4-185">(The schema for this message can be seen from the Receive operations.</span></span> <span data-ttu-id="446b4-186">Notez que le schéma est différent des IDOC différents).</span><span class="sxs-lookup"><span data-stu-id="446b4-186">Note that the schema is different for different IDOCs).</span></span> <span data-ttu-id="446b4-187">Il en résulte un IDOC XML.</span><span class="sxs-lookup"><span data-stu-id="446b4-187">This yields an XML IDOC.</span></span>  
  
-   <span data-ttu-id="446b4-188">Si la valeur « Chaîne », les données IDOC entrantes sont retournées en tant que valeur de chaîne.</span><span class="sxs-lookup"><span data-stu-id="446b4-188">If set to "String", the incoming IDOC data is returned as a String value.</span></span> <span data-ttu-id="446b4-189">(Le schéma pour ce message peut être consulté à partir de l’opération ReceiveIdoc).</span><span class="sxs-lookup"><span data-stu-id="446b4-189">(The schema for this message can be seen from the ReceiveIdoc operation).</span></span> <span data-ttu-id="446b4-190">Il en résulte un message XML avec le \<idocData > balise.</span><span class="sxs-lookup"><span data-stu-id="446b4-190">This yields an XML message with the \<idocData> tag.</span></span>  
  
-   <span data-ttu-id="446b4-191">Si la valeur « Rfc », le schéma de message correspond au schéma RFC (ou tRFC) pour les opérations de RFC IDOC_INBOUND_ASYNCHRONOUS ou INBOUND_IDOC_PROCESS, selon la version IDOC entrante.</span><span class="sxs-lookup"><span data-stu-id="446b4-191">If set to "Rfc", the message schema matches the RFC (or tRFC) schema for the RFC operations IDOC_INBOUND_ASYNCHRONOUS or INBOUND_IDOC_PROCESS, depending on the incoming IDOC version.</span></span> <span data-ttu-id="446b4-192">Si vous spécifiez cette propriété de liaison, vous devez utiliser le IDOC_INBOUND_ASYNCHRONOUS ou INBOUND_IDOC_PROCESS RFC pour recevoir l’IDOC.</span><span class="sxs-lookup"><span data-stu-id="446b4-192">If you specify this binding property you should use the IDOC_INBOUND_ASYNCHRONOUS or INBOUND_IDOC_PROCESS RFC to receive the IDOC.</span></span> <span data-ttu-id="446b4-193">Dans les deux premières options, l’adaptateur utilise en interne cette RFC.</span><span class="sxs-lookup"><span data-stu-id="446b4-193">In the first two options, the adapter internally uses this RFC.</span></span> <span data-ttu-id="446b4-194">Dans cette option, vous utilisez explicitement cette RFC pour recevoir un IDOC.</span><span class="sxs-lookup"><span data-stu-id="446b4-194">In this option, you explicitly use this RFC to receive an IDOC.</span></span>  
  
 <span data-ttu-id="446b4-195">L’opération que vous utilisez pour recevoir un IDOC doit correspondre au format des données IDOC émis par l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="446b4-195">The operation that you use to receive an IDOC must match the format of the IDOC data emitted by the adapter.</span></span> <span data-ttu-id="446b4-196">Le tableau suivant fournit un résumé des différentes combinaisons dans lequel vous pouvez recevoir un IDOC de SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-196">The following table provides a summary of the different combinations in which you can receive an IDOC from SAP.</span></span>  
  
|<span data-ttu-id="446b4-197">Pour recevoir un IDOC à l’aide</span><span class="sxs-lookup"><span data-stu-id="446b4-197">To receive an IDOC using</span></span>|<span data-ttu-id="446b4-198">Définissez la propriété binding ReceiveIDOCFormat à</span><span class="sxs-lookup"><span data-stu-id="446b4-198">Set the binding property ReceiveIDOCFormat to</span></span>|  
|------------------------------|---------------------------------------------------|  
|<span data-ttu-id="446b4-199">**Réception** opération</span><span class="sxs-lookup"><span data-stu-id="446b4-199">**Receive** operation</span></span>|<span data-ttu-id="446b4-200">Typé</span><span class="sxs-lookup"><span data-stu-id="446b4-200">Typed</span></span>|  
|<span data-ttu-id="446b4-201">**ReciveIdoc** opération</span><span class="sxs-lookup"><span data-stu-id="446b4-201">**ReciveIdoc** operation</span></span>|<span data-ttu-id="446b4-202">Chaîne</span><span class="sxs-lookup"><span data-stu-id="446b4-202">String</span></span>|  
|<span data-ttu-id="446b4-203">IDOC_INBOUND_ASYNCHRONOUS RFC</span><span class="sxs-lookup"><span data-stu-id="446b4-203">IDOC_INBOUND_ASYNCHRONOUS RFC</span></span>|<span data-ttu-id="446b4-204">RFC</span><span class="sxs-lookup"><span data-stu-id="446b4-204">Rfc</span></span>|  
|<span data-ttu-id="446b4-205">INBOUND_IDOC_PROCESS RFC</span><span class="sxs-lookup"><span data-stu-id="446b4-205">INBOUND_IDOC_PROCESS RFC</span></span>|<span data-ttu-id="446b4-206">RFC</span><span class="sxs-lookup"><span data-stu-id="446b4-206">Rfc</span></span>|  
  
 <span data-ttu-id="446b4-207">Une autre propriété de liaison **PadReceivedIdocsWithSpaces** remplit l’IDOC reçu avec des espaces blancs pour des champs facultatifs lors de réception format attendu est « String ».</span><span class="sxs-lookup"><span data-stu-id="446b4-207">Another binding property **PadReceivedIdocsWithSpaces** pads the received IDOC with white spaces for optional fields when receive format expected is “String”.</span></span> <span data-ttu-id="446b4-208">Cela permet d’assurer la compatibilité avec le format de données IDOC reçu à l’aide de la version précédente de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="446b4-208">This enables compatibility with the IDOC data format received using the previous version of the adapter.</span></span>  
  
 <span data-ttu-id="446b4-209">Pour plus d’informations sur les propriétés de liaison, consultez [en savoir plus sur l’adaptateur BizTalk pour mySAP Business Suite liaison propriétés](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md).</span><span class="sxs-lookup"><span data-stu-id="446b4-209">For more information about binding properties, see [Read about BizTalk Adapter for mySAP Business Suite Binding Properties](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md).</span></span>  
  
 <span data-ttu-id="446b4-210">Pour plus d’informations sur :</span><span class="sxs-lookup"><span data-stu-id="446b4-210">For more information about:</span></span>  
  
-   <span data-ttu-id="446b4-211">Réception d’un IDOC à partir d’un système SAP à l’aide de BizTalk Server, consultez [recevoir des IDOC de SAP à l’aide de BizTalk Server](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-using-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="446b4-211">Receiving an IDOC from an SAP system using BizTalk Server, see [Receive IDOCs from SAP by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-using-biztalk-server.md).</span></span>  
  
-   <span data-ttu-id="446b4-212">Réception d’un IDOC à partir d’un système SAP dans un contexte transactionnel à l’aide de BizTalk Server, consultez [recevoir des IDOC de SAP dans un contexte transactionnel à l’aide de BizTalk Server](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-in-a-transactional-context-using-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="446b4-212">Receiving an IDOC from an SAP system in a transactional context using BizTalk Server, see [Receive IDOCs from SAP in a Transactional Context by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-in-a-transactional-context-using-biztalk-server.md).</span></span>  
  
-   <span data-ttu-id="446b4-213">Structures et action SOAP pour recevoir un IDOC des messages, consultez [des schémas de Message pour des opérations IDOC](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md).</span><span class="sxs-lookup"><span data-stu-id="446b4-213">Message structures and SOAP action for receiving an IDOC, see [Message Schemas for IDOC Operations](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md).</span></span>  
  
##  <span data-ttu-id="446b4-214"><a name="BKMK_Authorize"></a>SAP d’autorisation pour l’utilisation d’envoi ou d’opérations de réception</span><span class="sxs-lookup"><span data-stu-id="446b4-214"><a name="BKMK_Authorize"></a> SAP Authorization for Using Send or Receive Operations</span></span>  
 <span data-ttu-id="446b4-215">Lorsque vous utilisez la **envoyer** ou **réception** operations pour envoyer ou recevoir des IDOC à l’aide d’un schéma fortement typé, le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] appelle en interne la RFC IDOCTYPE_READ_COMPLETE pour récupérer les métadonnées pour l’IDOC.</span><span class="sxs-lookup"><span data-stu-id="446b4-215">When you use the **Send** or **Receive** operations to send or receive IDOCs using a strongly-typed schema, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] internally invokes the IDOCTYPE_READ_COMPLETE RFC to retrieve the metadata for the IDOC.</span></span> <span data-ttu-id="446b4-216">Appel de ce document RFC nécessite l’autorisation suivante dans SAP :</span><span class="sxs-lookup"><span data-stu-id="446b4-216">Invoking this RFC requires the following authorization in SAP:</span></span>  
  
```  
Authorisation object S_IDOCDEFT, Fields:  
EDI_TCD, value 'WE30'  
ACTVT, value - 03 (display)  
EDI_DOC, value  *  
EDI_CIM, value *  
```  
  
 <span data-ttu-id="446b4-217">Vous pouvez utiliser la transaction SU01 dans SAP pour ajouter un objet d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="446b4-217">You can use the SU01 transaction in SAP to add an authorization object.</span></span> <span data-ttu-id="446b4-218">Pour plus d’informations sur la transaction, contactez votre administrateur SAP ou consultez la documentation de SAP.</span><span class="sxs-lookup"><span data-stu-id="446b4-218">For more information about the transaction, contact your SAP administrator or refer to SAP documentation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="446b4-219">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="446b4-219">See Also</span></span>  
 <span data-ttu-id="446b4-220">[Quelles opérations peuvent être effectuées à l’aide de la carte ?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span><span class="sxs-lookup"><span data-stu-id="446b4-220">[What Operations Can be Performed Using the Adapter?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span></span>