---
title: Recevoir des appels de RFC entrants à partir de SAP à l’aide de BizTalk Server | Documents Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- RFC calls, receiving using BizTalk Server
ms.assetid: 822fd9fb-772f-4910-a11e-25c1d5dca6e1
caps.latest.revision: 9
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4b949ae0d6d5938493c78ed542a67d3c8bd09b48
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="receive-inbound-rfc-calls-from-sap-using-biztalk-server"></a><span data-ttu-id="3780d-102">Recevoir des appels de RFC entrants à partir de SAP à l’aide de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="3780d-102">Receive Inbound RFC Calls from SAP using BizTalk Server</span></span>
<span data-ttu-id="3780d-103">Dans un scénario de serveur RFC, il existe trois entités :</span><span class="sxs-lookup"><span data-stu-id="3780d-103">In an RFC server scenario, there are three entities:</span></span>  
  
-   <span data-ttu-id="3780d-104">Un client SAP qui envoie une demande à SAP pour appeler une commande RFC.</span><span class="sxs-lookup"><span data-stu-id="3780d-104">An SAP client that sends a request to SAP to invoke an RFC.</span></span> <span data-ttu-id="3780d-105">Ceci pourrait être invoqué à l’aide de l’interface utilisateur graphique SAP ou en effectuant un client RFC appeler via le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3780d-105">This could be invoked either by using the SAP GUI or by making an RFC client call through the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
-   <span data-ttu-id="3780d-106">Le système SAP qui contient une définition de fonction RFC qui appelle par le client SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-106">The SAP system that contains an RFC function definition that the SAP client invokes.</span></span> <span data-ttu-id="3780d-107">Le système SAP transmet la demande au serveur RFC (l’adaptateur).</span><span class="sxs-lookup"><span data-stu-id="3780d-107">The SAP system passes on the request to the RFC server (the adapter).</span></span> <span data-ttu-id="3780d-108">Il est utilisé par l’adaptateur pour accéder aux métadonnées de l’appel RFC qu’au serveur SAP à l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="3780d-108">This is used by the adapter to get the metadata of the RFC call that the SAP server makes into the adapter.</span></span>  
  
-   <span data-ttu-id="3780d-109">Le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] qui fait Office de serveur RFC et héberge le document RFC réel.</span><span class="sxs-lookup"><span data-stu-id="3780d-109">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] that acts as the RFC server and hosts the actual RFC.</span></span>  
  
 <span data-ttu-id="3780d-110">La première entité, le client SAP, n’est pas traitée dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="3780d-110">The first entity, the SAP client, is not discussed in this topic.</span></span> <span data-ttu-id="3780d-111">Si vous utilisez l’interface utilisateur graphique SAP pour appeler une commande RFC, reportez-vous à la documentation de SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-111">If you are using the SAP GUI to invoke an RFC, refer to SAP documentation.</span></span> <span data-ttu-id="3780d-112">Si vous utilisez la [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] pour appeler une commande RFC, consultez [appeler les RFC dans SAP par à l’aide de BizTalk Server](../../adapters-and-accelerators/adapter-sap/invoke-rfcs-in-sap-using-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-112">If you are using the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] to invoke an RFC, see [Invoke RFCs in SAP by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/invoke-rfcs-in-sap-using-biztalk-server.md).</span></span>  
  
 <span data-ttu-id="3780d-113">Cette section fournit des instructions sur l’utilisation de l’adaptateur pour recevoir un appel de serveur RFC, une fois que le document RFC est appelé par un client SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-113">This section provides instructions on how to use the adapter to receive an RFC server call, once the RFC is invoked by an SAP client.</span></span> <span data-ttu-id="3780d-114">Pour plus d’informations sur comment l’adaptateur prend en charge la réception RFC server appelle à l’aide de la [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)], consultez [opérations sur les documents RFC dans SAP](../../adapters-and-accelerators/adapter-sap/operations-on-rfcs-in-sap.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-114">For more information on how the adapter supports receiving RFC server calls using the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)], see [Operations on RFCs in SAP](../../adapters-and-accelerators/adapter-sap/operations-on-rfcs-in-sap.md).</span></span>  
  
## <a name="how-to-receive-an-inbound-rfc-call-from-the-sap-system"></a><span data-ttu-id="3780d-115">La réception d’un appel entrant RFC à partir du système SAP ?</span><span class="sxs-lookup"><span data-stu-id="3780d-115">How to Receive an Inbound RFC Call from the SAP System?</span></span>  
 <span data-ttu-id="3780d-116">Une opération sur un système SAP à l’aide [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] implique les tâches de procédures décrites dans [blocs de construction pour créer des applications SAP](../../adapters-and-accelerators/adapter-sap/building-blocks-to-create-sap-applications.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-116">Performing an operation on an SAP system using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves procedural tasks described in [Building blocks to create SAP applications](../../adapters-and-accelerators/adapter-sap/building-blocks-to-create-sap-applications.md).</span></span> <span data-ttu-id="3780d-117">Pour recevoir un appel RFC à partir du système SAP, ces tâches sont :</span><span class="sxs-lookup"><span data-stu-id="3780d-117">To receive an RFC call from the SAP system, these tasks are:</span></span>  
  
1.  <span data-ttu-id="3780d-118">Configurer votre système SAP pour envoyer les RFC à une application externe, dans ce cas le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3780d-118">Configure your SAP system to send RFC to an external application, in this case the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
2.  <span data-ttu-id="3780d-119">Créez un projet BizTalk et générer le schéma pour le document RFC qui le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] recevra à partir du système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-119">Create a BizTalk project and generate schema for the RFC that the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] will be receiving from the SAP system.</span></span>  
  
3.  <span data-ttu-id="3780d-120">Créer des messages dans le projet BizTalk pour recevoir des messages à partir du système SAP et l’envoi des réponses.</span><span class="sxs-lookup"><span data-stu-id="3780d-120">Create messages in the BizTalk project for receiving messages from the SAP system and sending responses.</span></span>  
  
4.  <span data-ttu-id="3780d-121">Créez une orchestration pour recevoir une demande de changement à partir du système SAP, traiter et envoyer la réponse au système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-121">Create an orchestration to receive an RFC from the SAP system, process it, and send the response to the SAP system.</span></span>  
  
5.  <span data-ttu-id="3780d-122">Générez et déployez le projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="3780d-122">Build and deploy the BizTalk project.</span></span>  
  
6.  <span data-ttu-id="3780d-123">Configurer l’application en créant physique d’envoi et ports de réception BizTalk.</span><span class="sxs-lookup"><span data-stu-id="3780d-123">Configure the BizTalk application by creating physical send and receive ports.</span></span>  
  
7.  <span data-ttu-id="3780d-124">Démarrez l’application BizTalk.</span><span class="sxs-lookup"><span data-stu-id="3780d-124">Start the BizTalk application.</span></span>  
  
 <span data-ttu-id="3780d-125">Cette rubrique fournit des instructions pour effectuer ces tâches.</span><span class="sxs-lookup"><span data-stu-id="3780d-125">This topic provides instructions to perform these tasks.</span></span>  
  
## <a name="activities-on-the-sap-system"></a><span data-ttu-id="3780d-126">Activités sur le système SAP</span><span class="sxs-lookup"><span data-stu-id="3780d-126">Activities on the SAP System</span></span>  
 <span data-ttu-id="3780d-127">Avant d’utiliser le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] pour recevoir des appels RFC entrants à partir du système SAP, assurez-vous d’effectuer les tâches suivantes sur le système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-127">Before using the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] to receive inbound RFC calls from the SAP system, make sure you complete the following tasks on the SAP system.</span></span>  
  
-   <span data-ttu-id="3780d-128">Une destination RFC de l’adaptateur SAP doit exister.</span><span class="sxs-lookup"><span data-stu-id="3780d-128">An RFC destination for the SAP adapter must exist.</span></span> <span data-ttu-id="3780d-129">Le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] reçoit les RFC à partir du système SAP via une destination RFC défini sur le système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-129">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] receives RFCs from the SAP system through an RFC destination defined on the SAP system.</span></span> <span data-ttu-id="3780d-130">La destination RFC contient l’hôte de passerelle SAP, le Service de passerelle SAP et l’ID de programme SAP que vous devez spécifier dans l’URI de connexion dans votre code.</span><span class="sxs-lookup"><span data-stu-id="3780d-130">The RFC destination contains the SAP Gateway Host, the SAP Gateway Service, and the SAP Program ID that you must specify in the connection URI in your code.</span></span> <span data-ttu-id="3780d-131">Pour plus d’informations sur la configuration d’une destination RFC sur SAP, consultez [créer une demande de changement, la destination RFC et envoyer une demande de changement à partir du système SAP](creating-an-rfc-in-an-sap-system.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-131">For information about how to setup an RFC destination on SAP, see [Create an RFC, RFC destination, and send an RFC from SAP system](creating-an-rfc-in-an-sap-system.md).</span></span>  
  
-   <span data-ttu-id="3780d-132">Vous devez créer un module de fonction qui définit la RFC sur le système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-132">You must create a function module that defines the RFC on the SAP system.</span></span> <span data-ttu-id="3780d-133">Le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] utilise la définition de la RFC sur le système SAP pour récupérer des métadonnées sur le document RFC (à la fois au moment du design et au moment de l’exécution).</span><span class="sxs-lookup"><span data-stu-id="3780d-133">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] uses the RFC definition on the SAP system to retrieve metadata about the RFC (both at design-time and at runtime).</span></span> <span data-ttu-id="3780d-134">Pour plus d’informations, consultez [création d’une commande RFC dans un système SAP](../../adapters-and-accelerators/adapter-sap/creating-an-rfc-in-an-sap-system.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-134">For more information see [Creating an RFC in an SAP System](../../adapters-and-accelerators/adapter-sap/creating-an-rfc-in-an-sap-system.md).</span></span>  
  
     <span data-ttu-id="3780d-135">Voici un exemple de code source sur le système SAP pour une commande RFC qui ajoute deux entiers et retourne son résultat.</span><span class="sxs-lookup"><span data-stu-id="3780d-135">The following is an example of the source code on the SAP system for an RFC that adds two integers and returns their result.</span></span> <span data-ttu-id="3780d-136">Le code appelle simplement la RFC via une destination spécifique.</span><span class="sxs-lookup"><span data-stu-id="3780d-136">The code merely calls the RFC through a specified destination.</span></span> <span data-ttu-id="3780d-137">L’implémentation de la fonction est effectuée par le code client de l’adaptateur SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-137">The implementation of the function is done by the SAP adapter client code.</span></span>  
  
    ```  
    FUNCTION Z_RFC_ADD.  
    *"------------------------------------------------------------------  
    *"  
    *"Local interface:  
    *"  IMPORTING  
    *"     VALUE(X) TYPE  INT4  
    *"     VALUE(Y) TYPE  INT4  
    *"     VALUE(DEST) TYPE  CHAR20 DEFAULT 'SAPADAPTER'  
    *"  EXPORTING  
    *"     VALUE(RESULT) TYPE  INT4  
    *"------------------------------------------------------------------  
    CALL FUNCTION 'Z_RFC_ADD' DESTINATION DEST  
      EXPORTING X = X  
                Y = Y  
      IMPORTING RESULT = RESULT.  
  
    ENDFUNCTION.  
    ```  
  
## <a name="sample-based-on-this-topic"></a><span data-ttu-id="3780d-138">Exemple basé sur cette rubrique</span><span class="sxs-lookup"><span data-stu-id="3780d-138">Sample Based On This Topic</span></span>  
 <span data-ttu-id="3780d-139">Un exemple, RFCServer, en fonction de cette rubrique est également fourni avec le [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3780d-139">A sample, RFCServer, based on this topic is also provided with the [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span></span> <span data-ttu-id="3780d-140">Pour plus d’informations, consultez [exemples pour l’adaptateur SAP](../../adapters-and-accelerators/adapter-sap/samples-for-the-sap-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-140">For more information, see [Samples for the SAP adapter](../../adapters-and-accelerators/adapter-sap/samples-for-the-sap-adapter.md).</span></span>  
  
## <a name="generating-the-schema"></a><span data-ttu-id="3780d-141">Générer le schéma</span><span class="sxs-lookup"><span data-stu-id="3780d-141">Generating the Schema</span></span>  
 <span data-ttu-id="3780d-142">Dans cette rubrique, pour illustrer comment recevoir un appel RFC entrant à partir du système SAP, nous générer le schéma pour *Z_RFC_ADD* RFC.</span><span class="sxs-lookup"><span data-stu-id="3780d-142">In this topic, to demonstrate how to receive an inbound RFC call from the SAP system, we generate the schema for *Z_RFC_ADD* RFC.</span></span> <span data-ttu-id="3780d-143">Vous avez créé cette RFC à l’étape précédente.</span><span class="sxs-lookup"><span data-stu-id="3780d-143">You created this RFC in the previous step.</span></span> <span data-ttu-id="3780d-144">Ce document RFC accepte deux valeurs entières en tant que paramètres d’entrée.</span><span class="sxs-lookup"><span data-stu-id="3780d-144">This RFC takes two integer values as input parameters.</span></span>  
  
 <span data-ttu-id="3780d-145">Consultez [Parcourir, rechercher et obtenir de métadonnées pour les opérations de RFC dans SAP](../../adapters-and-accelerators/adapter-sap/browse-search-and-get-metadata-for-rfc-operations-in-sap.md) pour obtenir des instructions sur la génération de schéma pour une demande de changement particulier.</span><span class="sxs-lookup"><span data-stu-id="3780d-145">See [Browse, search, and get Metadata for RFC Operations in SAP](../../adapters-and-accelerators/adapter-sap/browse-search-and-get-metadata-for-rfc-operations-in-sap.md) for instructions on how to generate schema for a particular RFC.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="3780d-146">Étant donné que vous générez le schéma d’un appel RFC entrant, veillez à sélectionner **Service (opération entrante)** à partir de la **sélectionner type de contrat** liste déroulante dans le [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3780d-146">Because you are generating the schema for an inbound RFC call, make sure you select **Service (Inbound operation)** from the **Select contract type** drop-down list in the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)].</span></span>  
  
## <a name="defining-messages-and-message-types"></a><span data-ttu-id="3780d-147">Définition des Messages et les Types de messages</span><span class="sxs-lookup"><span data-stu-id="3780d-147">Defining Messages and Message Types</span></span>  
 <span data-ttu-id="3780d-148">Le schéma que vous avez généré précédemment décrit les « types » requis pour les messages dans l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="3780d-148">The schema that you generated earlier describes the "types" required for the messages in the orchestration.</span></span> <span data-ttu-id="3780d-149">Un message est généralement une variable, le type est défini par le schéma correspondant.</span><span class="sxs-lookup"><span data-stu-id="3780d-149">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="3780d-150">Vous devez lier le schéma généré à la première étape pour les messages à partir de la vue de l’Orchestration du projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="3780d-150">You must link the schema you generated in the first step to the messages from the Orchestration view of the BizTalk project.</span></span>  
  
 <span data-ttu-id="3780d-151">Cette rubrique, vous devez créer deux messages : un pour recevoir des messages à partir du système SAP et l’autre pour envoyer une réponse au système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-151">For this topic, you must create two messages—one to receive messages from the SAP system and the other to send a response to the SAP system.</span></span>  
  
 <span data-ttu-id="3780d-152">Procédez comme suit pour créer des messages et les lier au schéma :</span><span class="sxs-lookup"><span data-stu-id="3780d-152">Perform the following steps to create messages and link them to the schema:</span></span>  
  
#### <a name="to-create-messages-and-link-to-schema"></a><span data-ttu-id="3780d-153">Pour créer des messages et le lier au schéma</span><span class="sxs-lookup"><span data-stu-id="3780d-153">To create messages and link to schema</span></span>  
  
1.  <span data-ttu-id="3780d-154">Ajoutez une nouvelle orchestration au projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="3780d-154">Add a new orchestration to the BizTalk project.</span></span>  
  
2.  <span data-ttu-id="3780d-155">Ouvrez la vue orchestration au projet BizTalk, si ce n’est pas déjà ouvert.</span><span class="sxs-lookup"><span data-stu-id="3780d-155">Open the orchestration view the BizTalk project, if not already open.</span></span> <span data-ttu-id="3780d-156">Cliquez sur **vue**, pointez sur **autres fenêtres**, puis cliquez sur **Vue Orchestration**.</span><span class="sxs-lookup"><span data-stu-id="3780d-156">Click **View**, point to **Other Windows**, and click **Orchestration View**.</span></span>  
  
3.  <span data-ttu-id="3780d-157">Dans le **Vue Orchestration**, avec le bouton droit **Messages**, puis cliquez sur **nouveau Message**.</span><span class="sxs-lookup"><span data-stu-id="3780d-157">In the **Orchestration View**, right-click **Messages**, and then click **New Message**.</span></span>  
  
4.  <span data-ttu-id="3780d-158">Avec le bouton droit le nouvellement créer le message et sélectionnez **fenêtre Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="3780d-158">Right-click the newly create message and select **Properties Window**.</span></span>  
  
5.  <span data-ttu-id="3780d-159">Dans le **propriétés** volet pour **Message_1**, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="3780d-159">In the **Properties** pane for **Message_1**, do the following.</span></span>  
  
    |<span data-ttu-id="3780d-160">Utiliser</span><span class="sxs-lookup"><span data-stu-id="3780d-160">Use this</span></span>|<span data-ttu-id="3780d-161">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="3780d-161">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="3780d-162">Identificateur</span><span class="sxs-lookup"><span data-stu-id="3780d-162">Identifier</span></span>|<span data-ttu-id="3780d-163">Type **demande**.</span><span class="sxs-lookup"><span data-stu-id="3780d-163">Type **Request**.</span></span>|  
    |<span data-ttu-id="3780d-164">Type de message</span><span class="sxs-lookup"><span data-stu-id="3780d-164">Message Type</span></span>|<span data-ttu-id="3780d-165">Dans la liste déroulante, développez **schémas**, puis sélectionnez *RFCServer.SAPBindingSchema.Z_RFC_ADD*, où *RFCServer* est le nom de votre projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="3780d-165">From the drop-down list, expand **Schemas**, and select *RFCServer.SAPBindingSchema.Z_RFC_ADD*, where *RFCServer* is the name of your BizTalk project.</span></span> <span data-ttu-id="3780d-166">*SAPBindingSchema* est le schéma généré pour le document RFC *Z_RFC_ADD*.</span><span class="sxs-lookup"><span data-stu-id="3780d-166">*SAPBindingSchema* is the schema generated for the RFC *Z_RFC_ADD*.</span></span>|  
  
6.  <span data-ttu-id="3780d-167">Répétez l’étape 2 pour créer un nouveau message.</span><span class="sxs-lookup"><span data-stu-id="3780d-167">Repeat step 2 to create a new message.</span></span> <span data-ttu-id="3780d-168">Dans le **propriétés** volet pour le nouveau message, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="3780d-168">In the **Properties** pane for the new message, do the following.</span></span>  
  
    |<span data-ttu-id="3780d-169">Utiliser</span><span class="sxs-lookup"><span data-stu-id="3780d-169">Use this</span></span>|<span data-ttu-id="3780d-170">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="3780d-170">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="3780d-171">Identificateur</span><span class="sxs-lookup"><span data-stu-id="3780d-171">Identifier</span></span>|<span data-ttu-id="3780d-172">Type **réponse**.</span><span class="sxs-lookup"><span data-stu-id="3780d-172">Type **Response**.</span></span>|  
    |<span data-ttu-id="3780d-173">Type de message</span><span class="sxs-lookup"><span data-stu-id="3780d-173">Message Type</span></span>|<span data-ttu-id="3780d-174">Dans la liste déroulante, développez **schémas**, puis sélectionnez *RFCServer.SAPBindingSchema.Z_RFC_ADDResponse*.</span><span class="sxs-lookup"><span data-stu-id="3780d-174">From the drop-down list, expand **Schemas**, and select *RFCServer.SAPBindingSchema.Z_RFC_ADDResponse*.</span></span>|  
  
## <a name="setting-up-the-orchestration"></a><span data-ttu-id="3780d-175">Configuration de l’Orchestration</span><span class="sxs-lookup"><span data-stu-id="3780d-175">Setting up the Orchestration</span></span>  
 <span data-ttu-id="3780d-176">Vous devez créer une orchestration BizTalk à utiliser [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] pour recevoir des appels de serveur RFC à partir du système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-176">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for receiving RFC server calls from the SAP system.</span></span> <span data-ttu-id="3780d-177">Pour cet exemple, imaginez un scénario où un client RFC envoie une demande au système SAP pour ajouter deux entiers.</span><span class="sxs-lookup"><span data-stu-id="3780d-177">For this example, consider a scenario where an RFC client sends a request to the SAP system to add two integers.</span></span> <span data-ttu-id="3780d-178">Le système SAP accepte la demande, avec les paramètres d’entrée et le transmet au serveur RFC externe hébergé par le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3780d-178">The SAP system takes the request, with the input parameters, and passes it on to the external RFC server hosted by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span> <span data-ttu-id="3780d-179">Le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] reçoit la demande à partir du système SAP, processus de la demande d’ajout de deux entiers et génère une réponse.</span><span class="sxs-lookup"><span data-stu-id="3780d-179">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] receives the request from the SAP system, process the request to add two integers, and generates a response.</span></span> <span data-ttu-id="3780d-180">Le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] transmet la réponse au système SAP, qui à son tour, est passé au client RFC.</span><span class="sxs-lookup"><span data-stu-id="3780d-180">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] passes the response to the SAP system, which in turn, is passed on to the RFC client.</span></span>  
  
 <span data-ttu-id="3780d-181">Pour cela dans le cadre d’une orchestration, l’orchestration doit contenir :</span><span class="sxs-lookup"><span data-stu-id="3780d-181">To achieve this as part of an orchestration, the orchestration must contain:</span></span>  
  
-   <span data-ttu-id="3780d-182">Un double port de réception pour recevoir la demande au serveur RFC à partir du système SAP et envoyer la réponse.</span><span class="sxs-lookup"><span data-stu-id="3780d-182">A two-way receive port to receive the RFC server request from the SAP system and send the response.</span></span>  
  
-   <span data-ttu-id="3780d-183">Envoyer et recevoir des formes.</span><span class="sxs-lookup"><span data-stu-id="3780d-183">Send and Receive shapes.</span></span>  
  
-   <span data-ttu-id="3780d-184">Forme construire un Message, et dans ce une forme assignation du Message, pour traiter la demande de serveur RFC en provenance du système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-184">Construct Message shape, and within that a Message Assignment shape, to process the RFC server request coming from the SAP system.</span></span>  
  
 <span data-ttu-id="3780d-185">Un exemple d’orchestration pour un appel de serveur RFC semblable au suivant.</span><span class="sxs-lookup"><span data-stu-id="3780d-185">A sample orchestration for an RFC server call resembles the following.</span></span>  
  
 <span data-ttu-id="3780d-186">![Orchestration permettant d’appeler serveur RFC](../../adapters-and-accelerators/adapter-sap/media/f5da2947-56d6-41f0-b411-c8e6eacf68cd.gif "f5da2947-56d6-41f0-b411-c8e6eacf68cd")</span><span class="sxs-lookup"><span data-stu-id="3780d-186">![Orchestration to make RFC server call](../../adapters-and-accelerators/adapter-sap/media/f5da2947-56d6-41f0-b411-c8e6eacf68cd.gif "f5da2947-56d6-41f0-b411-c8e6eacf68cd")</span></span>  
  
### <a name="adding-message-shapes"></a><span data-ttu-id="3780d-187">Ajouter des formes de Message</span><span class="sxs-lookup"><span data-stu-id="3780d-187">Adding Message Shapes</span></span>  
 <span data-ttu-id="3780d-188">Assurez-vous que vous spécifiez les propriétés suivantes pour chacune des formes de message.</span><span class="sxs-lookup"><span data-stu-id="3780d-188">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="3780d-189">Les noms répertoriés dans le *forme* colonne sont les noms des formes de message, tel qu’affiché dans l’orchestration précédente.</span><span class="sxs-lookup"><span data-stu-id="3780d-189">The names listed in the *Shape* column are the names of the message shapes as displayed in the preceding orchestration.</span></span>  
  
|<span data-ttu-id="3780d-190">Graphique à base de formes</span><span class="sxs-lookup"><span data-stu-id="3780d-190">Shape</span></span>|<span data-ttu-id="3780d-191">Type de forme</span><span class="sxs-lookup"><span data-stu-id="3780d-191">Shape Type</span></span>|<span data-ttu-id="3780d-192">Propriétés</span><span class="sxs-lookup"><span data-stu-id="3780d-192">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="3780d-193">ListenToSAP</span><span class="sxs-lookup"><span data-stu-id="3780d-193">ListenToSAP</span></span>|<span data-ttu-id="3780d-194">Recevoir</span><span class="sxs-lookup"><span data-stu-id="3780d-194">Receive</span></span>|<span data-ttu-id="3780d-195">-Définissez **nom** à *ListenToSAP*</span><span class="sxs-lookup"><span data-stu-id="3780d-195">-   Set **Name** to *ListenToSAP*</span></span><br /><span data-ttu-id="3780d-196">-Définissez **activer** à *True*</span><span class="sxs-lookup"><span data-stu-id="3780d-196">-   Set **Activate** to *True*</span></span>|  
|<span data-ttu-id="3780d-197">SendResponse</span><span class="sxs-lookup"><span data-stu-id="3780d-197">SendResponse</span></span>|<span data-ttu-id="3780d-198">Send</span><span class="sxs-lookup"><span data-stu-id="3780d-198">Send</span></span>|<span data-ttu-id="3780d-199">-Définissez **nom** à *SendResponse*</span><span class="sxs-lookup"><span data-stu-id="3780d-199">-   Set **Name** to *SendResponse*</span></span>|  
  
### <a name="adding-construct-message-shape"></a><span data-ttu-id="3780d-200">Ajout de forme construire un Message</span><span class="sxs-lookup"><span data-stu-id="3780d-200">Adding Construct Message Shape</span></span>  
 <span data-ttu-id="3780d-201">Pour traiter l’appel RFC entrant pour ajouter deux valeurs entières, vous devez ajouter une forme construire un Message et dans laquelle une forme assignation du Message à votre orchestration, entre les deux formes d’envoi.</span><span class="sxs-lookup"><span data-stu-id="3780d-201">To process the incoming RFC call to add two integer values, you must add a Construct Message shape and within that a Message Assignment shape to your orchestration, between the two send shapes.</span></span> <span data-ttu-id="3780d-202">Pour cet exemple, la forme assignation du Message appelle pour ajouter deux entiers.</span><span class="sxs-lookup"><span data-stu-id="3780d-202">For this example, the Message Assignment shape invokes to add two integers.</span></span> <span data-ttu-id="3780d-203">La forme assignation du Message définit également l’action pour la réponse à envoyer au système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-203">The Message Assignment shape also sets the action for the response to be sent to the SAP system.</span></span>  
  
 <span data-ttu-id="3780d-204">Pour la forme construire un Message, définissez la **Message construit** propriété **réponse**.</span><span class="sxs-lookup"><span data-stu-id="3780d-204">For the Construct Message shape, set the **Message Constructed** property to **Response**.</span></span>  
  
 <span data-ttu-id="3780d-205">Le code pour traiter la demande RFC peut faire partie de la même solution Visual Studio en tant que votre projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="3780d-205">The code to process the RFC request could be part of the same Visual Studio solution as your BizTalk project.</span></span> <span data-ttu-id="3780d-206">En Voici un exemple de code pour l’ajout de deux entiers.</span><span class="sxs-lookup"><span data-stu-id="3780d-206">A sample code for adding two integers looks like this.</span></span>  
  
```  
namespace RFCServerResponseCreator  
{  
    public class RFCServerResponseCreator  
    {  
        private static XmlDocument messageIn;  
        private static XmlDocument messageOut;  
        public static XmlDocument CreateRequest(int a, int b, string destination)  
        {  
            messageIn = new XmlDocument();  
            messageIn.LoadXml(  "<Z_RFC_ADD xmlns=\"http://Microsoft.LobServices.Sap/2007/03/Rfc/\">" +  
                                "<DEST>" + destination + "</DEST>" +  
                                "<X>" + a + "</X>" +  
                                "<Y>" + b + "</Y>" +   
                                "</Z_RFC_ADD>"  
                             );  
            return messageIn;  
        }  
        public static XmlDocument CreateResponse(int a, int b)  
        {  
            int c = a + b;  
            messageOut = new XmlDocument();  
            messageOut.LoadXml( "<Z_RFC_ADDResponse xmlns=\"http://Microsoft.LobServices.Sap/2007/03/Rfc/\">" +  
                                "<RESULT>" + c + "</RESULT>" +   
                                "</Z_RFC_ADDResponse>"  
                              );  
            return messageOut;  
        }  
    }  
}  
```  
  
> [!NOTE]
>  <span data-ttu-id="3780d-207">Une fois que vous générez le projet, RFCServerResponseCreator.dll sera créé dans le répertoire du projet.</span><span class="sxs-lookup"><span data-stu-id="3780d-207">After you build the project, RFCServerResponseCreator.dll will be created in the project directory.</span></span> <span data-ttu-id="3780d-208">Vous devez ajouter cette DLL dans le global assembly cache (GAC).</span><span class="sxs-lookup"><span data-stu-id="3780d-208">You must add this DLL to the global assembly cache (GAC).</span></span>  
  
 <span data-ttu-id="3780d-209">Ajoutez l’expression suivante pour appeler ce code à partir de la forme assignation du Message et définir l’action de la réponse envoyée au système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-209">Add the following expression to invoke this code from the Message Assignment shape and to set the action for the response sent to the SAP system.</span></span> <span data-ttu-id="3780d-210">Pour ajouter une expression, double-cliquez sur la forme assignation du Message pour ouvrir l’éditeur d’Expression.</span><span class="sxs-lookup"><span data-stu-id="3780d-210">To add an expression, double-click the Message Assignment shape to open the Expression Editor.</span></span>  
  
```  
Response = RFCServerResponseCreator.RFCServerResponseCreator.CreateResponse(Request.X, Request.Y);  
Response(WCF.Action) = "http://Microsoft.LobServices.Sap/2007/03/Rfc/Z_RFC_ADD/response";  
```  
  
> [!IMPORTANT]
>  <span data-ttu-id="3780d-211">Vous devez définir explicitement l’action du message de réponse.</span><span class="sxs-lookup"><span data-stu-id="3780d-211">You must explicitly set the action on the response message.</span></span> <span data-ttu-id="3780d-212">Si vous ne définissez pas l’action, l’adaptateur WCF-Custom arrive sur le message d’action en ajoutant « Réponse » à l’action de demande.</span><span class="sxs-lookup"><span data-stu-id="3780d-212">If you do not set the action, WCF-Custom adapter arrives at the action message by appending “Response” to the request action.</span></span> <span data-ttu-id="3780d-213">Par conséquent, l’action pour le message de réponse devient `http://Microsoft.LobServices.Sap/2007/03/Rfc/Z_RFC_ADDResponse`.</span><span class="sxs-lookup"><span data-stu-id="3780d-213">So, the action for the response message becomes `http://Microsoft.LobServices.Sap/2007/03/Rfc/Z_RFC_ADDResponse`.</span></span> <span data-ttu-id="3780d-214">Toutefois, le sapBinding attend l’action de réponse en ajoutant « / réponse » à l’action de la demande, par exemple `http://Microsoft.LobServices.Sap/2007/03/Rfc/Z_RFC_ADD/response`.</span><span class="sxs-lookup"><span data-stu-id="3780d-214">However, the sapBinding expects the response action by appending “/response” to the request action, for example `http://Microsoft.LobServices.Sap/2007/03/Rfc/Z_RFC_ADD/response`.</span></span>  
  
### <a name="adding-ports"></a><span data-ttu-id="3780d-215">Ajout de Ports</span><span class="sxs-lookup"><span data-stu-id="3780d-215">Adding Ports</span></span>  
 <span data-ttu-id="3780d-216">Assurez-vous que vous spécifiez les propriétés suivantes pour le port logique.</span><span class="sxs-lookup"><span data-stu-id="3780d-216">Make sure you specify the following properties for the logical port.</span></span> <span data-ttu-id="3780d-217">Le nom indiqué dans le *Port* colonne est le nom du port, tel qu’affiché dans l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="3780d-217">The name listed in the *Port* column is the name of the port as displayed in the orchestration.</span></span>  
  
|<span data-ttu-id="3780d-218">Port</span><span class="sxs-lookup"><span data-stu-id="3780d-218">Port</span></span>|<span data-ttu-id="3780d-219">Propriétés</span><span class="sxs-lookup"><span data-stu-id="3780d-219">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="3780d-220">RFCServerPort</span><span class="sxs-lookup"><span data-stu-id="3780d-220">RFCServerPort</span></span>|<span data-ttu-id="3780d-221">-Définissez **identificateur** à *RFCServerPort*</span><span class="sxs-lookup"><span data-stu-id="3780d-221">-   Set **Identifier** to *RFCServerPort*</span></span><br /><span data-ttu-id="3780d-222">-Définissez **Type** à *RFCServerPortType*</span><span class="sxs-lookup"><span data-stu-id="3780d-222">-   Set **Type** to *RFCServerPortType*</span></span><br /><span data-ttu-id="3780d-223">-Définissez **modèle de Communication** à *demande-réponse*</span><span class="sxs-lookup"><span data-stu-id="3780d-223">-   Set **Communication Pattern** to *Request-Response*</span></span><br /><span data-ttu-id="3780d-224">-Définissez **Direction de Communication** à *de réception-envoi*</span><span class="sxs-lookup"><span data-stu-id="3780d-224">-   Set **Communication Direction** to *Receive-Send*</span></span>|  
  
## <a name="specify-messages-for-action-shapes-and-connect-to-ports"></a><span data-ttu-id="3780d-225">Spécifier des Messages pour les formes d’Action et de se connecter à des Ports</span><span class="sxs-lookup"><span data-stu-id="3780d-225">Specify Messages for Action Shapes and Connect to Ports</span></span>  
 <span data-ttu-id="3780d-226">Le tableau suivant indique les propriétés et leurs valeurs à définir pour spécifier les messages de formes d’action et les lier aux ports.</span><span class="sxs-lookup"><span data-stu-id="3780d-226">The following table specifies the properties and their values to be set to specify messages for action shapes and linking them to the ports.</span></span> <span data-ttu-id="3780d-227">Les noms répertoriés dans le *forme* colonne sont les noms des formes de message, tel qu’affiché dans l’orchestration précédente.</span><span class="sxs-lookup"><span data-stu-id="3780d-227">The names listed in the *Shape* column are the names of the message shapes as displayed in the preceding orchestration.</span></span>  
  
|<span data-ttu-id="3780d-228">Graphique à base de formes</span><span class="sxs-lookup"><span data-stu-id="3780d-228">Shape</span></span>|<span data-ttu-id="3780d-229">Propriétés</span><span class="sxs-lookup"><span data-stu-id="3780d-229">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="3780d-230">ListenToSAP</span><span class="sxs-lookup"><span data-stu-id="3780d-230">ListenToSAP</span></span>|<span data-ttu-id="3780d-231">-Définissez **Message** à *demande*</span><span class="sxs-lookup"><span data-stu-id="3780d-231">-   Set **Message** to *Request*</span></span><br /><span data-ttu-id="3780d-232">-Définissez **opération** à *RFCServerPort.Add.Request*</span><span class="sxs-lookup"><span data-stu-id="3780d-232">-   Set **Operation** to *RFCServerPort.Add.Request*</span></span>|  
|<span data-ttu-id="3780d-233">SendResponse</span><span class="sxs-lookup"><span data-stu-id="3780d-233">SendResponse</span></span>|<span data-ttu-id="3780d-234">-Définissez **Message** à *FuncResponse*</span><span class="sxs-lookup"><span data-stu-id="3780d-234">-   Set **Message** to *FuncResponse*</span></span><br /><span data-ttu-id="3780d-235">-Définissez **opération** à *RFCServerPort.Add.Response*</span><span class="sxs-lookup"><span data-stu-id="3780d-235">-   Set **Operation** to *RFCServerPort.Add.Response*</span></span>|  
  
 <span data-ttu-id="3780d-236">Une fois que vous avez défini ces propriétés, les formes de message et les ports sont connectés et l’orchestration est terminée.</span><span class="sxs-lookup"><span data-stu-id="3780d-236">After you have specified these properties, the message shapes and ports are connected and your orchestration is complete.</span></span>  
  
 <span data-ttu-id="3780d-237">Vous devez maintenant créer la solution BizTalk et déployez-le sur un serveur BizTalk.</span><span class="sxs-lookup"><span data-stu-id="3780d-237">You must now build the BizTalk solution and then deploy it to a BizTalk Server.</span></span> <span data-ttu-id="3780d-238">Pour plus d’informations, consultez [génération et exécution des Orchestrations](../../core/building-and-running-orchestrations.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-238">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md).</span></span>
  
## <a name="configuring-the-biztalk-application"></a><span data-ttu-id="3780d-239">Configuration de l’Application BizTalk</span><span class="sxs-lookup"><span data-stu-id="3780d-239">Configuring the BizTalk Application</span></span>  
 <span data-ttu-id="3780d-240">Après avoir déployé le projet BizTalk, l’orchestration que vous avez créé précédemment est répertoriée sous le **Orchestrations** volet de la console Administration de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="3780d-240">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the **Orchestrations** pane in the BizTalk Server Administration console.</span></span> <span data-ttu-id="3780d-241">Vous devez utiliser la console Administration de BizTalk Server pour configurer l’application.</span><span class="sxs-lookup"><span data-stu-id="3780d-241">You must use the BizTalk Server Administration console to configure the application.</span></span> <span data-ttu-id="3780d-242">Pour plus d’informations sur la configuration d’une application, consultez [comment configurer une Application](../../core/how-to-configure-an-application.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-242">For more information about configuring an application, see [How to Configure an Application](../../core/how-to-configure-an-application.md).</span></span>
  
 <span data-ttu-id="3780d-243">Configuration d’une application implique :</span><span class="sxs-lookup"><span data-stu-id="3780d-243">Configuring an application involves:</span></span>  
  
-   <span data-ttu-id="3780d-244">Sélection d’un hôte de l’application.</span><span class="sxs-lookup"><span data-stu-id="3780d-244">Selecting a host for the application.</span></span>  
  
-   <span data-ttu-id="3780d-245">Mappage de ports que vous avez créé dans l’orchestration aux ports physiques dans la console Administration de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="3780d-245">Mapping the ports that you created in your orchestration to physical ports in the BizTalk Server Administration console.</span></span> <span data-ttu-id="3780d-246">Pour cette orchestration, vous devez :</span><span class="sxs-lookup"><span data-stu-id="3780d-246">For this orchestration you must:</span></span>  
  
    -   <span data-ttu-id="3780d-247">Définir un WCF-Custom ou port de réception WCF-SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-247">Define a WCF-Custom or WCF-SAP receive port.</span></span> <span data-ttu-id="3780d-248">Ce port reçoit les appels RFC entrants à partir du système SAP et envoie la réponse au système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-248">This port will receive inbound RFC calls from the SAP system and will send the response back to the SAP system.</span></span> <span data-ttu-id="3780d-249">Pour plus d’informations sur la création de ports, consultez [configurer manuellement une liaison de port physique à l’adaptateur SAP](../../adapters-and-accelerators/adapter-sap/manually-configure-a-physical-port-binding-to-the-sap-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-249">For information about how to create ports, see [Manually configure a physical port binding to the SAP adapter](../../adapters-and-accelerators/adapter-sap/manually-configure-a-physical-port-binding-to-the-sap-adapter.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="3780d-250">Génération de schéma à l’aide du [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] crée également un fichier de liaison contenant des informations sur les ports et les actions à définir pour ces ports.</span><span class="sxs-lookup"><span data-stu-id="3780d-250">Generating the schema using the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] also creates a binding file containing information about the ports and the actions to be set for those ports.</span></span> <span data-ttu-id="3780d-251">Vous pouvez importer ce fichier de liaison à partir de la Console Administration de BizTalk pour créer des ports d’envoi (pour les appels sortants) ou de ports de réception (d’appels entrants).</span><span class="sxs-lookup"><span data-stu-id="3780d-251">You can import this binding file from the BizTalk Administration Console to create send ports (for outbound calls) or receive ports (for inbound calls).</span></span> <span data-ttu-id="3780d-252">Pour plus d’informations, consultez [configurer une liaison de port physique à l’aide d’un fichier de liaison de port à SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-252">For more information, see [Configure a physical port binding using a port binding file to SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md).</span></span>
  
 <span data-ttu-id="3780d-253">Vous devez également ajouter l’assembly pour le projet RFCServerResponseCreator à votre application BizTalk.</span><span class="sxs-lookup"><span data-stu-id="3780d-253">You must also add the assembly for the RFCServerResponseCreator project to your BizTalk application.</span></span> <span data-ttu-id="3780d-254">Vous avez créé ce projet pour traiter l’appel RFC reçu du système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-254">You created this project to process the RFC call received from the SAP system.</span></span> <span data-ttu-id="3780d-255">Pour cela :</span><span class="sxs-lookup"><span data-stu-id="3780d-255">To do so:</span></span>  
  
1.  <span data-ttu-id="3780d-256">Dans l’arborescence de la console sur le côté gauche de la console Administration de BizTalk Server, sous l’application BizTalk où vous avez importé les liaisons, cliquez sur **ressources**, pointez sur **ajouter**, puis cliquez sur **Assemblys BizTalk**.</span><span class="sxs-lookup"><span data-stu-id="3780d-256">In the console tree on the left side of the BizTalk Server Administration console, under the BizTalk application where you imported the bindings, right-click **Resources**, point to **Add**, and then click **BizTalk Assemblies**.</span></span>  
  
2.  <span data-ttu-id="3780d-257">Dans le **ajouter des ressources** boîte de dialogue, cliquez sur **ajouter**, puis accédez au dossier contenant RFCServerResponseCreator.dll.</span><span class="sxs-lookup"><span data-stu-id="3780d-257">In the **Add Resources** dialog box, Click **Add**, and then navigate to the folder containing RFCServerResponseCreator.dll.</span></span> <span data-ttu-id="3780d-258">Sélectionnez le fichier, puis cliquez **ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="3780d-258">Select the file and then click **Open**.</span></span>  
  
3.  <span data-ttu-id="3780d-259">Dans le **ajouter des ressources** boîte de dialogue, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="3780d-259">In the **Add Resources** dialog box, click **OK**.</span></span>  
  
## <a name="starting-the-application"></a><span data-ttu-id="3780d-260">Démarrage de l’Application</span><span class="sxs-lookup"><span data-stu-id="3780d-260">Starting the Application</span></span>  
 <span data-ttu-id="3780d-261">Vous devez démarrer l’application BizTalk pour la réception des appels RFC entrants à partir d’un système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-261">You must start the BizTalk application for receiving inbound RFC calls from an SAP system.</span></span> <span data-ttu-id="3780d-262">Pour obtenir des instructions sur le démarrage d’une application BizTalk, consultez [comment démarrer une Orchestration](../../core/how-to-start-an-orchestration.md), et [comment démarrer une application](../../core/how-to-start-and-stop-a-biztalk-application.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-262">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md), and [How to start an application](../../core/how-to-start-and-stop-a-biztalk-application.md).</span></span>
  
 <span data-ttu-id="3780d-263">À ce stade, vérifiez que :</span><span class="sxs-lookup"><span data-stu-id="3780d-263">At this stage, make sure:</span></span>  
  
-   <span data-ttu-id="3780d-264">Le WCF-Custom ou WCF-SAP port de réception pour recevoir des appels RFC à partir de SAP système est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="3780d-264">The WCF-Custom or WCF-SAP receive port to receive RFC calls from the SAP system is running.</span></span>  
  
-   <span data-ttu-id="3780d-265">L’orchestration BizTalk pour l’opération est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="3780d-265">The BizTalk orchestration for the operation is running.</span></span>  
  
## <a name="executing-the-operation"></a><span data-ttu-id="3780d-266">L’exécution de l’opération</span><span class="sxs-lookup"><span data-stu-id="3780d-266">Executing the Operation</span></span>  
 <span data-ttu-id="3780d-267">Après avoir exécuté l’application, vous devez envoyer une demande de changement pour le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3780d-267">After you run the application, you must send an RFC to the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span> <span data-ttu-id="3780d-268">Vous pouvez le faire en exécutant la transaction SE37 sur le système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-268">You can do so by executing the transaction SE37 on the SAP system.</span></span> <span data-ttu-id="3780d-269">Vous devez également spécifier les paramètres d’entrée pour l’appel de RFC.</span><span class="sxs-lookup"><span data-stu-id="3780d-269">You must also specify the input parameters for the RFC call.</span></span> <span data-ttu-id="3780d-270">L’adaptateur reçoit l’appel ainsi que les paramètres, la traite et envoie la réponse au système SAP.</span><span class="sxs-lookup"><span data-stu-id="3780d-270">The adapter receives the call along with the parameters, processes it, and sends the response back to the SAP system.</span></span> <span data-ttu-id="3780d-271">Vous serez en mesure d’afficher la réponse dans la même transaction à partir de laquelle vous avez envoyé la demande de changement.</span><span class="sxs-lookup"><span data-stu-id="3780d-271">You will be able to see the response on the same transaction from where you sent the RFC.</span></span>  
  
## <a name="possible-exceptions"></a><span data-ttu-id="3780d-272">Exceptions possibles</span><span class="sxs-lookup"><span data-stu-id="3780d-272">Possible Exceptions</span></span>  
 <span data-ttu-id="3780d-273">Pour plus d’informations sur les exceptions que vous pouvez rencontrer lors de la réception d’un appel de serveur RFC à partir d’un système SAP à l’aide de BizTalk Server, consultez [Exceptions et gestion des erreurs avec l’adaptateur SAP](../../adapters-and-accelerators/adapter-sap/exceptions-and-error-handling-with-the-sap-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-273">For information about the exceptions you might encounter while receiving an RFC server call from an SAP system using BizTalk Server, see [Exceptions and Error Handling with the SAP adapter](../../adapters-and-accelerators/adapter-sap/exceptions-and-error-handling-with-the-sap-adapter.md).</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="3780d-274">Bonnes pratiques</span><span class="sxs-lookup"><span data-stu-id="3780d-274">Best Practices</span></span>  
 <span data-ttu-id="3780d-275">Après avoir déployé et configuré le projet BizTalk, vous pouvez exporter les paramètres de configuration dans un fichier XML appelé le fichier de liaisons.</span><span class="sxs-lookup"><span data-stu-id="3780d-275">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the bindings file.</span></span> <span data-ttu-id="3780d-276">Une fois que vous générez un fichier de liaison, vous pouvez importer les paramètres de configuration à partir du fichier afin que vous n’avez pas besoin de créer les ports d’envoi, ports, etc. pour la même orchestration de réception.</span><span class="sxs-lookup"><span data-stu-id="3780d-276">Once you generate a bindings file, you can import the configuration settings from the file so that you do not need to create the send ports, receive ports, etc. for the same orchestration.</span></span> <span data-ttu-id="3780d-277">Pour plus d’informations sur les fichiers de liaison, consultez [liaisons de l’adaptateur SAP de réutiliser](../../adapters-and-accelerators/adapter-sap/reuse-sap-adapter-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="3780d-277">For more information about binding files, see [Reuse SAP adapter bindings](../../adapters-and-accelerators/adapter-sap/reuse-sap-adapter-bindings.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="3780d-278">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="3780d-278">See Also</span></span>  
[<span data-ttu-id="3780d-279">Développer des applications BizTalk</span><span class="sxs-lookup"><span data-stu-id="3780d-279">Develop BizTalk applications</span></span>](../../adapters-and-accelerators/adapter-sap/develop-biztalk-applications-using-the-sap-adapter.md)