---
title: "Générer un client WCF ou un contrat de service WCF pour les artefacts de solution SAP | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: ff01e2b0-6480-427a-bc6d-6169e7d6e256
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 035f1263922a0c455662139ca112794e920e3848
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts"></a><span data-ttu-id="5a0fb-102">Générer un client WCF ou un contrat de service WCF pour les artefacts de solution SAP</span><span class="sxs-lookup"><span data-stu-id="5a0fb-102">Generate a WCF client or a WCF service contract for SAP solution artifacts</span></span>
<span data-ttu-id="5a0fb-103">Vous pouvez utiliser la [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)] pour générer une classe de client WCF ou un contrat de service WCF (interface) ciblé sur les opérations sélectionnées sur les artefacts SAP.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-103">You can use the [!INCLUDE[addadapterservreflong](../../includes/addadapterservreflong-md.md)] to generate a WCF client class or a WCF service contract (interface) targeted at selected operations on SAP artifacts.</span></span> <span data-ttu-id="5a0fb-104">Vous pouvez également utiliser le service Model Metadata Utility Tool (svcutil.exe) pour générer la classe de client WCF ou le contrat de service WCF ; Toutefois, le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] expose les fonctionnalités de l’utilitaire de métadonnées ServiceModel via une interface de Microsoft Windows standard.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-104">You can also use the ServiceModel Metadata Utility Tool (svcutil.exe) to generate the WCF client class or WCF service contract; however, the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] exposes the functionality of the ServiceModel Metadata Utility Tool through a standard Microsoft Windows interface.</span></span> <span data-ttu-id="5a0fb-105">Il fournit également des fonctionnalités de navigation et de recherche qui ne sont pas disponibles avec l’outil svcutil.exe et génère un fichier de configuration basé sur les propriétés de liaison que vous sélectionnez lorsque vous vous connectez au système SAP.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-105">It also provides browse and search capabilities that are not available with the svcutil.exe tool, and generates a configuration file based on the binding properties that you select when you connect to the SAP system.</span></span>  
  
## <a name="generating-a-client-class-by-using-the-add-adapter-service-reference-plug-in"></a><span data-ttu-id="5a0fb-106">Génération d’une classe de Client à l’aide de l’ajouter une référence de Service d’adaptateur plug-in</span><span class="sxs-lookup"><span data-stu-id="5a0fb-106">Generating a Client Class by Using the Add Adapter Service Reference Plug-in</span></span>  
 <span data-ttu-id="5a0fb-107">Procédez comme suit pour générer une classe de client WCF à l’aide de la [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a0fb-107">Perform the following steps to generate a WCF client class by using the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
  
#### <a name="to-generate-a-wcf-client-class"></a><span data-ttu-id="5a0fb-108">Pour générer une classe de client WCF</span><span class="sxs-lookup"><span data-stu-id="5a0fb-108">To generate a WCF client class</span></span>  
  
1.  <span data-ttu-id="5a0fb-109">Dans [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] l’Explorateur de solutions, cliquez sur votre projet, puis cliquez sur **ajouter une référence de Service de carte**.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-109">In [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] Solution Explorer, right-click your project, and then click **Add Adapter Service Reference**.</span></span>  
  
2.  <span data-ttu-id="5a0fb-110">Après le **ajouter une référence de Service de carte** boîte de dialogue s’ouvre, suivez les étapes de [obtenir les métadonnées pour les opérations de SAP dans Visual Studio](../../adapters-and-accelerators/adapter-sap/get-metadata-for-sap-operations-in-visual-studio.md) pour se connecter à un système SAP et de parcourir et de recherche pour les opérations.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-110">After the **Add Adapter Service Reference** dialog box opens, follow the steps in [Get Metadata for SAP Operations in Visual Studio](../../adapters-and-accelerators/adapter-sap/get-metadata-for-sap-operations-in-visual-studio.md) to connect to the SAP system and browse and search for operations.</span></span> <span data-ttu-id="5a0fb-111">Pour créer une classe de client WCF pour les opérations que vous sélectionnez, assurez-vous que **Client (Outbound operations)** est sélectionné dans le **type de contrat Select** liste déroulante (il s’agit de la valeur par défaut).</span><span class="sxs-lookup"><span data-stu-id="5a0fb-111">To create a WCF client class for the operations that you select, be sure that **Client (Outbound operations)** is selected from the **Select contract type** drop-down list (this is the default).</span></span>  
  
3.  <span data-ttu-id="5a0fb-112">Après avoir sélectionné toutes les opérations que vous souhaitez cibler, cliquez sur **OK** pour générer la classe de client WCF.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-112">After you select all of the operations that you want to target, click **OK** to generate the WCF client class.</span></span>  
  
 <span data-ttu-id="5a0fb-113">Le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] ajoute deux fichiers à votre projet :</span><span class="sxs-lookup"><span data-stu-id="5a0fb-113">The [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] adds two files to your project:</span></span>  
  
-   <span data-ttu-id="5a0fb-114">**SAPBindingClient.cs**.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-114">**SAPBindingClient.cs**.</span></span> <span data-ttu-id="5a0fb-115">Ce fichier contient le WCF client classe et assistance code généré pour les opérations que vous avez sélectionné.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-115">This file contains the generated WCF client class and helper code for the operations that you selected.</span></span>  
  
-   <span data-ttu-id="5a0fb-116">**App.config**. Ce fichier contient une configuration de liaison et les configurations de point de terminaison de client.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-116">**App.config**. This file contains a binding configuration and client endpoint configurations.</span></span> <span data-ttu-id="5a0fb-117">Les paramètres sont basés sur les sélections effectuées lors de la configuration de la liaison et la connexion pour le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a0fb-117">The settings are based on the selections you made when you configured the binding and connection for the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="5a0fb-118">Lors de l’utilisation du [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], si vous ne spécifiez pas une valeur pour une propriété de liaison de type chaîne et dont la valeur par défaut a la valeur null puis que la liaison de propriété sera pas disponible dans le fichier app.config.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-118">While using the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], if you do not specify a value for a binding property of type string and whose default value is null then that binding property will not be available in the app.config file.</span></span> <span data-ttu-id="5a0fb-119">Vous devez ajouter manuellement la propriété de liaison et sa valeur dans le fichier app.config, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-119">You must manually add the binding property and its value in the app.config file, if required.</span></span>  
  
## <a name="generating-a-wcf-service-contract-by-using-the-add-adapter-service-reference-plug-in"></a><span data-ttu-id="5a0fb-120">Génération d’un contrat de Service WCF à l’aide de l’ajouter une référence de Service d’adaptateur plug-in</span><span class="sxs-lookup"><span data-stu-id="5a0fb-120">Generating a WCF Service Contract by Using the Add Adapter Service Reference Plug-in</span></span>  
 <span data-ttu-id="5a0fb-121">Lorsque vous utilisez le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] pour recevoir des IDOC, RFC et tRFCs à partir du système SAP, votre code fonctionne comme un service à l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-121">When you use the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] to receive IDOCs, RFCs, and tRFCs from the SAP system, your code acts as a service to the adapter.</span></span> <span data-ttu-id="5a0fb-122">Autrement dit, l’adaptateur reçoit l’artefact approprié à partir du système SAP et puis appelle une opération (entrante) sur votre code pour remettre l’artefact à votre application.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-122">That is, the adapter receives the appropriate artifact from the SAP system and then invokes an (inbound) operation on your code to deliver the artifact to your application.</span></span>  
  
 <span data-ttu-id="5a0fb-123">Vous devez, par conséquent, implémenter un service WCF qui peut recevoir cette opération entrante à partir de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-123">You must, therefore, implement a WCF service that can receive this inbound operation from the adapter.</span></span> <span data-ttu-id="5a0fb-124">Pour ce faire, vous utilisez le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] pour générer une interface .NET qui représente le contrat de service qui est visible par l’adaptateur pour l’opération.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-124">To do this, you use the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] to generate a .NET interface that represents the service contract that is surfaced by the adapter for the operation.</span></span> <span data-ttu-id="5a0fb-125">Cette interface .NET est également appelée un contrat de service WCF.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-125">This .NET interface is also called a WCF service contract.</span></span> <span data-ttu-id="5a0fb-126">Le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] génère également une classe qui contient une implémentation d’un stub du service WCF.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-126">The [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] also generates a class that contains a stubbed implementation of the WCF service.</span></span> <span data-ttu-id="5a0fb-127">Puis, vous implémentez cette interface pour créer le service WCF que vous pouvez utiliser pour l’opération de réception.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-127">You then implement this interface to create the WCF service that you can use to receive the operation.</span></span>  
  
 <span data-ttu-id="5a0fb-128">Procédez comme suit pour générer un contrat de service WCF à l’aide de la [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a0fb-128">Perform the following steps to generate a WCF service contract by using the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
  
#### <a name="to-generate-a-wcf-service-contract"></a><span data-ttu-id="5a0fb-129">Pour générer un contrat de service WCF</span><span class="sxs-lookup"><span data-stu-id="5a0fb-129">To generate a WCF service contract</span></span>  
  
1.  <span data-ttu-id="5a0fb-130">Dans [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] l’Explorateur de solutions, cliquez sur votre projet, puis cliquez sur **ajouter une référence de Service de carte**.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-130">In [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] Solution Explorer, right-click your project, and then click **Add Adapter Service Reference**.</span></span>  
  
2.  <span data-ttu-id="5a0fb-131">Après le **ajouter une référence de Service de carte** boîte de dialogue s’ouvre, suivez les étapes de [obtenir les métadonnées pour les opérations de SAP dans Visual Studio](../../adapters-and-accelerators/adapter-sap/get-metadata-for-sap-operations-in-visual-studio.md) pour se connecter à un système SAP et de parcourir et de recherche pour les opérations.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-131">After the **Add Adapter Service Reference** dialog box opens, follow the steps in [Get Metadata for SAP Operations in Visual Studio](../../adapters-and-accelerators/adapter-sap/get-metadata-for-sap-operations-in-visual-studio.md) to connect to the SAP system and browse and search for operations.</span></span> <span data-ttu-id="5a0fb-132">Pour créer un contrat de service WCF pour les opérations que vous sélectionnez, assurez-vous que **Service (opérations entrantes)** est sélectionné dans le **type de contrat Select** liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-132">To create a WCF service contract for the operations that you select, be sure that **Service (Inbound operations)** is selected from the **Select contract type** drop-down list.</span></span>  
  
3.  <span data-ttu-id="5a0fb-133">Après avoir sélectionné toutes les opérations que vous souhaitez cibler, cliquez sur **OK** pour générer le contrat de service WCF.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-133">After you select all of the operations that you want to target, click **OK** to generate the WCF service contract.</span></span>  
  
 <span data-ttu-id="5a0fb-134">Le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] ajoute trois fichiers à votre projet :</span><span class="sxs-lookup"><span data-stu-id="5a0fb-134">The [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] adds three files to your project:</span></span>  
  
-   <span data-ttu-id="5a0fb-135">**SAPBindingInterface.cs**.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-135">**SAPBindingInterface.cs**.</span></span> <span data-ttu-id="5a0fb-136">Ce fichier contient le WCF généré service contrat (interface) et le code d’application d’assistance pour les opérations que vous avez sélectionné.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-136">This file contains the generated WCF service contract (interface) and helper code for the operations that you selected.</span></span>  
  
-   <span data-ttu-id="5a0fb-137">**SAPBindingService.cs**.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-137">**SAPBindingService.cs**.</span></span> <span data-ttu-id="5a0fb-138">Ce fichier contient une classe de service WCF stub qui implémente l’interface définie dans SAPBindingInterface.cs.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-138">This file contains a stubbed WCF service class that implements the interface defined in SAPBindingInterface.cs.</span></span> <span data-ttu-id="5a0fb-139">Vous pouvez implémenter la logique métier qui traite le document RFC, le tRFC ou IDOC directement dans les méthodes de cette classe.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-139">You can implement the business logic that processes the RFC, tRFC or IDOC directly in the methods of this class.</span></span>  
  
-   <span data-ttu-id="5a0fb-140">**App.config**. Ce fichier contient une configuration de liaison, des comportements de point de terminaison et configuration de point de terminaison de service qui sont basées sur les sélections effectuées lors de la configuration de la liaison et la connexion pour le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a0fb-140">**App.config**. This file contains a binding configuration, endpoint behaviors, and service endpoint configuration that are based on the selections you made when you configured the binding and connection for the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="5a0fb-141">Lors de l’utilisation du [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], si vous ne spécifiez pas une valeur pour une propriété de liaison de type chaîne et dont la valeur par défaut a la valeur null puis que la liaison de propriété sera pas disponible dans le fichier app.config.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-141">While using the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], if you do not specify a value for a binding property of type string and whose default value is null then that binding property will not be available in the app.config file.</span></span> <span data-ttu-id="5a0fb-142">Vous devez ajouter manuellement la propriété de liaison et sa valeur dans le fichier app.config, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-142">You must manually add the binding property and its value in the app.config file, if required.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5a0fb-143">Vous n’êtes pas obligé de spécifier les paramètres de serveur RFC lorsque vous configurez l’URI de connexion pour le [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] pour générer le contrat de service WCF.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-143">You do not have to specify RFC Server parameters when you configure the connection URI for the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] to generate the WCF service contract.</span></span> <span data-ttu-id="5a0fb-144">Le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] récupère les métadonnées à partir du système SAP via une connexion cliente.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-144">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] retrieves metadata from the SAP system through a client connection.</span></span>  
  
## <a name="generate-a-wcf-client-class-or-a-wcf-service-contract-by-using-svcutilexe"></a><span data-ttu-id="5a0fb-145">Générer une classe de Client WCF ou un contrat de Service WCF à l’aide de svcutil.exe</span><span class="sxs-lookup"><span data-stu-id="5a0fb-145">Generate a WCF Client Class or a WCF Service Contract by Using svcutil.exe</span></span>  
 <span data-ttu-id="5a0fb-146">Vous pouvez utiliser svcutil.exe pour générer une classe de client WCF ou un contrat de service WCF pour votre application.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-146">You can use svcutil.exe to generate a WCF client class or a WCF service contract for your application.</span></span> <span data-ttu-id="5a0fb-147">Vous devez configurer svcutil.exe pour l’utiliser avec le [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a0fb-147">You must configure svcutil.exe to use it with the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span> <span data-ttu-id="5a0fb-148">Pour plus d’informations sur la configuration et l’utilisation de svcutil.exe avec la [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)], consultez [à l’aide de l’utilitaire de métadonnées ServiceModel avec l’adaptateur BizTalk pour mySAP Business Suite](../../adapters-and-accelerators/adapter-sap/use-the-servicemodel-metadata-utility-with-the-sap-adapter-in-biztalk.md).</span><span class="sxs-lookup"><span data-stu-id="5a0fb-148">For more information about configuring and using svcutil.exe with the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)], see [Using the ServiceModel Metadata Utility Tool with the BizTalk Adapter for mySAP Business Suite](../../adapters-and-accelerators/adapter-sap/use-the-servicemodel-metadata-utility-with-the-sap-adapter-in-biztalk.md).</span></span>  
  
 <span data-ttu-id="5a0fb-149">SvcUtil.exe génère la classe de client WCF ou le contrat de service WCF dans un fichier de sortie.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-149">Svcutil.exe generates the WCF client class or WCF service contract in an output file.</span></span> <span data-ttu-id="5a0fb-150">Le nom de fichier par défaut est output.cs.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-150">The default file name is output.cs.</span></span> <span data-ttu-id="5a0fb-151">Vous devez inclure manuellement ce fichier dans votre [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] projet.</span><span class="sxs-lookup"><span data-stu-id="5a0fb-151">You must manually include this file in your [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] project.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5a0fb-152">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="5a0fb-152">See Also</span></span>  
[<span data-ttu-id="5a0fb-153">Développer des applications SAP à l’aide du modèle de canal WCF</span><span class="sxs-lookup"><span data-stu-id="5a0fb-153">Develop SAP applications using the WCF Channel Model</span></span>](../../adapters-and-accelerators/adapter-sap/develop-sap-applications-using-the-wcf-channel-model.md)