---
title: "Encodage de caractères à l’aide de texte libre | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: a69dffe1-3fb2-4902-a9a2-093f3ea7b11f
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 002bccd7c0ed00192f42f9ef478097409d698ddb
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="encoding-characters-using-free-text"></a><span data-ttu-id="d1a6f-102">Encodage de caractères à l’aide de texte libre</span><span class="sxs-lookup"><span data-stu-id="d1a6f-102">Encoding Characters using Free Text</span></span>
<span data-ttu-id="d1a6f-103">En commençant par [!INCLUDE[bts2013r2](../../includes/bts2013r2-md.md)], « FreeText » peut être utilisé dans un champ ou d’un segment.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-103">Starting with [!INCLUDE[bts2013r2](../../includes/bts2013r2-md.md)], “FreeText” can be used in a field or segment.</span></span> <span data-ttu-id="d1a6f-104">Données du champ de « FreeText » / segment ne sont pas analysées.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-104">Data in the “FreeText” field/segment is not parsed.</span></span>  
  
## <a name="what-you-need-to-know"></a><span data-ttu-id="d1a6f-105">Ce que vous devez savoir</span><span class="sxs-lookup"><span data-stu-id="d1a6f-105">What you need to know</span></span>  
  
||<span data-ttu-id="d1a6f-106">Comportement</span><span class="sxs-lookup"><span data-stu-id="d1a6f-106">Behavior</span></span>|<span data-ttu-id="d1a6f-107">Exemple</span><span class="sxs-lookup"><span data-stu-id="d1a6f-107">Example</span></span>|  
|-|--------------|-------------|  
|<span data-ttu-id="d1a6f-108">~ : Séparateur de répétition</span><span class="sxs-lookup"><span data-stu-id="d1a6f-108">~: Repetition separator</span></span>|<span data-ttu-id="d1a6f-109">Dans un champ, répétition (~) est traitée comme un délimiteur répété.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-109">In a field, Repetition (~) is treated as a repeating delimiter.</span></span> <span data-ttu-id="d1a6f-110">Dans un segment non libre, répétition (~) est traitée comme un délimiteur répété.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-110">In a non-free segment, Repetition (~) is treated as a repeating delimiter.</span></span> <span data-ttu-id="d1a6f-111">Dans un segment libre, répétition (~) est traitée en tant que partie du texte libre, pas une répétition de nouveau.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-111">In a free segment, Repetition (~) is treated as part of Free Text, not a new repetition.</span></span>|<span data-ttu-id="d1a6f-112">Dans l’exemple suivant, FRE est Segment libre.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-112">In the following example, FRE is free Segment.</span></span> <span data-ttu-id="d1a6f-113">Il peut avoir n’importe quel caractère sous forme de texte, y compris ~.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-113">It can have any character as free text, including ~.</span></span> <span data-ttu-id="d1a6f-114">Les répétitions supplémentaires (~) ne sont pas considérés comme un délimiteur de répétition et sont traitées en tant que le contenu de texte libre.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-114">Any additional repetitions (~) are not considered a repetition delimiter and are treated as the Free Text content.</span></span> <span data-ttu-id="d1a6f-115">La validation réussit même si l’enfant du Segment libre est non reproductible et contient de répétition (~).</span><span class="sxs-lookup"><span data-stu-id="d1a6f-115">Validation succeeds even if the child of the Free Segment is non-repeatable and contains repetition (~).</span></span> <span data-ttu-id="d1a6f-116">Exemple FRE :</span><span class="sxs-lookup"><span data-stu-id="d1a6f-116">FRE example:</span></span><br /><br /> <span data-ttu-id="d1a6f-117">**FRE &#124; Foo & ^ &#124; Foo & ^ &#124; Foo & ^ &#124; Foo & ^ ~ Foo & ^ &#124; Foo & ^ &#124; Foo & ^ &#124; Foo & ^**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-117">**FRE&#124; Foo&^&#124;Foo&^&#124;Foo&^&#124;Foo&^~Foo&^&#124;Foo&^&#124;Foo&^&#124;Foo&^**</span></span><br /><br /> <span data-ttu-id="d1a6f-118">Dans l’exemple suivant, EVN4 est défini en tant que texte libre, car elle contient  *&^* .</span><span class="sxs-lookup"><span data-stu-id="d1a6f-118">In the following example, EVN4 is defined as free text because it contains *&^*.</span></span> <span data-ttu-id="d1a6f-119">Lorsque le « &#124; « séparateur est rencontré, il est traité comme la fin du texte libre actuel.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-119">When the “&#124;” delimiter is encountered, it is treated as the end of the current Free Text.</span></span> <span data-ttu-id="d1a6f-120">Exemple EVN :</span><span class="sxs-lookup"><span data-stu-id="d1a6f-120">EVN example:</span></span><br /><br /> <span data-ttu-id="d1a6f-121">**EVN &#124; &#124; &#124; &#124; Foo & ^ Foo & ^ Foo & ^ Foo & ^ Foo & ^ &#124; &#124;**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-121">**EVN&#124;&#124;&#124;&#124;Foo&^Foo&^Foo&^Foo&^Foo&^&#124;&#124;**</span></span><br /><br /> <span data-ttu-id="d1a6f-122">Dans l’exemple suivant, le premier enfant de EVN5 est défini en tant que texte libre, car elle contient  *&* .</span><span class="sxs-lookup"><span data-stu-id="d1a6f-122">In the following example, the first child of EVN5 is defined as free text because it contains *&*.</span></span> <span data-ttu-id="d1a6f-123">Lorsque le « ^ » séparateur est rencontré, il est traité comme la fin du texte libre actuel.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-123">When the “^” delimiter is encountered, it is treated as the end of the current Free Text.</span></span> <span data-ttu-id="d1a6f-124">EVN5 exemple :</span><span class="sxs-lookup"><span data-stu-id="d1a6f-124">EVN5 example:</span></span><br /><br /> <span data-ttu-id="d1a6f-125">**EVN &#124; &#124; &#124; &#124; &#124; Foo & Foo & Foo & Foo & Foo & ^ 5.2 &#124;**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-125">**EVN&#124;&#124;&#124;&#124; &#124; Foo&Foo&Foo&Foo&Foo&^5.2&#124;**</span></span><br /><br /> <span data-ttu-id="d1a6f-126">Dans l’exemple suivant, 5.2.1 et 5.2.2 ne peut pas avoir de délimiteurs sous forme de texte, même si elle est définie comme FreeText dans le schéma.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-126">In the following example, 5.2.1 and 5.2.2 cannot have any delimiters as Free Text, even if it is defined as FreeText in the schema.</span></span> <span data-ttu-id="d1a6f-127">exemple 5.2.1 et 5.2.2 :</span><span class="sxs-lookup"><span data-stu-id="d1a6f-127">5.2.1 and 5.2.2 example:</span></span><br /><br /> <span data-ttu-id="d1a6f-128">**EVN &#124; &#124; &#124; &#124; &#124; Foo1 ^ 5.2.1 & 5.2.2 &#124;**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-128">**EVN&#124;&#124;&#124;&#124; &#124; Foo1^5.2.1&5.2.2&#124;**</span></span><br /><br /> <span data-ttu-id="d1a6f-129">Dans l’exemple suivant, supposons que EVN4 peut être répété est de type texte libre.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-129">In the following example, assume EVN4 can be repeated and is of the Free Text type.</span></span> <span data-ttu-id="d1a6f-130">*Foo1 & ^* est traité comme la première répétition et *Foo2 & ^* est traité comme la répétition de seconde.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-130">*Foo1&^* is treated as the first repetition and *Foo2&^* is treated as the second repetition.</span></span> <span data-ttu-id="d1a6f-131">Si EVN4 n’est pas répétée (MaxOccurs = 1), la validation échoue si elle contient ~, même s’il s’agit du type de texte libre (comme dans les cas des champs de texte non disponible).</span><span class="sxs-lookup"><span data-stu-id="d1a6f-131">If EVN4 is not repeatable (MaxOccurs = 1), then the validation fails if it contains ~, even if it is of Free Text type (like in the cases of non-Free Text fields).</span></span> <span data-ttu-id="d1a6f-132">EVN4 exemple :</span><span class="sxs-lookup"><span data-stu-id="d1a6f-132">EVN4 example:</span></span><br /><br /> <span data-ttu-id="d1a6f-133">**EVN &#124; &#124; &#124; &#124; Foo1 & ^ ~ Foo2 & ^ &#124; &#124;**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-133">**EVN &#124;&#124;&#124;&#124; Foo1&^~ Foo2&^ &#124;&#124;**</span></span>|  
|<span data-ttu-id="d1a6f-134">&#124; : séparateur de champs</span><span class="sxs-lookup"><span data-stu-id="d1a6f-134">&#124;: Field separator</span></span>|<span data-ttu-id="d1a6f-135">Si un séparateur de champs est manquant après la balise de segment d’un segment libre, la Validation réussit.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-135">If a field delimiter is missing after the segment tag of a free segment, Validation succeeds.</span></span>|<span data-ttu-id="d1a6f-136">Dans les exemples suivants, FRE est un type de texte libre.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-136">In the following examples, FRE is a Free Text type.</span></span> <span data-ttu-id="d1a6f-137">Contenu de texte libre peut être démarré immédiatement après le FRE segment balise, avec ou sans « &#124; « séparateur de champs.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-137">Free Text content can be started immediately after the FRE segment Tag, with or without “&#124;” field delimiter.</span></span> <span data-ttu-id="d1a6f-138">Les deux exemples réussissent :</span><span class="sxs-lookup"><span data-stu-id="d1a6f-138">Both examples succeed:</span></span><br /><br /> <span data-ttu-id="d1a6f-139">**FREabc**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-139">**FREabc**</span></span> <br /> <span data-ttu-id="d1a6f-140">**FRE &#124; abc**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-140">**FRE&#124;abc**</span></span><br /><br /> <span data-ttu-id="d1a6f-141">Dans les exemples suivants, la validation réussit :</span><span class="sxs-lookup"><span data-stu-id="d1a6f-141">In the following examples, validation succeeds:</span></span><br /><br /> <span data-ttu-id="d1a6f-142">Message d’entrée DASM : **FRE &#124; abcd**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-142">Input message to DASM: **FRE&#124;abcd**</span></span><br /><span data-ttu-id="d1a6f-143">Sortie de DASM :  **\<SegmentData > &#124; abcd\</SegmentData >**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-143">Output from DASM: **\<SegmentData>&#124;abcd\</SegmentData>**</span></span><br /><span data-ttu-id="d1a6f-144">Sortie asm : **FRE &#124; abcd**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-144">Output from ASM: **FRE&#124;abcd**</span></span><br /><br /> <span data-ttu-id="d1a6f-145">Message d’entrée DASM : **FREabcd**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-145">Input message to DASM: **FREabcd**</span></span><br /><span data-ttu-id="d1a6f-146">Sortie de DASM :  **\<SegmentData > abcd\</SegmentData >**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-146">Output from DASM: **\<SegmentData>abcd\</SegmentData>**</span></span><br /><span data-ttu-id="d1a6f-147">Sortie asm : **FREabcd**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-147">Output from ASM: **FREabcd**</span></span>|  
|<span data-ttu-id="d1a6f-148">Facultatif parent-enfant</span><span class="sxs-lookup"><span data-stu-id="d1a6f-148">Parent-Child optional</span></span>|<span data-ttu-id="d1a6f-149">Toujours appliqueront des règles de validation facultatif parent-enfant.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-149">The parent-child optional validation rules still apply.</span></span>|<span data-ttu-id="d1a6f-150">Supposons que le parent est facultatif et un de ses enfants est obligatoire, puis :</span><span class="sxs-lookup"><span data-stu-id="d1a6f-150">Assume the parent is optional and one of its children is mandatory, then:</span></span><br /><br /> <span data-ttu-id="d1a6f-151">-Si aucun des autres enfants et les enfants obligatoires ne sont pas remplies, la validation de message réussit.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-151">-   If none of the other children and the mandatory child are not populated, then message validation succeeds.</span></span><br /><span data-ttu-id="d1a6f-152">-Si au moins un enfant est rempli, l’enfant obligatoire doit aussi être rempli.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-152">-   If at least one child is populated, then the mandatory child should also be populated.</span></span> <span data-ttu-id="d1a6f-153">Sinon, la validation du message échoue.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-153">Otherwise, message validation fails.</span></span><br /><br /> <span data-ttu-id="d1a6f-154">Dans l’exemple suivant, champ 1 comme facultatifs.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-154">In the following example, Field 1 as optional.</span></span> <span data-ttu-id="d1a6f-155">Son *1.a* enfant est facultatif et est le type de texte libre.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-155">Its *1.a* child is optional and is the Free Text type.</span></span> <span data-ttu-id="d1a6f-156">Son *1.b* enfant est obligatoire :</span><span class="sxs-lookup"><span data-stu-id="d1a6f-156">Its *1.b* child is mandatory:</span></span><br /><br /> <span data-ttu-id="d1a6f-157">**XYZ &#124;1.a^1.b &#124; 2**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-157">**xyz&#124;1.a^1.b&#124;2**</span></span><br /><br /> <span data-ttu-id="d1a6f-158">Dans l’exemple de message, *dfssdf**&**sdf* est considéré comme un seul élément - 1.a.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-158">In the following sample message, *dfssdf**&**sdf* is considered as one single element - 1.a.</span></span> <span data-ttu-id="d1a6f-159">L’analyseur vérifie s’il existe des 1.b.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-159">The parser checks if 1.b exists.</span></span> <span data-ttu-id="d1a6f-160">Lorsque le *&#124;* est atteint, il suppose que 1.b n’est pas remplie et validation du message échoue :</span><span class="sxs-lookup"><span data-stu-id="d1a6f-160">When the *&#124;* is reached, it assumes 1.b is not populated and message validation fails:</span></span><br /><br /> <span data-ttu-id="d1a6f-161">**XYZ &#124; dfssdf & sdf &#124; 2**</span><span class="sxs-lookup"><span data-stu-id="d1a6f-161">**xyz&#124;dfssdf&sdf&#124;2**</span></span>|  
|<span data-ttu-id="d1a6f-162">Segments MSH FSH et BSH</span><span class="sxs-lookup"><span data-stu-id="d1a6f-162">MSH, FSH, and BSH segments</span></span>|<span data-ttu-id="d1a6f-163">Texte libre est ignoré pour tous les champs.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-163">Free Text is ignored for all fields.</span></span> <span data-ttu-id="d1a6f-164">Ces segments correspondent à la section d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-164">These segments correspond to the header section.</span></span> <span data-ttu-id="d1a6f-165">La validation se produit comme d’habitude, même s’ils sont définis en tant que texte libre.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-165">Validation occurs as it normally would, even if they are defined as Free Text.</span></span>||  
|<span data-ttu-id="d1a6f-166">\\: Caractère d’échappement</span><span class="sxs-lookup"><span data-stu-id="d1a6f-166">\\: Escape character</span></span>|<span data-ttu-id="d1a6f-167">S’il existe le nombre pair de « \ » dans l’élément, la validation réussit (même si elles ne sont pas contiguës).</span><span class="sxs-lookup"><span data-stu-id="d1a6f-167">If there are even number of “\” in the element, validation succeeds (even if they are not contiguous).</span></span> <span data-ttu-id="d1a6f-168">S’il existe un nombre impair, la validation échoue.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-168">If there are odd number, validation fails.</span></span> <span data-ttu-id="d1a6f-169">Le même comportement se poursuit pour les champs de texte non libre.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-169">The same behavior continues for non- Free Text fields.</span></span> <span data-ttu-id="d1a6f-170">Avec des champs de texte libre, il n’existe aucune validation du nombre ; Il est traité en tant que contenu de texte libre.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-170">With Free Text fields, there is no validation on the number; it treated as Free Text content.</span></span>||  
  
 <span data-ttu-id="d1a6f-171">[Délimiteurs de message](../../adapters-and-accelerators/accelerator-hl7/message-delimiters.md) fournit des informations sur les séparateurs dans ces exemples.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-171">[Message Delimiters](../../adapters-and-accelerators/accelerator-hl7/message-delimiters.md) provides more information on the separators in these examples.</span></span>  
  
## <a name="using-free-text"></a><span data-ttu-id="d1a6f-172">À l’aide de texte libre</span><span class="sxs-lookup"><span data-stu-id="d1a6f-172">Using Free Text</span></span>  
  
1.  <span data-ttu-id="d1a6f-173">Dans le projet dans Visual Studio, ouvrez le schéma.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-173">In the project in Visual Studio, open the schema.</span></span>  
  
2.  <span data-ttu-id="d1a6f-174">Cliquez sur un enregistrement, sélectionnez **insérer un nœud de schéma**, sélectionnez **élément de champ enfant**.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-174">Right-click a record, select **Insert Schema Node**, select **Child Field Element**.</span></span>  
  
3.  <span data-ttu-id="d1a6f-175">Dans Propriétés, sélectionnez **Type de données**, puis sélectionnez **texte libre (SimpleType)**.</span><span class="sxs-lookup"><span data-stu-id="d1a6f-175">In Properties, select **Data Type**, and then select **Free Text (SimpleType)**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d1a6f-176">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="d1a6f-176">See Also</span></span>  
 [<span data-ttu-id="d1a6f-177">Le traitement des Messages HL7</span><span class="sxs-lookup"><span data-stu-id="d1a6f-177">Processing HL7 Messages</span></span>](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md)