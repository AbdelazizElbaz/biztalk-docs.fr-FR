---
title: "Étape 9 : Vérifier que le scénario par lot entrant fragmentés | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 1ba61866-2e1b-49e2-be57-ef281407d0a5
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a7e57d55be3d72ebe98f685733335db81503384a
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="step-9-verify-the-fragmented-inbound-batch-scenario"></a><span data-ttu-id="310bd-102">Étape 9 : Vérifier que le scénario par lot entrant fragmentés</span><span class="sxs-lookup"><span data-stu-id="310bd-102">Step 9: Verify the Fragmented Inbound Batch Scenario</span></span>
<span data-ttu-id="310bd-103">Dans cette étape, vous vérifiez le scénario fragmenté un lot de trafic entrant.</span><span class="sxs-lookup"><span data-stu-id="310bd-103">In this step, you verify the Fragmented Inbound Batch scenario.</span></span>  
  
 <span data-ttu-id="310bd-104">Vérification du scénario implique l’utilisation des outils suivants :</span><span class="sxs-lookup"><span data-stu-id="310bd-104">Verifying the scenario involves using the following tools:</span></span>  
  
-   <span data-ttu-id="310bd-105">**Outil de MllpSend**, que vous utilisez à partir de la ligne de commande pour envoyer un lot de messages au port de réception.</span><span class="sxs-lookup"><span data-stu-id="310bd-105">**MllpSend Tool**, which you use from the command line to send a batch message to the receive port.</span></span>  
  
-   <span data-ttu-id="310bd-106">**Outil de MllpReceive**, que vous utiliser à partir de la ligne de commande pour vérifier la réception des messages individuels (en tant que contenu dans le lot) à partir du port d’envoi.</span><span class="sxs-lookup"><span data-stu-id="310bd-106">**MllpReceive Tool**, which you use from the command line to verify reception of the individual messages (as contained in the batch) from the send port.</span></span> <span data-ttu-id="310bd-107">Cette instance de l’outil MllpReceive fonctionne comme une application métier-simulée.</span><span class="sxs-lookup"><span data-stu-id="310bd-107">This instance of the MllpReceive Tool functions as a simulated line-of-business application.</span></span> <span data-ttu-id="310bd-108">Sur la réception des messages, il génère également un accusé de réception vers le [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] moteur d’intégration.</span><span class="sxs-lookup"><span data-stu-id="310bd-108">On reception of the messages, it also generates an acknowledgment back to the [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] integration engine.</span></span>  
  
-   <span data-ttu-id="310bd-109">Une deuxième instance de l’outil MllpReceive, qui vous permet de vérifier la réception des accusés de réception du port d’envoi.</span><span class="sxs-lookup"><span data-stu-id="310bd-109">A second instance of the MllpReceive Tool, which you use to verify reception of acknowledgments from the send port.</span></span>  
  
### <a name="to-test-the-fragmented-inbound-batch-scenario"></a><span data-ttu-id="310bd-110">Pour tester le scénario de fragmenter un lot entrant</span><span class="sxs-lookup"><span data-stu-id="310bd-110">To test the Fragmented Inbound Batch scenario</span></span>  
  
1.  <span data-ttu-id="310bd-111">Cliquez sur **Démarrer**, pointez sur **tous les programmes**, pointez sur **Accessoires**, puis cliquez sur **invite de commandes**.</span><span class="sxs-lookup"><span data-stu-id="310bd-111">Click **Start**, point to **All Programs**, point to **Accessories**, and then click **Command Prompt**.</span></span>  
  
2.  <span data-ttu-id="310bd-112">À l’invite de commandes, accédez au  **\<* lecteur*> : \Program Files\Microsoft BizTalk \<version > Accelerator HL7\SDK\MLLP utilitaires **.</span><span class="sxs-lookup"><span data-stu-id="310bd-112">At the command prompt, move to **\<*drive*>:\Program Files\Microsoft BizTalk \<version> Accelerator for HL7\SDK\MLLP Utilities**.</span></span>  
  
3.  <span data-ttu-id="310bd-113">À l’invite de commandes, tapez  **mllpreceive /p 41000/SB 11 /eb 28 /cr 13 /hl7ack «\<*lecteur*> : \Program Files\Microsoft BizTalk \<version > Accelerator for HL7\ Samples\Sample Application accepter ACK.txt**, puis appuyez sur **entrée**.</span><span class="sxs-lookup"><span data-stu-id="310bd-113">At the command prompt, type **mllpreceive /p 41000 /sb 11 /eb 28 /cr 13 /hl7ack "\<*drive*>:\Program Files\Microsoft BizTalk \<version> Accelerator for HL7\Samples\Sample Application Accept ACK.txt**, and then press **Enter**.</span></span> <span data-ttu-id="310bd-114">La fenêtre d’invite de commande passe à un état d’attente jusqu'à ce que vous exécutez l’étape 5 et le système reçoit l’entrée.</span><span class="sxs-lookup"><span data-stu-id="310bd-114">The Command Prompt window enters a waiting state until you perform step 5 and the system receives input.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="310bd-115">La commande à l’étape 3 s’exécute l’application du récepteur MLLP qui écoute le port 41000.</span><span class="sxs-lookup"><span data-stu-id="310bd-115">The command in step 3 runs the MLLP listener application that listens to port 41000.</span></span> <span data-ttu-id="310bd-116">Ce port est associé au port d’envoi qui remet des messages (tel que créé dans [étape 5 : créer un Port d’envoi pour remettre les Messages](../../adapters-and-accelerators/accelerator-hl7/step-5-create-a-send-port-to-deliver-messages.md)).</span><span class="sxs-lookup"><span data-stu-id="310bd-116">This port is associated with the send port that delivers messages (as created in [Step 5: Create a Send Port to Deliver Messages](../../adapters-and-accelerators/accelerator-hl7/step-5-create-a-send-port-to-deliver-messages.md)).</span></span> <span data-ttu-id="310bd-117">L’outil MllpReceive agit comme l’application métier-qui reçoit les messages et renvoie l’accusé de réception (ACK) à BTAHL7 (tel qu’il est contenu dans l’exemple de fichier exemple Application accepter ACK.txt).</span><span class="sxs-lookup"><span data-stu-id="310bd-117">The MllpReceive Tool acts as the line-of-business application that receives the messages, and sends the acknowledgment (ACK) back to BTAHL7 (as contained in the sample file Sample Application Accept ACK.txt).</span></span> <span data-ttu-id="310bd-118">L’outil affiche les messages qui lui a été retournés dans la fenêtre d’invite de commandes.</span><span class="sxs-lookup"><span data-stu-id="310bd-118">The tool displays any messages returned to it in the Command Prompt window.</span></span> <span data-ttu-id="310bd-119">La commande à l’étape 3 spécifie les caractères EB, service bus et CR par défaut du message MLLP.</span><span class="sxs-lookup"><span data-stu-id="310bd-119">The command in step 3 specifies the default EB, SB, and CR characters of the MLLP message.</span></span>  
  
4.  <span data-ttu-id="310bd-120">Répétez les étapes 1 et 2 pour ouvrir une autre fenêtre d’invite de commandes et accédez au répertoire MLLP utilitaires.</span><span class="sxs-lookup"><span data-stu-id="310bd-120">Repeat steps 1 and 2 to open another Command Prompt window and browse to the MLLP Utilities directory.</span></span> <span data-ttu-id="310bd-121">À l’invite de commandes, tapez **mllpreceive /p 41002**, puis appuyez sur **entrée**.</span><span class="sxs-lookup"><span data-stu-id="310bd-121">At the command prompt, type **mllpreceive /p 41002**, and then press **Enter**.</span></span> <span data-ttu-id="310bd-122">La fenêtre d’invite de commande passe à un état d’attente jusqu'à ce que vous exécutez l’étape 5 et le système reçoit la sortie.</span><span class="sxs-lookup"><span data-stu-id="310bd-122">The Command Prompt window enters a waiting state until you perform step 5 and the system receives output.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="310bd-123">La commande à l’étape 4 s’exécute l’application du récepteur MLLP écoute le port 41002.</span><span class="sxs-lookup"><span data-stu-id="310bd-123">The command in step 4 runs the MLLP listener application listening to port 41002.</span></span> <span data-ttu-id="310bd-124">Ce port est associé au port d’envoi qui remet les accusés de réception à la source du message de lot (tel que créé dans [étape 6 : créer un Port d’envoi pour remettre les accusés de réception](../../adapters-and-accelerators/accelerator-hl7/step-6-create-a-send-port-to-deliver-acknowledgments.md)).</span><span class="sxs-lookup"><span data-stu-id="310bd-124">This port is associated with the send port that delivers acknowledgments back to the source of the batch message (as created in [Step 6: Create a Send Port to Deliver Acknowledgments](../../adapters-and-accelerators/accelerator-hl7/step-6-create-a-send-port-to-deliver-acknowledgments.md)).</span></span> <span data-ttu-id="310bd-125">L’outil MllpReceive agit comme l’application line-of-business qui a envoyé le lot d’origine.</span><span class="sxs-lookup"><span data-stu-id="310bd-125">The MllpReceive Tool acts as the line-of-business application that sent the original batch.</span></span> <span data-ttu-id="310bd-126">L’outil affiche les accusés de réception qui lui a été retournés dans la fenêtre d’invite de commandes.</span><span class="sxs-lookup"><span data-stu-id="310bd-126">The tool displays any acknowledgments returned to it in the Command Prompt window.</span></span> <span data-ttu-id="310bd-127">La commande à l’étape 4 spécifie les caractères EB, service bus et CR par défaut du message MLLP.</span><span class="sxs-lookup"><span data-stu-id="310bd-127">The command in step 4 specifies the default EB, SB, and CR characters of the MLLP message.</span></span>  
  
5.  <span data-ttu-id="310bd-128">Répétez les étapes 1 et 2 pour ouvrir une autre fenêtre d’invite de commandes et accédez au répertoire MLLP utilitaires.</span><span class="sxs-lookup"><span data-stu-id="310bd-128">Repeat steps 1 and 2 to open another Command Prompt window and browse to the MLLP Utilities directory.</span></span> <span data-ttu-id="310bd-129">À l’invite de commandes, tapez  **mllpsend /twoway/SB 11 /eb 28 /cr 13 /f «\<*lecteur*> : \Batching Tutorial\Instances\FragmentedInboundBatch.txt « /p 21000 **, où \<* lecteur*> est la lettre de lecteur de votre installation, puis appuyez sur **entrée**.</span><span class="sxs-lookup"><span data-stu-id="310bd-129">At the command prompt, type **mllpsend /twoway /sb 11 /eb 28 /cr 13 /f "\<*drive*>:\Batching Tutorial\Instances\FragmentedInboundBatch.txt" /p 21000**, where \<*drive*> is your installation drive letter, and then press **Enter**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="310bd-130">La commande à l’étape 5 simule l’envoi du message de lot d’origine au port de réception.</span><span class="sxs-lookup"><span data-stu-id="310bd-130">The command in step 5 simulates sending of the original batch message to the receive port.</span></span> <span data-ttu-id="310bd-131">La console devrait afficher « les messages envoyés : 1 », indiquant que l’outil MllpSend envoyé le message de lot unique.</span><span class="sxs-lookup"><span data-stu-id="310bd-131">The console should display "Sent message: 1", indicating that the MllpSend tool sent the single batch message.</span></span> <span data-ttu-id="310bd-132">Si elle n’affiche pas « les messages envoyés : 1 », consultez l’Observateur d’événements.</span><span class="sxs-lookup"><span data-stu-id="310bd-132">If it does not display "Sent message: 1", check the event viewer.</span></span> <span data-ttu-id="310bd-133">Vérifiez que le texte de la commande entré à l’étape 5, puis résoudre les problèmes de la configuration de l’envoi et ports de réception et l’état de [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] et BTAHL7.</span><span class="sxs-lookup"><span data-stu-id="310bd-133">Verify the text of the command entered in step 5, then troubleshoot the configuration of the send and receive ports, and the status of [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] and BTAHL7.</span></span>  
  
### <a name="to-verify-the-results-of-the-fragmented-inbound-batch-tutorial"></a><span data-ttu-id="310bd-134">Pour vérifier les résultats de ce didacticiel fragmenté de traitement par lots entrants</span><span class="sxs-lookup"><span data-stu-id="310bd-134">To verify the results of the Fragmented Inbound Batch Tutorial</span></span>  
  
1.  <span data-ttu-id="310bd-135">Vérifiez que, après un court délai, l’outil MllpReceive écoute les messages sur le port 41000 affiche le contenu des messages individuels fragmenté du lot et envoyé au tiers Tutorial_BatchSource.</span><span class="sxs-lookup"><span data-stu-id="310bd-135">Verify that after a short delay, the MllpReceive tool listening for messages on port 41000 displays the contents of the individual messages fragmented from the batch and sent to the Tutorial_BatchSource party.</span></span> <span data-ttu-id="310bd-136">Le contenu des deux messages doit être comme suit :</span><span class="sxs-lookup"><span data-stu-id="310bd-136">The contents of the two messages should be as follows:</span></span>  
  
    |<span data-ttu-id="310bd-137">MSH.9</span><span class="sxs-lookup"><span data-stu-id="310bd-137">MSH.9</span></span>|<span data-ttu-id="310bd-138">MSH.10</span><span class="sxs-lookup"><span data-stu-id="310bd-138">MSH.10</span></span>|<span data-ttu-id="310bd-139">MSH.3</span><span class="sxs-lookup"><span data-stu-id="310bd-139">MSH.3</span></span>|<span data-ttu-id="310bd-140">MSH.5</span><span class="sxs-lookup"><span data-stu-id="310bd-140">MSH.5</span></span>|  
    |-----------|------------|-----------|-----------|  
    |<span data-ttu-id="310bd-141">ADT ^ A03</span><span class="sxs-lookup"><span data-stu-id="310bd-141">ADT^A03</span></span>|<span data-ttu-id="310bd-142">000001</span><span class="sxs-lookup"><span data-stu-id="310bd-142">000001</span></span>|<span data-ttu-id="310bd-143">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="310bd-143">Tutorial_BatchSource</span></span>|<span data-ttu-id="310bd-144">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="310bd-144">MESA_IS</span></span>|  
    |<span data-ttu-id="310bd-145">ADT ^ A03</span><span class="sxs-lookup"><span data-stu-id="310bd-145">ADT^A03</span></span>|<span data-ttu-id="310bd-146">000002</span><span class="sxs-lookup"><span data-stu-id="310bd-146">000002</span></span>|<span data-ttu-id="310bd-147">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="310bd-147">Tutorial_BatchSource</span></span>|<span data-ttu-id="310bd-148">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="310bd-148">MESA_IS</span></span>|  
  
2.  <span data-ttu-id="310bd-149">Vérifiez que, après un court délai, l’outil MllpReceive l’écoute des accusés de réception sur le port 41002 affiche le contenu de deux accusés de réception renvoyés par le moteur d’intégration BTAHL7 à la source du lot.</span><span class="sxs-lookup"><span data-stu-id="310bd-149">Verify that after a short delay, the MllpReceive tool listening for acknowledgments on port 41002 displays the contents of two acknowledgments returned from the BTAHL7 integration engine to the source of the batch.</span></span> <span data-ttu-id="310bd-150">Le contenu de deux accusés de réception doit être comme suit :</span><span class="sxs-lookup"><span data-stu-id="310bd-150">The contents of the two acknowledgments should be as follows:</span></span>  
  
    |<span data-ttu-id="310bd-151">MSH.9</span><span class="sxs-lookup"><span data-stu-id="310bd-151">MSH.9</span></span>|<span data-ttu-id="310bd-152">MSH.3</span><span class="sxs-lookup"><span data-stu-id="310bd-152">MSH.3</span></span>|<span data-ttu-id="310bd-153">MSH.5</span><span class="sxs-lookup"><span data-stu-id="310bd-153">MSH.5</span></span>|<span data-ttu-id="310bd-154">MSA.2</span><span class="sxs-lookup"><span data-stu-id="310bd-154">MSA.2</span></span>|<span data-ttu-id="310bd-155">MSA.1</span><span class="sxs-lookup"><span data-stu-id="310bd-155">MSA.1</span></span>|  
    |-----------|-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="310bd-156">L’ACCUSÉ DE RÉCEPTION ^ A03 ^ L’ACCUSÉ DE RÉCEPTION</span><span class="sxs-lookup"><span data-stu-id="310bd-156">ACK^A03^ACK</span></span>|<span data-ttu-id="310bd-157">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="310bd-157">MESA_IS</span></span>|<span data-ttu-id="310bd-158">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="310bd-158">Tutorial_BatchSource</span></span>|<span data-ttu-id="310bd-159">000001</span><span class="sxs-lookup"><span data-stu-id="310bd-159">000001</span></span>|<span data-ttu-id="310bd-160">AA</span><span class="sxs-lookup"><span data-stu-id="310bd-160">AA</span></span>|  
    |<span data-ttu-id="310bd-161">L’ACCUSÉ DE RÉCEPTION ^ A03 ^ L’ACCUSÉ DE RÉCEPTION</span><span class="sxs-lookup"><span data-stu-id="310bd-161">ACK^A03^ACK</span></span>|<span data-ttu-id="310bd-162">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="310bd-162">MESA_IS</span></span>|<span data-ttu-id="310bd-163">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="310bd-163">Tutorial_BatchSource</span></span>|<span data-ttu-id="310bd-164">000002</span><span class="sxs-lookup"><span data-stu-id="310bd-164">000002</span></span>|<span data-ttu-id="310bd-165">AA</span><span class="sxs-lookup"><span data-stu-id="310bd-165">AA</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="310bd-166">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="310bd-166">See Also</span></span>  
 <span data-ttu-id="310bd-167">[Partie 2 : Traitement par lots de dans / lots scénario](../../adapters-and-accelerators/accelerator-hl7/part-2-batch-in-batch-out-scenario.md) </span><span class="sxs-lookup"><span data-stu-id="310bd-167">[Part 2: Batch In/Batch Out Scenario](../../adapters-and-accelerators/accelerator-hl7/part-2-batch-in-batch-out-scenario.md) </span></span>  
 [<span data-ttu-id="310bd-168">Partie 3 : Scénario de traitement par lots Créer</span><span class="sxs-lookup"><span data-stu-id="310bd-168">Part 3: Create-Batch Scenario</span></span>](../../adapters-and-accelerators/accelerator-hl7/part-3-create-batch-scenario.md)