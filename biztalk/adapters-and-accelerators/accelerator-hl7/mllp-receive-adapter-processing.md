---
title: "Traitement de l’adaptateur de réception de MLLP | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- MLLP-encoded messages, receive adapters
- MLLP adapters, send adapters
- receive adapters
ms.assetid: 03c9a5f6-6f23-454f-8bab-e7c7b6057efa
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 28713e22c37c12ef6f2cb9f8df8d228759d00c8e
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="mllp-receive-adapter-processing"></a><span data-ttu-id="6896f-102">Traitement de l’adaptateur de réception de MLLP</span><span class="sxs-lookup"><span data-stu-id="6896f-102">MLLP Receive Adapter Processing</span></span>
<span data-ttu-id="6896f-103">Le protocole minimale de couche inférieure (MLLP) de réception adaptateur prend en charge les deux modes de réponse de demande unidirectionnels et bidirectionnels.</span><span class="sxs-lookup"><span data-stu-id="6896f-103">The Minimal Lower Layer Protocol (MLLP) receive adapter supports both one-way and two-way request response modes.</span></span> <span data-ttu-id="6896f-104">L’adaptateur écoute et accepte les connexions.</span><span class="sxs-lookup"><span data-stu-id="6896f-104">The adapter listens and accepts connections.</span></span>  
  
 <span data-ttu-id="6896f-105">Lorsque le MLLP réception adaptateur fonctionne en mode bidirectionnel, l’adaptateur recevra pas un nouveau message à partir de la connexion jusqu'à ce que le pipeline a généré l’accusé de réception (ACK) pour le message précédent.</span><span class="sxs-lookup"><span data-stu-id="6896f-105">When the MLLP receive adapter operates in two-way mode, the adapter will not receive a new message from the connection until the pipeline has generated the acknowledgment (ACK) for the previous message.</span></span>  
  
## <a name="configuration-parameters"></a><span data-ttu-id="6896f-106">Paramètres de configuration</span><span class="sxs-lookup"><span data-stu-id="6896f-106">Configuration Parameters</span></span>  
 <span data-ttu-id="6896f-107">Les paramètres pour un gestionnaire de réception sont configurées au niveau de l’hôte BizTalk et s’appliquent à tous les emplacements de réception MLLP associés.</span><span class="sxs-lookup"><span data-stu-id="6896f-107">The parameters for a receive handler are configured at the BizTalk Host level, and apply to all MLLP receive locations associated with it.</span></span>  
  
|<span data-ttu-id="6896f-108">Paramètre</span><span class="sxs-lookup"><span data-stu-id="6896f-108">Parameter</span></span>|<span data-ttu-id="6896f-109">Utiliser</span><span class="sxs-lookup"><span data-stu-id="6896f-109">Use</span></span>|  
|---------------|---------|  
|<span data-ttu-id="6896f-110">*Max accepter le nombre maximal de connexions*</span><span class="sxs-lookup"><span data-stu-id="6896f-110">*Max Accept Connection Limit*</span></span>|<span data-ttu-id="6896f-111">Limite le nombre de connexions simultanées ouvertes qui accepte l’adaptateur de réception.</span><span class="sxs-lookup"><span data-stu-id="6896f-111">Limits the number of concurrent open connections that the receive adapter will accept.</span></span>|  
  
## <a name="acknowledgments-with-the-two-way-mllp-receive-adapter"></a><span data-ttu-id="6896f-112">Adaptateur de réception des accusés de réception avec le MLLP bidirectionnelle</span><span class="sxs-lookup"><span data-stu-id="6896f-112">Acknowledgments with the two-way MLLP receive adapter</span></span>  
 <span data-ttu-id="6896f-113">Lors de la réception d’un MLLP bidirectionnelle adaptateur reçoit un message, [!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk Accelerator pour HL7 ([!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]) peut générer les types d’accusés de réception suivants :</span><span class="sxs-lookup"><span data-stu-id="6896f-113">When a two-way MLLP receive adapter receives a message, [!INCLUDE[btsCoName](../../includes/btsconame-md.md)] BizTalk Accelerator for HL7 ([!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]) can generate the following types of ACKs:</span></span>  
  
-   <span data-ttu-id="6896f-114">HL7 Amélioré valider l’accusé de réception : dans ce scénario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] envoie un accusé de réception de validation sur la même connexion.</span><span class="sxs-lookup"><span data-stu-id="6896f-114">HL7 Enhanced Commit ACK: In this scenario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] sends a Commit ACK on the same connection.</span></span> <span data-ttu-id="6896f-115">Il envoie un accusé de réception accepte Application sur un port d’envoi différents.</span><span class="sxs-lookup"><span data-stu-id="6896f-115">It sends out an Application Accept ACK on a different send port.</span></span>  
  
-   <span data-ttu-id="6896f-116">Application accepter l’accusé de réception : Dans ce scénario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] envoie un accusé de réception accepte Application sur la même connexion.</span><span class="sxs-lookup"><span data-stu-id="6896f-116">Application Accept ACK: In this scenario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] sends an Application Accept ACK on the same connection.</span></span>  
  
-   <span data-ttu-id="6896f-117">Statique de l’accusé de réception : dans ce scénario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] envoie un accusé de réception sur la même connexion.</span><span class="sxs-lookup"><span data-stu-id="6896f-117">Static ACK: In this scenario, [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] sends an ACK on the same connection.</span></span>  
  
-   <span data-ttu-id="6896f-118">Le type d’accusé de réception généré varie selon la [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] des paramètres de l’Explorateur de Configuration pour le tiers qui a envoyé le message.</span><span class="sxs-lookup"><span data-stu-id="6896f-118">The type of ACK generated depends on the [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] Configuration Explorer settings for the party sending the message.</span></span> <span data-ttu-id="6896f-119">La valeur des champs MSH 15 16 d’un message individuel peut remplacer ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="6896f-119">The value in fields MSH 15 and 16 of an individual message can override this setting.</span></span> <span data-ttu-id="6896f-120">Toutefois, pour les applications attendu des accusés de réception statique, la configuration peut uniquement être définie via [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] l’Explorateur de Configuration.</span><span class="sxs-lookup"><span data-stu-id="6896f-120">However, for applications expecting Static ACKs, the configuration can only be set through [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] Configuration Explorer.</span></span>  
  
## <a name="error-conditions"></a><span data-ttu-id="6896f-121">Conditions d'erreur</span><span class="sxs-lookup"><span data-stu-id="6896f-121">Error Conditions</span></span>  
 <span data-ttu-id="6896f-122">Les événements suivants se produisent lorsqu’il existe une condition d’erreur ou d’une inactivité :</span><span class="sxs-lookup"><span data-stu-id="6896f-122">The following events occur when there is an error condition or inactivity:</span></span>  
  
-   <span data-ttu-id="6896f-123">Si l’emplacement de réception est désactivé ou [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] s’arrête, les éléments suivants se produisent :</span><span class="sxs-lookup"><span data-stu-id="6896f-123">If the receive location is disabled or [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] shuts down, the following occurs:</span></span>  
  
    -   <span data-ttu-id="6896f-124">L’emplacement de réception n’accepte plus les nouvelles connexions.</span><span class="sxs-lookup"><span data-stu-id="6896f-124">The receive location will no longer accept new connections.</span></span>  
  
    -   <span data-ttu-id="6896f-125">Pour les connexions existantes, [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] complètement reçoit le message en cours, puis ferme la connexion.</span><span class="sxs-lookup"><span data-stu-id="6896f-125">For existing connections, [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] completely receives the current message, and then closes the connection.</span></span>  
  
-   <span data-ttu-id="6896f-126">Lorsque l’inactivité est détectée (aucune donnée de charge utile reçue sur l’emplacement de réception dans le délai spécifié), l’adaptateur ferme la connexion.</span><span class="sxs-lookup"><span data-stu-id="6896f-126">When inactivity is detected (no payload data received on the receive location within the specified timeout), the adapter closes the connection.</span></span>  
  
-   <span data-ttu-id="6896f-127">Si [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] reçoit un message incomplète, la partie reçue est suspendue.</span><span class="sxs-lookup"><span data-stu-id="6896f-127">If [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] receives an incomplete message, the portion received is suspended.</span></span> <span data-ttu-id="6896f-128">Tous les octets reçus en dehors d’un message (avant le premier service bus sur une nouvelle connexion, entre EB/CR et SB du message suivant) sont ignorés.</span><span class="sxs-lookup"><span data-stu-id="6896f-128">All bytes received outside of a message (before the first SB on a new connection, between EB/CR and SB of the next message) are ignored.</span></span>  
  
-   <span data-ttu-id="6896f-129">Si le pipeline ne parvient pas à analyser le message, le message est toujours remis à la base de données MessageBox, dont la propriété promue **ParseError = true**.</span><span class="sxs-lookup"><span data-stu-id="6896f-129">If the pipeline fails to parse the message, the message is still delivered to the MessageBox database, with a promoted property **ParseError=true**.</span></span>  
  
-   <span data-ttu-id="6896f-130">Si un message échoue en raison de l’absence d’un abonnement, ou en raison d’erreurs structurelles dans l’en-tête, [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] interrompt le message dans sa forme « format câble » d’origine (avant l’analyse).</span><span class="sxs-lookup"><span data-stu-id="6896f-130">If a message fails due to the absence of a subscription, or due to structural errors in the header, [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] suspends the message in its original "wire" form (prior to being parsed).</span></span> <span data-ttu-id="6896f-131">Une raison fréquente de l’échec de non-abonnement est l’absence de propriétés promues.</span><span class="sxs-lookup"><span data-stu-id="6896f-131">A frequent reason for the no-subscription failure is the lack of promoted properties.</span></span> <span data-ttu-id="6896f-132">Étant donné que [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] interrompt le message non analysé, le **BTS. MessageType** sera vide.</span><span class="sxs-lookup"><span data-stu-id="6896f-132">Since [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] suspends the unparsed message, the **BTS.MessageType** will be blank.</span></span>  
  
 <span data-ttu-id="6896f-133">Le tableau suivant répertorie les erreurs que le MLLP réception retourne de la carte.</span><span class="sxs-lookup"><span data-stu-id="6896f-133">The following table lists the errors that the MLLP receive adapter returns.</span></span>  
  
|<span data-ttu-id="6896f-134">Événement</span><span class="sxs-lookup"><span data-stu-id="6896f-134">Event</span></span>|<span data-ttu-id="6896f-135">ID</span><span class="sxs-lookup"><span data-stu-id="6896f-135">ID</span></span>|<span data-ttu-id="6896f-136">Condition d'erreur</span><span class="sxs-lookup"><span data-stu-id="6896f-136">Error Condition</span></span>|  
|-----------|--------|---------------------|  
|<span data-ttu-id="6896f-137">**ErrorListening**</span><span class="sxs-lookup"><span data-stu-id="6896f-137">**ErrorListening**</span></span>|<span data-ttu-id="6896f-138">8448</span><span class="sxs-lookup"><span data-stu-id="6896f-138">8448</span></span>|<span data-ttu-id="6896f-139">N’a pas pu lier à un socket local (probablement que d’autres applications locales à l’aide de la même combinaison adresse IP/port ID).</span><span class="sxs-lookup"><span data-stu-id="6896f-139">Could not bind to a local socket (most likely some other local application is using the same IP address/port ID combination).</span></span>|  
|<span data-ttu-id="6896f-140">**ErrorAcceptingConnection**</span><span class="sxs-lookup"><span data-stu-id="6896f-140">**ErrorAcceptingConnection**</span></span>|<span data-ttu-id="6896f-141">8449</span><span class="sxs-lookup"><span data-stu-id="6896f-141">8449</span></span>|<span data-ttu-id="6896f-142">N’a pas pu établir une connexion TCP avec le tiers distant.</span><span class="sxs-lookup"><span data-stu-id="6896f-142">Could not establish a TCP connection with the remote party.</span></span> <span data-ttu-id="6896f-143">Soit [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] atteint la limite du nombre maximal de connexions, ou les ressources sont insuffisantes.</span><span class="sxs-lookup"><span data-stu-id="6896f-143">Either [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] reached the maximum connection limit, or the resources were insufficient.</span></span>|  
|<span data-ttu-id="6896f-144">**ErrorSubmittingMessage**</span><span class="sxs-lookup"><span data-stu-id="6896f-144">**ErrorSubmittingMessage**</span></span>|<span data-ttu-id="6896f-145">8452</span><span class="sxs-lookup"><span data-stu-id="6896f-145">8452</span></span>|<span data-ttu-id="6896f-146">La base de données MessageBox n’a pas pu accepter le message.</span><span class="sxs-lookup"><span data-stu-id="6896f-146">The MessageBox database could not accept the message.</span></span> <span data-ttu-id="6896f-147">Soit [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] n’était pas disponible ou les ressources sont insuffisantes.</span><span class="sxs-lookup"><span data-stu-id="6896f-147">Either [!INCLUDE[btsSQLServerNoVersion](../../includes/btssqlservernoversion-md.md)] was unavailable or the resources were insufficient.</span></span>|  
|<span data-ttu-id="6896f-148">**ErrorSendingAck**</span><span class="sxs-lookup"><span data-stu-id="6896f-148">**ErrorSendingAck**</span></span>|<span data-ttu-id="6896f-149">8454</span><span class="sxs-lookup"><span data-stu-id="6896f-149">8454</span></span>|[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="6896f-150">n’a pas pu renvoyer l’accusé de réception, car la connexion n’était pas disponible.</span><span class="sxs-lookup"><span data-stu-id="6896f-150"> could not return the acknowledgment because the connection was not available.</span></span>|  
  
## <a name="performance-counters"></a><span data-ttu-id="6896f-151">Compteurs de performances</span><span class="sxs-lookup"><span data-stu-id="6896f-151">Performance Counters</span></span>  
 <span data-ttu-id="6896f-152">Le tableau suivant répertorie les compteurs de performances par l’adaptateur MLLP.</span><span class="sxs-lookup"><span data-stu-id="6896f-152">The following table lists the performance counters that the MLLP adapter uses.</span></span>  
  
|<span data-ttu-id="6896f-153">Compteur</span><span class="sxs-lookup"><span data-stu-id="6896f-153">Counter</span></span>|<span data-ttu-id="6896f-154">Signification</span><span class="sxs-lookup"><span data-stu-id="6896f-154">Meaning</span></span>|  
|-------------|-------------|  
|<span data-ttu-id="6896f-155">Octets</span><span class="sxs-lookup"><span data-stu-id="6896f-155">Bytes</span></span>|<span data-ttu-id="6896f-156">Taille de la charge utile de tous les documents reçus ou envoyés.</span><span class="sxs-lookup"><span data-stu-id="6896f-156">Size of the payload of all documents received or sent.</span></span>|  
|<span data-ttu-id="6896f-157">Octets par seconde</span><span class="sxs-lookup"><span data-stu-id="6896f-157">Bytes/sec</span></span>|<span data-ttu-id="6896f-158">Débit actuel de la charge utile reçus ou envoyés.</span><span class="sxs-lookup"><span data-stu-id="6896f-158">Current throughput of the payload received or sent.</span></span>|  
|<span data-ttu-id="6896f-159">Documents traités</span><span class="sxs-lookup"><span data-stu-id="6896f-159">Documents processed</span></span>|<span data-ttu-id="6896f-160">**Réception de MLLP**:</span><span class="sxs-lookup"><span data-stu-id="6896f-160">**MLLP Receive**:</span></span><br /><br /> <span data-ttu-id="6896f-161">Nombre de documents remis avec succès à la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="6896f-161">Number of documents successfully delivered to the MessageBox database.</span></span><br /><br /> <span data-ttu-id="6896f-162">**Envoi MLLP**:</span><span class="sxs-lookup"><span data-stu-id="6896f-162">**MLLP Send**:</span></span><br /><br /> <span data-ttu-id="6896f-163">Nombre de documents prêts à l’application distante.</span><span class="sxs-lookup"><span data-stu-id="6896f-163">Number of documents successfully delivered to the remote application.</span></span>|  
|<span data-ttu-id="6896f-164">Documents en échec</span><span class="sxs-lookup"><span data-stu-id="6896f-164">Documents failed</span></span>|<span data-ttu-id="6896f-165">**Réception de MLLP**:</span><span class="sxs-lookup"><span data-stu-id="6896f-165">**MLLP Receive**:</span></span><br /><br /> <span data-ttu-id="6896f-166">Nombre de documents n’a pu être remis à la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="6896f-166">Number of documents not successfully delivered to the MessageBox database.</span></span><br /><br /> <span data-ttu-id="6896f-167">**Envoi MLLP**:</span><span class="sxs-lookup"><span data-stu-id="6896f-167">**MLLP Send**:</span></span><br /><br /> <span data-ttu-id="6896f-168">Nombre de documents n’a pu être remis à l’application distante.</span><span class="sxs-lookup"><span data-stu-id="6896f-168">Number of documents not successfully delivered to the remote application.</span></span>|  
|<span data-ttu-id="6896f-169">État de la connexion</span><span class="sxs-lookup"><span data-stu-id="6896f-169">Connection status</span></span>|<span data-ttu-id="6896f-170">L’état de la connexion de la carte, 1 ou 0 (1 = connecté).</span><span class="sxs-lookup"><span data-stu-id="6896f-170">The status of the adapter connection, 1 or 0 (1=connected).</span></span>|  
  
 <span data-ttu-id="6896f-171">Les instances de compteur de performances utilisent le modèle de dénomination suivant :</span><span class="sxs-lookup"><span data-stu-id="6896f-171">The performance counter instances use the following naming scheme:</span></span>  
  
```  
{recv|trans} : connection name : remote IP address : remote port ID  
```  
  
 <span data-ttu-id="6896f-172">Où le MLLP réception adaptateur utilise le préfixe « recv », et l’adaptateur d’envoi MLLP « trans ».</span><span class="sxs-lookup"><span data-stu-id="6896f-172">Where the MLLP receive adapter uses the "recv" prefix, and the MLLP send adapter uses "trans".</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6896f-173">Accusés de réception envoyés par ports de réception (par exemple, un adaptateur fonctionne en mode bidirectionnel) et envoyer les ports (d’exploitation pour recevoir les accusés de réception sur la même connexion de socket) ne sont pas comptées.</span><span class="sxs-lookup"><span data-stu-id="6896f-173">ACKs sent by receive ports (for example, an adapter operating in a two-way mode) and send ports (operating to receive ACKs on the same socket connection) are not counted.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6896f-174">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6896f-174">See Also</span></span>  
 <span data-ttu-id="6896f-175">[Le traitement des Messages encodés en MLLP](../../adapters-and-accelerators/accelerator-hl7/processing-mllp-encoded-messages.md) </span><span class="sxs-lookup"><span data-stu-id="6896f-175">[Processing MLLP-encoded Messages](../../adapters-and-accelerators/accelerator-hl7/processing-mllp-encoded-messages.md) </span></span>  
 <span data-ttu-id="6896f-176">[Les paramètres de configuration pour l’envoi et les adaptateurs de réception](../../adapters-and-accelerators/accelerator-hl7/configuration-parameters-for-send-and-receive-adapters.md) </span><span class="sxs-lookup"><span data-stu-id="6896f-176">[Configuration Parameters for Send and Receive Adapters](../../adapters-and-accelerators/accelerator-hl7/configuration-parameters-for-send-and-receive-adapters.md) </span></span>  
 <span data-ttu-id="6896f-177">[Traitement d’adaptateur MLLP envoi](../../adapters-and-accelerators/accelerator-hl7/mllp-send-adapter-processing.md) </span><span class="sxs-lookup"><span data-stu-id="6896f-177">[MLLP Send Adapter Processing](../../adapters-and-accelerators/accelerator-hl7/mllp-send-adapter-processing.md) </span></span>  
 [<span data-ttu-id="6896f-178">Configuration d’un Port d’envoi pour recevoir des accusés de réception</span><span class="sxs-lookup"><span data-stu-id="6896f-178">Setting Up a Send Port for Receiving ACKs</span></span>](../../adapters-and-accelerators/accelerator-hl7/setting-up-a-send-port-for-receiving-acks.md)