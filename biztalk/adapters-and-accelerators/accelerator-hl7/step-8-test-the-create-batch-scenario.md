---
title: "Étape 8 : Tester le scénario de traitement par lots Créer | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: fc7fac40-fd3e-413b-82cc-7ad08226094c
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 865717858e27509a9f9e4af611b39ba10be212a5
ms.sourcegitcommit: 3fd1c85d9dc2ce7b77da75a5c2087cc48cfcbe50
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/17/2018
---
# <a name="step-8-test-the-create-batch-scenario"></a><span data-ttu-id="80db0-102">Étape 8 : Tester le scénario de traitement par lots Créer</span><span class="sxs-lookup"><span data-stu-id="80db0-102">Step 8: Test the Create-Batch Scenario</span></span>
<span data-ttu-id="80db0-103">Dans cette étape, vous testez le scénario de traitement par lots de créer en supprimant des instances de test des messages que vous voulez traiter par lot dans le dossier source du Tutorial_BTAHL7Pickup.</span><span class="sxs-lookup"><span data-stu-id="80db0-103">In this step, you test the Create-Batch scenario by dropping test instances of the messages you want to batch into the source Tutorial_BTAHL7Pickup folder.</span></span> <span data-ttu-id="80db0-104">Récupère le message à partir du dossier source que vous définissez le port d’envoi et l’envoie ; le port de réception reçoit et le pipeline de réception traite et le dépose dans le dossier de destination Tutorial_BTAHL7Drop.</span><span class="sxs-lookup"><span data-stu-id="80db0-104">The send port that you set up picks up the message from the source folder and sends it; the receive port receives it; and the receive pipeline processes it and drops it into the destination Tutorial_BTAHL7Drop folder.</span></span>  
  
### <a name="to-test-the-create-batch-scenario"></a><span data-ttu-id="80db0-105">Pour tester le scénario de traitement par lots de créer</span><span class="sxs-lookup"><span data-stu-id="80db0-105">To test the Create-Batch scenario</span></span>  
  
1.  <span data-ttu-id="80db0-106">À l’aide de [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorateur de solutions, cliquez sur Parcourir pour le  **\< *lecteur*\>: \Batching Tutorial\Instances** dossier.</span><span class="sxs-lookup"><span data-stu-id="80db0-106">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Batching Tutorial\Instances** folder.</span></span>  
  
2.  <span data-ttu-id="80db0-107">Sélectionnez **CreateBatchMessage1.txt**, et **CreateBatchMessage2.txt**, effectuez un clic droit, puis cliquez sur **copie**.</span><span class="sxs-lookup"><span data-stu-id="80db0-107">Select **CreateBatchMessage1.txt**, and **CreateBatchMessage2.txt**, right-click them, and then click **Copy**.</span></span>  
  
3.  <span data-ttu-id="80db0-108">À l’aide de [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorateur de solutions, cliquez sur Parcourir pour le  **\< *lecteur*\>: \Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End en bout Tutorial\Tutorial_BTAHL7Pickup** dossier.</span><span class="sxs-lookup"><span data-stu-id="80db0-108">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BTAHL7Pickup** folder.</span></span>  
  
4.  <span data-ttu-id="80db0-109">Cliquez avec le bouton droit, puis cliquez sur **coller**.</span><span class="sxs-lookup"><span data-stu-id="80db0-109">Right-click the folder, and then click **Paste**.</span></span>  
  
### <a name="to-verify-the-results-of-the-create-batch-scenario"></a><span data-ttu-id="80db0-110">Pour vérifier les résultats du scénario de traitement par lots de créer</span><span class="sxs-lookup"><span data-stu-id="80db0-110">To verify the results of the Create-Batch scenario</span></span>  
  
1.  <span data-ttu-id="80db0-111">À l’aide de [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorateur de solutions, cliquez sur Parcourir pour le  **\< *lecteur*\>: \Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End en bout Tutorial\Tutorial_BatchACKDrop** dossier.</span><span class="sxs-lookup"><span data-stu-id="80db0-111">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BatchACKDrop** folder.</span></span> <span data-ttu-id="80db0-112">Après une courte période, vous devez voir l’instance traitée du lot d’accusé de réception s’affichent dans le dossier.</span><span class="sxs-lookup"><span data-stu-id="80db0-112">After a short period, you should see the processed instance of the acknowledgment batch appear in the folder.</span></span> <span data-ttu-id="80db0-113">Si elle n’apparaît pas, vérifiez le [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Observateur d’événements des messages d’erreur.</span><span class="sxs-lookup"><span data-stu-id="80db0-113">If it does not appear, check the [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Event Viewer for error messages.</span></span> <span data-ttu-id="80db0-114">Le fichier doit avoir le nom \< *Guid*\>.txt.</span><span class="sxs-lookup"><span data-stu-id="80db0-114">The file should have the name \<*Guid*\>.txt.</span></span> <span data-ttu-id="80db0-115">Ce lot doit contenir deux types de notifications générées lorsqu’il reçoit les deux messages qui ont été envoyés à l’origine.</span><span class="sxs-lookup"><span data-stu-id="80db0-115">This batch should contain the two acknowledgments generated upon receiving the two messages that were originally sent.</span></span> <span data-ttu-id="80db0-116">Ce lot doit avoir les champs suivants :</span><span class="sxs-lookup"><span data-stu-id="80db0-116">This batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="80db0-117">FHS.5</span><span class="sxs-lookup"><span data-stu-id="80db0-117">FHS.5</span></span>|<span data-ttu-id="80db0-118">BHS.5</span><span class="sxs-lookup"><span data-stu-id="80db0-118">BHS.5</span></span>|<span data-ttu-id="80db0-119">BTS.1</span><span class="sxs-lookup"><span data-stu-id="80db0-119">BTS.1</span></span>|<span data-ttu-id="80db0-120">FTS.1</span><span class="sxs-lookup"><span data-stu-id="80db0-120">FTS.1</span></span>|  
    |-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="80db0-121">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="80db0-121">Tutorial_BatchSource</span></span>|<span data-ttu-id="80db0-122">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="80db0-122">Tutorial_BatchSource</span></span>|<span data-ttu-id="80db0-123">2</span><span class="sxs-lookup"><span data-stu-id="80db0-123">2</span></span>|<span data-ttu-id="80db0-124">1</span><span class="sxs-lookup"><span data-stu-id="80db0-124">1</span></span>|  
  
     <span data-ttu-id="80db0-125">Les accusés de réception dans le lot doivent comporter les champs suivants :</span><span class="sxs-lookup"><span data-stu-id="80db0-125">The acknowledgments within the batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="80db0-126">MSH.9</span><span class="sxs-lookup"><span data-stu-id="80db0-126">MSH.9</span></span>|<span data-ttu-id="80db0-127">MSA.2</span><span class="sxs-lookup"><span data-stu-id="80db0-127">MSA.2</span></span>|<span data-ttu-id="80db0-128">MSA.1</span><span class="sxs-lookup"><span data-stu-id="80db0-128">MSA.1</span></span>|<span data-ttu-id="80db0-129">MSH.3</span><span class="sxs-lookup"><span data-stu-id="80db0-129">MSH.3</span></span>|<span data-ttu-id="80db0-130">MSH.5</span><span class="sxs-lookup"><span data-stu-id="80db0-130">MSH.5</span></span>|  
    |-----------|-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="80db0-131">ACK^A03^ACK</span><span class="sxs-lookup"><span data-stu-id="80db0-131">ACK^A03^ACK</span></span>|<span data-ttu-id="80db0-132">Msg01</span><span class="sxs-lookup"><span data-stu-id="80db0-132">Msg01</span></span>|<span data-ttu-id="80db0-133">AA</span><span class="sxs-lookup"><span data-stu-id="80db0-133">AA</span></span>|<span data-ttu-id="80db0-134">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="80db0-134">Tutorial_BatchDest</span></span>|<span data-ttu-id="80db0-135">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="80db0-135">Tutorial_BatchSource</span></span>|  
    |<span data-ttu-id="80db0-136">ACK^A03^ACK</span><span class="sxs-lookup"><span data-stu-id="80db0-136">ACK^A03^ACK</span></span>|<span data-ttu-id="80db0-137">Msg02</span><span class="sxs-lookup"><span data-stu-id="80db0-137">Msg02</span></span>|<span data-ttu-id="80db0-138">AA</span><span class="sxs-lookup"><span data-stu-id="80db0-138">AA</span></span>|<span data-ttu-id="80db0-139">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="80db0-139">Tutorial_BatchDest</span></span>|<span data-ttu-id="80db0-140">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="80db0-140">Tutorial_BatchSource</span></span>|  
  
2.  <span data-ttu-id="80db0-141">À l’aide de [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorateur de solutions, cliquez sur Parcourir pour le  **\< *lecteur*\>: \Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End en bout Tutorial\Tutorial_BatchMsgDrop** dossier.</span><span class="sxs-lookup"><span data-stu-id="80db0-141">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BatchMsgDrop** folder.</span></span> <span data-ttu-id="80db0-142">Après une heure, vous devez voir l’instance traitée du lot à apparaissent dans le dossier.</span><span class="sxs-lookup"><span data-stu-id="80db0-142">After an hour, you should see the processed instance of the message batch appear in the folder.</span></span> <span data-ttu-id="80db0-143">Si elle n’apparaît pas, vérifiez le [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Observateur d’événements des messages d’erreur.</span><span class="sxs-lookup"><span data-stu-id="80db0-143">If it does not appear, check the [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Event Viewer for error messages.</span></span> <span data-ttu-id="80db0-144">Le fichier doit avoir le nom \< *Guid*\>.txt.</span><span class="sxs-lookup"><span data-stu-id="80db0-144">The file should have the name \<*Guid*\>.txt.</span></span> <span data-ttu-id="80db0-145">Ce lot doit contenir les deux messages qui ont été envoyés à l’origine.</span><span class="sxs-lookup"><span data-stu-id="80db0-145">This batch should contain the two messages that were originally sent.</span></span> <span data-ttu-id="80db0-146">Ce lot doit avoir les champs suivants :</span><span class="sxs-lookup"><span data-stu-id="80db0-146">This batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="80db0-147">FHS.5</span><span class="sxs-lookup"><span data-stu-id="80db0-147">FHS.5</span></span>|<span data-ttu-id="80db0-148">BHS.5</span><span class="sxs-lookup"><span data-stu-id="80db0-148">BHS.5</span></span>|<span data-ttu-id="80db0-149">BTS.1</span><span class="sxs-lookup"><span data-stu-id="80db0-149">BTS.1</span></span>|<span data-ttu-id="80db0-150">FTS.1</span><span class="sxs-lookup"><span data-stu-id="80db0-150">FTS.1</span></span>|  
    |-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="80db0-151">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="80db0-151">Tutorial_BatchDest</span></span>|<span data-ttu-id="80db0-152">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="80db0-152">Tutorial_BatchDest</span></span>|<span data-ttu-id="80db0-153">2</span><span class="sxs-lookup"><span data-stu-id="80db0-153">2</span></span>|<span data-ttu-id="80db0-154">1</span><span class="sxs-lookup"><span data-stu-id="80db0-154">1</span></span>|  
  
     <span data-ttu-id="80db0-155">Les messages du lot doivent comporter les champs suivants :</span><span class="sxs-lookup"><span data-stu-id="80db0-155">The messages within the batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="80db0-156">MSH.9</span><span class="sxs-lookup"><span data-stu-id="80db0-156">MSH.9</span></span>|<span data-ttu-id="80db0-157">MSH.10</span><span class="sxs-lookup"><span data-stu-id="80db0-157">MSH.10</span></span>|<span data-ttu-id="80db0-158">MSH.3</span><span class="sxs-lookup"><span data-stu-id="80db0-158">MSH.3</span></span>|<span data-ttu-id="80db0-159">MSH.5</span><span class="sxs-lookup"><span data-stu-id="80db0-159">MSH.5</span></span>|  
    |-----------|------------|-----------|-----------|  
    |<span data-ttu-id="80db0-160">ADT^A03</span><span class="sxs-lookup"><span data-stu-id="80db0-160">ADT^A03</span></span>|<span data-ttu-id="80db0-161">Msg01</span><span class="sxs-lookup"><span data-stu-id="80db0-161">Msg01</span></span>|<span data-ttu-id="80db0-162">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="80db0-162">Tutorial_BatchSource</span></span>|<span data-ttu-id="80db0-163">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="80db0-163">Tutorial_BatchDest</span></span>|  
    |<span data-ttu-id="80db0-164">ADT^A03</span><span class="sxs-lookup"><span data-stu-id="80db0-164">ADT^A03</span></span>|<span data-ttu-id="80db0-165">Msg02</span><span class="sxs-lookup"><span data-stu-id="80db0-165">Msg02</span></span>|<span data-ttu-id="80db0-166">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="80db0-166">Tutorial_BatchSource</span></span>|<span data-ttu-id="80db0-167">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="80db0-167">Tutorial_BatchDest</span></span>|  
  
     <span data-ttu-id="80db0-168">Le lot est encapsulé dans deux ensembles d’en-têtes et codes de fin spécifique pour les lots :</span><span class="sxs-lookup"><span data-stu-id="80db0-168">The batch is wrapped in two sets of headers and trailers specific to batches:</span></span>  
  
    -   <span data-ttu-id="80db0-169">En-tête de fichier et le code de fin (FHS et FT), qui sont utilisés pour placer un fichier qui peut comprendre plusieurs traitements.</span><span class="sxs-lookup"><span data-stu-id="80db0-169">A file header and trailer (FHS and FTS), which are used to enclose a file that can include multiple batches.</span></span> <span data-ttu-id="80db0-170">Notez l’application de réception de fichier (**Tutorial_BatchDest**) dans le champ FHS5 et la création du fichier date/heure dans FHS7.</span><span class="sxs-lookup"><span data-stu-id="80db0-170">Note the file-receiving application (**Tutorial_BatchDest**) in the FHS5 field and the file creation date/time in FHS7.</span></span> <span data-ttu-id="80db0-171">Notez le nombre de lots de fichiers (le nombre de lots dans le fichier) dans FTS2 (1).</span><span class="sxs-lookup"><span data-stu-id="80db0-171">Note the file batch count (the number of batches in the file) in FTS2 (1).</span></span>  
  
    -   <span data-ttu-id="80db0-172">En-tête de lot et le code de fin (BHS et BizTalk Server), qui sont utilisés pour placer chaque lot.</span><span class="sxs-lookup"><span data-stu-id="80db0-172">A batch header and trailer (BHS and BTS), which are used to enclose each batch.</span></span> <span data-ttu-id="80db0-173">Notez la réception d’application et le lot date/heure de création, comme dans le FHS et le nombre de messages par lots (2) dans BTS2 de fichier.</span><span class="sxs-lookup"><span data-stu-id="80db0-173">Note the file receiving application and batch creation date/time, as in the FHS, and the batch message count (2) in BTS2.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="80db0-174">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="80db0-174">See Also</span></span>  
 <span data-ttu-id="80db0-175">[Partie 1 : Scénario de lot entrant fragmenté](../../adapters-and-accelerators/accelerator-hl7/part-1-fragmented-inbound-batch-scenario.md) </span><span class="sxs-lookup"><span data-stu-id="80db0-175">[Part 1: Fragmented Inbound Batch Scenario](../../adapters-and-accelerators/accelerator-hl7/part-1-fragmented-inbound-batch-scenario.md) </span></span>  
 [<span data-ttu-id="80db0-176">Partie 3 : Scénario de création de lot</span><span class="sxs-lookup"><span data-stu-id="80db0-176">Part 3: Create-Batch Scenario</span></span>](../../adapters-and-accelerators/accelerator-hl7/part-3-create-batch-scenario.md)