---
title: "Meilleures pratiques pour éviter les goulots d’étranglement | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 81da2e31-dce0-43fb-841f-e65ff99e80a7
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 08f2291d6aa4d16c251a110bc6f94c6288dc5064
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="best-practices-for-avoiding-bottlenecks"></a><span data-ttu-id="34095-102">Pratiques recommandées pour éviter les goulots d’étranglement</span><span class="sxs-lookup"><span data-stu-id="34095-102">Best Practices for Avoiding Bottlenecks</span></span>
<span data-ttu-id="34095-103">Même si les paramètres par défaut de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] garantissent des performances optimales pour la plupart des configurations matérielles et logicielles, il peut être préférable, dans certains scénarios, de les modifier ou de repenser la configuration de déploiement.</span><span class="sxs-lookup"><span data-stu-id="34095-103">While the default settings in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] provide optimal performance for many hardware and software configurations, in some scenarios it may be beneficial to modify the settings or deployment configuration.</span></span> <span data-ttu-id="34095-104">Lors de la configuration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], prenez en compte les éléments suivants afin d'obtenir les meilleures performances :</span><span class="sxs-lookup"><span data-stu-id="34095-104">When configuring [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], consider the following performance guidelines:</span></span>  
  
-   <span data-ttu-id="34095-105">Pour éviter les conflits de ressources, isoler la réception de l’orchestration et l’envoi sur des hôtes distincts.</span><span class="sxs-lookup"><span data-stu-id="34095-105">To prevent resource contention, isolate receiving, orchestration, and sending on separate hosts.</span></span> <span data-ttu-id="34095-106">Pour réduire au maximum les conflits, séparez le service de suivi des autres hôtes.</span><span class="sxs-lookup"><span data-stu-id="34095-106">To further minimize contention, isolate the tracking service from other hosts.</span></span>  
  
-   <span data-ttu-id="34095-107">Si le traitement sur l’ordinateur exécutant BizTalk Server par processeur est le goulot d’étranglement, à l’échelle de l’ordinateur exécutant BizTalk Server en ajoutant des processeurs ou de mise à niveau vers un processeur plus rapide.</span><span class="sxs-lookup"><span data-stu-id="34095-107">If CPU processing on the computer running BizTalk Server is the bottleneck, scale up the computer running BizTalk Server by including additional CPUs or upgrading to faster CPUs.</span></span>  
  
## <a name="sql-server-guidelines"></a><span data-ttu-id="34095-108">Instructions relatives au serveur SQL Server</span><span class="sxs-lookup"><span data-stu-id="34095-108">SQL Server Guidelines</span></span>  
 <span data-ttu-id="34095-109">Lors de la configuration du serveur Microsoft SQL Server avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], prenez en compte les éléments suivants afin d'obtenir les meilleures performances :</span><span class="sxs-lookup"><span data-stu-id="34095-109">Consider the following performance guidelines when configuring Microsoft SQL Server with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="34095-110">Utilisez, autant que possible, un sous-système de disque rapide avec le serveur SQL Server.</span><span class="sxs-lookup"><span data-stu-id="34095-110">Whenever possible, use a fast disk subsystem with SQL Server.</span></span> <span data-ttu-id="34095-111">Utiliser une baie redondante de disques indépendants type 10 (RAID10 / 0 + 1) ou un réseau de stockage (SAN) avec alimentation de secours.</span><span class="sxs-lookup"><span data-stu-id="34095-111">Use a redundant array of independent disks type 10 (RAID10/0+1) or a storage area network (SAN) with backup power supply.</span></span>  
  
-   <span data-ttu-id="34095-112">Isoler chaque base de données MessageBox sur un serveur distinct de la base de données des suivis BizTalk (BizTalkDTADb).</span><span class="sxs-lookup"><span data-stu-id="34095-112">Isolate each MessageBox database on a separate server from the BizTalk Tracking database (BizTalkDTADb).</span></span> <span data-ttu-id="34095-113">Pour les déploiements plus petits si les ressources de processeur sont disponibles, il peut suffire à isoler la base de données MessageBox sur un disque physique distinct à partir de la base de données des suivis BizTalk.</span><span class="sxs-lookup"><span data-stu-id="34095-113">For smaller deployments if CPU resources are available, it might be sufficient to isolate the MessageBox database on a separate physical disk from the BizTalk Tracking database.</span></span>  
  
-   <span data-ttu-id="34095-114">La base de données principale MessageBox peut être le goulet d’étranglement en raison d’une saturation du processeur du processeur ou de la latence des opérations de disque (longueur de file d’attente moyenne du disque).</span><span class="sxs-lookup"><span data-stu-id="34095-114">The primary MessageBox database could be the bottleneck due to CPU processor saturation or latency from disk operations (average disk queue length).</span></span> <span data-ttu-id="34095-115">Si tel est le goulot d’étranglement, ajoutez des processeurs à la MessageBox principale.</span><span class="sxs-lookup"><span data-stu-id="34095-115">If CPU processing is the bottleneck, add CPU processors to the primary MessageBox.</span></span> <span data-ttu-id="34095-116">Si ce n’est pas le cas, essayez de désactiver la publication sur la base de données principale.</span><span class="sxs-lookup"><span data-stu-id="34095-116">If not, try to disable publishing on the master MessageBox database.</span></span> <span data-ttu-id="34095-117">Ainsi, la base de données principale MessageBox peuvent plus gérer efficacement le routage des messages aux autres bases de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="34095-117">This way the master MessageBox database can more efficiently handle routing of messages to the other MessageBox databases.</span></span> <span data-ttu-id="34095-118">L’option pour désactiver la publication est valide lorsque vous utilisez plusieurs bases de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="34095-118">The option to disable publishing is valid when you are using multiple MessageBox databases.</span></span>  
  
-   <span data-ttu-id="34095-119">Si le goulot d’étranglement des opérations de disque, déplacez la base de données des suivis BizTalk sur un ordinateur SQL Server dédié et/ou un disque dédié.</span><span class="sxs-lookup"><span data-stu-id="34095-119">If disk operations are the bottleneck, move the BizTalk Tracking database to a dedicated SQL Server computer and/or dedicated disk.</span></span> <span data-ttu-id="34095-120">Si les opérations de disque et de traitement du processeur sur la base de données principale MessageBox ne sont pas le goulot d’étranglement, vous pouvez créer des nouvelles bases de données MessageBox sur le même ordinateur SQL Server pour tirer parti de votre matériel existant.</span><span class="sxs-lookup"><span data-stu-id="34095-120">If CPU processing and disk operations on the primary MessageBox database are not the bottleneck, you can create new MessageBox databases on the same SQL Server computer to leverage your existing hardware.</span></span>  
  
-   <span data-ttu-id="34095-121">Suivez les recommandations de [optimisation de groupes de fichiers pour le Databases2](../technical-guides/optimizing-filegroups-for-the-databases2.md)pour isoler le journal des transactions et les données des fichiers pour les bases de données MessageBox et des suivis BizTalk sur des disques physiques distincts.</span><span class="sxs-lookup"><span data-stu-id="34095-121">Follow recommendations in [Optimizing Filegroups for the Databases2](../technical-guides/optimizing-filegroups-for-the-databases2.md)to isolate the transaction and data log files for the MessageBox and BizTalk Tracking databases onto separate physical disks.</span></span>  
  
-   <span data-ttu-id="34095-122">Allocation d’espace de stockage pour les fichiers journaux et de données.</span><span class="sxs-lookup"><span data-stu-id="34095-122">Allocate sufficient storage space for the data and log files.</span></span> <span data-ttu-id="34095-123">Sinon, SQL Server prenne automatiquement tout l’espace disponible sur les disques dans lequel les fichiers journaux sont conservés.</span><span class="sxs-lookup"><span data-stu-id="34095-123">Otherwise SQL Server will automatically consume all of the available space on the disks where the log files are kept.</span></span> <span data-ttu-id="34095-124">La taille initiale des fichiers journaux dépend de la configuration requise spécifique dans votre scénario.</span><span class="sxs-lookup"><span data-stu-id="34095-124">The initial size of the log files depends on the specific requirements in your scenario.</span></span> <span data-ttu-id="34095-125">Faites une estimation de la taille moyenne des fichiers dans votre déploiement en fonction des résultats des tests et ajustez l'espace de stockage avant d'implémenter votre solution.</span><span class="sxs-lookup"><span data-stu-id="34095-125">Estimate the average file size in your deployment based on testing results, and expand the storage space before implementing your solution.</span></span>  
  
-   <span data-ttu-id="34095-126">Allouer un espace suffisant pour utilisation de disque hautes bases de données, telles que la MessageBox, l’intégrité et activité de suivi du fonctionnement (HAT) et analyse BAM (Business Activity).</span><span class="sxs-lookup"><span data-stu-id="34095-126">Allocate sufficient storage space for high-disk-use databases, such as the MessageBox, Health and Activity Tracking (HAT), and Business Activity Monitoring (BAM).</span></span> <span data-ttu-id="34095-127">Si votre solution utilise le protocole de messagerie BizTalk Framework, prévoyez un espace de stockage suffisant pour la base de données de configuration BizTalk (BizTalkMgmtDb).</span><span class="sxs-lookup"><span data-stu-id="34095-127">If your solution uses the BizTalk Framework messaging protocol, allocate sufficient storage space for the BizTalk Configuration database (BizTalkMgmtDb).</span></span>  
  
-   <span data-ttu-id="34095-128">En fonction de l’entreprise a besoin, telles que les périodes de rétention de données et le volume de données traitées dans votre scénario, configurez le travail « DTA Archive et Purge » de l’Agent SQL Server sur la base de données de suivi HAT telles que la base de données des suivis BizTalk n’augmente pas trop.</span><span class="sxs-lookup"><span data-stu-id="34095-128">Depending on business needs, such as data retention periods, and the volume of data processed in your scenario, configure the "DTA Archive and Purge" SQL Server Agent job on the HAT-Tracking database such that the BizTalk Tracking database does not grow too large.</span></span> <span data-ttu-id="34095-129">La croissance de cette base de données peut dégrader les performances, car il est atteint la capacité totale de la base de données impose une limite sur le taux d’insertion de données.</span><span class="sxs-lookup"><span data-stu-id="34095-129">The growth of this database can degrade performance because reaching the full capacity of the database imposes a limit on the rate of data insertion.</span></span> <span data-ttu-id="34095-130">Cela est particulièrement vrai lorsqu’une base de données des suivis BizTalk prend en charge plusieurs bases de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="34095-130">This is especially true when one BizTalk Tracking database supports multiple MessageBox databases.</span></span>  
  
-   <span data-ttu-id="34095-131">Mettre à l’échelle des serveurs hébergeant les bases de données MessageBox et des suivis BizTalk s’ils sont le goulot d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="34095-131">Scale up the servers hosting the MessageBox and BizTalk Tracking databases if they are the bottleneck.</span></span> <span data-ttu-id="34095-132">Vous pouvez monter le matériel par l’ajout de processeurs, l’ajout de mémoire, la mise à niveau vers un processeur plus rapide et à l’aide de disques dédiés à grande vitesse.</span><span class="sxs-lookup"><span data-stu-id="34095-132">You can scale up the hardware by adding CPUs, adding memory, upgrading to faster CPUs, and using high-speed dedicated disks.</span></span>  
  
-   <span data-ttu-id="34095-133">Fractionnement de fichiers TempDB dans plusieurs fichiers peut résoudre les problèmes de performances liés aux opérations d’e/s.</span><span class="sxs-lookup"><span data-stu-id="34095-133">Splitting the TempDB files across multiple files may resolve performance issues related to I/O operations.</span></span> <span data-ttu-id="34095-134">En règle générale, créez un fichier de données de fichier par processeur et utiliser la même taille pour tous les fichiers créés.</span><span class="sxs-lookup"><span data-stu-id="34095-134">As a general guideline, create one file data file per processor and use the same size for all files created.</span></span>  
  
-   <span data-ttu-id="34095-135">Modification de la base de données, la croissance automatique paramètres une valeur fixe, par exemple 100-150 Mo.</span><span class="sxs-lookup"><span data-stu-id="34095-135">Change the database auto-grow settings to a fixed value such as 100-150MB.</span></span> <span data-ttu-id="34095-136">Par défaut de que la croissance de la base de données est configurée à 10 %, ce qui peut entraîner des retards lors du développement de bases de données volumineuses.</span><span class="sxs-lookup"><span data-stu-id="34095-136">By default the database growth is configured to 10%, which can lead to delays when growing larger databases.</span></span>  
  
-   <span data-ttu-id="34095-137">Mémoire de SQL Server doit être définie sur une valeur fixe en affectant à la même valeur Min Server Memory et Max Server Memory.</span><span class="sxs-lookup"><span data-stu-id="34095-137">SQL Server memory should be set to a fixed value by setting both Min Server Memory and Max Server Memory to the same value.</span></span> <span data-ttu-id="34095-138">En règle générale, allouez 75 % de la mémoire physique à SQL Server et laissez 25 % pour le reste du système d’exploitation et les applications.</span><span class="sxs-lookup"><span data-stu-id="34095-138">In general, allocate 75% of physical memory to SQL Server and leave 25% for the rest of the operating system and any applications.</span></span> <span data-ttu-id="34095-139">S’il s’agit d’un serveur SQL dédié, vous pouvez réduire le montant réservé au système d’exploitation à un minimum de 1 Go.</span><span class="sxs-lookup"><span data-stu-id="34095-139">If this is a dedicated SQL Server, you can decrease the amount reserved for the operating system to a minimum of 1GB.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="34095-140">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="34095-140">See Also</span></span>  
 [<span data-ttu-id="34095-141">Recherche et suppression des goulots d’étranglement</span><span class="sxs-lookup"><span data-stu-id="34095-141">Finding and Eliminating Bottlenecks</span></span>](../technical-guides/finding-and-eliminating-bottlenecks.md)