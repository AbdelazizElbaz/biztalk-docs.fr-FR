---
title: "Résultats des tests : Indicateurs de Performance clés SQL Server | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2459ee6d-7a75-4338-ba5c-f42ab673ab87
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 93e1f1bdef55ad726c308902062dccff67eeb170
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="test-results-sql-server-key-performance-indicators"></a><span data-ttu-id="f4ec1-102">Résultats des tests : Indicateurs de Performance clés SQL Server</span><span class="sxs-lookup"><span data-stu-id="f4ec1-102">Test Results: SQL Server Key Performance Indicators</span></span>
<span data-ttu-id="f4ec1-103">Cette rubrique résume SQL Server Performance indicateurs clés (KPI) observé sur les scénarios de test.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-103">This topic summarizes SQL Server Key Performance Indicators (KPI) observed during the test scenarios.</span></span> <span data-ttu-id="f4ec1-104">Ces tests évalué les KPI SQL Server suivantes :</span><span class="sxs-lookup"><span data-stu-id="f4ec1-104">These tests evaluated the following SQL Server KPI:</span></span>  
  
-   <span data-ttu-id="f4ec1-105">L’utilisation du processeur SQL telle que mesurée par le **\SQL\Processor(_Total)\\% temps processeur** compteur Perfmon.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-105">SQL Processor Utilization as measured by the **\SQL\Processor(_Total)\\% Processor Time** performance monitor counter.</span></span>  
  
-   <span data-ttu-id="f4ec1-106">Le nombre de lots de commandes Transact-SQL reçus par seconde, telle que mesurée par le **\SQL Server:SQL Statistics\Batch demandes par seconde** compteur Perfmon.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-106">The number of Transact-SQL command batches received per second as measured by the **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter.</span></span>  
  
## <a name="summary-of-sql-server-key-performance-indicators"></a><span data-ttu-id="f4ec1-107">Résumé des indicateurs de Performance clés SQL Server</span><span class="sxs-lookup"><span data-stu-id="f4ec1-107">Summary of SQL Server Key Performance Indicators</span></span>  
 <span data-ttu-id="f4ec1-108">Pour chaque scénario, les machines physiques étaient limités afin que le nombre de processeurs logiques et les processeurs virtuels était équivalent.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-108">For each scenario the physical machines were restricted so that number of logical processors and virtual processors was equivalent.</span></span> <span data-ttu-id="f4ec1-109">Cela a été effectuée à l’aide des commutateurs /maxmem et/NUMPROC du fichier boot.ini.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-109">This was done using the /maxmem and /numproc boot.ini switches.</span></span> <span data-ttu-id="f4ec1-110">Pour plus d’informations sur l’utilisation de ces commutateurs, consultez « Démarrage INI Options référence » à [http://go.microsoft.com/fwlink/?LinkId=122139](http://go.microsoft.com/fwlink/?LinkId=122139).</span><span class="sxs-lookup"><span data-stu-id="f4ec1-110">For more information about using these switches, see “Boot INI Options Reference” at [http://go.microsoft.com/fwlink/?LinkId=122139](http://go.microsoft.com/fwlink/?LinkId=122139).</span></span>  
  
 <span data-ttu-id="f4ec1-111">**Comparaison des indicateurs de Performance clés SQL Server –** [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] d’utilisation du processeur, mesurée avec **\SQL\Processor(_Total)\\% temps processeur** compteur était environ le même sur tous les test des environnements, allant de faible niveau de 88 % et 90.1 %.  </span><span class="sxs-lookup"><span data-stu-id="f4ec1-111">**Comparison of SQL Server Key Performance Indicators –**  [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] processor utilization as measured by **\SQL\Processor(_Total)\\% Processor Time** counter was approximately the same on all test environments, ranging from a low of 88% to a high of 90.1%.</span></span> <span data-ttu-id="f4ec1-112">Il existe toutefois une différence significative entre les **\SQL Server:SQL Statistics\Batch demandes par seconde** mesuré sur l’environnement consolidé (4520) et le **\SQL Server:SQL Statistics\Batchdedemandes/s** mesuré sur l’environnement physique (6350).</span><span class="sxs-lookup"><span data-stu-id="f4ec1-112">There is however a significant difference between the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the consolidated environment (4520) and the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the physical environment (6350).</span></span> <span data-ttu-id="f4ec1-113">Le **\SQL Server:SQL Statistics\Batch demandes par seconde** compteur Perfmon constitue un bon indicateur de la quantité de travail est effectuée par SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-113">The **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter provides a good indicator of how much work is being performed by SQL Server.</span></span> <span data-ttu-id="f4ec1-114">La réduction de requêtes de lots/s lorsque SQL Server est en cours d’exécution dans un environnement Hyper-V peut être attribuée à la surcharge du processeur requise par Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-114">The reduction in Batch Requests/sec when SQL Server is running in a Hyper-V environment can be attributed to the CPU overhead required by Hyper-V.</span></span>  
  
 <span data-ttu-id="f4ec1-115">Il existe, toutefois, une différence significative entre les **\SQL Server:SQL Statistics\Batch demandes par seconde** mesuré sur l’environnement consolidé (4520) et le **\SQL Server:SQL Statistics\Batch demandes par seconde**  mesuré sur l’environnement physique (6350).</span><span class="sxs-lookup"><span data-stu-id="f4ec1-115">There is, however, a significant difference between the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the consolidated environment (4520) and the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the physical environment (6350).</span></span> <span data-ttu-id="f4ec1-116">Le **\SQL Server:SQL Statistics\Batch demandes par seconde** compteur Perfmon constitue un bon indicateur de la quantité de travail est effectuée par SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-116">The **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter provides a good indicator of how much work is being performed by SQL Server.</span></span> <span data-ttu-id="f4ec1-117">La réduction de requêtes de lots/s lorsque SQL Server est en cours d’exécution dans un environnement Hyper-V peut être attribuée à la surcharge du processeur requise par Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-117">The reduction in Batch Requests/sec when SQL Server is running in a Hyper-V environment can be attributed to the CPU overhead required by Hyper-V.</span></span>  
  
 <span data-ttu-id="f4ec1-118">Suivez ces étapes pour augmenter les performances de SQL Server est en cours d’exécution sur un ordinateur virtuel de Hyper-V telle que mesurée par le **\SQL Server:SQL Statistics\Batch demandes par seconde** compteur Analyseur de performances :</span><span class="sxs-lookup"><span data-stu-id="f4ec1-118">Follow these steps to increase performance of SQL Server running on a Hyper-V virtual machine as measured by the **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter:</span></span>  
  
1.  <span data-ttu-id="f4ec1-119">**Allouer des disques de disque dur virtuel fixes supplémentaires avec des contrôleurs virtuels dédiés et les canaux –** dédiée de l’Allocation de disques de disque dur virtuel fixes supplémentaires à l’aide de contrôleurs virtuels et de canaux augmente le débit de disque par rapport à un seul disque du disque dur virtuel.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-119">**Allocate additional fixed VHD disks with dedicated virtual controllers and channels –** Allocation of additional fixed VHD disks using dedicated virtual controllers and channels will increase disk throughput versus using a single VHD disk.</span></span>  
  
2.  <span data-ttu-id="f4ec1-120">**Optimiser les performances du réseau –** suivez les étapes décrites dans la section « Optimiser les performances du réseau » de [liste de vérification : optimisation des performances sur Hyper-V](~/technical-guides/checklist-optimizing-performance-on-hyper-v.md).</span><span class="sxs-lookup"><span data-stu-id="f4ec1-120">**Optimize Network Performance –** Follow steps outlined in the “Optimize Network Performance” section of [Checklist: Optimizing Performance on Hyper-V](~/technical-guides/checklist-optimizing-performance-on-hyper-v.md).</span></span> <span data-ttu-id="f4ec1-121">Lors de l’exécution de plusieurs machines virtuelles de Hyper-V sur le même hôte Hyper-V, il est particulièrement importante pour suivre les recommandations de la section « Configurer Hyper-V virtuels qui s’exécutent sur le même Hyper-V hôte de l’ordinateur à utiliser un un réseau privé virtuel » de [optimisations du réseau](../technical-guides/network-optimizations.md).</span><span class="sxs-lookup"><span data-stu-id="f4ec1-121">When running multiple Hyper-V virtual machines on the same Hyper-V host it is of particular importance to follow recommendations in the “Configure Hyper-V Virtual Machines that are Running on the same Hyper-V host computer to use a Private Virtual Network” section of [Network Optimizations](../technical-guides/network-optimizations.md).</span></span>  
  
 <span data-ttu-id="f4ec1-122">En raison de la nature sans état de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]supplémentaires [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] machines virtuelles peuvent être facilement ajoutés à l’environnement comme requis pour fournir la montée en puissance parallèle et améliorer les performances générales du système.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-122">Because of the stateless nature of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], additional [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] virtual machines can be easily added to the environment as required to provide scale out and increase the overall performance of the system.</span></span>  
  
 <span data-ttu-id="f4ec1-123">Le graphique ci-dessous illustre les performances de SQL Server sur les différentes plateformes de test :</span><span class="sxs-lookup"><span data-stu-id="f4ec1-123">The graphic below illustrates the performance of SQL Server on the various test platforms:</span></span>  
  
 <span data-ttu-id="f4ec1-124">![Indicateurs de Performance clés SQL](../technical-guides/media/sqlkpi.gif "SQLKPI")</span><span class="sxs-lookup"><span data-stu-id="f4ec1-124">![SQL Key Performance Indicators](../technical-guides/media/sqlkpi.gif "SQLKPI")</span></span>  
<span data-ttu-id="f4ec1-125">indicateurs de performance clés SQL</span><span class="sxs-lookup"><span data-stu-id="f4ec1-125">SQL Key Performance Indicators</span></span>  
  
 <span data-ttu-id="f4ec1-126">Le tableau ci-dessous illustre les performances relatives de l’indicateur collectées pour chaque configuration.</span><span class="sxs-lookup"><span data-stu-id="f4ec1-126">The table below illustrates the relative performance of the collected KPI’s for each configuration.</span></span> <span data-ttu-id="f4ec1-127">Chaque jeu de résultats est calculée en pourcentage de la configuration de base indicateur de performance clé</span><span class="sxs-lookup"><span data-stu-id="f4ec1-127">Each result set is calculated as a percentage of the Baseline configuration KPI</span></span>  
  
|<span data-ttu-id="f4ec1-128">Indicateur de performance clé</span><span class="sxs-lookup"><span data-stu-id="f4ec1-128">KPI</span></span>|<span data-ttu-id="f4ec1-129">Virtuel BizTalk/physiques SQL</span><span class="sxs-lookup"><span data-stu-id="f4ec1-129">Virtual BizTalk/Physical SQL</span></span>|<span data-ttu-id="f4ec1-130">Virtuel BizTalk/virtuel SQL sur des hôtes distincts</span><span class="sxs-lookup"><span data-stu-id="f4ec1-130">Virtual BizTalk/Virtual SQL on separate Hosts</span></span>|<span data-ttu-id="f4ec1-131">Virtuel SQL BizTalk/virtuel dans l’environnement de consolidé</span><span class="sxs-lookup"><span data-stu-id="f4ec1-131">Virtual BizTalk/Virtual SQL on Consolidated environment</span></span>|  
|---------|-----------------------------------|----------------------------------------------------|--------------------------------------------------------------|  
|<span data-ttu-id="f4ec1-132">\SQL\Processor(_Total)\\% temps processeur</span><span class="sxs-lookup"><span data-stu-id="f4ec1-132">\SQL\Processor(_Total)\\% Processor Time</span></span>|<span data-ttu-id="f4ec1-133">97.7%</span><span class="sxs-lookup"><span data-stu-id="f4ec1-133">97.7%</span></span>|<span data-ttu-id="f4ec1-134">98.4%</span><span class="sxs-lookup"><span data-stu-id="f4ec1-134">98.4%</span></span>|<span data-ttu-id="f4ec1-135">99.9%</span><span class="sxs-lookup"><span data-stu-id="f4ec1-135">99.9%</span></span>|  
|<span data-ttu-id="f4ec1-136">\SQL server : SQL SQL\nombre demandes par seconde</span><span class="sxs-lookup"><span data-stu-id="f4ec1-136">\SQL Server:SQL Statistics\Batch Requests/sec</span></span>|<span data-ttu-id="f4ec1-137">97.1%</span><span class="sxs-lookup"><span data-stu-id="f4ec1-137">97.1%</span></span>|<span data-ttu-id="f4ec1-138">83.3%</span><span class="sxs-lookup"><span data-stu-id="f4ec1-138">83.3%</span></span>|<span data-ttu-id="f4ec1-139">71.2%</span><span class="sxs-lookup"><span data-stu-id="f4ec1-139">71.2%</span></span>|  
  
 <span data-ttu-id="f4ec1-140">Pour plus d’informations sur la façon d’évaluer les performances d’e/s disque, consultez le **performances d’e/s du disque mesure** section de la rubrique [liste de vérification : mesure des performances sur Hyper-V](../technical-guides/checklist-measuring-performance-on-hyper-v.md).</span><span class="sxs-lookup"><span data-stu-id="f4ec1-140">For more information about how to evaluate Disk I/O performance, see the **Measuring Disk I/O Performance** section of the topic [Checklist: Measuring Performance on Hyper-V](../technical-guides/checklist-measuring-performance-on-hyper-v.md).</span></span>  
  
 <span data-ttu-id="f4ec1-141">Pour plus d’informations sur les meilleures pratiques lors de l’exécution de SQL Server 2008 dans un environnement Hyper-V, consultez le livre blanc « En cours d’exécution SQL Server 2008 in a Hyper-V environnement – et performances recommandations » disponible en téléchargement à [http : / / go.microsoft.com/fwlink/ ? LinkId = 144622](http://go.microsoft.com/fwlink/?LinkId=144622).</span><span class="sxs-lookup"><span data-stu-id="f4ec1-141">For more information about Best Practices when running SQL Server 2008 in a Hyper-V environment, see the whitepaper “Running SQL Server 2008 in a Hyper-V Environment – Best Practices and Performance Recommendations” available for download at [http://go.microsoft.com/fwlink/?LinkId=144622](http://go.microsoft.com/fwlink/?LinkId=144622).</span></span>