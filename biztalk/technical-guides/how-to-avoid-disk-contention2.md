---
title: Comment éviter de disque Contention2 | Documents Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 37bdf6bd-cb34-4540-819e-908d83a22d40
caps.latest.revision: ''
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f7be7a38ac3f3f6cc1d7d266c664cbb85f731c22
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/23/2018
---
# <a name="how-to-avoid-disk-contention"></a><span data-ttu-id="c067a-102">Élimination des risques de conflit au niveau des disques</span><span class="sxs-lookup"><span data-stu-id="c067a-102">How to Avoid Disk Contention</span></span>
<span data-ttu-id="c067a-103">BizTalk Server est conçu comme un système persistant.</span><span class="sxs-lookup"><span data-stu-id="c067a-103">BizTalk Server is designed as a persistent system.</span></span> <span data-ttu-id="c067a-104">Pour les scénarios de débit élevé, les bases de données MessageBox et des suivis BizTalk peuvent rencontrer des conflits sévères.</span><span class="sxs-lookup"><span data-stu-id="c067a-104">For high throughput scenarios, the MessageBox and BizTalk Tracking databases can experience severe contention.</span></span> <span data-ttu-id="c067a-105">Ces conflits peuvent être aggravés par des disques lents.</span><span class="sxs-lookup"><span data-stu-id="c067a-105">This contention can be aggravated by slow disks.</span></span> <span data-ttu-id="c067a-106">Si les disques sont lentes (supérieur à 15 ms en moyenne pour AVG. Disque s/lecture ou AVG. Disque s/écriture), le risque de SQL Server pour maintenir les verrous plus de temps (temps d’attente de verrou élevé et les délais d’attente de verrou haute).</span><span class="sxs-lookup"><span data-stu-id="c067a-106">If the disks are slow (greater than 15ms on average for Avg. Disk sec/Read or Avg. Disk sec/Write), it may cause SQL Server to hold onto locks longer (high Lock Wait Time and high Lock Timeouts).</span></span> <span data-ttu-id="c067a-107">Cela, à son tour, peut entraîner les tables MessageBox (files d’attente de l’Application et Spool) de croître, provoquant l’encombrement de la base de données et de limitation.</span><span class="sxs-lookup"><span data-stu-id="c067a-107">This, in turn, can cause the MessageBox tables (Spool and Application Queues) to grow, causing database bloat and throttling.</span></span> <span data-ttu-id="c067a-108">Cette situation a pour résultat faible débit global.</span><span class="sxs-lookup"><span data-stu-id="c067a-108">This situation ultimately results in lower overall sustainable throughput.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c067a-109">Pour plus d’informations sur l’identification si un serveur possède un goulot d’étranglement du disque, consultez [Analyseur de performances Windows](http://go.microsoft.com/fwlink/?LinkID=204007) (http://go.microsoft.com/fwlink/?LinkID=204007).</span><span class="sxs-lookup"><span data-stu-id="c067a-109">For information about identifying if a server has a disk bottleneck, see [Windows Performance Monitor](http://go.microsoft.com/fwlink/?LinkID=204007) (http://go.microsoft.com/fwlink/?LinkID=204007).</span></span> <span data-ttu-id="c067a-110">Analyseur de performances Windows est un composant logiciel enfichable Microsoft Management Console (MMC) qui fournit des outils d’analyse des performances du système.</span><span class="sxs-lookup"><span data-stu-id="c067a-110">Windows Performance Monitor is a Microsoft Management Console (MMC) snap-in that provides tools for analyzing system performance.</span></span>  
  
 <span data-ttu-id="c067a-111">Pour éviter la contention de disque, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="c067a-111">To avoid disk contention, do the following:</span></span>  
  
|<span data-ttu-id="c067a-112">Étapes</span><span class="sxs-lookup"><span data-stu-id="c067a-112">Steps</span></span>|<span data-ttu-id="c067a-113">Référence</span><span class="sxs-lookup"><span data-stu-id="c067a-113">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="c067a-114">Utilisez Raid10 / 0 + configurations de 1 disque.</span><span class="sxs-lookup"><span data-stu-id="c067a-114">Use Raid10/0+1 disk configurations.</span></span>|[<span data-ttu-id="c067a-115">Bonnes pratiques pour éviter les goulots d’étranglement</span><span class="sxs-lookup"><span data-stu-id="c067a-115">Best Practices for Avoiding Bottlenecks</span></span>](../technical-guides/best-practices-for-avoiding-bottlenecks.md)|  
|<span data-ttu-id="c067a-116">Si possible, déployez les bases de données sur un réseau SAN à grande vitesse.</span><span class="sxs-lookup"><span data-stu-id="c067a-116">If possible, deploy the databases on a high-speed SAN.</span></span> <span data-ttu-id="c067a-117">Si plusieurs bases de données partagent les mêmes disques, nous vous recommandons de les configurer sur séparé **dédié** disques.</span><span class="sxs-lookup"><span data-stu-id="c067a-117">If multiple databases are sharing the same disks, we recommend configuring them on separate **dedicated** disks.</span></span> <span data-ttu-id="c067a-118">En outre, nous vous recommandons de séparer les fichiers MDF et LDF pour la base de données MessageBox sur des disques différents.</span><span class="sxs-lookup"><span data-stu-id="c067a-118">In addition, we recommend separating the MDF and LDF files for the MessageBox database onto separate disks.</span></span>|[<span data-ttu-id="c067a-119">Optimisation des groupes de fichiers pour le Databases2</span><span class="sxs-lookup"><span data-stu-id="c067a-119">Optimizing Filegroups for the Databases2</span></span>](../technical-guides/optimizing-filegroups-for-the-databases2.md)|  
|<span data-ttu-id="c067a-120">Envisagez l’allocation de plusieurs fichiers pour la base de données TEMPDB, car cela sera considérablement réduire la contention de disque et répartir la charge sur plusieurs fichiers de données.</span><span class="sxs-lookup"><span data-stu-id="c067a-120">Consider allocating multiple files for the TEMPDB database, as this will significantly reduce disk contention and spread the load across multiple data files.</span></span>|[<span data-ttu-id="c067a-121">Base de données de la Configuration préalable Optimizations2</span><span class="sxs-lookup"><span data-stu-id="c067a-121">Pre-Configuration Database Optimizations2</span></span>](../technical-guides/pre-configuration-database-optimizations2.md)|  
|<span data-ttu-id="c067a-122">Envisagez de séparer la base de données MessageBox sur un serveur dédié qui est distinct des bases de données des suivis BizTalk.</span><span class="sxs-lookup"><span data-stu-id="c067a-122">Consider separating the MessageBox database onto a dedicated server that is separate from the BizTalk Tracking databases.</span></span>|[<span data-ttu-id="c067a-123">À la Configuration de base de données Optimizations2</span><span class="sxs-lookup"><span data-stu-id="c067a-123">Post-Configuration Database Optimizations2</span></span>](../technical-guides/post-configuration-database-optimizations2.md)|  
|<span data-ttu-id="c067a-124">Affecter le répertoire du fichier journal MSDTC vers un autre lecteur dédié.</span><span class="sxs-lookup"><span data-stu-id="c067a-124">Assign the MSDTC log file directory to a separate dedicated drive.</span></span>|[<span data-ttu-id="c067a-125">Optimisation des performances du système d’exploitation</span><span class="sxs-lookup"><span data-stu-id="c067a-125">Optimizing Operating System Performance</span></span>](../technical-guides/optimizing-operating-system-performance.md)|  
|<span data-ttu-id="c067a-126">En cas de conflit dû au journal PageFile ou MSDTC, essayez de le déplacer vers un autre lecteur.</span><span class="sxs-lookup"><span data-stu-id="c067a-126">If there is contention on the local drive due to the PageFile or MSDTC log, try moving the PageFile and/or the MSDTC log to a separate drive.</span></span>|[<span data-ttu-id="c067a-127">Bonnes pratiques pour éviter les goulots d’étranglement</span><span class="sxs-lookup"><span data-stu-id="c067a-127">Best Practices for Avoiding Bottlenecks</span></span>](../technical-guides/best-practices-for-avoiding-bottlenecks.md)|  
|<span data-ttu-id="c067a-128">Optimiser la base de données de suivi pour les opérations d’écriture.</span><span class="sxs-lookup"><span data-stu-id="c067a-128">Optimize the Tracking database for write operations.</span></span>|[<span data-ttu-id="c067a-129">Comment identifier les goulots d’étranglement dans la base de données de suivi</span><span class="sxs-lookup"><span data-stu-id="c067a-129">How to Identify Bottlenecks in the Tracking Database</span></span>](../technical-guides/how-to-identify-bottlenecks-in-the-tracking-database.md)|  
|<span data-ttu-id="c067a-130">Optimiser la base de données MessageBox pour la lecture et les opérations d’écriture.</span><span class="sxs-lookup"><span data-stu-id="c067a-130">Optimize the MessageBox database for read and write operations.</span></span>|[<span data-ttu-id="c067a-131">Comment identifier les goulots d’étranglement dans la MessageBox Database1</span><span class="sxs-lookup"><span data-stu-id="c067a-131">How to Identify Bottlenecks in the MessageBox Database1</span></span>](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md)|  
|<span data-ttu-id="c067a-132">Si une instance d’hôte BizTalk est saturer l’UC, envisagez de les répartir l’envoi, réception, traitement et le suivi des fonctionnalités dans plusieurs hôtes.</span><span class="sxs-lookup"><span data-stu-id="c067a-132">If a BizTalk host instance is saturating the CPU, consider separating sending, receiving, processing, and tracking functionality into multiple hosts.</span></span> <span data-ttu-id="c067a-133">Cela configure le système afin que la fonctionnalité d’orchestration s’exécute sur un serveur dédié distinct afin d’améliorer le débit global du système.</span><span class="sxs-lookup"><span data-stu-id="c067a-133">This configures the system so that the orchestration functionality runs on a separate dedicated server to improve overall system throughput.</span></span>|[<span data-ttu-id="c067a-134">Optimisation des performances de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="c067a-134">Optimizing BizTalk Server Performance</span></span>](../technical-guides/optimizing-biztalk-server-performance.md)|  
|<span data-ttu-id="c067a-135">Si plusieurs orchestrations sont déployées, envisagez de leur inscription dans les hôtes d’orchestration dédié différent.</span><span class="sxs-lookup"><span data-stu-id="c067a-135">If multiple orchestrations are deployed, consider enlisting them in different dedicated orchestration hosts.</span></span> <span data-ttu-id="c067a-136">Cela isole les différentes orchestrations et empêche la contention des ressources partagées dans le même espace d’adressage physique ou sur le même serveur.</span><span class="sxs-lookup"><span data-stu-id="c067a-136">This isolates the different orchestrations and prevents contention for shared resources either in the same physical address space or on the same server.</span></span>|[<span data-ttu-id="c067a-137">Optimisation des performances de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="c067a-137">Optimizing BizTalk Server Performance</span></span>](../technical-guides/optimizing-biztalk-server-performance.md)|  
|<span data-ttu-id="c067a-138">Envisagez d’utiliser d’analyseur de performances Windows pour diagnostiquer les problèmes de contention de disque...</span><span class="sxs-lookup"><span data-stu-id="c067a-138">Consider using Windows Performance Monitor to diagnose disk contention issues..</span></span>|[<span data-ttu-id="c067a-139">Analyseur de performances Windows</span><span class="sxs-lookup"><span data-stu-id="c067a-139">Windows Performance Monitor</span></span>](http://go.microsoft.com/fwlink/?LinkID=204007)|  
  
 <span data-ttu-id="c067a-140">Pour plus d’informations sur l’analyse des performances de disque, consultez les ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="c067a-140">For more information about disk performance analysis, see the following resources:</span></span>  
  
-   <span data-ttu-id="c067a-141">[Sans les problèmes liés aux disques](http://go.microsoft.com/fwlink/?LinkId=120947) (lien hypertexte «http://go.microsoft.com/fwlink/?LinkId=120947"\t « _blank »http://go.microsoft.com/fwlink/?LinkId=120947).</span><span class="sxs-lookup"><span data-stu-id="c067a-141">[Ruling Out Disk-Bound Problems](http://go.microsoft.com/fwlink/?LinkId=120947) (HYPERLINK "http://go.microsoft.com/fwlink/?LinkId=120947" \t "_blank"http://go.microsoft.com/fwlink/?LinkId=120947).</span></span>  
  
-   <span data-ttu-id="c067a-142">[SQL Server avant d’e/s meilleures pratiques](http://go.microsoft.com/fwlink/?LinkId=120948) (http://go.microsoft.com/fwlink/?LinkId=120948).</span><span class="sxs-lookup"><span data-stu-id="c067a-142">[SQL Server Predeployment I/O Best Practices](http://go.microsoft.com/fwlink/?LinkId=120948) (http://go.microsoft.com/fwlink/?LinkId=120948).</span></span>  
  
-   <span data-ttu-id="c067a-143">Section « Les goulots d’étranglement d’e/s » de [résolution des problèmes de performances dans SQL Server 2008](http://go.microsoft.com/fwlink/?LinkID=153586) (http://go.microsoft.com/fwlink/?LinkID=153586).</span><span class="sxs-lookup"><span data-stu-id="c067a-143">“I/O Bottlenecks” section of [Troubleshooting Performance Problems in SQL Server 2008](http://go.microsoft.com/fwlink/?LinkID=153586) (http://go.microsoft.com/fwlink/?LinkID=153586).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c067a-144">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c067a-144">See Also</span></span>  
 [<span data-ttu-id="c067a-145">Goulots d’étranglement dans le niveau base de données</span><span class="sxs-lookup"><span data-stu-id="c067a-145">Bottlenecks in the Database Tier</span></span>](../technical-guides/bottlenecks-in-the-database-tier.md)