---
title: "Les goulots d’étranglement au niveau de BizTalk Server | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 3ad36897-4e4a-43b9-9cb7-0bf22bd954fb
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cd2eddf6cc88737375998237db97ca699a676170
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="bottlenecks-in-the-biztalk-server-tier"></a><span data-ttu-id="c7954-102">Goulots d’étranglement au niveau de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="c7954-102">Bottlenecks in the BizTalk Server Tier</span></span>
<span data-ttu-id="c7954-103">Le niveau BizTalk peut être divisé en plusieurs zones fonctionnelles :</span><span class="sxs-lookup"><span data-stu-id="c7954-103">The BizTalk tier can be divided into the following functional areas:</span></span>  
  
-   <span data-ttu-id="c7954-104">Réception</span><span class="sxs-lookup"><span data-stu-id="c7954-104">Receiving</span></span>  
  
-   <span data-ttu-id="c7954-105">Traitement</span><span class="sxs-lookup"><span data-stu-id="c7954-105">Processing</span></span>  
  
-   <span data-ttu-id="c7954-106">Transmission</span><span class="sxs-lookup"><span data-stu-id="c7954-106">Transmitting</span></span>  
  
-   <span data-ttu-id="c7954-107">Suivi</span><span class="sxs-lookup"><span data-stu-id="c7954-107">Tracking</span></span>  
  
-   <span data-ttu-id="c7954-108">Autres</span><span class="sxs-lookup"><span data-stu-id="c7954-108">Other</span></span>  
  
 <span data-ttu-id="c7954-109">Pour ces zones, si les ressources système (processeur, mémoire et disque) semblent saturées, mettre à niveau le serveur en passant à la plateforme ou déconnecter en fonction des caractéristiques de votre application.</span><span class="sxs-lookup"><span data-stu-id="c7954-109">For these areas, if the system resources (CPU, memory, and disk) appear to be saturated, upgrade the server by scaling the platform up or out based on the characteristics of your application.</span></span> <span data-ttu-id="c7954-110">Si les ressources système ne sont pas saturées, suivez les procédures décrites dans cette section.</span><span class="sxs-lookup"><span data-stu-id="c7954-110">If the system resources are not saturated, perform the steps described in this section.</span></span>  
  
## <a name="bottlenecks-in-the-receive-location"></a><span data-ttu-id="c7954-111">Goulots d’étranglement dans l’emplacement de réception</span><span class="sxs-lookup"><span data-stu-id="c7954-111">Bottlenecks in the receive location</span></span>  
 <span data-ttu-id="c7954-112">Si les messages s’accumuler au niveau de l’emplacement de réception (par exemple, dossier de réception de fichier devient volumineuse), cela indique que le système ne parvient à absorber les données assez rapidement pour respecter la charge entrante.</span><span class="sxs-lookup"><span data-stu-id="c7954-112">If messages build up at the receive location (for example, file receive folder grows large), this indicates that the system is unable to absorb data fast enough to keep up with the incoming load.</span></span> <span data-ttu-id="c7954-113">Cela est dû à une limitation interne.</span><span class="sxs-lookup"><span data-stu-id="c7954-113">This is due to internal throttling.</span></span> <span data-ttu-id="c7954-114">Autrement dit, BizTalk Server permet de réduire la vitesse de réception si les abonnés ne peuvent pas traiter les données rapidement suffisamment accumulation de file d’attente à l’origine dans les tables de base de données.</span><span class="sxs-lookup"><span data-stu-id="c7954-114">That is, BizTalk Server reduces the receiving rate if the subscribers are unable to process data fast enough causing backlog buildup in the database tables.</span></span> <span data-ttu-id="c7954-115">Si le goulot d’étranglement est provoqué par des limites matérielles, essayez l’évolution verticale.</span><span class="sxs-lookup"><span data-stu-id="c7954-115">If the bottleneck is caused by hardware limitations, try scaling up.</span></span> <span data-ttu-id="c7954-116">Pour plus d’informations sur l’évolution verticale, consultez les rubriques suivantes dans la documentation de BizTalk Server 2010 :</span><span class="sxs-lookup"><span data-stu-id="c7954-116">For more information about scaling up, see the following topics in the BizTalk Server 2010 documentation:</span></span>  
  
-   <span data-ttu-id="c7954-117">[Mise à l’échelle verticale du niveau de BizTalk Server](http://go.microsoft.com/fwlink/?LinkId=158073) (http://go.microsoft.com/fwlink/?LinkId=158073).</span><span class="sxs-lookup"><span data-stu-id="c7954-117">[Scaling Up the BizTalk Server Tier](http://go.microsoft.com/fwlink/?LinkId=158073) (http://go.microsoft.com/fwlink/?LinkId=158073).</span></span>  
  
-   <span data-ttu-id="c7954-118">[L’évolution verticale du niveau SQL Server](http://go.microsoft.com/fwlink/?LinkId=158077) (http://go.microsoft.com/fwlink/?LinkId=158077).</span><span class="sxs-lookup"><span data-stu-id="c7954-118">[Scaling Up the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkId=158077) (http://go.microsoft.com/fwlink/?LinkId=158077).</span></span>  
  
 <span data-ttu-id="c7954-119">Il est également possible de faire évoluer en ajoutant une instance d’hôte (serveur) pour l’hôte mappé sur le Gestionnaire de réception.</span><span class="sxs-lookup"><span data-stu-id="c7954-119">It is also possible to scale out by adding a host instance (server) to the host mapped to the receive handler.</span></span> <span data-ttu-id="c7954-120">Pour plus d’informations sur la montée en puissance parallèle, consultez les rubriques suivantes dans la documentation de BizTalk Server 2010 :</span><span class="sxs-lookup"><span data-stu-id="c7954-120">For more information about scaling out, see the following topics in the BizTalk Server 2010 documentation:</span></span>  
  
-   <span data-ttu-id="c7954-121">[Évolution horizontale du niveau de BizTalk Server](http://go.microsoft.com/fwlink/?LinkId=158076) (http://go.microsoft.com/fwlink/?LinkId=158076).</span><span class="sxs-lookup"><span data-stu-id="c7954-121">[Scaling Out the BizTalk Server Tier](http://go.microsoft.com/fwlink/?LinkId=158076) (http://go.microsoft.com/fwlink/?LinkId=158076).</span></span>  
  
-   <span data-ttu-id="c7954-122">[Montée en puissance parallèle du niveau SQL Server](http://go.microsoft.com/fwlink/?LinkId=158075) (http://go.microsoft.com/fwlink/?LinkId=158075).</span><span class="sxs-lookup"><span data-stu-id="c7954-122">[Scaling Out the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkId=158075) (http://go.microsoft.com/fwlink/?LinkId=158075).</span></span>  
  
 <span data-ttu-id="c7954-123">Utilisez Perfmon pour surveiller l’utilisation des ressources sur le système.</span><span class="sxs-lookup"><span data-stu-id="c7954-123">Use Perfmon to monitor the resource use on the system.</span></span> <span data-ttu-id="c7954-124">Il est important de confirmer que l'emplacement de réception externe n'est pas à l'origine du goulot d'étranglement.</span><span class="sxs-lookup"><span data-stu-id="c7954-124">It is important to confirm that the external receive location is not the cause of the bottleneck.</span></span> <span data-ttu-id="c7954-125">Par exemple, vérifiez si le partage de fichiers distant est saturé en raison d’e/s disque élevée, le serveur qui héberge la file d’attente sortante distante n’est pas saturé ou le client utilisé pour générer une charge HTTP n’est pas privé sur des threads.</span><span class="sxs-lookup"><span data-stu-id="c7954-125">For example, confirm whether the remote file share is saturated due to high disk I/O, the server hosting the remote outgoing queue is not saturated, or the client used to generate HTTP load is not starved on threads.</span></span>  
  
## <a name="processing-bottlenecks"></a><span data-ttu-id="c7954-126">Des goulots d’étranglement</span><span class="sxs-lookup"><span data-stu-id="c7954-126">Processing bottlenecks</span></span>  
 <span data-ttu-id="c7954-127">Si la file d’attente hôte-compteur de performances augmente, il signifie que les orchestrations ne s’effectuent pas assez rapidement.</span><span class="sxs-lookup"><span data-stu-id="c7954-127">If the Host Queue – Length performance counter is climbing, it indicates that the orchestrations are not completing fast enough.</span></span> <span data-ttu-id="c7954-128">Pour plus d’informations, consultez la table des compteurs Perfmon dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="c7954-128">For more information, see the Perfmon counter table in this topic.</span></span> <span data-ttu-id="c7954-129">Ce problème peut être dû à un conflit de mémoire ou à une saturation de l'UC.</span><span class="sxs-lookup"><span data-stu-id="c7954-129">This could be due to memory contention or CPU saturation.</span></span>  
  
 <span data-ttu-id="c7954-130">Si les serveurs d'orchestration constituent le goulot d'étranglement, utilisez l'utilitaire Perfmon pour en identifier la source.</span><span class="sxs-lookup"><span data-stu-id="c7954-130">If the orchestration servers are the bottleneck, use Perfmon to identify the source.</span></span>  
  
 <span data-ttu-id="c7954-131">Si le serveur est lié à l'UC, prenez en compte les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="c7954-131">If the server is CPU bound, consider the following:</span></span>  
  
-   <span data-ttu-id="c7954-132">Si le flux de travail est complexe, envisagez de fractionner l’orchestration en plusieurs orchestrations plus petites.</span><span class="sxs-lookup"><span data-stu-id="c7954-132">If the workflow is complex, consider splitting the orchestration into multiple smaller orchestrations</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="c7954-133">Le fractionnement d'une orchestration en plusieurs workflows peut engendrer une latence supplémentaire et une plus grande complexité.</span><span class="sxs-lookup"><span data-stu-id="c7954-133">Splitting an orchestration into multiple workflows can cause additional latency and add complexity.</span></span> <span data-ttu-id="c7954-134">Plusieurs flux de travail peut également entraîner une augmentation du nombre de messages publiés dans et utilisées à partir de la BizTalkMsgBoxDb, placer la pression supplémentaire sur la base de données.</span><span class="sxs-lookup"><span data-stu-id="c7954-134">Multiple workflows can also cause an increase in the number of messages published to and consumed from the BizTalkMsgBoxDb, putting additional pressure on the database.</span></span>  
  
-   <span data-ttu-id="c7954-135">Si vous utilisez des mappages complexes, considérez si elles peuvent être déplacés vers les ports de réception/envoi.</span><span class="sxs-lookup"><span data-stu-id="c7954-135">If you use complex maps, consider whether they can be moved to the Receive/Send ports.</span></span> <span data-ttu-id="c7954-136">Veillez à vérifier les ports qui ont une bande passante supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="c7954-136">Be sure to verify which ports have additional bandwidth.</span></span>  
  
-   <span data-ttu-id="c7954-137">Envisagez une évolution verticale du matériel ou la montée en puissance parallèle en configurant un serveur de traitement supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="c7954-137">Consider scaling up the hardware or scaling out by configuring an additional processing server.</span></span>  
  
## <a name="transmitting-bottlenecks"></a><span data-ttu-id="c7954-138">Les goulots d’étranglement de transmission</span><span class="sxs-lookup"><span data-stu-id="c7954-138">Transmitting bottlenecks</span></span>  
 <span data-ttu-id="c7954-139">Si le serveur qui héberge les adaptateurs d’envoi est saturé sur les ressources (par exemple, disque, mémoire ou processeur), envisagez une évolution verticale le serveur ou une évolution horizontale avec supplémentaires envoyer des serveurs hôtes.</span><span class="sxs-lookup"><span data-stu-id="c7954-139">If the server hosting the send adapters is saturated on resources (for example, disk, memory, or CPU), consider scaling-up the server or scaling-out to additional send host servers.</span></span> <span data-ttu-id="c7954-140">Le niveau d'envoi peut devenir le goulot d'étranglement si la destination (externe à BizTalk) ne parvient pas à recevoir les données assez rapidement.</span><span class="sxs-lookup"><span data-stu-id="c7954-140">The sending tier could become the bottleneck if the destination (external to BizTalk) is unable to receive data fast enough.</span></span> <span data-ttu-id="c7954-141">Les messages s'accumulent alors dans la base de données MessageBox (application SendHostQ).</span><span class="sxs-lookup"><span data-stu-id="c7954-141">This will cause messages to buildup in the MessageBox database (Application SendHostQ).</span></span>  
  
 <span data-ttu-id="c7954-142">Si les points de terminaison sont dans l’étendue de la topologie, isoler la cause à la destination.</span><span class="sxs-lookup"><span data-stu-id="c7954-142">If all the endpoints are within the scope of the topology, isolate the cause at the destination.</span></span> <span data-ttu-id="c7954-143">Par exemple, déterminez si l’emplacement HTTP est configuré correctement pour recevoir la charge.</span><span class="sxs-lookup"><span data-stu-id="c7954-143">For example, determine if the HTTP location is optimally configured to receive load.</span></span> <span data-ttu-id="c7954-144">Si ce n’est pas le cas, envisagez la montée en puissance parallèle. Pour déterminer si la destination est-elle en raison d’une sortie excessive les messages envoyés par BizTalk.</span><span class="sxs-lookup"><span data-stu-id="c7954-144">If not, consider scaling out. Also determine if the destination is growing due to excessive output messages delivered by BizTalk.</span></span> <span data-ttu-id="c7954-145">Si Oui, vous devrez peut-être un plan de maintenance pour archiver et purger les messages de destination.</span><span class="sxs-lookup"><span data-stu-id="c7954-145">If yes, you might need a maintenance plan to archive and purge the destination messages.</span></span> <span data-ttu-id="c7954-146">Grand nombre de fichiers dans un dossier de destination peut entraver sérieusement la capacité du service BizTalk pour valider des données sur le lecteur de disque.</span><span class="sxs-lookup"><span data-stu-id="c7954-146">Large numbers of files in a destination folder can severely impact the ability of the BizTalk service to commit data to the disk drive.</span></span>  
  
## <a name="tracking-bottlenecks"></a><span data-ttu-id="c7954-147">Suivi des goulots d’étranglement</span><span class="sxs-lookup"><span data-stu-id="c7954-147">Tracking bottlenecks</span></span>  
 <span data-ttu-id="c7954-148">L’instance d’hôte de suivi est chargée de déplacer les données d’analyse BAM (Business Activity) et d’intégrité et d’activité de suivi du fonctionnement (HAT) à partir de la base de données MessageBox (table TrackingData) vers les tables de base de données des suivis BizTalk et/ou d’importation principale BAM.</span><span class="sxs-lookup"><span data-stu-id="c7954-148">The Tracking host instance is responsible for moving the Business Activity Monitoring (BAM) and Health and Activity Tracking (HAT) data from the MessageBox database (TrackingData table) to the BizTalk Tracking and/or BAM Primary Import database tables.</span></span> <span data-ttu-id="c7954-149">Si plusieurs bases de données MessageBox sont configurés, le suivi des instance de l’hôte utilise quatre threads par base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="c7954-149">If multiple MessageBox databases are configured, the tracking host instance uses four threads per MessageBox database.</span></span>  
  
 <span data-ttu-id="c7954-150">Il est possible que l’instance d’hôte de suivi est lié à l’UC.</span><span class="sxs-lookup"><span data-stu-id="c7954-150">It is possible that the Tracking host instance is CPU bound.</span></span> <span data-ttu-id="c7954-151">S’il est, envisagez une évolution verticale du serveur ou de la montée en puissance en configurant un serveur supplémentaire avec hôte de suivi des modifications activé.</span><span class="sxs-lookup"><span data-stu-id="c7954-151">If it is, consider scaling-up the server or scale-out by configuring an additional server with Host Tracking enabled.</span></span> <span data-ttu-id="c7954-152">Plusieurs instances d’hôte automatiquement équilibre la charge de plusieurs bases de données MessageBox configurée.</span><span class="sxs-lookup"><span data-stu-id="c7954-152">The multiple host instances will automatically load balance for the multiple MessageBox databases configured.</span></span> <span data-ttu-id="c7954-153">Pour plus d’informations sur la mise à l’échelle, consultez la rubrique [mise à l’échelle de vos Solutions](http://go.microsoft.com/fwlink/?LinkId=158078) (http://go.microsoft.com/fwlink/?LinkId=158078).</span><span class="sxs-lookup"><span data-stu-id="c7954-153">For more information about scaling, see the topic [Scaling Your Solutions](http://go.microsoft.com/fwlink/?LinkId=158078) (http://go.microsoft.com/fwlink/?LinkId=158078).</span></span>  
  
 <span data-ttu-id="c7954-154">Si la table TrackingData de la base de données MessageBox devient important, il est généralement parce que les travaux de maintenance des données sur la base de données des suivis BizTalk et/ou d’importation principale BAM ne sont exécutent pas tel que configuré, à l’origine de la croissance des suivis BizTalk et/ou de principale BAM Importer des bases de données.</span><span class="sxs-lookup"><span data-stu-id="c7954-154">If the TrackingData table in the MessageBox database grows large, it is usually because the data maintenance jobs on the BizTalk Tracking and/or BAM Primary Import database are not running as configured, causing growth of the BizTalk Tracking and/or BAM Primary Import databases.</span></span> <span data-ttu-id="c7954-155">Une fois ces bases de données devenir trop volumineux, il peut avoir un impact négatif sur la capacité de l’hôte de suivi à insérer des données dans la table TrackingData.</span><span class="sxs-lookup"><span data-stu-id="c7954-155">After these databases grow too large it can have a negative impact on the ability of the Tracking host to insert data into the TrackingData table.</span></span> <span data-ttu-id="c7954-156">En effet, les données suivies à sauvegarder dans les tables de base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="c7954-156">This causes tracked data to back up in the MessageBox database tables.</span></span> <span data-ttu-id="c7954-157">La croissance de la table TrackingData activer la limitation de démarrer.</span><span class="sxs-lookup"><span data-stu-id="c7954-157">The growth of the TrackingData table cause throttling to start.</span></span>  
  
 <span data-ttu-id="c7954-158">Vous ne devez activer le suivi minimal requis pour votre application, comme cela réduire la quantité de données consignées et réduire le risque de suivi des goulots d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="c7954-158">You should only enable the minimum tracking required for your application, as this will reduce the amount of data logged and lower the risk of tracking bottlenecks.</span></span> <span data-ttu-id="c7954-159">Pour plus d’informations sur la désactivation des paramètres de suivi des éléments individuels, tels que les ports d’envoi/réception et les orchestrations, consultez [comment désactiver le suivi des](http://go.microsoft.com/fwlink/?LinkId=160064) (http://go.microsoft.com/fwlink/?LinkId=160064).</span><span class="sxs-lookup"><span data-stu-id="c7954-159">For information about disabling tracking settings for individual items such as orchestrations and send/receive ports, see [How to Disable Tracking](http://go.microsoft.com/fwlink/?LinkId=160064) (http://go.microsoft.com/fwlink/?LinkId=160064).</span></span>  
  
## <a name="other"></a><span data-ttu-id="c7954-160">Autres</span><span class="sxs-lookup"><span data-stu-id="c7954-160">Other</span></span>  
 <span data-ttu-id="c7954-161">Configurez la topologie de déploiement de telle façon que les différentes fonctionnalités s'exécutent sur des instances d'hôte dédiées isolées.</span><span class="sxs-lookup"><span data-stu-id="c7954-161">Configure the deployment topology such that different functionality runs in dedicated isolated host instances.</span></span> <span data-ttu-id="c7954-162">Ainsi, chaque instance de l’hôte obtient son propre ensemble de ressources (par exemple, sur un système 32 bits, espace d’adressage de 2 Go de mémoire virtuelle, handles, threads).</span><span class="sxs-lookup"><span data-stu-id="c7954-162">This way each host instance gets its own set of resources (for example, on a 32-bit system, 2GB virtual memory address space, handles, threads).</span></span> <span data-ttu-id="c7954-163">Si le serveur est a suffisamment de marge d’UC et de mémoire pour héberger plusieurs instances d’hôte, ils peuvent être configurés pour s’exécuter sur le même ordinateur physique.</span><span class="sxs-lookup"><span data-stu-id="c7954-163">If the server is has sufficient CPU headroom and memory to host multiple host instances, they can be configured to run on the same physical computer.</span></span> <span data-ttu-id="c7954-164">Si ce n’est pas le cas, envisagez la montée en puissance parallèle en déplaçant la fonctionnalité vers des serveurs dédiés.</span><span class="sxs-lookup"><span data-stu-id="c7954-164">If not, consider scaling out by moving the functionality to dedicated servers.</span></span> <span data-ttu-id="c7954-165">Le fait d'exécuter une même fonctionnalité sur plusieurs serveurs permet également de disposer d'une configuration hautement disponible.</span><span class="sxs-lookup"><span data-stu-id="c7954-165">Running the same functionality on multiple servers also serves to provide a highly available configuration.</span></span>  
  
## <a name="biztalk-system-performance-counters"></a><span data-ttu-id="c7954-166">Compteurs de performance du système BizTalk</span><span class="sxs-lookup"><span data-stu-id="c7954-166">BizTalk system performance counters</span></span>  
  
|<span data-ttu-id="c7954-167">Objet</span><span class="sxs-lookup"><span data-stu-id="c7954-167">Object</span></span>|<span data-ttu-id="c7954-168">Instance</span><span class="sxs-lookup"><span data-stu-id="c7954-168">Instance</span></span>|<span data-ttu-id="c7954-169">Compteur</span><span class="sxs-lookup"><span data-stu-id="c7954-169">Counter</span></span>|<span data-ttu-id="c7954-170">Objet de la surveillance</span><span class="sxs-lookup"><span data-stu-id="c7954-170">Monitoring Purpose</span></span>|  
|------------|--------------|-------------|------------------------|  
|<span data-ttu-id="c7954-171">Processeur</span><span class="sxs-lookup"><span data-stu-id="c7954-171">Processor</span></span>|<span data-ttu-id="c7954-172">_Total</span><span class="sxs-lookup"><span data-stu-id="c7954-172">_Total</span></span>|<span data-ttu-id="c7954-173">% temps processeur</span><span class="sxs-lookup"><span data-stu-id="c7954-173">% Processor Time</span></span>|<span data-ttu-id="c7954-174">Conflit de ressources</span><span class="sxs-lookup"><span data-stu-id="c7954-174">Resource Contention</span></span>|  
|<span data-ttu-id="c7954-175">Traiter</span><span class="sxs-lookup"><span data-stu-id="c7954-175">Process</span></span>|<span data-ttu-id="c7954-176">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="c7954-176">BTSNTSvc</span></span>|<span data-ttu-id="c7954-177">Octets virtuels</span><span class="sxs-lookup"><span data-stu-id="c7954-177">Virtual Bytes</span></span>|<span data-ttu-id="c7954-178">Fuite/encombrement de mémoire</span><span class="sxs-lookup"><span data-stu-id="c7954-178">Memory Leak/Bloat</span></span>|  
|<span data-ttu-id="c7954-179">Traiter</span><span class="sxs-lookup"><span data-stu-id="c7954-179">Process</span></span>|<span data-ttu-id="c7954-180">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="c7954-180">BTSNTSvc</span></span>|<span data-ttu-id="c7954-181">Octets privés</span><span class="sxs-lookup"><span data-stu-id="c7954-181">Private Bytes</span></span>|<span data-ttu-id="c7954-182">Fuite/encombrement de mémoire</span><span class="sxs-lookup"><span data-stu-id="c7954-182">Memory Leak/Bloat</span></span>|  
|<span data-ttu-id="c7954-183">Traiter</span><span class="sxs-lookup"><span data-stu-id="c7954-183">Process</span></span>|<span data-ttu-id="c7954-184">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="c7954-184">BTSNTSvc</span></span>|<span data-ttu-id="c7954-185">Nombre de handles</span><span class="sxs-lookup"><span data-stu-id="c7954-185">Handle Count</span></span>|<span data-ttu-id="c7954-186">Conflit de ressources</span><span class="sxs-lookup"><span data-stu-id="c7954-186">Resource Contention</span></span>|  
|<span data-ttu-id="c7954-187">Traiter</span><span class="sxs-lookup"><span data-stu-id="c7954-187">Process</span></span>|<span data-ttu-id="c7954-188">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="c7954-188">BTSNTSvc</span></span>|<span data-ttu-id="c7954-189">Nombre de threads</span><span class="sxs-lookup"><span data-stu-id="c7954-189">Thread Count</span></span>|<span data-ttu-id="c7954-190">Conflit de ressources</span><span class="sxs-lookup"><span data-stu-id="c7954-190">Resource Contention</span></span>|  
|<span data-ttu-id="c7954-191">Disque physique</span><span class="sxs-lookup"><span data-stu-id="c7954-191">Physical Disk</span></span>|<span data-ttu-id="c7954-192">_Instance</span><span class="sxs-lookup"><span data-stu-id="c7954-192">_Instance</span></span>|<span data-ttu-id="c7954-193">% inactivité</span><span class="sxs-lookup"><span data-stu-id="c7954-193">% Idle Time</span></span>|<span data-ttu-id="c7954-194">Conflit de ressources</span><span class="sxs-lookup"><span data-stu-id="c7954-194">Resource Contention</span></span>|  
|<span data-ttu-id="c7954-195">Disque physique</span><span class="sxs-lookup"><span data-stu-id="c7954-195">Physical Disk</span></span>|<span data-ttu-id="c7954-196">_Instance</span><span class="sxs-lookup"><span data-stu-id="c7954-196">_Instance</span></span>|<span data-ttu-id="c7954-197">Longueur moyenne de la file d'attente du disque</span><span class="sxs-lookup"><span data-stu-id="c7954-197">Average Disk Queue Length</span></span>|<span data-ttu-id="c7954-198">Conflit de ressources</span><span class="sxs-lookup"><span data-stu-id="c7954-198">Resource Contention</span></span>|  
  
### <a name="cpu-contention"></a><span data-ttu-id="c7954-199">Contention du processeur</span><span class="sxs-lookup"><span data-stu-id="c7954-199">CPU contention</span></span>  
 <span data-ttu-id="c7954-200">Si le processeur est saturé, vous pouvez fragmenter l’application en séparant la réception à partir de l’envoi et l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="c7954-200">If the processor is saturated, you can fragment the application by separating the receiving from the sending and orchestration.</span></span> <span data-ttu-id="c7954-201">Pour ce faire, créez des hôtes distincts, mapper les ordinateurs hôtes à des fonctionnalités spécifiques (réception/envoi/orchestrations/suivi) et ajouter des serveurs dédiés à ces hôtes distincts.</span><span class="sxs-lookup"><span data-stu-id="c7954-201">To do this, create separate hosts, map the hosts to specific functionality (receive/send/orchestrations/tracking) and add dedicated servers to these separate hosts.</span></span> <span data-ttu-id="c7954-202">Fonctionnalité d’orchestration est souvent gourmande en ressources processeur.</span><span class="sxs-lookup"><span data-stu-id="c7954-202">Orchestration functionality is often CPU-intensive.</span></span> <span data-ttu-id="c7954-203">Si vous configurez le système pour les orchestrations s’exécutent sur un serveur dédié distinct, cela peut permettre d’améliorer le débit global du système.</span><span class="sxs-lookup"><span data-stu-id="c7954-203">If you configure the system so the orchestrations execute on a separate dedicated server, this can help improve overall system throughput.</span></span>  
  
 <span data-ttu-id="c7954-204">Si plusieurs orchestrations sont déployées, vous pouvez les inscrire à des hôtes d’orchestration dédié différent.</span><span class="sxs-lookup"><span data-stu-id="c7954-204">If multiple orchestrations are deployed, you can enlist them to different dedicated orchestration hosts.</span></span> <span data-ttu-id="c7954-205">Mappage des serveurs physiques pour les ordinateurs hôtes d’orchestration dédiés permet de s’assurer que les différentes orchestrations sont isolées et ne se disputent pas les ressources partagées dans le même espace d’adressage physique ou sur le même serveur.</span><span class="sxs-lookup"><span data-stu-id="c7954-205">Mapping different physical servers to the dedicated orchestration hosts ensures that the different orchestrations are isolated and do not contend for shared resources either in the same physical address space or on the same server.</span></span>  
  
 <span data-ttu-id="c7954-206">Arrêtez les instances d’hôte non utilisés.</span><span class="sxs-lookup"><span data-stu-id="c7954-206">Stop unused host instances.</span></span> <span data-ttu-id="c7954-207">Les instances d’hôte inutilisées peuvent sont en concurrence pour les ressources processeur et mémoire en vérifiant régulièrement de la MessageBox pour les messages à traiter.</span><span class="sxs-lookup"><span data-stu-id="c7954-207">Unused host instances can compete for CPU and memory resources by regularly checking the MessageBox for messages to process.</span></span> <span data-ttu-id="c7954-208">En outre, stop inutilisé emplacements de réception, ports d’envoi et orchestrations.</span><span class="sxs-lookup"><span data-stu-id="c7954-208">Additionally, stop unused receive locations, send ports, and orchestrations.</span></span>  
  
### <a name="spool-table-growth"></a><span data-ttu-id="c7954-209">Augmentation du spouleur</span><span class="sxs-lookup"><span data-stu-id="c7954-209">Spool table growth</span></span>  
 <span data-ttu-id="c7954-210">Les goulots d’étranglement en aval et/ou de conflit de ressources peut entraîner la file d’attente démarrer la croissance excessive et réduire les performances globales.</span><span class="sxs-lookup"><span data-stu-id="c7954-210">Downstream bottlenecks and/or resource contention can cause the spool to start growing excessively and reduce overall performance.</span></span> <span data-ttu-id="c7954-211">Pour plus d’informations, consultez « Augmentation du spouleur » dans [comment identifier les goulots d’étranglement dans la MessageBox Database1](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md).</span><span class="sxs-lookup"><span data-stu-id="c7954-211">For more information, see “Spool Table Growth” in [How to Identify Bottlenecks in the MessageBox Database1](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md).</span></span>  
  
### <a name="memory-starvation"></a><span data-ttu-id="c7954-212">Insuffisance de mémoire</span><span class="sxs-lookup"><span data-stu-id="c7954-212">Memory starvation</span></span>  
 <span data-ttu-id="c7954-213">Des scénarios de débits élevés ont pu augmenter la demande au niveau de la mémoire du système.</span><span class="sxs-lookup"><span data-stu-id="c7954-213">High throughput scenarios can have increased demand on system memory.</span></span> <span data-ttu-id="c7954-214">Dans la mesure où un processus 32 bits est limité par la quantité de mémoire peuvent consommer, il est recommandé de séparer les fonctionnalités de réception/traitement/envoi en instances d’hôte distinctes, telles que chaque hôte reçoit son propre espace d’adressage de 2 Go.</span><span class="sxs-lookup"><span data-stu-id="c7954-214">Since a 32-bit process is limited by the amount of memory it can consume, it is recommended to separate the receive/process/send functionality into separate host instances such that each host receives its own 2GB address space.</span></span> <span data-ttu-id="c7954-215">En outre, si plusieurs instances d’hôte sont en cours d’exécution sur le même serveur physique, vous pouvez mettre à niveau à 4 ou 8 Go de mémoire pour éviter le remplacement des données sur le disque à partir de la mémoire réelle.</span><span class="sxs-lookup"><span data-stu-id="c7954-215">In addition, if multiple host instances are running on the same physical server, you can upgrade to 4/8GB memory to avoid swapping data to disk from real memory.</span></span> <span data-ttu-id="c7954-216">Peuvent contenir des orchestrations à long terme sur plus de mémoire allouée.</span><span class="sxs-lookup"><span data-stu-id="c7954-216">Long running orchestrations can hold onto allocated memory longer.</span></span> <span data-ttu-id="c7954-217">Cela peut entraîner d’encombrement de mémoire et de limitation pour démarrer.</span><span class="sxs-lookup"><span data-stu-id="c7954-217">This can cause memory bloat and throttling to start.</span></span> <span data-ttu-id="c7954-218">Les messages volumineux peuvent également entraîner la consommation de mémoire élevée.</span><span class="sxs-lookup"><span data-stu-id="c7954-218">Large messages can also cause high memory consumption.</span></span>  
  
 <span data-ttu-id="c7954-219">Vous pouvez résoudre le problème d’encombrement de mémoire qui se produit lors du traitement des messages volumineux en diminuant la **taille de file d’attente de messages interne** et **Messages In-process par UC** valeurs de l’hôte spécifique.</span><span class="sxs-lookup"><span data-stu-id="c7954-219">You can ease the memory bloat problem that occurs when large messages are processed by lowering the **Internal Message Queue Size** and **In-process Messages per CPU** values for the specific host.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c7954-220">Si la latence est un critère important, devient **taille de file d’attente de messages interne** et **Messages In-process par UC** doivent être effectuées avec précaution, car cela peut augmenter la latence de bout en bout du système.</span><span class="sxs-lookup"><span data-stu-id="c7954-220">If latency is a concern, changes to **Internal Message Queue Size** and **In-process Messages per CPU** should be made with caution as this may increase end-to-end latency of the system.</span></span>  
  
### <a name="disk-contention"></a><span data-ttu-id="c7954-221">Contention de disque</span><span class="sxs-lookup"><span data-stu-id="c7954-221">Disk contention</span></span>  
 <span data-ttu-id="c7954-222">Si les disques sont saturés (par exemple, avec un grand nombre de transports FILE/MSMQ), vous pouvez mettre à niveau vers plusieurs piles et les disques avec RAID 10.</span><span class="sxs-lookup"><span data-stu-id="c7954-222">If the disks are saturated (for example, with a large number of FILE/MSMQ transports), consider upgrading to multiple spindles and striping the disks with RAID 10.</span></span> <span data-ttu-id="c7954-223">En outre, chaque fois que vous utilisez le transport de fichier, il est important pour vous assurer que la réception et d’envoyer des dossiers n’augmentent pas plus de 50 000 fichiers.</span><span class="sxs-lookup"><span data-stu-id="c7954-223">In addition, whenever using the FILE transport, it is important to ensure that the receive and send folders do not grow larger than 50,000 files.</span></span>  
  
 <span data-ttu-id="c7954-224">Le dossier de réception peut augmenter si BizTalk Server limite les données entrantes dans le système.</span><span class="sxs-lookup"><span data-stu-id="c7954-224">The receive folder can grow large if BizTalk Server throttles incoming data into the system.</span></span> <span data-ttu-id="c7954-225">Il est important de déplacer des données à partir du dossier d’envoi afin que l’augmentation de ce dossier n’affecte pas la capacité de BizTalk Server à écrire des données supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="c7954-225">It is important to move data from the send folder so that growth in this folder does not impact the ability of BizTalk Server to write additional data.</span></span> <span data-ttu-id="c7954-226">Pour les files d’attente non transactionnelle de MSMQ, il est recommandé de création à distance les files d’attente de réception afin que la contention de disque est réduite sur le serveur BizTalk.</span><span class="sxs-lookup"><span data-stu-id="c7954-226">For non-transactional MSMQ queues, it is recommended to remotely create the receive queues so that disk contention is reduced on the BizTalk Server.</span></span>  
  
 <span data-ttu-id="c7954-227">La configuration de la file d’attente non transactionnelle distante fournit également une haute disponibilité du serveur distant qui héberge la file d’attente peut être mis en cluster.</span><span class="sxs-lookup"><span data-stu-id="c7954-227">The remote non-transactional queue configuration also provides high availability as the remote server hosting the queue can be clustered.</span></span>  
  
### <a name="other-system-resource-contention"></a><span data-ttu-id="c7954-228">Autres contention des ressources système</span><span class="sxs-lookup"><span data-stu-id="c7954-228">Other system resource contention</span></span>  
 <span data-ttu-id="c7954-229">Selon le type de transport, il peut être nécessaire de configurer les ressources système telles que IIS pour HTTP (par exemple, MaxIOThreads, MaxWorkerThreads).</span><span class="sxs-lookup"><span data-stu-id="c7954-229">Depending on the type of transport, it may be necessary to configure system resources like IIS for HTTP (for example, MaxIOThreads, MaxWorkerThreads).</span></span>  
  
 <span data-ttu-id="c7954-230">Avec ASP.NET 2.0 et ASP.Net 4, le \<processModel autoConfig = « true »\> dans le fichier machine.config configure automatiquement les paramètres suivants pour optimiser les performances :</span><span class="sxs-lookup"><span data-stu-id="c7954-230">With ASP.NET 2.0 and ASP.Net 4, the \<processModel autoConfig="true"\> setting in the machine.config file will automatically configure the following settings for optimal performance:</span></span>  
  
-   <span data-ttu-id="c7954-231">Maximum de Threads</span><span class="sxs-lookup"><span data-stu-id="c7954-231">Maximum Worker Threads</span></span>  
  
-   <span data-ttu-id="c7954-232">Threads d’e/s maximales</span><span class="sxs-lookup"><span data-stu-id="c7954-232">Maximum IO Threads</span></span>  
  
-   <span data-ttu-id="c7954-233">attribut minFreeThreads de l’élément httpRuntime</span><span class="sxs-lookup"><span data-stu-id="c7954-233">minFreeThreads attribute of the httpRuntime element</span></span>  
  
-   <span data-ttu-id="c7954-234">attribut minLocalRequestFreeThreads de l’élément httpRuntime</span><span class="sxs-lookup"><span data-stu-id="c7954-234">minLocalRequestFreeThreads attribute of the httpRuntime element</span></span>  
  
-   <span data-ttu-id="c7954-235">attribut maxConnection de la \<connectionManagement\> élément (paramètres réseau)</span><span class="sxs-lookup"><span data-stu-id="c7954-235">maxConnection attribute of the \<connectionManagement\> Element (Network Settings) element</span></span>  
  
 <span data-ttu-id="c7954-236">Pour plus d’informations sur la configuration des paramètres qui affectent les performances de l’adaptateur, consultez [les paramètres de Configuration ASP.NET pour l’élément processModel](http://go.microsoft.com/fwlink/?LinkId=158080) (http://go.microsoft.com/fwlink/?LinkId=158080).</span><span class="sxs-lookup"><span data-stu-id="c7954-236">For more information about configuring parameters that affect adapter performance, see [ASP.NET Configuration Settings for the processModel Element](http://go.microsoft.com/fwlink/?LinkId=158080) (http://go.microsoft.com/fwlink/?LinkId=158080).</span></span>  
  
 <span data-ttu-id="c7954-237">Pour plus d’informations sur les paramètres de configuration qui peuvent affecter les adaptateurs BizTalk Server, consultez [les paramètres de Configuration qui affectent les performances carte](http://go.microsoft.com/fwlink/?LinkID=154200) (http://go.microsoft.com/fwlink/?LinkID=154200).</span><span class="sxs-lookup"><span data-stu-id="c7954-237">For more information about configuration settings that can affect BizTalk Server adapters, see [Configuration Parameters that Affect Adapter Performance](http://go.microsoft.com/fwlink/?LinkID=154200) (http://go.microsoft.com/fwlink/?LinkID=154200).</span></span>  
  
 <span data-ttu-id="c7954-238">En plus de l’optimisation de vos applications BizTalk Server, les autres applications ASP.NET exécutées sur le même serveur peuvent avoir une incidence sur les performances globales.</span><span class="sxs-lookup"><span data-stu-id="c7954-238">In addition to optimizing your BizTalk Server applications, other ASP.NET applications running on the same server can have an affect on overall performance.</span></span> <span data-ttu-id="c7954-239">Il est important d’optimiser l’ensemble de vos applications ASP.NET pour réduire la sollicitation des ressources système.</span><span class="sxs-lookup"><span data-stu-id="c7954-239">It is important to optimize all of your ASP.NET applications to reduce demand on system resources.</span></span> <span data-ttu-id="c7954-240">Pour plus d’informations, consultez [ASP.NET Performance](http://go.microsoft.com/fwlink/?LinkId=158081) (http://go.microsoft.com/fwlink/?LinkId=158081).</span><span class="sxs-lookup"><span data-stu-id="c7954-240">For more information, see [ASP.NET Performance](http://go.microsoft.com/fwlink/?LinkId=158081) (http://go.microsoft.com/fwlink/?LinkId=158081).</span></span>  
  
 <span data-ttu-id="c7954-241">Lorsque vous configurez pour optimiser les performances, envisagez d’optimiser les autres systèmes externes tels que messagerie moteurs (Message Queuing, MQSeries), les applications, les bases de données, Active Directory, etc. qui font partie de votre solution BizTalk globale.</span><span class="sxs-lookup"><span data-stu-id="c7954-241">When configuring for maximum performance, consider optimizing other external systems such as messaging engines (Message Queuing, MQSeries), applications, databases, Active Directory, etc. that are part of your overall BizTalk solution.</span></span> <span data-ttu-id="c7954-242">Les goulots d’étranglement de performances dans un de ces autres systèmes externes peuvent avoir un effet négatif sur votre solution BizTalk.</span><span class="sxs-lookup"><span data-stu-id="c7954-242">Performance bottlenecks in any of these other external systems can have a negative effect on your BizTalk solution.</span></span>  
  
### <a name="downstream-bottlenecks"></a><span data-ttu-id="c7954-243">Goulots d’étranglement en aval</span><span class="sxs-lookup"><span data-stu-id="c7954-243">Downstream bottlenecks</span></span>  
 <span data-ttu-id="c7954-244">Si le système en aval est incapable de recevoir des données suffisamment rapides de BizTalk, ces données de sortie sauvegardera dans les bases de données BizTalk.</span><span class="sxs-lookup"><span data-stu-id="c7954-244">If the downstream system is unable to receive data fast enough from BizTalk, this output data will back up in the BizTalk databases.</span></span> <span data-ttu-id="c7954-245">Cela entraîne l’encombrement, provoque la limitation Démarrer, réduit le pipeline de réception et a un impact sur le débit global du système BizTalk.</span><span class="sxs-lookup"><span data-stu-id="c7954-245">This results in bloat, causes throttling to start, shrinks the receive pipe, and impacts the overall throughput of the BizTalk system.</span></span> <span data-ttu-id="c7954-246">Un signe direct de ce est l’augmentation du spouleur.</span><span class="sxs-lookup"><span data-stu-id="c7954-246">A direct indication of this is Spool table growth.</span></span> <span data-ttu-id="c7954-247">Pour plus d’informations sur les goulots d’étranglement et la table du spouleur, consultez [comment identifier les goulots d’étranglement dans la MessageBox Database1](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md).</span><span class="sxs-lookup"><span data-stu-id="c7954-247">For more information about bottlenecks and the Spool table, see [How to Identify Bottlenecks in the MessageBox Database1](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md).</span></span>  
  
### <a name="throttling-impact"></a><span data-ttu-id="c7954-248">Impact des limitations</span><span class="sxs-lookup"><span data-stu-id="c7954-248">Throttling impact</span></span>  
 <span data-ttu-id="c7954-249">La limitation sera finalement commencer à protéger le système d’atteindre un état irrécupérable.</span><span class="sxs-lookup"><span data-stu-id="c7954-249">Throttling will eventually start to protect the system from reaching an unrecoverable state.</span></span> <span data-ttu-id="c7954-250">Par conséquent, vous pouvez utiliser la limitation pour vérifier si le système fonctionne normalement et découvrir l’origine du problème.</span><span class="sxs-lookup"><span data-stu-id="c7954-250">Thus, you can use throttling to verify whether the system is functioning normally and discover the source of the problem.</span></span> <span data-ttu-id="c7954-251">Après avoir identifié la cause du goulot d’étranglement à partir de l’état de limitation, analysez les compteurs de performances pour déterminer la source du problème.</span><span class="sxs-lookup"><span data-stu-id="c7954-251">After you identify the cause of the bottleneck from the throttling state, analyze the other performance counters to determine the source of the problem.</span></span> <span data-ttu-id="c7954-252">Par exemple, une contention élevée sur la base de données MessageBox est peut-être en raison d’une utilisation élevée du processeur, due à la pagination excessive sur le disque qui est provoquée par une mémoire insuffisante.</span><span class="sxs-lookup"><span data-stu-id="c7954-252">For example, high contention on the MessageBox database could be due to high CPU use, caused by excessively paging to disk that is caused by low memory conditions.</span></span> <span data-ttu-id="c7954-253">Une contention élevée sur la base de données MessageBox peut également provenir d’un conflit de verrouillage en raison des lecteurs de disques saturés.</span><span class="sxs-lookup"><span data-stu-id="c7954-253">High contention on the MessageBox database could also be caused by high lock contention due to saturated disk drives.</span></span> <span data-ttu-id="c7954-254">Occasionnel de limitation n’est pas une menace importante pour les performances, la limitation persistantes peut indiquer un problème de sous-jacent plus important.</span><span class="sxs-lookup"><span data-stu-id="c7954-254">While occasional throttling is not a significant threat to performance, persistent throttling can indicate a more significant underlying problem.</span></span> <span data-ttu-id="c7954-255">Pour plus d’informations sur ces conditions où BizTalk Server utilise la limitation, consultez [comment BizTalk Server implémente la limitation des hôtes](http://go.microsoft.com/fwlink/?LinkID=155286) (http://go.microsoft.com/fwlink/?LinkID=155286).</span><span class="sxs-lookup"><span data-stu-id="c7954-255">For more information about those conditions where BizTalk Server will use throttling, see [How BizTalk Server Implements Host Throttling](http://go.microsoft.com/fwlink/?LinkID=155286) (http://go.microsoft.com/fwlink/?LinkID=155286).</span></span>  
  
 <span data-ttu-id="c7954-256">Pour plus d’informations sur comment BizTalk Server de limitation peut aider à gérer l’utilisation des ressources disponibles et réduire les conflits de ressources, consultez [optimisation des ressources d’utilisation via la limitation des hôtes](http://go.microsoft.com/fwlink/?LinkID=155770) (http://go.microsoft.com/fwlink/?LinkID=155770).</span><span class="sxs-lookup"><span data-stu-id="c7954-256">For more information about how BizTalk Server throttling can help manage the use of available resources and minimize resource contention, see [Optimizing Resource Usage Through Host Throttling](http://go.microsoft.com/fwlink/?LinkID=155770) (http://go.microsoft.com/fwlink/?LinkID=155770).</span></span>  
  
## <a name="biztalk-application-counters"></a><span data-ttu-id="c7954-257">Compteurs d’application BizTalk</span><span class="sxs-lookup"><span data-stu-id="c7954-257">BizTalk application counters</span></span>  
  
|<span data-ttu-id="c7954-258">Objet</span><span class="sxs-lookup"><span data-stu-id="c7954-258">Object</span></span>|<span data-ttu-id="c7954-259">Instance</span><span class="sxs-lookup"><span data-stu-id="c7954-259">Instance</span></span>|<span data-ttu-id="c7954-260">Compteur</span><span class="sxs-lookup"><span data-stu-id="c7954-260">Counter</span></span>|<span data-ttu-id="c7954-261"> Description</span><span class="sxs-lookup"><span data-stu-id="c7954-261">Description</span></span>|  
|------------|--------------|-------------|-----------------|  
|<span data-ttu-id="c7954-262">Messagerie BizTalk</span><span class="sxs-lookup"><span data-stu-id="c7954-262">BizTalk Messaging</span></span>|<span data-ttu-id="c7954-263">RxHost</span><span class="sxs-lookup"><span data-stu-id="c7954-263">RxHost</span></span>|<span data-ttu-id="c7954-264">Nombre de documents reçus par seconde</span><span class="sxs-lookup"><span data-stu-id="c7954-264">Documents Received/Sec</span></span>|<span data-ttu-id="c7954-265">Vitesse d'entrée</span><span class="sxs-lookup"><span data-stu-id="c7954-265">Incoming Rate</span></span>|  
|<span data-ttu-id="c7954-266">Messagerie BizTalk</span><span class="sxs-lookup"><span data-stu-id="c7954-266">BizTalk Messaging</span></span>|<span data-ttu-id="c7954-267">TxHost</span><span class="sxs-lookup"><span data-stu-id="c7954-267">TxHost</span></span>|<span data-ttu-id="c7954-268">Nombre de documents traités par seconde</span><span class="sxs-lookup"><span data-stu-id="c7954-268">Documents Processed/Sec</span></span>|<span data-ttu-id="c7954-269">Vitesse de sortie</span><span class="sxs-lookup"><span data-stu-id="c7954-269">Outgoing Rate</span></span>|  
|<span data-ttu-id="c7954-270">Orchestrations XLANG/s</span><span class="sxs-lookup"><span data-stu-id="c7954-270">XLANG/s Orchestrations</span></span>|<span data-ttu-id="c7954-271">PxHost</span><span class="sxs-lookup"><span data-stu-id="c7954-271">PxHost</span></span>|<span data-ttu-id="c7954-272">Orchestrations réussies par seconde</span><span class="sxs-lookup"><span data-stu-id="c7954-272">Orchestrations Completed/Sec.</span></span>|<span data-ttu-id="c7954-273">Vitesse de traitement</span><span class="sxs-lookup"><span data-stu-id="c7954-273">Processing Rate</span></span>|  
|<span data-ttu-id="c7954-274">BizTalk : MessageBox : compteurs généraux</span><span class="sxs-lookup"><span data-stu-id="c7954-274">BizTalk : MessageBox: General Counters</span></span>|<span data-ttu-id="c7954-275">MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="c7954-275">MsgBoxName</span></span>|<span data-ttu-id="c7954-276">Taille mise en file d'attente</span><span class="sxs-lookup"><span data-stu-id="c7954-276">Spool Size</span></span>|<span data-ttu-id="c7954-277">Taille cumulée de toutes les files d'attente hôte</span><span class="sxs-lookup"><span data-stu-id="c7954-277">Cumulative size of all Host Queues</span></span>|  
|<span data-ttu-id="c7954-278">BizTalk : MessageBox : compteurs généraux</span><span class="sxs-lookup"><span data-stu-id="c7954-278">BizTalk : MessageBox: General Counters</span></span>|<span data-ttu-id="c7954-279">MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="c7954-279">MsgBoxName</span></span>|<span data-ttu-id="c7954-280">Taille données de suivi</span><span class="sxs-lookup"><span data-stu-id="c7954-280">Tracking Data Size</span></span>|<span data-ttu-id="c7954-281">Taille de la table TrackingData de la MessageBox</span><span class="sxs-lookup"><span data-stu-id="c7954-281">Size of TrackingData table on the MessageBox</span></span>|  
|<span data-ttu-id="c7954-282">Compteurs de BizTalk:MessageBox:Host</span><span class="sxs-lookup"><span data-stu-id="c7954-282">BizTalk:MessageBox:Host Counters</span></span>|<span data-ttu-id="c7954-283">PxHost:MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="c7954-283">PxHost:MsgBoxName</span></span>|<span data-ttu-id="c7954-284">File d'attente hôte - Longueur</span><span class="sxs-lookup"><span data-stu-id="c7954-284">Host Queue - Length</span></span>|<span data-ttu-id="c7954-285">Nombre de messages dans la file d'attente hôte spécifiée</span><span class="sxs-lookup"><span data-stu-id="c7954-285">Number of messages in the specific Host Queue</span></span>|  
|<span data-ttu-id="c7954-286">Compteurs de BizTalk:MessageBox:Host</span><span class="sxs-lookup"><span data-stu-id="c7954-286">BizTalk:MessageBox:Host Counters</span></span>|<span data-ttu-id="c7954-287">TxHost:MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="c7954-287">TxHost:MsgBoxName</span></span>|<span data-ttu-id="c7954-288">File d'attente hôte - Longueur</span><span class="sxs-lookup"><span data-stu-id="c7954-288">Host Queue - Length</span></span>|<span data-ttu-id="c7954-289">Nombre de messages dans la file d'attente hôte spécifiée</span><span class="sxs-lookup"><span data-stu-id="c7954-289">Number of messages in the specific Host Queue</span></span>|  
|<span data-ttu-id="c7954-290">BizTalk:agent des messages</span><span class="sxs-lookup"><span data-stu-id="c7954-290">BizTalk:Message Agent</span></span>|<span data-ttu-id="c7954-291">RxHost</span><span class="sxs-lookup"><span data-stu-id="c7954-291">RxHost</span></span>|<span data-ttu-id="c7954-292">Taille des bases de données</span><span class="sxs-lookup"><span data-stu-id="c7954-292">Database Size</span></span>|<span data-ttu-id="c7954-293">Taille de la file d'attente de publication (PxHost)</span><span class="sxs-lookup"><span data-stu-id="c7954-293">Size of publishing (PxHost) Queue</span></span>|  
|<span data-ttu-id="c7954-294">BizTalk:agent des messages</span><span class="sxs-lookup"><span data-stu-id="c7954-294">BizTalk:Message Agent</span></span>|<span data-ttu-id="c7954-295">PxHost</span><span class="sxs-lookup"><span data-stu-id="c7954-295">PxHost</span></span>|<span data-ttu-id="c7954-296">Taille des bases de données</span><span class="sxs-lookup"><span data-stu-id="c7954-296">Database Size</span></span>|<span data-ttu-id="c7954-297">Taille de la file d'attente de publication (TxHost)</span><span class="sxs-lookup"><span data-stu-id="c7954-297">Size of publishing (TxHost) Queue</span></span>|  
|<span data-ttu-id="c7954-298">BizTalk:agent des messages</span><span class="sxs-lookup"><span data-stu-id="c7954-298">BizTalk:Message Agent</span></span>|<span data-ttu-id="c7954-299">HostName</span><span class="sxs-lookup"><span data-stu-id="c7954-299">HostName</span></span>|<span data-ttu-id="c7954-300">État de limitation de remise de messages</span><span class="sxs-lookup"><span data-stu-id="c7954-300">Message Delivery Throttling State</span></span>|<span data-ttu-id="c7954-301">Affecte les transports XLANG et sortants</span><span class="sxs-lookup"><span data-stu-id="c7954-301">Affects XLANG and Outbound transports</span></span>|  
|<span data-ttu-id="c7954-302">BizTalk:agent des messages</span><span class="sxs-lookup"><span data-stu-id="c7954-302">BizTalk:Message Agent</span></span>|<span data-ttu-id="c7954-303">HostName</span><span class="sxs-lookup"><span data-stu-id="c7954-303">HostName</span></span>|<span data-ttu-id="c7954-304">État de limitation de publication de messages</span><span class="sxs-lookup"><span data-stu-id="c7954-304">Message Publishing Throttling State</span></span>|<span data-ttu-id="c7954-305">Affecte les transports XLANG et entrants</span><span class="sxs-lookup"><span data-stu-id="c7954-305">Affects XLANG and Inbound transports</span></span>|  
  
### <a name="where-do-i-start"></a><span data-ttu-id="c7954-306">Par où commencer ?</span><span class="sxs-lookup"><span data-stu-id="c7954-306">Where do I start?</span></span>  
 <span data-ttu-id="c7954-307">Analyse le **état de limitation de remise de messages** et **état de limitation de publication de messages** pour chaque hôte instance est un bon point de départ.</span><span class="sxs-lookup"><span data-stu-id="c7954-307">Monitoring the **Message Delivery Throttling State** and the **Message Publishing Throttling State** for each host instance is a good place to start.</span></span> <span data-ttu-id="c7954-308">Si la valeur de ces compteurs n’est pas zéro, cela indique que la limitation dans le système BizTalk et vous pouvez les analyser la cause du goulot d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="c7954-308">If the value of these counters is not zero, this indicates throttling in the BizTalk system and you can further analyze the cause of the bottleneck.</span></span> <span data-ttu-id="c7954-309">Pour obtenir des descriptions sur les autres compteurs de performance, consultez [les goulots d’étranglement au niveau de la base de données](../technical-guides/bottlenecks-in-the-database-tier.md).</span><span class="sxs-lookup"><span data-stu-id="c7954-309">For descriptions on the other performance counters, see [Bottlenecks in the Database Tier](../technical-guides/bottlenecks-in-the-database-tier.md).</span></span>  
  
## <a name="orchestration-engine-performance-counters"></a><span data-ttu-id="c7954-310">Compteurs de performances du moteur d’orchestration</span><span class="sxs-lookup"><span data-stu-id="c7954-310">Orchestration engine performance counters</span></span>  
 <span data-ttu-id="c7954-311">Nous vous recommandons vivement de fine régler les paramètres d’exécution d’orchestration, car les points dehydration\rehydration et de persistance d’orchestration en continu peuvent avoir un impact majeur sur les performances globales.</span><span class="sxs-lookup"><span data-stu-id="c7954-311">We strongly recommend that you fine tune orchestration runtime settings because continuous orchestration dehydration\rehydration and persistence points can have a severe impact on overall performance.</span></span>  <span data-ttu-id="c7954-312">Vous devez utiliser les compteurs suivants lorsque vous testez des orchestrations complexes qui peuvent contenir plusieurs points de persistance et étendues transactionnelles.</span><span class="sxs-lookup"><span data-stu-id="c7954-312">You must use the following counters when testing complex orchestrations that may contain multiple persistence points and transactional scopes.</span></span>  
  
|<span data-ttu-id="c7954-313">Compteur</span><span class="sxs-lookup"><span data-stu-id="c7954-313">Counter</span></span>|<span data-ttu-id="c7954-314">Commentaires</span><span class="sxs-lookup"><span data-stu-id="c7954-314">Comments</span></span>|  
|-------------|--------------|  
|<span data-ttu-id="c7954-315">Orchestrations dehydrated/sec (Orchestrations mises en attente par seconde)</span><span class="sxs-lookup"><span data-stu-id="c7954-315">Orchestrations dehydrated/sec</span></span>|<span data-ttu-id="c7954-316">Nombre moyen d'orchestrations mises en attente par seconde.</span><span class="sxs-lookup"><span data-stu-id="c7954-316">Average number dehydrated per second.</span></span>|  
|<span data-ttu-id="c7954-317">Orchestrations rehydrated/sec (Orchestrations réalimentées par seconde)</span><span class="sxs-lookup"><span data-stu-id="c7954-317">Orchestrations rehydrated/sec</span></span>|<span data-ttu-id="c7954-318">Nombre moyen d'orchestrations réalimentées par seconde.</span><span class="sxs-lookup"><span data-stu-id="c7954-318">Average number rehydrated per second.</span></span>|  
|<span data-ttu-id="c7954-319">Points de persistance par seconde</span><span class="sxs-lookup"><span data-stu-id="c7954-319">Persistence points/sec</span></span>|<span data-ttu-id="c7954-320">Nombre moyen d'instances d'orchestration enregistrées par seconde.</span><span class="sxs-lookup"><span data-stu-id="c7954-320">Average number of orchestration instances persisted per second.</span></span>|  
|<span data-ttu-id="c7954-321">Orchestrations résidentes en mémoire</span><span class="sxs-lookup"><span data-stu-id="c7954-321">Orchestrations resident in memory</span></span>|<span data-ttu-id="c7954-322">Nombre d'instances d'orchestration actuellement hébergées par l'instance de l'hôte.</span><span class="sxs-lookup"><span data-stu-id="c7954-322">Number of orchestration instances currently hosted by the host instance.</span></span>|  
|<span data-ttu-id="c7954-323">Orchestrations completed/sec (Orchestrations réussies par seconde)</span><span class="sxs-lookup"><span data-stu-id="c7954-323">Orchestrations completed/sec</span></span>|<span data-ttu-id="c7954-324">Nombre moyen d'orchestrations réussies par seconde.</span><span class="sxs-lookup"><span data-stu-id="c7954-324">Average number completed per second.</span></span>|  
|<span data-ttu-id="c7954-325">Orchestrations suspended/sec (Orchestrations suspendues par seconde)</span><span class="sxs-lookup"><span data-stu-id="c7954-325">Orchestrations suspended/sec</span></span>|<span data-ttu-id="c7954-326">Nombre moyen d'orchestrations suspendues par seconde.</span><span class="sxs-lookup"><span data-stu-id="c7954-326">Average number suspended per second.</span></span>|  
|<span data-ttu-id="c7954-327">Étendues transactionnelles validées par seconde</span><span class="sxs-lookup"><span data-stu-id="c7954-327">Transactional scopes committed/sec</span></span>|<span data-ttu-id="c7954-328">Nombre moyen d'étendues réussies par seconde.</span><span class="sxs-lookup"><span data-stu-id="c7954-328">Average number committed per second.</span></span>|  
|<span data-ttu-id="c7954-329">Étendues transactionnelles interrompues par seconde</span><span class="sxs-lookup"><span data-stu-id="c7954-329">Transactional scopes aborted/sec</span></span>|<span data-ttu-id="c7954-330">Nombre moyen d'étendues suspendues par seconde.</span><span class="sxs-lookup"><span data-stu-id="c7954-330">Average number aborted per second.</span></span>|  
|<span data-ttu-id="c7954-331">Étendues transactionnelles compensées par seconde</span><span class="sxs-lookup"><span data-stu-id="c7954-331">Transactional scopes compensated/sec</span></span>|<span data-ttu-id="c7954-332">Nombre moyen d'étendues compensées par seconde.</span><span class="sxs-lookup"><span data-stu-id="c7954-332">Average number compensated per second.</span></span>|  
  
## <a name="backlog-buildup"></a><span data-ttu-id="c7954-333">Création de la file d’attente</span><span class="sxs-lookup"><span data-stu-id="c7954-333">Backlog buildup</span></span>  
 <span data-ttu-id="c7954-334">Pour un déploiement 1-1 scénario où 1 message reçu génère 1 message traité et transmis, si la vitesse de sortie n’est pas la vitesse d’entrée, il existe un retard dans le système.</span><span class="sxs-lookup"><span data-stu-id="c7954-334">For a 1-1 deployment scenario where 1 message received results in 1 message processed and transmitted, if the outgoing rate does not equal the incoming rate, there is a backlog in the system.</span></span> <span data-ttu-id="c7954-335">Dans ce cas, vous pouvez surveiller la taille de la mise en attente.</span><span class="sxs-lookup"><span data-stu-id="c7954-335">In this situation, you can monitor the Spool Size.</span></span> <span data-ttu-id="c7954-336">Lorsque vous déterminez la cause de goulots d’étranglement de la vitesse de sortie, exécuter un scénario de cas d’usage unique à la fois.</span><span class="sxs-lookup"><span data-stu-id="c7954-336">When determining the cause of bottlenecks in outgoing rate, run a single use-case scenario at a time.</span></span> <span data-ttu-id="c7954-337">Isoler les orchestrations, les emplacements de réception et les emplacements à différents hôtes d’envoi.</span><span class="sxs-lookup"><span data-stu-id="c7954-337">Isolate orchestrations, receive locations, and send locations to separate hosts.</span></span>  
  
 <span data-ttu-id="c7954-338">Ajoutez les compteurs de zone : hôte de BizTalk à votre journal de l’Analyseur de performances pour surveiller un hôte.</span><span class="sxs-lookup"><span data-stu-id="c7954-338">Add the BizTalk:Message Box:Host Counters to your Performance Monitor log to monitor a host.</span></span> <span data-ttu-id="c7954-339">La file d’attente hôte - longueur : compteur effectue le suivi du nombre total de messages dans une file d’attente hôte particulier.</span><span class="sxs-lookup"><span data-stu-id="c7954-339">The Host Queue - Length: counter tracks the total number of messages in a particular host queue.</span></span> <span data-ttu-id="c7954-340">Si un ou plusieurs de ces compteurs continue de croître au fil du temps, une attention toute particulière à donner à ces artefacts exécuté par ces ordinateurs hôtes.</span><span class="sxs-lookup"><span data-stu-id="c7954-340">If one or more of these counters continues grow over time, give particular attention to the artifacts executed by those hosts.</span></span>  
  
 <span data-ttu-id="c7954-341">Si la file d’attente augmente linéairement, déterminer quel file d’attente de l’Application est responsable de cette augmentation.</span><span class="sxs-lookup"><span data-stu-id="c7954-341">If the Spool is growing linearly, determine which Application Queue is responsible for the Spool growth.</span></span>  
  
 <span data-ttu-id="c7954-342">Si aucun des files d’attente de l’Application ne grandit et que la file d’attente continue de croître, cela peut signifier que les travaux de purge ne parvenez pas à suivre.</span><span class="sxs-lookup"><span data-stu-id="c7954-342">If none of the Application Queues are growing and the Spool continues to grow, it could mean that the purge jobs are unable to keep up.</span></span> <span data-ttu-id="c7954-343">Cela se produit si l’agent n’est pas en cours d’exécution ou d’autres contention des ressources système sur le serveur SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c7954-343">This occurs if the agent is not running or there is other system resource contention on the SQL Server.</span></span>  
  
 <span data-ttu-id="c7954-344">Si une des files d’attente de l’Application est-elle diagnostiquer la cause de cette croissance.</span><span class="sxs-lookup"><span data-stu-id="c7954-344">If one of the Application Queues is growing, diagnose the cause of this growth.</span></span> <span data-ttu-id="c7954-345">Analyser les ressources système sur le système ne parvient pas à vider la file d’attente d’Application spécifiques (par exemple, Orchestration hôte augmente en raison d’une UC insuffisante sur le serveur).</span><span class="sxs-lookup"><span data-stu-id="c7954-345">Monitor the system resources on the system that is unable to drain the specific Application Queue (for example, Orchestration Host-Q is growing due to CPU starvation on the server).</span></span> <span data-ttu-id="c7954-346">En outre, vérifiez les valeurs du compteur de limitation de l’instance d’hôte spécifique.</span><span class="sxs-lookup"><span data-stu-id="c7954-346">In addition, verify the values of the throttling counter for the specific host instance.</span></span>  
  
 <span data-ttu-id="c7954-347">Si les compteurs de performances état de limitation de remise BizTalk:Messsage Agent de Message et l’état de limitation de publication de messages ne sont pas nulles, vérifiez la valeur pour confirmer la raison de la limitation (par exemple, le seuil de mémoire a dépassé, nombre de messages en vol trop haute, et ainsi de suite).</span><span class="sxs-lookup"><span data-stu-id="c7954-347">If the BizTalk:Messsage Agent Message Delivery Throttling State and Message Publishing Throttling State performance counters are not zero, check the value to confirm the reason for throttling (for example, memory threshold exceeded, in-flight message count too high, and so on).</span></span>  
  
## <a name="stand-alone-profiler"></a><span data-ttu-id="c7954-348">Profileur autonome</span><span class="sxs-lookup"><span data-stu-id="c7954-348">Stand-Alone Profiler</span></span>  
 <span data-ttu-id="c7954-349">Vous pouvez utiliser des compteurs de performances pour détecter l’emplacement de goulot d’étranglement à un niveau élevé.</span><span class="sxs-lookup"><span data-stu-id="c7954-349">You can use performance counters to detect the location of the bottleneck at a high level.</span></span> <span data-ttu-id="c7954-350">Toutefois, affinée, vous aurez peut-être besoin d’examiner le code plus étroitement pour faciliter le problème.</span><span class="sxs-lookup"><span data-stu-id="c7954-350">However, once narrowed down, you might need to examine the code more closely to help ease the problem.</span></span> <span data-ttu-id="c7954-351">Le profileur autonome qui est fourni avec Visual Studio 2010 peut être un outil très utile pour aider à diagnostiquer où le code est dépense des cycles.</span><span class="sxs-lookup"><span data-stu-id="c7954-351">The Stand-Alone Profiler that ships with Visual Studio 2010 can be a very helpful tool to help diagnose where the code is spending most of its cycles.</span></span> <span data-ttu-id="c7954-352">Pour plus d'informations, consultez</span><span class="sxs-lookup"><span data-stu-id="c7954-352">For more information, see</span></span>  
  
## <a name="l2l3-cache"></a><span data-ttu-id="c7954-353">Cache L2/L3</span><span class="sxs-lookup"><span data-stu-id="c7954-353">L2/L3 cache</span></span>  
 <span data-ttu-id="c7954-354">À partir d’un point de vue matériel, vous pouvez obtenir des avantages majeurs à l’aide du cache du processeur intégré.</span><span class="sxs-lookup"><span data-stu-id="c7954-354">From a hardware perspective, you can gain the biggest benefits by using the onboard CPU cache.</span></span> <span data-ttu-id="c7954-355">L'augmentation de cette mémoire cache permet d'accroître le taux d'accès au cache et de réduire ainsi la nécessité pour le système de paginer les données en dehors et à l'intérieur de la mémoire sur le disque.</span><span class="sxs-lookup"><span data-stu-id="c7954-355">Higher CPU cache helps increase cache hit rate reducing the need for the system to page data in and out of memory to disk.</span></span>  
  
## <a name="64-bit-performance-bottlenecks"></a><span data-ttu-id="c7954-356">Goulots d’étranglement des performances 64 bits</span><span class="sxs-lookup"><span data-stu-id="c7954-356">64-Bit performance bottlenecks</span></span>  
 <span data-ttu-id="c7954-357">Les performances des systèmes 64 bits peuvent paraître inférieures à celles qu'il est possible d'atteindre sur les systèmes 32 bits.</span><span class="sxs-lookup"><span data-stu-id="c7954-357">Performance on 64-bit systems may appear lower than what can be achieved on 32-bit systems.</span></span> <span data-ttu-id="c7954-358">Cela est possible pour les raisons suivantes, celle la plus importante étant la mémoire.</span><span class="sxs-lookup"><span data-stu-id="c7954-358">This is possible for a few reasons, the most important one being memory.</span></span>  
  
 <span data-ttu-id="c7954-359">Mesure des performances sur un système 32 bits avec 2 Go de mémoire et la comparaison des résultats avec un système 64 bits similaire avec 2 Go de mémoire sont comparaison pas la même chose.</span><span class="sxs-lookup"><span data-stu-id="c7954-359">Measuring performance on a 32-bit system with 2 GB of memory and comparing the results to a similar 64-bit system with 2 GB of memory is not comparing the same thing.</span></span> <span data-ttu-id="c7954-360">Le système 64 bits semble être disque e/s liée (temps d’inactivité du disque faible % & longueur de file d’attente de disque élevée) et lié à l’UC (UC max. et changement de contexte élevé).</span><span class="sxs-lookup"><span data-stu-id="c7954-360">The 64-bit system will appear to be disk-I/O bound (low % Disk Idle time & high Disk Queue Length) and CPU bound (max CPU and high context switching).</span></span> <span data-ttu-id="c7954-361">Toutefois, il s’agit pas, car les e/s de fichier sur un système 64 bits sont plus coûteuses.</span><span class="sxs-lookup"><span data-stu-id="c7954-361">However, this is not because performing file I/O on a 64-bit system is more expensive.</span></span>  
  
 <span data-ttu-id="c7954-362">Le système 64 bits est davantage de mémoire intensif (adressage 64 bits) qui entraîne le système d’exploitation consomme la plupart de la mémoire disponible de 2 Go.</span><span class="sxs-lookup"><span data-stu-id="c7954-362">The 64-bit system is more memory intensive (64-bit addressing) which results in the operating system consuming most of the 2 GB available memory.</span></span> <span data-ttu-id="c7954-363">Dans ce cas, la plupart des autres opérations entraînent une pagination sur le disque, ce qui affecte le sous-système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="c7954-363">When this happens, most other operations cause paging to disk which stresses the file subsystem.</span></span> <span data-ttu-id="c7954-364">Par conséquent, le système passe à la pagination en entrée/sortie de la mémoire à la fois les cycles de processeur et de code et n’est affecté par la latence du disque élevée.</span><span class="sxs-lookup"><span data-stu-id="c7954-364">Therefore, the system spends CPU cycles paging in/out of memory both data and code and is impacted by the high disk latency cost.</span></span> <span data-ttu-id="c7954-365">Cela se traduit par un plus grand nombre de conflits sur le disque et par une plus grande utilisation de l'UC.</span><span class="sxs-lookup"><span data-stu-id="c7954-365">This manifests itself as both higher disk contention and higher CPU consumption.</span></span>  
  
 <span data-ttu-id="c7954-366">La façon d’atténuer ce problème consiste à montée en puissance parallèle du serveur par la mise à niveau de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="c7954-366">The way to alleviate this problem is to scale-up the server by upgrading the memory.</span></span> <span data-ttu-id="c7954-367">L’évolution verticale à 8 Go est l’idée, toutefois, l’ajout de mémoire ne sera pas d’améliorer le débit, sauf si la source du problème est une UC insuffisante en raison d’une insuffisance de mémoire.</span><span class="sxs-lookup"><span data-stu-id="c7954-367">Scaling-up to 8 GB is idea, however, adding more memory will not help improve throughput unless the source of the problem is CPU starvation due to low memory conditions.</span></span>  
  
## <a name="using-bam-to-identify-bottlenecks-and-high-latency-issues"></a><span data-ttu-id="c7954-368">L’analyse BAM pour identifier les goulots d’étranglement et les problèmes de latence élevée</span><span class="sxs-lookup"><span data-stu-id="c7954-368">Using BAM to identify bottlenecks and high-latency issues</span></span>  
 <span data-ttu-id="c7954-369">Lorsque la faible latence est importante, vous pouvez utiliser BAM pour mesurer le temps du système pour réaliser chaque étape au sein du système BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="c7954-369">When low-latency is important, you can use BAM to measure the time the system takes to complete each stage within the BizTalk Server system.</span></span> <span data-ttu-id="c7954-370">Vous pouvez utiliser du fonctionnement pour déboguer l’état des messages et diagnostiquer l’origine des problèmes de routage des messages, vous pouvez utiliser BAM pour effectuer le suivi de plusieurs éléments au sein du flux de messages.</span><span class="sxs-lookup"><span data-stu-id="c7954-370">Although you can use HAT to debug the state of messages and diagnose the source of problems in routing messages, you can use BAM to track various points through the message flow.</span></span> <span data-ttu-id="c7954-371">En créant un modèle qui définit une activité à une continuation de suivi de BAM, vous pouvez mesurer la latence entre les différentes parties du système pour faciliter le suivi des étapes les plus onéreuses dans le processus de flux de travail.</span><span class="sxs-lookup"><span data-stu-id="c7954-371">By creating a BAM tracking profile that defines an activity with continuations, you can measure latency between different parts of the system to help track the most expensive stages within the workflow process.</span></span>  
  
 <span data-ttu-id="c7954-372">Vous pouvez utiliser le débogueur de l’Orchestration dans l’outil HAT pour interroger une instance suspendue, reprise de l’instance en mode débogage et ajouter des points d’arrêt appropriés à l’aide de l’affichage des détails techniques.</span><span class="sxs-lookup"><span data-stu-id="c7954-372">You can use Orchestration Debugger in HAT to query a suspended instance, resume the instance in debug mode, and add appropriate breakpoints using the Technical Details View.</span></span> <span data-ttu-id="c7954-373">Ceci vous permettra de suivre vos activités et les messages de débogage pas à pas.</span><span class="sxs-lookup"><span data-stu-id="c7954-373">This will enable you to trace the activities and debug messages step by step.</span></span>  
  
 <span data-ttu-id="c7954-374">Vous pouvez définir des points d'arrêt pour suivre les événements suivants :</span><span class="sxs-lookup"><span data-stu-id="c7954-374">You can set breakpoints to track the following events:</span></span>  
  
-   <span data-ttu-id="c7954-375">Début/fin d'une orchestration</span><span class="sxs-lookup"><span data-stu-id="c7954-375">The start and finish of an orchestration</span></span>  
  
-   <span data-ttu-id="c7954-376">Début/fin d'une forme</span><span class="sxs-lookup"><span data-stu-id="c7954-376">The start and finish of a shape</span></span>  
  
-   <span data-ttu-id="c7954-377">Envoi ou réception d'un message</span><span class="sxs-lookup"><span data-stu-id="c7954-377">The sending or receipt of a message</span></span>  
  
-   <span data-ttu-id="c7954-378">Exceptions</span><span class="sxs-lookup"><span data-stu-id="c7954-378">Exceptions</span></span>  
  
 <span data-ttu-id="c7954-379">À chaque point d'arrêt, vous pouvez examiner les informations sur les variables locales, les messages et leurs propriétés, les ports et les liens-rôles.</span><span class="sxs-lookup"><span data-stu-id="c7954-379">At each breakpoint, you can examine information about local variables, messages and their properties, ports, and role links.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c7954-380">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c7954-380">See Also</span></span>  
 [<span data-ttu-id="c7954-381">Recherche et suppression des goulots d’étranglement</span><span class="sxs-lookup"><span data-stu-id="c7954-381">Finding and Eliminating Bottlenecks</span></span>](../technical-guides/finding-and-eliminating-bottlenecks.md)