---
title: "À l’aide de l’analyse des performances de l’outil de journaux (PAL) | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: d563aa7d-102d-4fe6-a892-66794feaf83b
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7f289cdf157100dc69feb468f789a9ebb76764a1
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/01/2017
---
# <a name="using-the-performance-analysis-of-logs-pal-tool"></a>À l’aide de l’analyse des performances de l’outil de journaux (PAL)
L’outil de publication (analyse des journaux de performances) lit dans un journal de compteur de performances analyse (n’importe quel format connu) et l’analyse à l’aide de seuils complexes, mais il est connus (fournis). L’outil génère un rapport HTML en fonction que graphiquement graphiques de performances des compteurs et génère des alertes lorsque les seuils sont dépassés. Les seuils sont initialement basées sur les seuils sont définis par les équipes de produit Microsoft, y compris [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], et les membres de Microsoft prennent en charge. Cet outil n’est pas un remplacement de l’analyse des performances traditionnelles, mais il automatise l’analyse de performance des journaux suffisamment permettant de gagner du temps. L’outil de publication :  
  
-   Analyse des journaux de compteurs de performances pour les seuils  
  
-   Est utile pour des journaux de l’Analyseur de performances  
  
-   Identifie [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et les goulots d’étranglement du compteur de performances système d’exploitation en analysant les seuils  
  
-   Est extensible pour effectuer l’analyse sur les compteurs de performance  
  
-   Peut être utilisé pour aider à écrire votre propre compteur  
  
 La publication est disponible en téléchargement gratuit à [http://go.microsoft.com/fwlink/?linkid=98098](http://go.microsoft.com/fwlink/?linkid=98098). Elle nécessite l’Analyseur de journal de Microsoft. Log Parser est un outil puissant et flexible qui fournit l’accès de requête universel à des données texte tels que les fichiers journaux, des fichiers XML et les fichiers CSV, et sources de données clés sur le système d’exploitation Windows tels que le journal des événements, le Registre, le système de fichiers et actif Service d’annuaire Directory®. Voulez-vous utiliser cet outil pour interroger une quantité importante d’informations de journalisation. Vous pouvez télécharger l’outil Analyseur de journal à [http://go.microsoft.com/fwlink/?linkid=85574](http://go.microsoft.com/fwlink/?linkid=85574).  
  
## <a name="using-pal-with-performance-counter-logs-in-different-languages"></a>À l’aide de la publication avec le compteur de Performance journaux dans différentes langues  
 L’outil de publication analyse des journaux de compteurs de performances uniquement en anglais. Pour utiliser l’outil de publication avec des journaux de compteurs de performances dans d’autres langages, vous devez tout d’abord traduire les journaux en langue anglaise. Vous pouvez utiliser la **traducteur de journal Perfmon** outil disponible à l’adresse [http://go.microsoft.com/fwlink/?LinkId=158802](http://go.microsoft.com/fwlink/?LinkId=158802) pour convertir les fichiers de journaux compteur de performances d’origine en anglais.  
  
## <a name="understanding-the-pal-tool-report-for-microsoft-biztalk-server-2010"></a>Présentation du rapport d’outil de publication pour Microsoft BizTalk Server 2010  
 L’outil de publication fournit l’analyse du journal Perfmon des seuils pour le système d’exploitation Windows, Microsoft SQL Server, et [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]. Cette section décrit la plupart des analyses dans le rapport de seuil de BizTalk Server dans l’outil de publication.  
  
> [!NOTE]  
>  Cette rubrique est longue, afin que des informations complètes sur l’outil de publication peuvent être contenues dans un seul emplacement pour faciliter la référence.  
  
 L’analyse et les seuils suivants sont signalés par l’outil de publication.  
  
|Nom et Type d’analyse|Description de l’analyse|  
|----------------------------|--------------------------|  
|Disque : Espace disque disponible pour une image du noyau|Cette analyse vérifie qu’il y a suffisamment d’espace disque disponible pour le système d’exploitation faire un dump toute la mémoire sur le disque. Si un espace disque insuffisant n’est disponible, le système d’exploitation échoue créer un memory.dmp, fichier qui est nécessaire pour analyser la cause racine d’une image du noyau.|  
|Disque : Analyse disque logique/physique Interface|Cette analyse examine la durée d’inactivité de chacun des disques physiques. Le disque n’est plus inactif, moins le disque est utilisé. Ce compteur est mieux utilisé lorsqu’un disque est utilisé dans le disque logique. « % Temps d’inactivité » signale le pourcentage de temps pendant l’intervalle d’échantillonnage que le disque était inactif.<br /><br /> Référence : Sans les problèmes liés aux disques au niveau [http://go.microsoft.com/fwlink/?linkid=50669](http://go.microsoft.com/fwlink/?linkid=50669)|  
|Disque : Analyse de latence disque logique/physique en lecture/écriture|Le moyen le plus fiable pour Windows détecter un goulot d’étranglement des performances de disque est en mesure de son temps de réponse. Si les temps de réponse sont supérieures à.025 (25 millisecondes), qui est un seuil classique, ralentissements notables et affecter les utilisateurs des problèmes de performances peuvent se produire. Pour plus d’informations, voir analyse de latence d’en lecture/écriture de disque logique/physique dans cette rubrique.|  
|Disque : Disque logique transferts/s|« Transferts disque/s » est la vitesse de lecture et d’opérations d’écriture sur le disque. Les seuils de cette vérification de l’analyse voir si un des disques logiques affichent les temps de réponse médiocre (plus de temps de réponse de 25 ms pour les opérations d’e/s). Si la valeur est true, les transferts de disque par seconde doivent être supérieure ou égale à 80. Si ce n’est pas le cas, l’architecture du disque doit être examinée. La cause la plus courante d’e/s de disque est la surcharge sur le réseau SAN de numéro d’unité logique. Pour plus d’informations, consultez les transferts disque logique par seconde dans cette rubrique.|  
|Disque : Espace libre disque logique %|« % Espace libre » est le pourcentage d’espace libre utilisable total qui était libre sur le lecteur de disque logique sélectionné. Performances ne doit pas être affectées jusqu'à ce que l’espace disque disponible est inférieure à 30 pour cent. Lorsque 70 pour cent du lecteur de disque est utilisé, l’espace libre restant se trouve plus près à la pile du disque dans le centre du lecteur de disque, qui fonctionne à un niveau de performances inférieur. Un manque d’espace disque disponible peut provoquer des performances de disque grave.<br /><br /> Référence : NT Server et les performances du sous-système de disque à [http://go.microsoft.com/fwlink/?linkid=106783](http://go.microsoft.com/fwlink/?linkid=106783)|  
|Disque : Traiter les opérations d’e/s/s et de traiter d’autres analyses sur les opérations par seconde e/s|Nombre de ces compteurs toutes les activités d’e/s générées par le processus pour inclure des fichiers, périphériques et réseau. Ces analyses consultez lors du processus font en plus de 1 000 I / O par seconde et que le marquer en tant qu’avertissement. Ces analyses sont surtout en corrélation avec d’autres analyses, tels que l’analyse du disque afin de déterminer les processus qui peuvent être impliqués dans l’activité d’e/s.|  
|Mémoire : Mémoire disponible|Cette analyse vérifie si la mémoire disponible est faible – disponible à 10 pour cent d’avertissement et critique de 5 % disponibles. Un avertissement est également averti lorsqu’une baisse de 10 Mo par heure est détecté, ce qui peut indiquer une condition de mémoire à venir potentiels. Manque de mémoire physique peut entraîner un mode privilégié accru du processeur et les délais de système. Pour plus d’informations, consultez MemoryAnalysis disponibles dans cette rubrique.|  
|Mémoire : Entrées de Table des pages système libres|Libre entrées Table des pages système (PTE) sont le nombre d’entrées de table des pages non utilisées actuellement par le système. Cette analyse détermine si le système manque de PTE en vérifiant s’il existe moins de 5 000 libre PTE un message d’avertissement s’il y a moins de 10 000 PTE libre. Les blocages du système peut entraîner un manque de suffisamment de PTE. Également Notez que/3 GB basculer va réduire considérablement la quantité de PTE libre. Pour plus d’informations, voir analyse d’entrées de Table de Page système libre dans cette rubrique.|  
|Mémoire : Détection des fuites mémoire|Cette analyse détermine si les processus consomment une grande quantité de la mémoire du système et indique si le processus s’accroît la consommation de mémoire au fil du temps. Un processus consomme de grandes parties de la mémoire est correctement tant que le processus retourne la mémoire sur le système. Recherchez l’augmentation des tendances dans le graphique. Une tendance haussière sur une longue période de temps peut indiquer une fuite de mémoire. « Octets privés » est la taille actuelle, en octets, de mémoire que ce processus a alloué et qui ne peut pas être partagé avec d’autres processus. Cette analyse recherche les 10 Mo par heure et de 5 Mo par heure, l’augmentation des tendances. Utilisez cette analyse en corrélation avec l’analyse de la mémoire disponible dans la PAL. Pour plus d’informations, consultez analyse de détection de fuite de mémoire dans cette rubrique.|  
|Mémoire : Détection des fuites Handle|Cette analyse vérifie tous les processus afin de déterminer combien de gère chaque a ouvert et pour déterminer si une fuite de handle est suspectée. Un processus avec un grand nombre de handles et/ou une tendance agressive peut indiquer une fuite de handle, ce qui entraîne généralement une fuite de mémoire. Le nombre total de handles actuellement ouverts par ce processus est égal à la somme des handles actuellement ouverts par chaque thread dans ce processus.<br /><br /> Référence : Déboguer v1.1 outil de Diagnostic à [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)|  
|Mémoire : Mémoire Pages en entrée/s|« Pages en entrée/s » est la vitesse à laquelle les pages sont lues à partir du disque pour résoudre des défauts de page. Défauts de page matériels se produisent lorsqu’un processus fait référence à une page en mémoire virtuelle qui se trouve pas dans son jeu de travail, ni ailleurs en mémoire physique et doivent être récupéré à partir du disque. Cette analyse vérifie s’il y a plus de 10 lectures de fichier de page par seconde.|  
|Mémoire : Pages de mémoire par seconde|Cette analyse vérifie si la valeur « Pages/s » est élevée (supérieure à 1 000). Si elle est élevée, puis le système est probablement en cours d’exécution en dehors de la mémoire en essayant de page de la mémoire sur le disque. « Pages/s » est la vitesse à laquelle les pages sont lues ou écrites sur le disque afin de résoudre des défauts de page. Ce compteur est un indicateur principal des types de défauts qui causent des délais de l’échelle du système.  Utilisez cette analyse en corrélation avec l’analyse de la mémoire disponible et l’analyse de détection des fuites de mémoire dans la PAL. Si toutes ces analyses sont lever les alertes en même temps, cela peut indiquer le système manque de mémoire et les processus suspectés impliqués et qu’il analyse les étapes mentionnées dans l’analyse de détection des fuites de mémoire dans la PAL.<br /><br /> Pour plus d’informations, reportez-vous à l’analyse de Pages/s de mémoire dans cette rubrique.|  
|Mémoire : Octets résidants dans le Cache mémoire système|« Octets résidants dans système du Cache » sont la taille, en octets, du code de système d’exploitation paginable dans le cache du système de fichiers. Cette valeur inclut uniquement les pages physiques actuelles et n’inclut pas toutes les pages de mémoire virtuelle ne résidantes pas actuellement. Cette valeur est un composant de « mémoire\\\System octets résidants dans le Code » qui représente le système d’exploitation paginable tout le code est actuellement dans la mémoire physique. Ce compteur affiche la dernière valeur observée seulement ; Il n’est pas une moyenne. Cette analyse vérifie une tendance haussière de 10 Mo par heure. Lors du chargement, un serveur peut utiliser le cache du système afin de mettre en cache d’activité d’e/s comme disque. Utilisez en corrélation avec les opérations de traitement des données d’e/s par seconde et le processus d’e/s autres opérations par seconde analyses dans la PAL.<br /><br /> Référence : Paramétrage et les performances du Cache de fichiers [http://go.microsoft.com/fwlink/?linkid=106786](http://go.microsoft.com/fwlink/?linkid=106786)|  
|Mémoire : Octets de réserve paginée Pool Non|« Octets de réserve non paginée de pool » sont la taille, en octets, de la réserve non paginée, une zone de mémoire système pour les objets qui ne peuvent pas être écrits sur disque, mais qui doivent rester en mémoire physique tant qu’ils sont alloués. Cette analyse vérifie pour voir si le système sera disponible proche de la réserve maximale non paginée taille de la mémoire. Cela consiste à estimer les tailles de pool en tenant compte/3 Go, taille de la mémoire physique et 32 bits/64 bits, puis détermine si la valeur est supérieure à 60 pour cent de la taille du pool estimé. Si le système est proche de la taille maximale, le système peut rencontrer large blocages du système.<br /><br /> L’option de commutateur/3 GB dans le fichier boot.ini réduit considérablement la taille de ce pool de mémoire.<br /><br /> Pour plus d’informations, consultez Pool Non-Paged octets analyse dans cette rubrique.|  
|Mémoire : Octets de réserve paginée|Cette analyse vérifie pour voir si le système arrive le pool maximal paginée taille de la mémoire. Cela consiste à estimer les tailles de pool en tenant compte/3 Go, taille de la mémoire physique et 32 bits/64 bits, puis détermine si la valeur est supérieure à 60 pour cent de la taille du pool estimé. Si le système est proche de la taille maximale, le système peut rencontrer large blocages du système.<br /><br /> L’option de commutateur/3 GB dans le fichier boot.ini réduit considérablement la taille de ce pool de mémoire.<br /><br /> Pour plus d’informations, voir analyse d’octets de réserve paginée Pool dans cette rubrique.|  
|Mémoire : Nombre de threads de processus|Cette analyse vérifie tous les processus pour déterminer si un processus dispose de plus de 500 threads et si le nombre de threads augmente de 50 threads par heure. Un processus avec un grand nombre de threads et/ou une tendance agressive peut indiquer une fuite de thread, ce qui entraîne généralement une fuite de mémoire ou changement de contexte élevé. Changement de contexte élevé entraîne en mode privilégié élevé du processeur.|  
|Mémoire : Processus jeu de travail|« Jeu de travail » est la taille actuelle, en octets, de la plage de travail de ce processus. La plage de travail est l’ensemble de pages mémoire touchées récemment par les threads dans le processus. Si la mémoire disponible de l’ordinateur est au-dessus d’un seuil, les pages sont laissées dans la plage de travail d’un processus même si elles ne sont pas en cours d’utilisation. Lors de la mémoire disponible tombe en dessous d’un seuil, les pages sont retirées de jeux de travail. S’ils sont nécessaires elles seront ramenées dans la plage de travail avant de quitter la mémoire principale. Cette analyse vérifie une tendance haussière de 10 Mo ou plus, chaque processus. Utilisez en corrélation avec l’analyse de la mémoire disponible dans la PAL.<br /><br /> Référence : Détection de goulots d’étranglement de la mémoire à [http://go.microsoft.com/fwlink/?linkid=106787](http://go.microsoft.com/fwlink/?linkid=106787)|  
|Réseau : Analyse de longueur de la file d’attente réseau sortie|Cette analyse vérifie le nombre de threads en attente sur la carte réseau. Si un grand nombre de threads en attente sur la carte réseau, le système est probablement saturer le réseau d’e/s en raison de la latence du réseau ou de la bande passante réseau. « Longueur de file d’attente de sortie » est la longueur de la file d’attente de paquets de sortie (dans les paquets). Des délais sont indiqués si elle est plus grande que deux, et le goulot d’étranglement doit être trouvée et éliminé si possible. Les causes habituelles de sortie de réseau queuing incluent un grand nombre de demandes du réseau de petite taille et la latence du réseau.|  
|Réseau : Analyse de l’utilisation du réseau|« Total des octets/s » est le taux auquel les octets sont envoyés et reçus via chaque carte réseau, y compris les caractères de trame. « Réseau Interface réseau\Octets reçus/s » est la somme de « Network Interface réseau\Octets reçus/s » et « Network Interface réseau\Octets envoyés/s ». Ce compteur vous permet de savoir si le trafic à votre carte réseau est saturé, et si vous devez ajouter une autre carte réseau. La vitesse à laquelle vous pouvez identifier un problème varie selon le type de réseau que vous avez ainsi que si vous partagez la bande passante avec d’autres applications. Cette analyse convertit « Total des octets/s » pour le service bits et le compare à la bande passante actuelle de la carte réseau pour calculer l’utilisation du réseau. Ensuite, il vérifie pour utilisation supérieure à 50 pour cent.<br /><br /> Référence : Mesure des performances des applications .NET à [http://go.microsoft.com/fwlink/?linkid=106788](http://go.microsoft.com/fwlink/?linkid=106788)|  
|Fichier d’échange : Fichier d’échange pourcentage d’utilisation et une utilisation maximale de % d’utilisation|La quantité de l’instance de fichier de page en cours d’utilisation en pourcentage. Voir aussi « processus\\octets de fichier \Page ». Cette analyse vérifie si le pourcentage d’utilisation est supérieur à 70 %.|  
|Processeur : Analyse de l’utilisation du processeur et utilisation Excessive du processeur par les processus|Ce compteur est l’indicateur principal de l’activité du processeur et affiche le pourcentage moyen de temps occupé observé pendant l’intervalle échantillon. Il est calculé en surveillant la durée que le service est inactif et en soustrayant cette valeur de 100 %. Cette analyse vérifie le taux d’utilisation supérieure à 60 pour cent sur chaque processeur. Dans ce cas, déterminez s’il s’agit de CPU en mode utilisateur élevés ou en mode privilégié élevé. Si le mode privilégié élevé du processeur est suspecté, puis consultez l’analyse du processeur de Mode privilégié dans la PAL. Si un goulot d’étranglement du processeur en mode utilisateur est suspectée, envisagez d’utiliser un profileur de processus pour analyser les fonctions à l’origine de la forte consommation de processeur.|  
|Processeur : Longueur de file d’attente processeur|Cette analyse détermine si la longueur de file d’attente moyenne du processeur dépasse le nombre de processeurs. Dans ce cas, cela peut indiquer un goulot d’étranglement de processeur. Utilisez cette analyse en corrélation avec l’analyse de processeur de Mode privilégié et l’utilisation Excessive du processeur par l’analyse du processus de publication. Pour plus d’informations, reportez-vous à l’analyse de longueur de file d’attente de processeur dans cette rubrique.|  
|Processeur : Analyse Mode privilégié du processeur|Ce compteur indique le pourcentage de temps qu'un thread s’exécute en mode privilégié. Lorsque votre application appelle les fonctions de système d’exploitation (par exemple pour effectuer des e/s de fichier ou de réseau ou pour allouer de la mémoire), ces fonctions de système d’exploitation sont exécutées en mode privilégié. Cette analyse vérifie si le mode privilégié du processeur consomme plus de 30 pour cent de l’UC totale. Si, puis la consommation du processeur est provoquée par un autre goulot d’étranglement autre que le processeur de réseau, la mémoire ou e/s disque. Utilisation en corrélation avec le processeur : % temps d’interruption et processeur : analyses de basculements de contexte élevés dans la PAL. Pour plus d’informations, reportez-vous à l’analyse de l’UC en Mode privilégié dans cette rubrique.|  
|Processeur : Temps d’interruption|« % Temps d’interruption » est le temps que le processeur consacre à recevoir et traiter des interruptions matérielles pendant l’intervalle échantillon. Cette valeur est un indicateur indirect de l’activité des périphériques qui génèrent des interruptions, tels que l’horloge système, la souris, pilotes de disques, les lignes de communication de données, les cartes d’interface réseau et autres périphériques. Ces périphériques interrompent généralement le processeur lorsqu’ils ont terminé une tâche ou de nécessiter une intervention. Exécution normale des threads est suspendue pendant les interruptions. La plupart des horloges système interrompent le processeur toutes les 10 millisecondes, créant un arrière-plan d’activité d’interruption. Une augmentation considérable de ce compteur indique des problèmes de matériel. Cette analyse vérifie pour « % temps d’interruption » supérieur à 30 pour cent. Si cela se produit, envisagez de mise à jour des pilotes de périphériques pour le matériel qui correspond à cette alerte.<br /><br /> Référence : Mesure des performances des applications .NET à [http://go.microsoft.com/fwlink/?linkid=106788](http://go.microsoft.com/fwlink/?linkid=106788)|  
|Processeur : Changement de contexte élevé|Un changement de contexte se produit lorsqu’un thread de priorité plus élevée prioritaire d’un thread de priorité plus faible qui est en cours d’exécution ou quand un thread se bloque une priorité élevée. Les niveaux élevés de changement de contexte peuvent se produire lorsque de nombreux threads partagent le même niveau de priorité. Ceci indique souvent que trop de threads sont en concurrence pour les processeurs sur le système. En règle générale, taux de commutation de contexte de moins de 5 000 par seconde par le processeur ne sont pas important de tenir compte des. Si le taux de changement de contexte dépassent 15 000 par seconde par le processeur, il existe une contrainte. Pour plus d’informations, voir analyse de commutation de contexte élevé dans cette rubrique.|  
|Microsoft BizTalk Server : BizTalk la mise en attente des Orchestrations|Lorsque plusieurs processus d’entreprise longue sont exécutent en même temps, les problèmes de mémoire et de performances sont possibles. Le moteur d'orchestration résout ces problèmes en « mettant en attente » et en « réalimentant » les instances d'orchestration. La mise en attente est le processus qui consiste à sérialiser l'état d'une orchestration dans une base de données SQL Server. La réactivation est le processus inverse : la désérialisation du dernier état d’exécution d’une orchestration à partir de la base de données. La mise en attente est utilisée pour réduire au maximum l'utilisation de ressources système en réduisant le nombre d'orchestrations qui doivent être instanciées simultanément. Par conséquent, dehyrations enregistrer la consommation de mémoire, mais sont relativement coûteuses opérations à effectuer. Cette analyse vérifie le dehydrations de 10 ou plus. Dans ce cas, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] peut être en cours d’exécution la mémoire (physique ou virtuel), une grande nombre d’orchestrations est en attente sur les messages ou les paramètres de mise en attente ne sont pas définis correctement.<br /><br /> Référence : Mise en attente de l’Orchestration et la réactivation à [http://go.microsoft.com/fwlink/?LinkId=155284](http://go.microsoft.com/fwlink/?LinkId=155284)|  
|Microsoft BizTalk Server : Sessions de base de données BizTalk haute|Ce compteur a deux valeurs possibles : normal (0) ou dépassé (1). Cette analyse vérifie la valeur 1. Dans ce cas, BizTalk a dépassé le seuil du nombre de sessions de base de données autorisée. Cette valeur est contrôlée par la valeur « Connexion de base de données par UC » dans les paramètres de la limitation des hôtes BizTalk. « Base de données de connexion par UC » est le nombre maximal de sessions simultanées de la base de données (par UC) autorisé avant le début de la limitation. Vous pouvez surveiller le nombre de connexions de base de données actives à l’aide du compteur de performance de session de base de données sous la catégorie d’objet de performance BizTalk : Agent. Ce paramètre a une incidence uniquement sur la limitation basée sur la fréquence des messages sortants. Pour plus d’informations, voir analyse de Sessions de base de données haute BizTalk dans cette rubrique.|  
|Microsoft BizTalk Server : Taille de base de données BizTalk haute|Ce compteur est fixé à la valeur 1 si une des conditions répertoriées pour le nombre de messages dans le seuil de la base de données se produit. Par défaut, le message de l’ordinateur hôte nombre figurant dans le seuil de limitation de la base de données est définie sur une valeur de 50 000, ce qui déclenchera une condition de limitation dans les circonstances suivantes :<br /><br /> -Nombre total de messages publiés par l’instance d’hôte pour le travail, l’état et les files d’attente suspendues des hôtes d’abonnement est supérieur à 50 000.<br />-Le nombre de messages dans la table du spouleur ou de la table de suivi est supérieur à 500 000.<br /><br /> Si cela se produit, envisagez un plan d’action qui permet de réduire le nombre de messages dans la base de données. Par exemple, vérifiez les travaux de SQL Server dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] s’exécutent sans erreur et utilisez la page Hub du groupe dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] console d’Administration pour déterminer si le message constitués est causé par un grand nombre de messages suspendus. Pour plus d’informations, consultez BizTalk haute analyse de la taille de base de données dans cette rubrique.|  
|Microsoft BizTalk Server : Nombre de messages In-Process BizTalk haute|Cette analyse vérifie le compteur nombre de messages In-Process haute pour déterminer si ce type de limitation se produit. Dans ce cas, envisagez d’ajuster le paramètre « Messages In-Process par UC ». Ce paramètre a une incidence uniquement sur la limitation basée sur la fréquence des messages sortants. Entrez la valeur 0 dans le paramètre « Messages In-Process par UC » pour désactiver la limitation basée sur le nombre de messages in-process par UC. La valeur par défaut pour le paramètre « Messages In-Process par UC » est 1 000. Notez que la modification de cette valeur peut également avoir un impact sur la faible latence des messages et/ou l’efficacité des ressources BizTalk. Pour plus d’informations, consultez analyse de nombre de messages In-Process BizTalk haute dans cette rubrique.|  
|Microsoft BizTalk Server : Vitesse de remise de messages BizTalk haute|Cette analyse vérifie une valeur de 1 dans le compteur haute vitesse de remise de messages. Vitesses de transmission de messages élevés peuvent résulter de la complexité de traitement élevées, adaptateurs de sortie lents ou momentanément des ressources système. Pour plus d’informations, voir analyse de taux de remise BizTalk haute Message dans cette rubrique.|  
|Microsoft BizTalk Server : Message BizTalk haute taux de publication|Limitation, également connus en tant que la limitation de publication des messages de l’hôte [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], est appliquée aux instances d’hôte qui contiennent des adaptateurs de réception ou les orchestrations qui publient des messages à la base de données MessageBox. Cette analyse vérifie une valeur de 1 dans le compteur haute vitesse de publication de messages. Si cela se produit, puis la base de données ne peut pas suivre la fréquence de publication de messages à la base de données MessageBox de BizTalk.<br /><br /> Références :<br /><br /> -Limitation des compteurs de performances au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)<br />- [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)<br />-Boîte de dialogue Paramètres de limitation de publication du message [http://go.microsoft.com/fwlink/?LinkId=155287](http://go.microsoft.com/fwlink/?LinkId=155287)<br />-Quelle est la limitation des hôtes ? à [http://go.microsoft.com/fwlink/?LinkID=154694](http://go.microsoft.com/fwlink/?LinkID=154694)|  
|Microsoft BizTalk Server : Mémoire de processus élevée de BizTalk|L’utilisation de la mémoire de processus BizTalk paramètre de seuil de limitation est le pourcentage de mémoire utilisée par rapport à la somme de la taille du jeu de travail et la mémoire virtuelle totale disponible pour le processus si une valeur comprise entre 1 et 100 est entrée. Lorsqu' une valeur de pourcentage est spécifiée, le seuil de mémoire de processus est recalculé à intervalles réguliers. Cette analyse vérifie une valeur de 1 dans le compteur de mémoire de processus élevée. Pour plus d’informations, consultez analyse de mémoire de processus élevée BizTalk dans cette rubrique.|  
|Microsoft BizTalk Server : Mémoire BizTalk haute système|Le paramètre de seuil limitation de mémoire physique de BizTalk d’utilisation est le pourcentage de la consommation de mémoire par rapport à la quantité totale de mémoire physique disponible si une valeur comprise entre 1 et 100. Ce paramètre peut également être la quantité totale de mémoire physique disponible en mégaoctets, si une valeur supérieure à 100 est entrée. Entrez la valeur 0 pour désactiver la limitation basée sur l'utilisation de la mémoire physique. La valeur par défaut est 0 : Pour plus d’informations, consultez BizTalk analyse la mémoire système élevée dans cette rubrique.|  
|Microsoft BizTalk Server : Nombre de threads élevé de BizTalk|« Threads par UC » sont le nombre total de threads dans le processus hôte incluant des threads utilisés par les adaptateurs. Si ce seuil est dépassé, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] essaiera de réduire la taille de la réserve de threads et le pool de threads de l’agent de message. La limitation basée sur les threads doit être activée dans les scénarios dans lesquels des charges élevées peuvent conduire à la création d'un grand nombre de threads. Ce paramètre a une incidence sur la limitation au niveau des entrées et des sorties. Basée sur les threads de limitation est désactivée par défaut. Pour plus d’informations, voir analyse de nombre de threads élevé BizTalk dans cette rubrique.|  
|Microsoft BizTalk Server : Longueur de file d’attente de l’hôte BizTalk|La longueur de file d’attente hôte BizTalk effectue le suivi du nombre total de messages dans la file d’attente hôte particulier. Vous pouvez utiliser la taille de la longueur (par exemple, « BizTalk:MessageBox:HostCounters:Host File d’attente : longueur') pour donner une vue plus détaillée du nombre de messages en file d’attente en interne en affichant la profondeur de file d’attente pour un ordinateur hôte individuel. Ce compteur peut être utile pour déterminer si un ordinateur hôte spécifique est encombré. En supposant que les hôtes uniques sont utilisés pour chaque transport, cela peut être utile pour déterminer les goulots d’étranglement potentiels de transport. Cette analyse vérifie les longueurs de file d’attente moyenne supérieures à 1. La longueur de file d’attente hôte est une longueur de file d’attente pondérée en additionnant le nombre d’enregistrements de toutes les files d’attente (travail Q, état Q, suspendue Q) de l’hôte cible.<br /><br /> Référence : BizTalk Server 2006 : gestion d’un laboratoire de performances réussie à [http://go.microsoft.com/fwlink/?linkid=104152](http://go.microsoft.com/fwlink/?linkid=104152) **Remarque :** ce livre blanc est également applicable à BizTalk Server.|  
|Microsoft BizTalk Server : L’hôte BizTalk suspendu longueur de file d’attente des Messages|Ce compteur suit le nombre total de messages suspendus pour cet hôte. Un message suspendu est une instance d’un message ou une orchestration qui [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] a arrêté le traitement en raison d’une erreur dans le système ou le message. Les instances dont l'exécution a été interrompue suite à des erreurs système peuvent généralement reprendre une fois le problème résolu. Souvent, les instances suspendues en raison d’un problème de message ne sont pas pouvant être reprises et le message lui-même doit être fixe et renvoyé à la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] système.<br /><br /> La file d’attente de message suspendu est une file d’attente qui contient les éléments de travail pour lequel une erreur ou une défaillance s’est produite lors du traitement. La file d'attente de messages interrompus stocke les messages jusqu'à ce qu'ils soient corrigés et de nouveau traités, ou bien supprimés. Cette analyse vérifie les occurrences de messages suspendus. Une tendance haussière peut indiquer des erreurs de traitement sévères.<br /><br /> Référence : BizTalk Server 2004 : analyse et le dépannage de [http://go.microsoft.com/fwlink/?linkid=108771](http://go.microsoft.com/fwlink/?linkid=108771)|  
|BizTalk Server : Orchestrations inactives BizTalk|Nombre d'instances d'orchestration inactives actuellement hébergées par l'instance de l'hôte. Ce compteur fait référence aux orchestrations qui ne sont pas sa progression, mais ne sont pas pouvant être en attente. Cette situation peut se produire lorsque l’orchestration est bloquée, en attente d’une opération de réception, écouter ou de délai dans une transaction atomique. Si un grand nombre d’orchestrations pouvant être non en attente s’accumulent, BizTalk peut manquer de mémoire.<br /><br /> La mise en attente est le processus qui consiste à sérialiser l'état d'une orchestration dans une base de données SQL Server. La réactivation est le processus inverse : la désérialisation du dernier état d’exécution d’une orchestration à partir de la base de données. La mise en attente est utilisée pour réduire au maximum l'utilisation de ressources système en réduisant le nombre d'orchestrations qui doivent être instanciées simultanément. Le moteur met l'instance en attente en enregistrant l'état et libère la mémoire requise par l'instance. En mettant les instances d’orchestration dormantes, le moteur rend possible pour un grand nombre de processus d’entreprise longue à s’exécuter simultanément sur le même ordinateur. Cette analyse vérifie une tendance haussière d’une orchestration inactive par heure.<br /><br /> Référence : Mise en attente de l’Orchestration et la réactivation à [http://go.microsoft.com/fwlink/?LinkId=155284](http://go.microsoft.com/fwlink/?LinkId=155284)|  
|BizTalk Server : Latence entrante de BizTalk|Latence moyenne en millisecondes, entre lorsque le moteur de messagerie reçoit un document à partir de l’adaptateur le moment où qu'il est publié dans la MessageBox. Réduire la latence est importante pour certains utilisateurs de BizTalk, par conséquent suivi combien coûte des documents de temps dans l’adaptateur entrant est important. Pour plus d’informations, reportez-vous à l’analyse de latence BizTalk entrants dans cette rubrique.|  
|BizTalk Server : Délai de remise de Message BizTalk|C’est le délai actuel en millisecondes (ms) imposé à chaque lot de remise de messages (applicable si la remise de messages est limitée). En ce qui concerne la limitation, un délai est appliqué à la publication ou le traitement du message, selon que le message est entrant ou sortant. La durée du délai est proportionnelle à la gravité de la condition de limitation. Conditions de limitation de gravité supérieure lancera une période de limitation est longue à faible niveau de gravité des conditions. La durée du délai est ajustée à la baisse ou à la hausse dans la limite de plages par le mécanisme de limitation au fur et à mesure que les conditions évoluent. La durée du délai en cours est exposée via le délai de remise de messages (ms) et les compteurs de performances délai (ms) associés à la catégorie d’objet de performance BizTalk : Agent de publication de messages. Cette analyse vérifie un délai de remise de messages de plus de 5 secondes. Retards de remise de message long peuvent indiquer une limitation importante en raison d’une charge élevée.<br /><br /> Référence : Comment [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)|  
|BizTalk Server : Remise de Message BizTalk état de limitation|L’état de limitation de la remise de messages BizTalk est un des indicateurs de la limitation principales. Il s’agit d’un indicateur qui signale si le système limite la remise de messages (ce qui affecte le traitement des messages XLANG et les transports en sortie). La condition de limitation est indiquée par la valeur numérique du compteur. Pour plus d’informations, consultez analyse état de limitation de remise de Message BizTalk dans cette rubrique.|  
|BizTalk Server : Message BizTalk délai de publication|Délai intégré dans chaque lot qualifié pour la limitation de publication de messages. En ce qui concerne la limitation, un délai est appliqué à la publication ou le traitement du message, selon que le message est entrant ou sortant. La durée du délai est proportionnelle à la gravité de la condition de limitation. Conditions de limitation de gravité supérieure lancera une période de limitation est longue à faible niveau de gravité des conditions. La durée du délai est ajustée à la baisse ou à la hausse dans la limite de plages par le mécanisme de limitation au fur et à mesure que les conditions évoluent. La durée du délai en cours est exposée via le délai de remise de messages (ms) et les compteurs de performances délai (ms) associés à la catégorie d’objet de performance BizTalk : Agent de publication de messages. Cette analyse vérifie un délai supérieur à 5 secondes de la publication de messages. Retards de remise de message long peuvent indiquer une limitation importante en raison d’une charge élevée.<br /><br /> Référence : Comment [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)|  
|BizTalk Server : Échecs de connexion de base de données MessageBox BizTalk|Ce compteur de performance est le nombre de connexions de tentative de la base de données ayant échoué depuis le démarrage de l’instance d’hôte. Si le service SQL Server qui héberge les bases de données BizTalk devient indisponible pour une raison quelconque, le cluster de base de données transfère les ressources de l’ordinateur actif vers l’ordinateur passif. Pendant ce processus de basculement, le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] instances de service rencontrer des échecs de connexion de base de données et relancent automatiquement pour les bases de données. L'ordinateur contenant la base de données indemne (ordinateur jusqu'alors passif) commence à traiter les connexions de la base de données après avoir pris en charge les ressources durant le basculement. Pour plus d’informations, consultez analyse d’échecs de la connexion de base de données BizTalk MessageBox dans cette rubrique.|  
|Server de BizTalk : BizTalk latence de messagerie : latence de la réponse de demande|Latence moyenne, en millisecondes, entre le moment où le moteur de messagerie reçoit un document de requête de l'adaptateur et le moment où un document de réponse est renvoyé vers l'adaptateur. Consultez le graphique montrant comment la latence est mesurée dans l’analyse de latence BizTalk entrants dans cette rubrique. En supposant que d’un environnement à faible latence, cette analyse vérifie une latence requête-réponse supérieur à 5 secondes. Cela peut indiquer un retard de traitement entre l’adaptateur entrant et de l’adaptateur de sortie.<br /><br /> Références :<br /><br /> -Requête/réponse à [http://go.microsoft.com/fwlink/?LinkId=155288](http://go.microsoft.com/fwlink/?LinkId=155288)<br />BizTalk Server 2006 : étude de cas de l’évolutivité à l’aide de l’adaptateur SOAP dans BizTalk Server 2006 à [http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)|  
|Server de BizTalk : BizTalk messagerie état de limitation de publication|État de limitation de publication de messages BizTalk sont un des principaux indicateurs de limitation. Il s’agit d’un indicateur qui signale si le système limite la publication de messages (ce qui affecte le traitement des messages XLANG et des transports entrants). Pour plus d’informations, voir BizTalk Messaging publication limitation état analyse dans cette rubrique.|  
|BizTalk Server : BizTalk Orchestration suspendues par seconde|Un message suspendu est une instance d’un message ou une orchestration qui [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] a arrêté le traitement en raison d’une erreur dans le système ou le message. Les instances dont l'exécution a été interrompue suite à des erreurs système peuvent généralement reprendre une fois le problème résolu. Souvent, les instances suspendues en raison d’un problème de message ne sont pas pouvant être reprises et le message lui-même doit être fixe et renvoyé à la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] système. Cette analyse vérifie tous les messages/orchestrations suspendues.<br /><br /> Référence : BizTalk Server 2004 : analyse et le dépannage de [http://go.microsoft.com/fwlink/?linkid=108771](http://go.microsoft.com/fwlink/?linkid=108771)|  
|BizTalk Server : BizTalk Orchestrations Completed/seconde|Ceci est le nombre d’orchestrations BizTalk qui ont été effectuées par seconde. Il s’agit d’un bon indicateur concernant la quantité de débit du traitement de BizTalk. Cette analyse fournit des statistiques uniquement.<br /><br /> Référence : BizTalk Server 2006 : étude de cas de l’évolutivité à l’aide de l’adaptateur SOAP dans BizTalk Server 2006 <br />[http://go.Microsoft.com/fwlink/?LinkId=108774](http://go.microsoft.com/fwlink/?linkid=108774)|  
|BizTalk Server : Ignoré des Orchestrations BizTalk|Nombre d'instances d'orchestration supprimées de la mémoire depuis le démarrage de l'instance de l'hôte. Une orchestration peut être supprimée si le moteur ne parvient pas à conserver son état. Cette analyse vérifie les messages ignorés.<br /><br /> Référence : Blog du moteur de base de BizTalk<br />[http://go.Microsoft.com/fwlink/?LinkId=108775](http://go.microsoft.com/fwlink/?linkid=108775)|  
|BizTalk Server : BizTalk Orchestrations résidentes en mémoire|Nombre d'instances d'orchestration actuellement hébergées par l'instance de l'hôte. Cette analyse vérifie une tendance haussière dans les orchestrations résidentes en mémoire et si plus de 50 % des orchestrations résidentes en mémoire ne sont pas pouvant être en attente. Pour plus d’informations, consultez résident des Orchestrations BizTalk dans l’analyse de la mémoire.|  
|BizTalk Server : Temps de latence sortante de l’adaptateur de BizTalk|Ceci est la latence moyenne en secondes à partir de lorsque l’adaptateur reçoit un document à partir du moteur de messagerie le moment où qu'il est envoyé par l’adaptateur. Consultez le graphique montrant comment la latence est mesurée dans l’analyse de latence BizTalk entrants dans cette rubrique. En supposant que d’un environnement à faible latence, cette analyse vérifie la latence dans l’adaptateur de sortie de plus de 5 secondes en moyenne. Cela peut indiquer un retard de traitement dans le transport des messages via des adaptateurs de sortie dans cette instance d’hôte. Si plusieurs cartes sortantes existent dans cette instance d’hôte, envisagez de les séparer en leurs propres ordinateurs hôtes pour déterminer quelle carte sortant a une latence élevée.<br /><br /> Références :<br /><br /> -Requête/réponse à [http://go.microsoft.com/fwlink/?LinkId=155288](http://go.microsoft.com/fwlink/?LinkId=155288)<br />BizTalk Server 2006 : étude de cas de l’évolutivité à l’aide de l’adaptateur SOAP dans BizTalk Server 2006 à [http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)<br />-Identification des goulots d’étranglement au niveau de BizTalk à [http://go.microsoft.com/fwlink/?LinkId=155289](http://go.microsoft.com/fwlink/?LinkId=155289)<br />BizTalk Server 2004 : optimisation des performances pour la messagerie à faible latence [http://go.microsoft.com/fwlink/?linkid=108777](http://go.microsoft.com/fwlink/?linkid=108777)|  
|Server de BizTalk : BizTalk des Messages en attente|Le nombre de messages reçus qui n’ont pas été reconnues comme reçu dans la MessageBox. Messages en attente de messages qui ont été Miss en mémoire et remis à l’orchestration XLANG, mais n’ont pas encore sont été traités. Cette situation a rien à voir avec perte de données.  Remise d’un message à une orchestration est un processus comportant plusieurs étape et est simplement une instance du message résidant dans la table de mise en attente dans la base de données. Ces messages en attente comptent les messages qu’in-process ; Par conséquent, un grand nombre d'entre eux en mémoire peut entraîner la limitation sur le système. Ajuster le paramètre de taille de file d’attente de messages interne peut vous aider à contrôler le nombre de messages en attente. Le paramètre de Messages de In-Process par UC a un impact sur lorsque la limitation appelle lorsqu’un grand nombre de messages en attente se produit. Ces paramètres sont trouvent dans les propriétés d’hôte dans la Console Administration de BizTalk. Cette analyse vérifie montre uniquement les statistiques de ce compteur.<br /><br /> Référence : Compteurs de performances du moteur d’Orchestration à [http://go.microsoft.com/fwlink/?LinkId=155290](http://go.microsoft.com/fwlink/?LinkId=155290)|  
|BizTalk Server : Points de persistance BizTalk/seconde|Nombre moyen d'instances d'orchestration enregistrées par seconde. Le moteur d'orchestration enregistre l'état d'une instance d'orchestration en cours d'exécution en différents points. S’il doit réalimenter l’instance d’orchestration, démarrer à partir d’un arrêt contrôlé ou récupérer après un arrêt inattendu, elle s’exécute l’instance d’orchestration à partir du dernier point de persistance. Pour conserver une instance d’orchestration, toutes les instances de votre orchestration fait directement ou indirectement de l’objet (par le biais d’autres objets) doivent être sérialisables. Persistance des messages fréquence (le nombre de fois que les données doivent être conservées) augmente, diminue de performances globales. En effet, chaque point de persistance est un aller-retour vers la base de données, par conséquent, chaque fois que possible réduire la fréquence des points de persistance en évitant ou la consolidation des points de persistance. Consultez les références ci-dessous pour plus d’informations sur les cas de points de persistance. Cette analyse vérifie en moyenne plus de 10 points de persistance par seconde. Il s’agit d’un point de départ général.<br /><br /> Références :<br /><br /> -Persistance dans les Orchestrations à [http://go.microsoft.com/fwlink/?LinkId=155291](http://go.microsoft.com/fwlink/?LinkId=155291)<br />-La persistance et l’Orchestration du moteur à [http://go.microsoft.com/fwlink/?LinkId=155292](http://go.microsoft.com/fwlink/?LinkId=155292)|  
|Server de BizTalk : Octets privés de BizTalk|Il s’agit des mégaoctets de mémoire privée allouée pour l’instance d’hôte et comparables au compteur de performance « \Processus (*) \Private ». Cette analyse détermine si toutes les instances d’hôte consomment une grande taille de la mémoire du système et indique si l’instance d’hôte s’accroît la consommation de mémoire au fil du temps. Dans cette rubrique pour plus d’informations, reportez-vous à l’analyse des octets privés de BizTalk.|  
|Server de BizTalk : Taille de la Table Spool de BizTalk|La table du spouleur MessageBox contient un enregistrement pour chaque message dans le système (actif ou en attente d’être « garbage collecté »). Analyse le nombre de lignes dans cette table et le nombre de messages reçus par seconde lors de la charge croissante du système fournit un moyen simple pour trouver le débit maximal acceptable. Augmenter simplement la charge d’entrée jusqu'à ce que (1) la table spool commence à croître indéfiniment ou (2) le nombre de messages reçus par des plateaux deuxième, selon ce qui se produit en premier et qui est le débit maximal. En résumé, indépendamment des autres indicateurs, cette mesure vous donnera un moyen simple et rapide pour déterminer si votre système charge ou non. Lorsque la taille de tables de mise en attente de BizTalk se trouve sur une tendance haussière, puis la limitation en raison de la vitesse de transmission de messages déséquilibrées (vitesse en entrée dépasse la vitesse de sortie) ou la limitation en raison de la taille de la base de données peut se produire. Cette analyse vérifie une tendance haussière dans la taille de la Table Spool BizTalk.<br /><br /> Références :<br /><br /> -Présentation de BizTalk Server 2004 Service Pack 1 débit et capacité à [http://go.microsoft.com/fwlink/?linkid=108781](http://go.microsoft.com/fwlink/?linkid=108781)<br />-Test de charge durable à [http://go.microsoft.com/fwlink/?LinkId=155293](http://go.microsoft.com/fwlink/?LinkId=155293)<br />-Performances du moteur recommandations pour le test [http://go.microsoft.com/fwlink/?LinkID=155294](http://go.microsoft.com/fwlink/?LinkID=155294)|  
|Server de BizTalk : BizTalk taille données de suivi|Lorsque BizTalk Server traite plus en plus de données sur votre système, la base de données des suivis BizTalk (BizTalkDTADb) continue à croître. Cette croissance non contrôlée affecte la performance du système et peut générer des erreurs dans le service TDDS (Tracking Data Delivery Service). Outre les données de suivi générales, les messages suivis peuvent également s'accumuler dans la base de données MessageBox, affectant ainsi les performances du disque. Cette analyse vérifie une tendance haussière de plus de 5 Mo par heure dans le suivi taille des données.<br /><br /> Référence :<br /><br /> Archivage et la purge de la base de données de suivi de BizTalk [http://go.microsoft.com/fwlink/?LinkID=153816](http://go.microsoft.com/fwlink/?LinkID=153816)|  
|BizTalk Server : Abandon des étendues transactionnelles de BizTalk|Ceci est le nombre d’étendues à long terme ou atomiques qui ont été interrompues depuis le démarrage de l’instance d’hôte. Un abandon de l’étendue transactionnelle est une défaillance se produit dans une étendue de transaction dans une orchestration. Il est important de comprendre que le Gestionnaire de compensation d’une étendue est appelé uniquement si l’étendue est terminée, mais doit être annulée, car une étendue voisine a décidé d’annuler (en raison d’échecs qui peuvent se produire plus tard dans le processus). En outre, aucune restauration « auto » de l’état se produit en cas d’abandon de la transaction. Vous pouvez obtenir ce résultat par programmation via les gestionnaires d’exception et de compensation. Abandons de l’étendue transactionnelle doivent se produire pas normalement dans un environnement de production ; Par conséquent, cette analyse vérifie l’occurrence de toutes les étendues transactionnelles interrompues.<br /><br /> Référence :<br /><br /> Les transactions entre BizTalk Server 2004 sur [http://go.microsoft.com/fwlink/?linkid=108784](http://go.microsoft.com/fwlink/?linkid=108784)|  
|BizTalk Server : BizTalk les étendues transactionnelles compensées|Compensation peut être considérée comme une opération logique d’annulation du travail qui a été validée avec succès en réponse à une condition d’erreur. Il est important de comprendre que le Gestionnaire de compensation d’une étendue est appelé uniquement si l’étendue est terminée, mais doit être annulée, car une étendue voisine a décidé d’annuler (en raison d’échecs qui peuvent se produire plus tard dans le processus). En outre, aucune restauration « auto » de l’état se produit en cas d’abandon de la transaction. Vous pouvez obtenir cette restauration par programme grâce aux gestionnaires d'exception et de compensation. Compensations d’étendue transactionnelle doivent se produire pas normalement dans un environnement de production ; Par conséquent, cette analyse vérifie l’occurrence de toutes les étendues transactionnelles interrompues.<br /><br /> Référence : Les Transactions entre BizTalk Server 2004 sur [http://go.microsoft.com/fwlink/?linkid=108784](http://go.microsoft.com/fwlink/?linkid=108784)|  
|BizTalk Server : Octets virtuels BizTalk|Il s’agit des mégaoctets réservés pour la mémoire virtuelle pour l’instance d’hôte. Cette analyse détermine si toutes les instances d’hôte consomment une grande quantité de la mémoire du système et indique si l’instance d’hôte s’accroît la consommation de mémoire au fil du temps. Pour plus d’informations, consultez analyse des octets virtuels BizTalk dans cette rubrique.|  
|BizTalk Server : L’Agent de Message BizTalk de base de données de la limitation de la Session|Ceci est le nombre de connexions de base de données ouverte dans la MessageBox par rapport à son paramètre de limitation de BizTalk respectif. « Base de données de connexion par UC » est le nombre maximal de sessions simultanées de la base de données (par UC) autorisé avant le début de la limitation. Pour plus d’informations, voir analyse de limitation BizTalk Message Agent base de données de Session dans cette rubrique.|  
|BizTalk Server : Session de base de données Message BizTalk l’Agent seuil de limitation|Il s’agit de seuil actuel pour le nombre de connexions de base de données ouverte dans la MessageBox. « Base de données de connexion par UC » est le nombre maximal de sessions simultanées de la base de données (par UC) autorisé avant le début de la limitation. Pour plus d’informations, consultez BizTalk Message l’Agent de base de données de limitation seuil d’analyse de la Session dans cette rubrique.|  
|BizTalk Server : La limitation de nombre Message Message BizTalk agents In-process|Ceci est le nombre de messages simultanés que le traitement de la classe de service. Le paramètre « messages In-process par UC » dans les paramètres de limitation d’hôte est le nombre maximal de messages remis au Gestionnaire de Point de terminaison (EPM) ou XLANG qui n’ont pas été traités. Pour plus d’informations, voir analyse de limitation de l’Agent de Message BizTalk In-process nombre de messages dans cette rubrique.|  
|BizTalk Server : Seuil de limitation de nombre Message Message BizTalk agents In-process|Il s’agit de seuil pour le nombre de messages simultanés que le traitement de la classe de service actuel. Le paramètre « messages In-process par UC » dans les paramètres de limitation d’hôte est le nombre maximal de messages remis au Gestionnaire de Point de terminaison (EPM) ou XLANG qui n’ont pas été traités. Pour plus d’informations, voir Agent des messages BizTalk In-process Message nombre limitation seuil d’analyse dans cette rubrique.|  
|BizTalk Server : Utilisation de mémoire de processus Message BizTalk Agent (Mo) la limitation|Il s’agit de l’utilisation de la mémoire du processus actuel (Mo). Limitation de la mémoire de processus BizTalk peut se produire si le lot à publier a des exigences d’utilise beaucoup de mémoire, ou si trop de threads de traitement des messages. Pour plus d’informations, reportez-vous à l’analyse de la limitation d’utilisation mémoire BizTalk Message Agent processus (Mo) dans cette rubrique.|  
|BizTalk Server : Message BizTalk Agent processus utilisation de la mémoire (Mo) seuil de limitation|Il s’agit de seuil actuel pour l’utilisation de la mémoire du processus actuel (Mo). Le seuil peut être ajusté dynamiquement en fonction de la quantité de mémoire disponible pour ce processus et son modèle de consommation de mémoire réelle. Limitation de la mémoire de processus BizTalk peut se produire si le lot à publier a des exigences d’utilise beaucoup de mémoire, ou si trop de threads de traitement des messages. Pour plus d’informations, reportez-vous à l’utilisation de mémoire de processus de l’Agent de Message BizTalk (Mo) analyse de seuil de limitation dans cette rubrique.|  
|BizTalk Server : Nombre de threads Agent BizTalk Message la limitation|Nombre total de threads dans le processus BizTalk. « Threads par UC » sont le nombre total de threads dans le processus hôte incluant des threads utilisés par les adaptateurs. Si ce seuil est dépassé, BizTalk Server essaie de réduire la taille du pool de threads du Gestionnaire des points de terminaison et celle du pool de threads de l'agent des messages. La limitation basée sur les threads doit être activée dans les scénarios dans lesquels des charges élevées peuvent conduire à la création d'un grand nombre de threads. Ce paramètre a une incidence sur la limitation au niveau des entrées et des sorties. Basée sur les threads de limitation est désactivée par défaut. Cette analyse vérifie si le nombre de threads de BizTalk est supérieur à 80 pour cent de la valeur de seuil de limitation qui indique une condition de limitation est probable.<br /><br /> Références :<br /><br /> -Limitation des compteurs de performances au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)<br />- [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)<br />-Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkId=155296](http://go.microsoft.com/fwlink/?LinkId=155296)<br />-Les paramètres de configuration qui affectent les performances de l’adaptateur à [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)<br />-Sessions de base de données threads, et la limitation à [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)|  
|BizTalk Server : Nombre de threads Agent BizTalk Message seuil de limitation|Il s’agit de seuil pour le nombre total de threads du processus actuel. « Threads par UC » sont le nombre total de threads dans le processus hôte incluant des threads utilisés par les adaptateurs. Si ce seuil est dépassé, BizTalk Server essaie de réduire la taille du pool de threads du Gestionnaire des points de terminaison et celle du pool de threads de l'agent des messages. La limitation basée sur un thread doit être activée dans les scénarios où des charges élevées peuvent conduire à la création d’un grand nombre de threads. Ce paramètre a une incidence sur la limitation au niveau des entrées et des sorties.<br /><br /> Cette analyse vérifie si ce paramètre de limitation est défini à une valeur par défaut. Basée sur les threads de limitation est désactivée par défaut.<br /><br /> Références :<br /><br /> -Limitation des compteurs de performances au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)<br />- [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)<br />-Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkId=155296](http://go.microsoft.com/fwlink/?LinkId=155296)<br />-Les paramètres de configuration qui affectent les performances de l’adaptateur à [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)<br />-Sessions de base de données threads, et la limitation à [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)|  
  
## <a name="logicalphysical-disk-readwrite-latency-analysis"></a>Analyse de latence de lecture/écriture disque logique/physique  
 Le moyen le plus fiable pour Windows détecter un goulot d’étranglement des performances de disque est en mesure de son temps de réponse. Si les temps de réponse sont supérieures à.025 (25 millisecondes), qui est un seuil classique, ralentissements notables et affecter les utilisateurs des problèmes de performances peuvent se produire.  
  
 Causes courantes de la latence de disque sont la fragmentation du disque, du cache de performances, une saturation de réseau SAN et une charge trop importante sur le disque. Utilisez l’outil SPA pour aider à identifier les principaux fichiers et les processus à l’aide du disque. Vérifiez également le « processus d’e/s données opérations/s » et « Processus d’e/s autres opérations/s » pour afficher les processus qui consomment le plus de disque I / O de Gardez à l’esprit que les compteurs de performance ne peuvent pas spécifier les fichiers concernés.  
  
### <a name="references"></a>Références  
  
-   Sans les problèmes liés aux disques au niveau de [http://go.microsoft.com/fwlink/?linkid=50669](http://go.microsoft.com/fwlink/?linkid=50669)  
  
-   Comment identifier un goulot d’étranglement de performances de disque à l’aide de l’outil de Advisor (SPA) Microsoft Server Performance à [http://go.microsoft.com/fwlink/?linkid=98096](http://go.microsoft.com/fwlink/?linkid=98096)  
  
-   Téléchargement des détails pour le Service Microsoft Performance Advisor (SPA) à l’adresse : [http://go.microsoft.com/fwlink/?linkid=57769](http://go.microsoft.com/fwlink/?linkid=57769)  
  
## <a name="logical-disk-transferssec"></a>Transferts disque logique/s  
 « Transferts disque/s » est la vitesse de lecture et d’opérations d’écriture sur le disque. Alors que les transferts de disque ne sont pas une corrélation directe sur le disque I / O, ils nous indiquent le nombre d’opérations se produisent. Si vous moyenne séquentiel I / O d’et aléatoire I / S, puis vous retrouvez avec environ 80 I / O par seconde en règle générale. Par conséquent, nous devons nous attendre un lecteur SAN pour effectuer plus de 80 / S par seconde après sous chargement. Les seuils de cette vérification de l’analyse voir si un des disques logiques affichent les temps de réponse médiocre (plus de temps de réponse de 25 ms pour les opérations d’e/s). Si la valeur est true, nous devons pensons que les transferts de disque par seconde à être supérieure ou égale à 80. Si ce n’est pas le cas, l’architecture du disque doit être examinée. La cause la plus courante d’e/s de disque est un numéro d’unité logique (LUN) sur le réseau SAN, ce qui signifie que la condition dans laquelle plusieurs LUN est à l’aide de la baie de disques physiques small la surcharge.  
  
### <a name="reference"></a>Référence  
 NT Server et les performances du sous-système de disque à [http://go.microsoft.com/fwlink/?linkid=106783](http://go.microsoft.com/fwlink/?linkid=106783)  
  
## <a name="available-memory-analysis"></a>Analyse de la mémoire disponible  
 « Mégaoctets disponibles » est la quantité de mémoire physique disponible pour les processus en cours d’exécution sur l’ordinateur, en mégaoctets. Le Gestionnaire de mémoire virtuelle ajuste en permanence l’espace utilisé dans la mémoire physique et sur le disque pour conserver un nombre minimal d’octets disponibles pour le système d’exploitation et les processus. Lorsque les octets disponibles sont très nombreux, le Gestionnaire de mémoire virtuelle permet les jeux de travail de processus augmente ou conserve stable en supprimant une ancienne page pour chaque nouvelle page ajouté. Lorsque les octets disponibles sont peu nombreuses, le Gestionnaire de mémoire virtuelle doit supprimer les jeux de travail de processus pour mettre à jour la condition minimale requise.  
  
 Cette analyse vérifie si la mémoire disponible est faible – disponible à 10 pour cent d’avertissement et critique de 5 % disponibles. Un avertissement est également averti lorsqu’une baisse de 10 Mo par heure est détecté, qui indique une condition de mémoire à venir potentiels. Manque de mémoire physique peut entraîner un mode privilégié accru du processeur et les délais de système.  
  
### <a name="references"></a>Références  
  
-   Détection de goulots d’étranglement de la mémoire à [http://go.microsoft.com/fwlink/?linkid=106787](http://go.microsoft.com/fwlink/?linkid=106787)  
  
-   Sans problèmes liées à la mémoire au niveau de [http://go.microsoft.com/fwlink/?linkid=62575](http://go.microsoft.com/fwlink/?linkid=62575)  
  
## <a name="memory-leak-detection-analysis"></a>Analyse de détection de fuite de mémoire  
 Cette analyse détermine si les processus consomment une grande quantité de la mémoire du système et indique si le processus s’accroît la consommation de mémoire au fil du temps. Un processus consomme de grandes parties de la mémoire est OK tant que le processus retourne la mémoire sur le système. Recherchez l’augmentation des tendances dans le graphique. Une tendance haussière sur une longue période de temps peut indiquer une fuite de mémoire. Les octets privés sont la taille actuelle, en octets, de mémoire que ce processus a alloué et qui ne peut pas être partagé avec d’autres processus. Cette analyse recherche les 10 Mo par heure et de 5 Mo par heure, l’augmentation des tendances. Utilisez cette analyse en corrélation avec l’analyse de la mémoire disponible.  
  
 Gardez à l’esprit que les processus qui vient d’être démarrées initialement apparaîtra comme une fuite de mémoire lorsqu’il est le comportement normal simplement au démarrage. Une fuite de mémoire se produit lorsqu’un processus continue à consommer de mémoire et ne libère pas de mémoire sur une longue période de temps.  
  
 Si vous suspectez une fuite de mémoire, puis installez et utilisez l’outil de diagnostic de débogage. Pour plus d’informations sur l’outil de diagnostic de débogage, consultez la section Références.  
  
### <a name="reference"></a>Référence  
 Déboguer v1.1 outil de Diagnostic à [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)  
  
## <a name="memory-pagessec-analysis"></a>Analyse de Pages/s de mémoire  
 Cette analyse vérifie si la valeur « Pages/s » est élevé. Si elle est élevée, puis le système est probablement en cours d’exécution en dehors de la mémoire en essayant de page de la mémoire sur le disque. « Pages/s » est la vitesse à laquelle les pages sont lues ou écrites sur le disque afin de résoudre des défauts de page. Ce compteur est un indicateur principal des types de défauts qui causent des délais au niveau du système.  Il est la somme de « Mémoire\Pages en entrée/s » et « Mémoire\Pages en sortie/s ». Elle est exprimée en nombre de pages, pour pouvoir être comparée aux autres compteurs de pages, telles que « Erreurs Mémoire\Lectures de pages/s ».  
  
 Ce compteur doit toujours être inférieur à 1 000. Cette analyse vérifie les valeurs supérieures à 1 000. Utilisez cette analyse en corrélation avec l’analyse de l’analyse de la mémoire disponible et la détection des fuites de mémoire. Si toutes les analyses sont lever les alertes en même temps, cela peut indiquer que le système manque de mémoire. Analyse les étapes mentionnées dans l’analyse d’autres informations concernant mémoire détection des fuites dans cette rubrique.  
  
### <a name="reference"></a>Référence  
 Sans problèmes liées à la mémoire au niveau de [http://go.microsoft.com/fwlink/?linkid=62575](http://go.microsoft.com/fwlink/?linkid=62575)  
  
## <a name="memory-system-cache-resident-bytes-analysis"></a>Analyse d’octets résidants dans le Cache mémoire système  
 « Octets résidants dans système du Cache » sont la taille, en octets, du code de système d’exploitation paginable dans le cache du système de fichiers. Cette valeur inclut uniquement les pages physiques actuelles et n’inclut pas toutes les pages de mémoire virtuelle ne résidantes pas actuellement. Il égale à la valeur de cache du système dans le Gestionnaire de tâches. Par conséquent, cette valeur peut être inférieure à la quantité réelle de mémoire virtuelle utilisée par le cache du système de fichiers. Cette valeur est un composant de « mémoire\\\System octets résidants dans le Code », qui représente le système d’exploitation paginable tout le code est actuellement dans la mémoire physique. Ce compteur affiche la dernière valeur observée seulement ; Il n’est pas une moyenne.  
  
 Cette analyse vérifie une tendance haussière de 10 Mo par heure. Lors du chargement, un serveur peut utiliser le cache du système afin de mettre en cache d’activité d’e/s comme disque. Utilisez en corrélation avec les opérations de traitement des données d’e/s par seconde et le processus d’e/s autres opérations par seconde analyses.  
  
## <a name="processor-utilization-analysis-and-excessive-processor-use-by-processes"></a>Analyse de l’utilisation du processeur et l’utilisation Excessive du processeur par processus  
 « % Temps processeur » est le pourcentage de temps pendant lequel le processeur est occupé à exécuter un thread actif. Il est calculé en mesurant la durée que du thread inactif est actif dans l’intervalle d’échantillonnage, puis en soustrayant ce temps à partir de la durée de l’intervalle. (Chaque processeur a un thread inactif qui consomme des cycles lorsque aucun autre thread n’est prêt à s’exécuter.) Ce compteur est l’indicateur principal de l’activité du processeur et affiche le pourcentage moyen de temps occupé observé pendant l’intervalle échantillon. Il est calculé en surveillant la durée que le service est inactif et en soustrayant cette valeur de 100 %.  
  
 Cette analyse vérifie le taux d’utilisation supérieure à 60 pour cent sur chacun des processeurs. Dans ce cas, déterminez s’il s’agit de CPU en mode utilisateur élevés ou en mode privilégié élevé. Si mode privilégié élevé du processeur est suspecté, puis voir le « privilégié Mode processeur analyse ». Si un goulot d’étranglement du processeur en mode utilisateur est suspectée, envisagez d’utiliser un profileur de processus pour analyser les fonctions à l’origine de la forte consommation de processeur. Consultez « Comment à : identifier les fonctions à l’origine d’un goulot d’étranglement de processeur en mode utilisateur élevée pour les Applications serveur dans un environnement de Production » l’article dans la section Références pour plus d’informations.  
  
## <a name="processor-queue-length-analysis"></a>Analyse de longueur de file d’attente de processeur  
 « Longueur de file d’attente de processeur » est le nombre de threads dans la file d’attente du processeur. À la différence des compteurs disque, ce compteur affiche les threads prêts uniquement, pas les threads qui sont en cours d’exécution.  Il concerne une seule file d’attente de temps processeur même sur les ordinateurs avec plusieurs processeurs. Par conséquent, si un ordinateur possède plusieurs processeurs, vous devez diviser cette valeur par le nombre de processeurs desservant la charge de travail. Une file d’attente de processeur maintenue de moins de 10 threads par processeur est normalement acceptable, en fonction de la charge de travail.  
  
 Cette analyse détermine si la longueur de file d’attente moyenne du processeur dépasse le nombre de processeurs. Dans ce cas, cela peut indiquer un goulot d’étranglement de processeur. Utilisez cette analyse en corrélation avec l’analyse de processeur en Mode privilégié et l’utilisation Excessive du processeur par processus. La file d’attente du processeur est la collection de threads qui sont prêts, mais n’a pas pu être exécuté par le processeur, car un autre thread actif est en cours d’exécution. Une file d’attente prolongée ou périodique de plus de threads que le nombre de processeurs est une bonne indication d’un goulot d’étranglement de processeur.  
  
 Vous pouvez utiliser ce compteur conjointement avec le « processeur\\% temps processeur » compteur pour déterminer si votre application peut tirer parti des processeurs plus. Il concerne une seule file d’attente de temps processeur, même sur les ordinateurs multiprocesseurs. Par conséquent, sur un ordinateur multiprocesseur, divisez la valeur « Longueur de file d’attente de processeur » (PQL) par le nombre de processeurs desservant la charge de travail  
  
 Si le processeur est très occupé (90 pour cent et une utilisation plus importante) et la moyenne PQL est toujours supérieure au nombre de processeurs, puis vous avez peut-être un goulot d’étranglement de processeur qui peut tirer parti des processeurs supplémentaires. Ou bien, vous pouvez réduire le nombre de threads et de file d’attente au niveau de l’application. Cela provoquera moins de changements de contexte, ce qui est correct pour réduire la charge de l’UC. La raison d’une haute PQL avec utilisation faible du processeur est que les demandes de temps processeur arrivent au hasard et threads demande irrégulières quantités de temps du processeur. Cela signifie que le processeur n’est pas un goulet d’étranglement. Au lieu de cela, votre thread logique qui doit être amélioré.  
  
 Si un goulot d’étranglement du processeur en mode utilisateur est suspectée, envisagez d’utiliser un profileur de processus pour analyser les fonctions à l’origine de la forte consommation de processeur. Consultez le « comment à : identifier les fonctions à l’origine d’un goulot d’étranglement de processeur en mode utilisateur élevée pour les Applications serveur dans un environnement de Production » l’article dans la section Références pour plus d’informations.  
  
## <a name="privileged-mode-cpu-analysis"></a>Analyse de processeur en Mode privilégié  
 Ce compteur indique le pourcentage de temps qu'un thread s’exécute en mode privilégié. Lorsque votre application appelle les fonctions de système d’exploitation (par exemple pour effectuer des e/s de fichier ou de réseau ou pour allouer de la mémoire), ces fonctions de système d’exploitation sont exécutées en mode privilégié.  
  
 Mode privilégié élevé du processeur indique que l’ordinateur passe trop de temps de travail du système d’e/s par rapport à réel (en mode mono-utilisateur). « % Temps privilégié » est le pourcentage de temps passé par les threads de processus à exécuter du code en mode privilégié.  Lorsqu’un service système Windows est appelé, le service s’exécute souvent en mode privilégié pour accéder aux données privées du système. Ces données sont protégées contre tout accès threads s’exécutant en mode utilisateur. Les appels au système peuvent être explicites ou implicites, tels que les défauts de page ou les interruptions. Contrairement à certains anciens systèmes d’exploitation, Windows utilise les frontières de processus pour la protection des sous-systèmes en plus de la protection traditionnelle des modes utilisateur et privilégié. Certains travaux effectué par Windows pour le compte de l’application peuvent apparaître dans d’autres processus de sous-système en plus du temps privilégié pour le processus.  
  
 Cette analyse vérifie si le mode privilégié du processeur consomme plus de 30 pour cent de l’UC totale. Si, puis la consommation du processeur est provoquée par un autre goulot d’étranglement autre que le processeur de réseau, la mémoire ou e/s disque. Utilisez en corrélation avec % temps d’interruption et de basculements de contexte élevés analyses.  
  
## <a name="high-context-switching-analysis"></a>Analyse de commutation de contexte élevé  
 Un changement de contexte se produit lorsqu’un thread de priorité plus élevée prioritaire d’un thread de priorité plus faible qui est en cours d’exécution ou quand un thread se bloque une priorité élevée. Les niveaux élevés de changement de contexte peuvent se produire lorsque de nombreux threads partagent le même niveau de priorité. Ceci indique souvent que trop de threads sont en concurrence pour les processeurs sur le système. Si vous ne voyez pas la quantité d’utilisation du processeur, et vous voyez des niveaux très bas de changement de contexte, cela peut indiquer que les threads sont bloqués.  
  
 Changement de contexte élevé doit seulement être analysé en mode privilégié du processeur et du processeur est élevé. En règle générale, taux de commutation de contexte de moins de 5 000 par seconde par le processeur ne sont pas important de tenir compte des. Si le taux de changement de contexte dépassent 15 000 par seconde par le processeur, il existe une contrainte.  
  
 Cette analyse vérifie élevée du processeur, en mode privilégié élevé UC et haute (supérieur à 5 000 par processeur) changements de contexte système par seconde qui se produisent tous en même temps. Si le changement de contexte élevé se produit, puis le réduisent le nombre de threads et processus en cours d’exécution sur le système.  
  
## <a name="biztalk-high-database-sessions-analysis"></a>Analyse de Sessions de base de données BizTalk haute  
 Ce compteur a deux valeurs possibles à savoir normales (0) ou dépassée (1). Cette analyse vérifie la valeur 1. Dans ce cas, BizTalk a dépassé le seuil du nombre de sessions de base de données autorisée. Cette valeur est contrôlée par la valeur « Connexion de base de données par UC » dans les paramètres de la limitation des hôtes BizTalk.  
  
 « Base de données de connexion par UC » est le nombre maximal de sessions simultanées de la base de données (par UC) autorisé avant le début de la limitation. Les sessions de base de données inactives dans le pool de sessions par hôte commun ne sont pas incluses dans ce nombre et cette vérification est effectuée strictement sur le nombre de sessions réellement utilisées par l'instance de l'hôte. Cette option est désactivée par défaut ; en règle générale, ce paramètre doit uniquement être activé si le serveur de base de données est un goulot d’étranglement ou pour les serveurs de base de données de bas de gamme dans le système BizTalk Server. Vous pouvez surveiller le nombre de connexions de base de données active à l’aide du compteur de performance de session de base de données sous la catégorie d’objet de performance BizTalk : Agent. Ce paramètre a une incidence uniquement sur la limitation basée sur la fréquence des messages sortants. Entrez la valeur 0 pour désactiver la limitation basée sur le nombre de sessions de base de données. La valeur par défaut est 0 :  
  
> [!NOTE]  
>  La clé de Registre « MaxWorkerThreads » détermine le nombre de threads disponible pour BizTalk et peut s’avérer utile si la plupart des threads de BizTalk est occupée par des connexions de base de données.  
  
### <a name="references"></a>Références  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
-   Threads, les sessions de base de données et la limitation au [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)  
  
-   Les paramètres de configuration qui affectent les performances de l’adaptateur à [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)  
  
-   Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)  
  
## <a name="biztalk-high-database-size-analysis"></a>Analyse de la taille de base de données BizTalk haute  
 Ce compteur indique le nombre de messages dans les files d’attente de la base de données que ce processus a publié. Cette valeur est déterminée par le nombre d'éléments dans les tables de file d'attente pour tous les hôtes et le nombre d'éléments dans les tables du spouleur et de suivi. File d’attente inclut la file d’attente de travail, la file d’attente de l’état et la file d’attente suspendue. Si un processus publie vers plusieurs files d'attente, ce compteur représente la moyenne pondérée de toutes les files d'attente.  
  
 En cas de redémarrage de l'hôte, les statistiques stockées en mémoire sont perdues. Dans la mesure où une surcharge est impliquée, BizTalk Server reprendra recueil de statistiques uniquement lorsqu’il y a au moins 100 publie, avec 5 % de total publie dans le processus hôte redémarré.  
  
 Ce compteur est fixé à la valeur 1 si une des conditions répertoriées pour le nombre de messages dans le seuil de la base de données se produit. Ce seuil est présenté dans la rubrique Comment modifier les paramètres par défaut hôte limitation ci-dessous. Par défaut, le message de l’ordinateur hôte nombre figurant dans le seuil de limitation de la base de données est définie sur une valeur de 50 000, ce qui déclenchera une condition de limitation dans les circonstances suivantes :  
  
-   Le nombre total de messages publiés par l'instance de l'hôte dans les files d'attente de travail, de messages interrompus et d'état des hôtes d'abonnement est supérieur à 50 000.  
  
-   Le nombre de messages de la table du spouleur ou de la table de suivi est supérieur à 500 000.  
  
 La limitation de publication de messages peut se produire dans la mesure où les messages interrompus sont inclus dans le nombre de messages dans le calcul de la base de données, même si le serveur BizTalk server rencontre peu ou pas de charge.  
  
 Cette analyse vérifie la valeur 1. Si cela se produit, envisagez un plan d’action qui permet de réduire le nombre de messages dans la base de données. Par exemple, vérifiez que les travaux BizTalk SQL Server s’exécutent sans erreur et utiliser le Hub du groupe dans la console Administration de BizTalk pour déterminer si le message constitués est causé par un grand nombre de messages suspendus.  
  
### <a name="references"></a>Références  
  
-   Messages suspendus sont inclus dans le nombre de messages dans le seuil de limitation de la base de données à [http://go.microsoft.com/fwlink/?LinkId=155304](http://go.microsoft.com/fwlink/?LinkId=155304)  
  
-   Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
## <a name="biztalk-high-in-process-message-count-analysis"></a>Analyse de nombre de messages In-Process BizTalk haute  
 Le paramètre « messages In-process par UC » dans les paramètres de limitation d’hôte est le nombre maximal de messages remis au Gestionnaire de Point de terminaison (EPM) ou XLANG qui n’ont pas été traités. Ce nombre n’inclut pas les messages récupérés à partir de la base de données, mais il est toujours en attente de remise dans la file d’attente en mémoire. Vous pouvez surveiller le nombre de Messages in-Process en utilisant le compteur de performances de nombre de messages In-process sous la catégorie d’objet de performance BizTalk : Agent. Ce paramètre fournit une indication pour le mécanisme de limitation lorsque vous envisagez de conditions de limitation. Le seuil réel fait l'objet d'un réglage automatique. Vous pouvez vérifier le seuil réel en analysant le compteur de performances du nombre de messages in-process.  
  
 Ce paramètre peut être défini sur une valeur inférieure pour les scénarios de messages volumineux, où la taille moyenne des messages est élevée, ou le traitement des messages peut nécessiter un grand nombre de messages. Cela se produisent si un scénario basé sur mémoire limitation trop souvent des expériences et si le seuil de mémoire est réglé automatiquement à une valeur très basse. Un tel comportement indique que le transport sortant doit traiter moins de messages simultanément pour éviter l'utilisation excessive de la mémoire. De même, dans des scénarios dans lesquels l'adaptateur est plus efficace lorsque seulement quelques messages sont traités simultanément (par exemple, lors de la transmission à un serveur qui limite les connexions simultanées), ce paramètre peut avoir une valeur inférieure à celle par défaut.  
  
 Cette analyse vérifie le compteur nombre de messages In-Process haute pour déterminer si ce type de limitation se produit. Dans ce cas, envisagez d’ajuster le paramètre « Messages In-Process par UC ». Ce paramètre a une incidence uniquement sur la limitation basée sur la fréquence des messages sortants. Entrez la valeur 0 dans le paramètre « Messages In-Process par UC » pour désactiver la limitation basée sur le nombre de messages in-process par UC. La valeur par défaut pour le paramètre « Messages In-Process par UC » est 1 000. Notez que la modification de cette valeur peut également avoir un impact sur la faible latence des messages et/ou l’efficacité des ressources BizTalk.  
  
### <a name="references"></a>Références  
  
-   Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
## <a name="biztalk-high-message-delivery-rate-analysis"></a>Analyse de taux de remise de messages BizTalk haute  
 Pour les messages sortants (remis), BizTalk Server limite la remise des messages si le taux entrant de remise de message pour l’instance d’hôte dépasse la vitesse de sortie de remise de messages * la valeur de facteur (en pourcentage) d’overdrive taux spécifié. Le paramètre de facteur (en pourcentage) taux overdrive est configurable dans la boîte de dialogue Paramètres de limitation du traitement des messages. En fonction des taux de limitation pour les messages sortants est réalisée en induisant un délai avant de supprimer les messages dans la file d’attente en mémoire et de distribuer les messages sur le moteur d’orchestration ou le Gestionnaire de Point de terminaison (EPM) pour le traitement. Aucune autre action n’est nécessaire pour accomplir en fonction des taux de limitation pour les messages sortants.  
  
 La limitation au niveau des sorties peut provoquer une retard de remise des messages et les messages peuvent s'accumuler dans la file d'attente en mémoire et engendrer le blocage des threads jusqu'à ce que la condition de limitation soit réduite. Lorsque file threads sont bloqués, aucun message supplémentaire n’est extraites à partir de la MessageBox dans la file d’attente en mémoire pour la remise de messages sortants.  
  
 Cette analyse vérifie une valeur de 1 dans le compteur haute vitesse de remise de messages. Vitesses de transmission de messages élevés peuvent résulter de la complexité de traitement élevées, adaptateurs de sortie lents ou momentanément des ressources système.  
  
### <a name="references"></a>Références  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
-   Comment BizTalk Server implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)  
  
-   Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)  
  
## <a name="biztalk-high-process-memory-analysis"></a>Analyse de mémoire de processus élevée de BizTalk  
 L’utilisation de la mémoire de processus BizTalk paramètre de seuil de limitation est le pourcentage de mémoire utilisée par rapport à la somme de la taille du jeu de travail et la mémoire virtuelle totale disponible pour le processus si une valeur comprise entre 1 et 100 est entrée. Par défaut, l’utilisation de mémoire de processus BizTalk paramètre de limitation est 25. Lorsqu' une valeur de pourcentage est spécifiée, le seuil de mémoire de processus est recalculé à intervalles réguliers. Si l’utilisateur spécifie une valeur en pourcentage, elle est calculée en fonction de la mémoire disponible pour la validation et l’utilisation de mémoire de processus en cours.  
  
 Cette analyse vérifie une valeur de 1 dans le compteur de mémoire de processus élevée. Si cela se produit, puis essayer de déterminer la cause de l’augmentation de la mémoire à l’aide de diagnostic de débogage (voir Références dans l’analyse de détection des fuites de mémoire). Remarque est-il normal pour les processus à consommer une grande partie de la mémoire au démarrage et il peut apparaître comme une fuite de mémoire, mais une fuite de mémoire true se produit lorsqu’un processus ne parvient pas à libérer la mémoire dont il n’a plus besoin, ce qui réduit la quantité disponible me mory au fil du temps. Consultez la référence « Comment à capturer un vidage d’un processus qui est une fuite de mémoire » ci-dessous et/ou l’analyse « Détection des fuites de mémoire » dans la PAL pour plus d’informations sur la façon d’analyser de façon générique fuites de mémoire de processus dans BizTalk.  
  
 La limitation de mémoire de processus élevée peut se produire si le lot à publier les exigences utilise beaucoup de mémoire ou trop de threads de traitement des messages.  Si le système semble être une limitation trop forte, envisagez d’augmenter la valeur associée le seuil d’utilisation de mémoire de processus pour l’hôte et vérifiez que l’instance d’hôte ne génère pas d’une erreur « mémoire insuffisante ». Si une erreur « mémoire insuffisante » est générée en augmentant le seuil d’utilisation de mémoire de processus, réduisez les valeurs de la taille de file d’attente de messages internes et les messages par les seuils du processeur dans le processus. Cette stratégie est particulièrement adaptée aux scénarios traitant de nombreux messages. En outre, cette valeur doit être définie sur une valeur faible des scénarios ayant des besoins en mémoire de grande taille par message. Définition d’une valeur faible pour Active la limitation au début et empêcher un éclatement de mémoire au sein du processus.  
  
 Si votre serveur BizTalk server s’exécute régulièrement en dehors de la mémoire virtuelle, puis envisagez de BizTalk Server 64 bits. Chaque processus sur les serveurs 64 bits peut traiter jusqu'à 4 To de mémoire virtuelle par rapport à de 2 Go 32 bits. En règle générale, BizTalk de 64 bits et 64 bits de SQL Server est fortement recommandé. Consultez la référence « prise en charge de BizTalk Server 64 bits » pour plus d’informations.  
  
### <a name="references"></a>Références  
  
-   Comment BizTalk Server implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)  
  
-   Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)  
  
-   Comment capturer une image mémoire d’un processus qui est une fuite de mémoire à [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)  
  
-   Prise en charge 64 bits de BizTalk Server à [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)  
  
## <a name="biztalk-high-system-memory-analysis"></a>Analyse de la mémoire système élevée de BizTalk  
 Le paramètre de seuil limitation de mémoire physique de BizTalk d’utilisation est le pourcentage de la consommation de mémoire par rapport à la quantité totale de mémoire physique disponible si une valeur comprise entre 1 et 100. Ce paramètre peut également être la quantité totale de mémoire physique disponible en mégaoctets, si une valeur supérieure à 100 est entrée. Entrez la valeur 0 pour désactiver la limitation basée sur l'utilisation de la mémoire physique. La valeur par défaut est 0 :  
  
 Cette analyse vérifie une valeur de 1 dans le compteur de mémoire système élevée. Étant donné que ceci mesure le volume total de mémoire système, une condition de limitation peut être déclenchée si des processus non BizTalk Server consomment un volume important de cette mémoire. Par conséquent, si cela se produit, la meilleure approche consiste à identifier les processus qui consomment la mémoire physique plus et/ou ajouter de la mémoire physique sur le serveur. Envisagez également de réduire la charge en réduisant la taille par défaut de la réserve de threads, et/ou la taille des lots de l’adaptateur. Pour plus d’informations, consultez l’analyse de détection des fuites de mémoire dans la PAL.  
  
### <a name="references"></a>Références  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
-   Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)  
  
-   Comment BizTalk Server implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)  
  
## <a name="biztalk-high-thread-count-analysis"></a>Analyse de nombre de Thread élevée de BizTalk  
 « Threads par UC » sont le nombre total de threads dans le processus hôte incluant des threads utilisés par les adaptateurs. Si ce seuil est dépassé, BizTalk Server tente de réduire la taille de la réserve de threads et le pool de threads de l’agent de message. La limitation basée sur les threads doit être activée dans les scénarios dans lesquels des charges élevées peuvent conduire à la création d'un grand nombre de threads. Ce paramètre a une incidence sur la limitation au niveau des entrées et des sorties. Basée sur les threads de limitation est désactivée par défaut.  
  
> [!NOTE]  
>  La valeur spécifiée par l’utilisateur est utilisée en règle générale, et l’hôte peut optimiser dynamiquement automatiquement cette valeur de seuil basée sur les modèles d’utilisation de mémoire et les exigences de thread du processus.  
  
 Cette analyse vérifie une valeur de 1 dans le compteur nombre de threads élevé. Envisagez d'ajuster les différentes tailles de réserves de threads pour que le système ne puisse pas créer un grand nombre de threads. Cette analyse peut être corrélée avec les changements de contexte par seconde d’analyse pour déterminer si le système d’exploitation est saturé avec trop de threads, mais dans la plupart des cas, cause du nombre de threads élevé davantage de contention sur la base de données que sur le serveur BizTalk. Pour plus d’informations sur la modification des tailles de pool de threads, consultez Comment modifier les paramètres par défaut hôte limitation dans les références.  
  
### <a name="references"></a>Références  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
-   Comment BizTalk Server implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)  
  
-   Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)  
  
-   Les paramètres de configuration qui affectent les performances de l’adaptateur à [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)  
  
-   Threads, les sessions de base de données et la limitation au [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)  
  
 BizTalk entrants latence AnalysisAverage la latence en millisecondes, entre lorsque le moteur de messagerie reçoit un document à partir de l’adaptateur le moment où qu'il est publié dans la boîte de message. Réduire la latence est importante pour certains utilisateurs de BizTalk, par conséquent suivi combien coûte des documents de temps dans l’adaptateur entrant est important.  
  
 Voici un graphique montrant comment la latence est mesurée.  
  
|1|2|3|4|5|6|  
|-------|-------|-------|-------|-------|-------|  
|L’adaptateur reçoit le message et soumet pour le moteur, le travail effectué dans l’adaptateur avant que le message est transmis au ne moteur pas capturées dans ces compteurs de performance|Moteur reçoit un message à partir de la carte, exécute pipeline, mappage, évaluation de l’abonnement de réception, conserver le message dans la base de données.|Orchestration ou port de sollicitation-réponse s’exécute et génère un message de réponse.|Message de réponse est dépilé dans le moteur de messagerie, exécuter le pipeline d’envoi, de la carte.|Moteur de messagerie donne le message de réponse pour l’adaptateur.|Adaptateur informe le message du moteur est effectuée.|  
||I|||||  
||ENREGISTREMENT DE RESSOURCE|ENREGISTREMENT DE RESSOURCE|ENREGISTREMENT DE RESSOURCE|||  
||||O|O|O|  
|||||OA|OA|  
  
 I = latence entrante  
  
 RR = latence de réponse des requêtes  
  
 O = latence sortante  
  
 OA = une latence sortante de l’adaptateur  
  
 En supposant que d’un environnement à faible latence, cette analyse vérifie si le document restés plus de 5 secondes dans l’adaptateur entrant. Cela peut indiquer un retard de traitement dans le transport des messages via des adaptateurs entrants dans cette instance d’hôte. Si plusieurs cartes entrants existent dans cette instance d’hôte, envisagez de les séparer en leurs propres ordinateurs hôtes pour déterminer quelle carte entrant a une latence élevée.  
  
### <a name="references"></a>Références  
  
-   Optimisation de base de données BizTalk Server  
    [http://go.Microsoft.com/fwlink/?LinkId=104427](http://go.microsoft.com/fwlink/?linkid=104427)  
  
-   Messages de demande-réponse  
    [http://go.Microsoft.com/fwlink/?LinkId=155288](http://go.microsoft.com/fwlink/?LinkID=155288)  
  
-   Identification des goulots d'étranglement dans le niveau BizTalk  
    [http://go.Microsoft.com/fwlink/?LinkId=155289](http://go.microsoft.com/fwlink/?LinkID=155289)  
  
## <a name="biztalk-message-delivery-throttling-state-analysis"></a>Analyse l’état de limitation de remise de Message BizTalk  
 L’état de limitation de la remise de messages BizTalk est un des indicateurs de la limitation principales. Il s’agit d’un indicateur qui signale si le système limite la remise de messages (ce qui affecte le traitement des messages XLANG et les transports en sortie). La condition de limitation est indiquée par la valeur numérique du compteur. Voici une liste des valeurs et leur signification respectif :  
  
|||  
|-|-|  
|0|Pas de limitation|  
|1|Limitation due à des vitesses de remise de messages déséquilibrées (la vitesse en entrée est supérieure à la vitesse en sortie)|  
|3|Limitation due à un nombre élevé de messages en cours de traitement|  
|4|Limitation due à une surcharge de la mémoire de processus|  
|5|Limitation due à une surcharge de la mémoire système|  
|9|Limitation due à un nombre élevé de threads|  
|10|Limitation due à un remplacement d'utilisateur pour la remise de messages|  
  
 Cette analyse vérifie pour chacune de ces valeurs et dispose d’une alerte spécifique pour chacun d’eux.  
  
### <a name="references"></a>Références  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
-   Comment BizTalk Server implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)  
  
## <a name="biztalk-messagebox-database-connection-failures-analysis"></a>Analyse de défaillances de connexion de base de données MessageBox BizTalk  
 Ce compteur de performance est le nombre de connexions de tentative de la base de données ayant échoué depuis le démarrage de l’instance d’hôte. Si le service SQL Server qui héberge les bases de données BizTalk devient indisponible pour une raison quelconque, le cluster de base de données transfère les ressources de l’ordinateur actif vers l’ordinateur passif. Lors de ce processus de basculement, les instances du service BizTalk Server rencontrent des problèmes de connexion aux bases de données et relancent automatiquement ces connexions. L'ordinateur contenant la base de données indemne (ordinateur jusqu'alors passif) commence à traiter les connexions de la base de données après avoir pris en charge les ressources durant le basculement.  
  
 Erreurs DBNetLib (Database Network Library) se produisent lors de l’exécution de BizTalk Server ne peut pas communiquer avec les bases de données MessageBox ou de gestion. Lorsque cela se produit, l’instance d’exécution BizTalk Server qui intercepte l’exception s’arrête et puis parcourt toutes les minutes pour vérifier si la base de données est disponible. Consultez la section Références pour plus d’informations sur cette rubrique.  
  
 Lorsqu'un client établit une connexion de socket TCP/IP à un serveur, il se connecte généralement à un port spécifique sur le serveur et demande que le serveur lui réponde via un port éphémère (de courte durée), TCP ou UDP. Sur Windows Server 2003 et Windows XP, la plage par défaut des ports éphémères utilisés par les applications clientes est de 1025 à 5000. Sous certaines conditions, il est possible que les ports disponibles dans la plage par défaut seront épuisent. Consultez la section Références pour plus d’informations sur cette rubrique.  
  
 Cette analyse vérifie toute occurrence de problèmes de connexion de base de données. Échecs de connexion de base de données sont critiques, car BizTalk ne peut pas fonctionner sans la base de données. Si la cause de l’échec de connexion de base de données est inconnue, puis prendre en compte les références ci-dessous et/ou contacter le Support Microsoft pour déterminer la nature de l’échec de connectivité.  
  
### <a name="references"></a>Références  
  
-   Bases de données mises à l'échelle  
    [http://go.Microsoft.com/fwlink/?LinkId=155307](http://go.microsoft.com/fwlink/?LinkId=155307)  
  
-   Contournement des exceptions DBNETLIB  
    [http://go.Microsoft.com/fwlink/?LinkId=155308](http://go.microsoft.com/fwlink/?LinkId=155308)  
  
-   Prévention de l'épuisement du port TCP/IP  
    [http://go.Microsoft.com/fwlink/?LinkId=155309](http://go.microsoft.com/fwlink/?LinkId=155309)  
  
## <a name="biztalk-messaging-publishing-throttling-state-analysis"></a>Analyse l’état de limitation de publication de messagerie BizTalk  
 État de limitation de publication de messages BizTalk sont un des principaux indicateurs de limitation. Il s’agit d’un indicateur qui signale si le système limite la publication de messages (ce qui affecte le traitement des messages XLANG et des transports entrants). La condition de limitation est indiquée par la valeur numérique du compteur. Voici une liste des valeurs et leur signification respectif :  
  
|||  
|-|-|  
|0|Pas de limitation|  
|2|Limitation due à des vitesses de publication de messages déséquilibrées (la vitesse en entrée est supérieure à la vitesse en sortie)|  
|4|Limitation due à une surcharge de la mémoire de processus|  
|5|Limitation due à une surcharge de la mémoire système|  
|6|Limitation due à la croissance de la base de données|  
|8|Limitation due à un nombre élevé de sessions|  
|9|Limitation due à un nombre élevé de threads|  
|11|Limitation due à un remplacement d'utilisateur pour la publication de messages|  
  
 Cette analyse vérifie pour chacune de ces valeurs et dispose d’une alerte spécifique pour chacun d’eux.  
  
### <a name="references"></a>Références  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
-   Comment BizTalk Server implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)  
  
## <a name="biztalk-orchestrations-resident-in-memory"></a>Résident des Orchestrations BizTalk en mémoire  
 Nombre d'instances d'orchestration actuellement hébergées par l'instance de l'hôte. Pendant les pics d’activité ou des pics d’orchestrations résidentes en mémoire peuvent être considéré comme normales, une tendance haussière peut indiquer une « accumulation des « d’orchestrations dans la mémoire. Une tendance haussière au fil du temps peut se produire lorsque BizTalk est impossible de mettre en attente des instances de messages/orchestration. Essayez de mettre en corrélation de ce compteur avec « Orchestrations(?) XLANG/s Orchestrations \Dehydratable » où le point d’interrogation ( ?) est la même instance du compteur en tant que ce compteur.  
  
 Si un grand nombre d’orchestrations est résidant en mémoire et si un faible nombre d’orchestrations est pouvant être en attente, alors que vos orchestrations sont susceptibles d’inactivité en mémoire et peut entraîner une fuite de mémoire. Utilisez cette analyse en corrélation avec « orchestrations de \Idle \XLANG/s Orchestrations (*) », le cas échéant. Une tendance haussière dans les Orchestrations des temps d’inactivité de BizTalk est un meilleur indicateur des fuites de mémoire en raison de l’incapacité de mettre en attente des instances d’orchestration.  
  
 Cette analyse vérifie une tendance haussière dans les orchestrations résidentes en mémoire et si plus de 50 % des orchestrations résidentes en mémoire ne sont pas pouvant être en attente.  
  
### <a name="references"></a>Références  
  
-   Compteurs de performances du moteur d'orchestration  
    [http://go.Microsoft.com/fwlink/?LinkId=155290](http://go.microsoft.com/fwlink/?LinkID=155290)  
  
-   Mise en attente et réactivation des orchestrations  
    [http://go.Microsoft.com/fwlink/?LinkId=155284](http://go.microsoft.com/fwlink/?LinkID=155284)  
  
## <a name="biztalk-private-bytes-analysis"></a>Analyse d’octets privés de BizTalk  
 Il s’agit des mégaoctets de mémoire privée allouée pour l’instance d’hôte et comparables au compteur de performance « \Processus (*) \Private ». Les octets privés sont la taille actuelle, en octets, de mémoire allouée par un processus qui ne peut pas être partagé avec d’autres processus. Cette analyse détermine si toutes les instances d’hôte consomment une grande taille de la mémoire du système et indique si l’instance d’hôte s’accroît la consommation de mémoire au fil du temps. Une instance d’hôte consomme de grandes parties de la mémoire est correctement tant que le service informatique retourne la mémoire dans le système. Recherchez l’augmentation des tendances dans le graphique. Une tendance haussière sur une longue période de temps peut indiquer une fuite de mémoire.  
  
 Cette analyse vérifie une tendance haussière 10 Mo par heure. Utilisez cette analyse en corrélation avec l’analyse de la mémoire disponible et l’analyse de la fuite de mémoire. En outre, n’oubliez pas que démarré qui vient d’être des instances d’hôte initialement apparaît comme une fuite de mémoire lorsqu’il est le comportement normal simplement au démarrage. Une fuite de mémoire est lorsqu’un processus continue à consommer de mémoire et ne libère ne pas la mémoire sur une longue période de temps. Si vous suspectez une fuite de mémoire, consultez l’article « Mémoire croissance de messagerie BizTalk » ci-dessous. Sinon, installer et utiliser l’outil de diagnostic de débogage. Pour plus d’informations sur l’outil de diagnostic de débogage, consultez la section Références.  
  
### <a name="references"></a>Références  
  
-   Déboguer l’outil de Diagnostic v1.1  
    [http://go.Microsoft.com/fwlink/?LinkId=106784](http://go.microsoft.com/fwlink/?linkid=106784)  
  
-   Croissance de la mémoire dans la messagerie BizTalk  
    [http://go.Microsoft.com/fwlink/?LinkId=108788](http://go.microsoft.com/fwlink/?linkid=108788)  
  
## <a name="biztalk-virtual-bytes-analysis"></a>Analyse des octets virtuels BizTalk  
 Il s’agit des mégaoctets réservés pour la mémoire virtuelle pour l’instance d’hôte. Cette analyse détermine si toutes les instances d’hôte consomment une grande quantité de la mémoire du système et indique si l’instance d’hôte s’accroît la consommation de mémoire au fil du temps. Une instance d’hôte consomme de grandes parties de la mémoire est fine tant qu’il retourne la mémoire pour le système. Recherchez l’augmentation des tendances dans le graphique. Une tendance haussière sur une longue période de temps peut indiquer une fuite de mémoire.  
  
 Cette analyse vérifie une tendance haussière de 10 Mo par heure dans les octets virtuels. Utilisez cette analyse en corrélation avec l’analyse de la mémoire disponible et l’analyse de la fuite de mémoire. En outre, n’oubliez pas que démarré qui vient d’être des instances d’hôte initialement apparaît comme une fuite de mémoire lorsqu’il est le comportement normal simplement au démarrage. Une fuite de mémoire est lorsqu’un processus continue à consommer de mémoire et ne libère ne pas la mémoire sur une longue période de temps. Si vous suspectez une fuite de mémoire, puis lisez l’article « Mémoire croissance de messagerie BizTalk » ci-dessous. Sinon, installer et utiliser l’outil de diagnostic de débogage. Pour plus d’informations sur l’outil de diagnostic de débogage, consultez la section Références.  
  
### <a name="references"></a>Références  
  
-   Déboguer l’outil de Diagnostic v1.1  
    [http://go.Microsoft.com/fwlink/?LinkId=106784](http://go.microsoft.com/fwlink/?linkid=106784)  
  
-   Croissance de la mémoire dans la messagerie BizTalk  
    [http://go.Microsoft.com/fwlink/?LinkId=108788](http://go.microsoft.com/fwlink/?linkid=108788)  
  
## <a name="biztalk-message-agent-database-session-throttling-analysis"></a>Session de base de données de l’Agent de Message BizTalk la limitation d’analyse  
 Ceci est le nombre de connexions de base de données ouverte dans la MessageBox par rapport à son paramètre de limitation de BizTalk respectif. « Base de données de connexion par UC » est le nombre maximal de sessions simultanées de la base de données (par UC) autorisé avant le début de la limitation. Les sessions de base de données inactives dans le pool de sessions par hôte commun ne sont pas incluses dans ce nombre et cette vérification est effectuée strictement sur le nombre de sessions réellement utilisées par l'instance de l'hôte. Cette option est désactivée par défaut ; ce paramètre ne doit, en principe, être activé que si le serveur de base de données constitue un goulot d'étranglement dans le système BizTalk Server. Vous pouvez surveiller le nombre de connexions de base de données active à l’aide du compteur de performance de session de base de données sous la catégorie d’objet de performance BizTalk : Agent. Ce paramètre a une incidence uniquement sur la limitation basée sur la fréquence des messages sortants. Entrez la valeur 0 pour désactiver la limitation basée sur le nombre de sessions de base de données. La valeur par défaut est 0 :  
  
 La clé de Registre MaxWorkerThreads a un impact sur le nombre de threads disponible pour BizTalk et peut-être aider dans le cas où la plupart des threads de BizTalk est occupée par des connexions de base de données. Cette analyse vérifie si le nombre de connexions de base de données ouverte dans la MessageBox est supérieur à 80 pour cent de la limitation de Session de base de données la définition, qui indique une condition de limitation est probable.  
  
### <a name="references"></a>Références  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
-   Les paramètres de configuration qui affectent les performances de l’adaptateur à [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)  
  
-   Threads, les sessions de base de données et la limitation au [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)  
  
## <a name="biztalk-message-agent-database-session-throttling-threshold-analysis"></a>Session de base de données de l’Agent de Message BizTalk analyse du seuil de limitation  
 Il s’agit de seuil actuel pour le nombre de connexions de base de données ouverte dans la MessageBox. « Base de données de connexion par UC » est le nombre maximal de sessions simultanées de la base de données (par UC) autorisé avant le début de la limitation. Les sessions de base de données inactives dans le pool de sessions par hôte commun ne sont pas incluses dans ce nombre et cette vérification est effectuée strictement sur le nombre de sessions réellement utilisées par l'instance de l'hôte. Cette option est désactivée par défaut ; ce paramètre ne doit, en principe, être activé que si le serveur de base de données constitue un goulot d'étranglement dans le système BizTalk Server. Vous pouvez surveiller le nombre de connexions de base de données active à l’aide du compteur de performance de session de base de données sous la catégorie d’objet de performance BizTalk : Agent. Ce paramètre a une incidence uniquement sur la limitation basée sur la fréquence des messages sortants. Entrez la valeur 0 pour désactiver la limitation basée sur le nombre de sessions de base de données. La valeur par défaut est 0 :  
  
 La clé de Registre MaxWorkerThreads a un impact sur le nombre de threads disponible pour BizTalk et peut-être aider dans le cas où la plupart des threads de BizTalk est occupée par des connexions de base de données. Cette analyse vérifie cette valeur afin de voir s’il a été modifié à partir de sa valeur par défaut. Par défaut, ce paramètre est 0, ce qui signifie que la limitation sur les sessions de base de données est désactivée.  
  
### <a name="references"></a>Références  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
-   Les paramètres de configuration qui affectent les performances de l’adaptateur à [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)  
  
-   Threads, les sessions de base de données et la limitation au [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)  
  
## <a name="biztalk-message-agent-in-process-message-count-throttling-analysis"></a>Nombre de messages In-process Agent Message BizTalk la limitation d’analyse  
 Ceci est le nombre de messages simultanés que le traitement de la classe de service. Le paramètre « messages In-process par UC » dans les paramètres de limitation d’hôte est le nombre maximal de messages remis au Gestionnaire de Point de terminaison (EPM) ou XLANG qui n’ont pas été traités. Cela n’inclut pas les messages récupérés à partir de la base de données, mais toujours en attente de remise dans la file d’attente en mémoire. Vous pouvez surveiller le nombre de messages in-process en utilisant le compteur de performances de nombre de messages In-process sous la catégorie d’objet de performance BizTalk : Agent. Ce paramètre fournit une indication au mécanisme de limitation pour le traitement des conditions de limitation. Le seuil réel fait l'objet d'un réglage automatique. Vous pouvez vérifier le seuil réel en analysant le compteur de performance de nombre de messages In-process.  
  
 Pour les scénarios de messages volumineux (où la taille moyenne des messages est élevée, ou le traitement des messages peut-être nécessiter une grande quantité de messages), ce paramètre peut être défini sur une valeur inférieure. Un scénario de message volumineux est indiqué si la limitation basée sur la mémoire se produit trop souvent et si le seuil de mémoire est réglé automatiquement à une valeur très basse. Un tel comportement indique que le transport sortant doit traiter moins de messages simultanément pour éviter l'utilisation excessive de la mémoire. De même, dans des scénarios dans lesquels l'adaptateur est plus efficace lorsque seulement quelques messages sont traités simultanément (par exemple, lors de la transmission à un serveur qui limite les connexions simultanées), ce paramètre peut avoir une valeur inférieure à celle par défaut. Cette analyse vérifie le compteur nombre de messages In-Process haute pour déterminer si elle est supérieure à 80 pour cent de son paramètre de limitation sous le même nom, ce qui indique une condition de limitation peut.  
  
### <a name="references"></a>Références  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
-   Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)  
  
## <a name="biztalkmessage-agent-in-process-message-count-throttling-threshold-analysis"></a>Nombre de messages In-process Agent BizTalk : analyse du seuil de limitation  
 Il s’agit de seuil pour le nombre de messages simultanés que le traitement de la classe de service actuel. Le paramètre « messages In-process par UC » dans les paramètres de limitation d’hôte est le nombre maximal de messages remis au Gestionnaire de Point de terminaison (EPM) ou XLANG qui n’ont pas été traités. Cela n’inclut pas les messages récupérés à partir de la base de données, mais toujours en attente de remise dans la file d’attente en mémoire. Vous pouvez surveiller le nombre de messages in-process en utilisant le compteur de performances de nombre de messages In-process sous la catégorie d’objet de performance BizTalk : Agent. Ce paramètre fournit une indication au mécanisme de limitation pour le traitement des conditions de limitation. Le seuil réel fait l'objet d'un réglage automatique. Vous pouvez vérifier le seuil réel en analysant le compteur de performance de nombre de messages In-process.  
  
 Pour les scénarios de messages volumineux (où la taille moyenne des messages est élevée, ou le traitement des messages peut-être nécessiter une grande quantité de messages), ce paramètre peut être défini sur une valeur inférieure. Un scénario de message volumineux est indiqué si la limitation basée sur la mémoire se produit trop souvent et si le seuil de mémoire est réglé automatiquement à une valeur très basse. Un tel comportement indique que le transport sortant doit traiter moins de messages simultanément pour éviter l'utilisation excessive de la mémoire. De même, dans des scénarios dans lesquels l'adaptateur est plus efficace lorsque seulement quelques messages sont traités simultanément (par exemple, lors de la transmission à un serveur qui limite les connexions simultanées), ce paramètre peut avoir une valeur inférieure à celle par défaut. Cette analyse vérifie le nombre de messages In-Process haute, la limitation de seuil pour une valeur par défaut.  
  
### <a name="references"></a>Références  
  
-   Limitation des compteurs de Performance au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)  
  
-   Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)  
  
## <a name="biztalk-message-agent-process-memory-usage-mb-throttling-analysis"></a>Message BizTalk Agent processus mémoire (Mo) la limitation d’utilisation Analysis  
 Il s’agit de l’utilisation de la mémoire du processus actuel (Mo). Limitation de la mémoire de processus BizTalk peut se produire si le lot à publier a des exigences d’utilise beaucoup de mémoire, ou si trop de threads de traitement des messages.  Si le système semble être une limitation trop forte, envisagez d’augmenter la valeur associée le seuil d’utilisation de mémoire de processus pour l’hôte et vérifiez que l’instance d’hôte ne génère pas d’une erreur « mémoire insuffisante ». Si une erreur « mémoire insuffisante » est générée en augmentant le seuil d’utilisation de mémoire de processus, réduisez les valeurs de la taille de file d’attente de messages internes et les messages par les seuils du processeur dans le processus. Cette stratégie est particulièrement adaptée aux scénarios traitant de nombreux messages.  
  
 Si votre serveur BizTalk server s’exécute régulièrement en dehors de la mémoire virtuelle, puis envisagez de BizTalk Server 64 bits. Chaque processus sur les serveurs 64 bits peut traiter jusqu'à 4 To de mémoire virtuelle par rapport à de 2 Go 32 bits. En règle générale, BizTalk de 64 bits et 64 bits de SQL Server est fortement recommandé. Consultez la référence « prise en charge de BizTalk Server 64 bits » pour plus d’informations. Cette analyse vérifie si l’utilisation de mémoire de processus est supérieure à 80 pour cent de son seuil de limitation respectif du même nom. Par défaut, l’utilisation de mémoire de processus BizTalk paramètre de limitation est 25 pour cent de la mémoire virtuelle disponible pour le processus. Il n’y a aucun effet sur ce paramètre pour le commutateur/3 GB.  
  
### <a name="references"></a>Références  
  
-   Comment BizTalk Server implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)  
  
-   Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)  
  
-   Comment capturer une image mémoire d’un processus qui est une fuite de mémoire à [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)  
  
-   Prise en charge 64 bits de BizTalk Server à [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)  
  
## <a name="biztalkmessage-agent-process-memory-usage-mb-throttling-threshold-analysis"></a>BizTalk : Agent processus utilisation de la mémoire (Mo) analyse du seuil de limitation  
 Il s’agit de seuil actuel pour l’utilisation de la mémoire du processus actuel (Mo). Le seuil peut être ajusté dynamiquement en fonction de la quantité de mémoire disponible pour ce processus et son modèle de consommation de mémoire réelle. Limitation de la mémoire de processus BizTalk peut se produire si le lot à publier a des exigences d’utilise beaucoup de mémoire, ou si trop de threads de traitement des messages. Si le système semble être une limitation trop forte, envisagez d’augmenter la valeur associée le seuil d’utilisation de mémoire de processus pour l’hôte et vérifiez que l’instance d’hôte ne génère pas d’une erreur « mémoire insuffisante ». Si une erreur « mémoire insuffisante » est générée en augmentant le seuil d’utilisation de mémoire de processus, réduisez les valeurs de la taille de file d’attente de messages internes et les messages par les seuils du processeur dans le processus. Cette stratégie est particulièrement adaptée aux scénarios traitant de nombreux messages.  
  
 Si votre serveur BizTalk server s’exécute régulièrement en dehors de la mémoire virtuelle, puis envisagez de BizTalk Server 64 bits. Chaque processus sur les serveurs 64 bits peut traiter jusqu'à 4 To de mémoire virtuelle par rapport à de 2 Go 32 bits. En règle générale, BizTalk de 64 bits et 64 bits de SQL Server est fortement recommandé. Consultez la référence « prise en charge de BizTalk Server 64 bits » pour plus d’informations. Cette analyse vérifie si la limitation de mémoire de processus est définie à une valeur par défaut.  
  
### <a name="references"></a>Références  
  
-   Comment BizTalk Server implémente la limitation au niveau de l’hôte [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)  
  
-   Comment modifier l’hôte par défaut les paramètres au niveau de limitation [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)  
  
-   Comment capturer une image mémoire d’un processus qui est une fuite de mémoire à [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)  
  
-   Prise en charge 64 bits de BizTalk Server à [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)