---
title: "Examen des goulots d’étranglement | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2ab8e485-ffe5-4f71-9ce2-f72c0c939e5d
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e34d01bbfafd1a05f87fff5cda2b21764d43f42b
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="investigating-bottlenecks"></a><span data-ttu-id="4e45f-102">Examen des goulots d’étranglement</span><span class="sxs-lookup"><span data-stu-id="4e45f-102">Investigating Bottlenecks</span></span>
<span data-ttu-id="4e45f-103">Cette rubrique décrit la procédure recommandée pour l’examen des goulots d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-103">This topic describes a recommended process for investigating bottlenecks.</span></span>  
  
## <a name="what-is-the-source-of-the-problem"></a><span data-ttu-id="4e45f-104">Quelle est la source du problème ?</span><span class="sxs-lookup"><span data-stu-id="4e45f-104">What is the source of the problem?</span></span>  
 <span data-ttu-id="4e45f-105">La source du goulot d’étranglement peut être matériel ou du logiciel.</span><span class="sxs-lookup"><span data-stu-id="4e45f-105">The source of the bottleneck could be hardware or software related.</span></span> <span data-ttu-id="4e45f-106">Lorsque les ressources sont apparaissent, il est généralement une indication d’un goulot d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-106">When resources are underused, it is usually an indication of a bottleneck.</span></span> <span data-ttu-id="4e45f-107">Les goulots d’étranglement peuvent être dû à des limites matérielles, par des configurations logicielles inefficaces ou par les deux.</span><span class="sxs-lookup"><span data-stu-id="4e45f-107">Bottlenecks can be caused by hardware limitations, by inefficient software configurations, or by both.</span></span>  
  
 <span data-ttu-id="4e45f-108">L'identification des goulots d'étranglement est un processus incrémentiel, où l'élimination d'un goulot d'étranglement peut conduire à la découverte du goulot suivant.</span><span class="sxs-lookup"><span data-stu-id="4e45f-108">Identifying bottlenecks is an incremental process whereby alleviating one bottleneck can lead to the discovery of the next one.</span></span> <span data-ttu-id="4e45f-109">L'objectif de cette rubrique est de présenter la méthode qui permet d'identifier et d'éliminer ces goulots d'étranglement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-109">The science of identifying and alleviating these bottlenecks is the objective of this topic.</span></span> <span data-ttu-id="4e45f-110">Il est possible pour un système de fonctionner avec des pics d'activité sur de courtes périodes.</span><span class="sxs-lookup"><span data-stu-id="4e45f-110">It is possible for a system to perform at peaks for short periods of time.</span></span> <span data-ttu-id="4e45f-111">Toutefois, pour un débit acceptable constant, le système ne peut pas fonctionner plus vite que le plus lent de ses composants.</span><span class="sxs-lookup"><span data-stu-id="4e45f-111">However, for sustainable throughput a system can only process as fast as its slowest performing component.</span></span>  
  
## <a name="using-an-iterative-approach-to-testing"></a><span data-ttu-id="4e45f-112">À l’aide d’une approche itérative au test</span><span class="sxs-lookup"><span data-stu-id="4e45f-112">Using an iterative approach to testing</span></span>  
 <span data-ttu-id="4e45f-113">Les goulots d’étranglement peuvent se produire sur les points de terminaison (entrée/sortie) du système ou au milieu (orchestration/base de données).</span><span class="sxs-lookup"><span data-stu-id="4e45f-113">Bottlenecks can occur at the endpoints (entry/exit) of the system or in the middle (orchestration/database).</span></span> <span data-ttu-id="4e45f-114">Une fois le goulot d’étranglement a été isolé, utilisez une approche structurée pour identifier la source.</span><span class="sxs-lookup"><span data-stu-id="4e45f-114">After the bottleneck has been isolated, use a structured approach to identify the source.</span></span> <span data-ttu-id="4e45f-115">Une fois le goulot d’étranglement est facilité, il est important de mesurer les performances pour vous assurer qu’un nouveau goulot d’étranglement n’a pas été créé ailleurs dans le système.</span><span class="sxs-lookup"><span data-stu-id="4e45f-115">After the bottleneck is eased, it is important to measure performance again to ensure that a new bottleneck has not been introduced elsewhere in the system.</span></span>  
  
 <span data-ttu-id="4e45f-116">Le processus d’identification et de résolution des goulots d’étranglement doit être effectué de façon itérative.</span><span class="sxs-lookup"><span data-stu-id="4e45f-116">The process of identifying and fixing bottlenecks should be done in an iterative manner.</span></span> <span data-ttu-id="4e45f-117">Varier qu’un seul paramètre à la fois, répéter exactement les mêmes étapes au cours de chaque série de tests, puis mesurer les performances pour vérifier l’impact de la modification unique.</span><span class="sxs-lookup"><span data-stu-id="4e45f-117">Vary only one parameter at a time, repeat exactly the same steps during each test run, and then measure performance to verify the impact of the single modification.</span></span> <span data-ttu-id="4e45f-118">Faire varier plusieurs paramètres simultanément pourrait avoir pour effet de masquer l'impact d'une modification.</span><span class="sxs-lookup"><span data-stu-id="4e45f-118">Varying more than one parameter at a time could conceal the effect of the change.</span></span>  
  
 <span data-ttu-id="4e45f-119">Par exemple, la modification du paramètre 1 pourrait améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="4e45f-119">For example, changing parameter 1 could improve performance.</span></span> <span data-ttu-id="4e45f-120">Toutefois, la modification du paramètre 2 conjointement avec la modification du paramètre 1 pourrait avoir un effet négatif et inversent les avantages de la modification du paramètre 1.</span><span class="sxs-lookup"><span data-stu-id="4e45f-120">However, changing parameter 2 in conjunction with changing parameter 1 could have a detrimental effect and negate the benefits of changing parameter 1.</span></span> <span data-ttu-id="4e45f-121">Cela conduit à un net égal à zéro et génère un faux négatif sur l’effet de la modification du paramètre 1 et un faux positif sur l’effet de la modification du paramètre 2.</span><span class="sxs-lookup"><span data-stu-id="4e45f-121">This leads to a net zero effect and results in a false negative on the effect of varying parameter 1 and a false positive on the effect of varying parameter 2.</span></span>  
  
## <a name="testing-consistency"></a><span data-ttu-id="4e45f-122">Test de la cohérence</span><span class="sxs-lookup"><span data-stu-id="4e45f-122">Testing consistency</span></span>  
 <span data-ttu-id="4e45f-123">Après avoir modifié les paramètres de mesure des caractéristiques de performances doit être effectuée pour valider l’effet de la modification.</span><span class="sxs-lookup"><span data-stu-id="4e45f-123">Measuring performance characteristics after changing settings should be done to validate the effect of the change.</span></span>  
  
-   <span data-ttu-id="4e45f-124">**Matériel -** utiliser un matériel cohérent car le changement de matériel peut provoquer un comportement incohérent et produire des résultats trompeurs.</span><span class="sxs-lookup"><span data-stu-id="4e45f-124">**Hardware -** Use consistent hardware because varying the hardware can cause inconsistent behavior and produce misleading results.</span></span> <span data-ttu-id="4e45f-125">Par exemple, vous utiliseriez pas un ordinateur portable pour tester les performances d’une solution BizTalk.</span><span class="sxs-lookup"><span data-stu-id="4e45f-125">For example, you would not use a laptop to test performance of a BizTalk solution.</span></span>  
  
-   <span data-ttu-id="4e45f-126">**Tester la durée d’exécution -** mesurer les performances pour une durée minimale fixe pour vous assurer que les résultats sont raisonnables.</span><span class="sxs-lookup"><span data-stu-id="4e45f-126">**Test Run Duration -** Measure performance for a fixed minimum period to ensure that the results are sustainable.</span></span> <span data-ttu-id="4e45f-127">Exécution de tests pour des périodes plus longues garantit également que le système a subi l’initiale à chaud/rampe période où tous les caches sont remplies, les tables de base de données ont atteint le nombre attendu et la limitation est un délai suffisant pour réguler le débit une fois prédéfinie les seuils sont atteints.</span><span class="sxs-lookup"><span data-stu-id="4e45f-127">Running tests for longer periods also ensures the system has gone through the initial warm/ramp up period where all caches are populated, database tables have reached expected counts, and throttling is given sufficient time to regulate throughput once predefined thresholds are hit.</span></span> <span data-ttu-id="4e45f-128">Cette approche facilite la recherche du débit durable optimal.</span><span class="sxs-lookup"><span data-stu-id="4e45f-128">This approach will help discover optimal sustainable throughput.</span></span>  
  
-   <span data-ttu-id="4e45f-129">**Test des paramètres –** ne varient pas de paramètres de test à partir de la série de tests pour la série de tests.</span><span class="sxs-lookup"><span data-stu-id="4e45f-129">**Test Parameters –** Do not vary test parameters from test run to test run.</span></span> <span data-ttu-id="4e45f-130">Par exemple, changer la complexité d'un mappage et/ou les tailles de document peut entraîner des débits et des temps de latence différents.</span><span class="sxs-lookup"><span data-stu-id="4e45f-130">For example, varying map complexity and/or document sizes can produce different throughput and latency results.</span></span>  
  
-   <span data-ttu-id="4e45f-131">**Nettoyer l’état -** après un test est terminé, vérifiez que l’état de l’environnement de test est propre avant d’exécuter le test suivant.</span><span class="sxs-lookup"><span data-stu-id="4e45f-131">**Clean State -** After a test is complete, ensure that the state of the test environment is clean before running the next test.</span></span> <span data-ttu-id="4e45f-132">Par exemple, les données d’historique peuvent s’accumuler dans la base de données qui affectent le débit d’exécution.</span><span class="sxs-lookup"><span data-stu-id="4e45f-132">For example, historical data can build up in the database affecting run-time throughput.</span></span> <span data-ttu-id="4e45f-133">Recyclage des instances de service permet de libérer des ressources mises en cache, comme la mémoire, les connexions de base de données et les threads.</span><span class="sxs-lookup"><span data-stu-id="4e45f-133">Recycling the service instances helps to release cached resources like memory, database connections, and threads.</span></span> <span data-ttu-id="4e45f-134">Dans votre environnement de test, vous souhaiterez créer et exécuter la procédure stockée bts_CleanupMsgbox comme décrit dans [comment vider les données manuellement à partir de la base de données MessageBox dans un environnement de Test](http://go.microsoft.com/fwlink/?LinkId=158064) (http://go.microsoft.com/fwlink/?LinkId=158064).</span><span class="sxs-lookup"><span data-stu-id="4e45f-134">In your test environment, you may want to create and execute the bts_CleanupMsgbox stored procedure as described in [How to Manually Purge Data from the MessageBox Database in a Test Environment](http://go.microsoft.com/fwlink/?LinkId=158064) (http://go.microsoft.com/fwlink/?LinkId=158064).</span></span> <span data-ttu-id="4e45f-135">Ce script est destiné à votre environnement de test de BizTalk Server de retour à un nouvel état en ce qui concerne la boîte de Message entre les exécutions.</span><span class="sxs-lookup"><span data-stu-id="4e45f-135">This script is intended to return your BizTalk Server test environment to a fresh state with regards to the Message Box between runs.</span></span> <span data-ttu-id="4e45f-136">Le script supprime toutes les instances en cours d’exécution et toutes les informations sur ces instances, y compris l’état, des messages et des abonnements, mais laisse tous les abonnements d’activation pour ne pas avoir à réinscrire vos orchestrations ou des ports d’envoi.</span><span class="sxs-lookup"><span data-stu-id="4e45f-136">The script deletes all running instances and all information about those instances including state, messages, and subscriptions, but leaves all activation subscriptions so you do not have to re-enlist your orchestrations or send ports.</span></span> <span data-ttu-id="4e45f-137">Notez que cet outil n’est pas pris en charge sur les systèmes de production.</span><span class="sxs-lookup"><span data-stu-id="4e45f-137">Note that this tool is not supported on production systems.</span></span>  
  
-   <span data-ttu-id="4e45f-138">**Tests de performances et de réglage -** l’objectif de cette catégorie de test consiste à optimiser les performances et le débit de votre application et de trouver le Maximum acceptable débit acceptable de votre système.</span><span class="sxs-lookup"><span data-stu-id="4e45f-138">**Performance Testing and Tuning -** The goal of this test category is to maximize performance and throughput of your application and find the Maximum Sustainable Throughput (MST) of your system.</span></span>  <span data-ttu-id="4e45f-139">Pour plus d’informations sur la planification et de mesure des performances maximales admissibles consultez [planification des performances de débit soutenu](http://go.microsoft.com/fwlink/?LinkId=158065) (http://go.microsoft.com/fwlink/?LinkId=158065) et [Nouveautés des performances durables ?](http://go.microsoft.com/fwlink/?LinkId=132304)</span><span class="sxs-lookup"><span data-stu-id="4e45f-139">For more information about planning and measuring Maximum Sustainable Performance see [Planning for Sustained Performance](http://go.microsoft.com/fwlink/?LinkId=158065) (http://go.microsoft.com/fwlink/?LinkId=158065) and [What Is Sustainable Performance?](http://go.microsoft.com/fwlink/?LinkId=132304)</span></span> <span data-ttu-id="4e45f-140">(http://go.microsoft.com/fwlink/?LinkId=132304).</span><span class="sxs-lookup"><span data-stu-id="4e45f-140">(http://go.microsoft.com/fwlink/?LinkId=132304).</span></span>  
  
     <span data-ttu-id="4e45f-141">Le débit maximal acceptable est la plus grande charge de messages qu’un système capable de gérer indéfiniment dans un environnement de production.</span><span class="sxs-lookup"><span data-stu-id="4e45f-141">The MST is the highest load of message traffic that a system can handle indefinitely in a production environment.</span></span> <span data-ttu-id="4e45f-142">Toutes les applications BizTalk doivent être testées pour des performances et débit avant de passer en production.</span><span class="sxs-lookup"><span data-stu-id="4e45f-142">All BizTalk applications should be tested for performance and throughput before going into production.</span></span> <span data-ttu-id="4e45f-143">Au minimum, vous devez exécuter un jeu représentatif de cas de test qui représentent les scénarios d’utilisation les plus courants.</span><span class="sxs-lookup"><span data-stu-id="4e45f-143">At a minimum, you should run a representative set of test cases that represent the most common usage scenarios.</span></span> <span data-ttu-id="4e45f-144">Nous vous recommandons de tester des charges attendus et les pointes de charge dans un environnement distinct qui correspond aux caractéristiques de l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="4e45f-144">We recommend that you test against expected loads and peak loads in a separate environment that matches characteristics of the production environment.</span></span> <span data-ttu-id="4e45f-145">Cet environnement doit avoir tous les services d’entreprise standards installé et en cours d’exécution, telles que les agents d’analyse et le logiciel antivirus.</span><span class="sxs-lookup"><span data-stu-id="4e45f-145">This environment should have all of the corporate standard services installed and running, such as monitoring agents, and antivirus software.</span></span>  
  
-   <span data-ttu-id="4e45f-146">Nous vous recommandons également de tester des applications BizTalk sur le même matériel de production en même temps que les autres applications BizTalk qui sont en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="4e45f-146">We also recommend that you test new BizTalk applications on the same hardware in production alongside the other BizTalk applications that are running.</span></span> <span data-ttu-id="4e45f-147">Ces applications BizTalk placer une charge supplémentaire sur BizTalk Server, SQL Server, e/s réseau, les e/s disque.</span><span class="sxs-lookup"><span data-stu-id="4e45f-147">These other BizTalk applications put additional load on the BizTalk Server, SQL Server, network I/O, and disk I/O.</span></span> <span data-ttu-id="4e45f-148">En outre, une application BizTalk peut entraîner une autre limite (lorsque la profondeur du spouleur devient trop importante, par exemple).</span><span class="sxs-lookup"><span data-stu-id="4e45f-148">In addition, one BizTalk application could cause another to throttle (when the spool depth gets too large, for example).</span></span> <span data-ttu-id="4e45f-149">Toutes les applications BizTalk doivent être de performances / contrainte testé avant de passer en production.</span><span class="sxs-lookup"><span data-stu-id="4e45f-149">All BizTalk applications should be performance / stress tested before going into production.</span></span> <span data-ttu-id="4e45f-150">En outre, vous devez déterminer le temps pris par le système pour récupérer des pics de charge.</span><span class="sxs-lookup"><span data-stu-id="4e45f-150">In addition, you should determine how long it takes the system to recover from peak loads.</span></span> <span data-ttu-id="4e45f-151">Si le système ne récupère pas entièrement à partir d’une charge de pointe avant de la charge maximale suivante se produit, vous avez un problème.</span><span class="sxs-lookup"><span data-stu-id="4e45f-151">If the system does not fully recover from a peak load before the next peak load occurs, then you've got a problem.</span></span> <span data-ttu-id="4e45f-152">Obtenir davantage du système et de retard supplémentaire et ne jamais être en mesure de récupérer entièrement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-152">The system will get further and further behind and will never be able to fully recover.</span></span>  
  
## <a name="expectations-throughput-vs-latency"></a><span data-ttu-id="4e45f-153">Attentes : le débit et la latence</span><span class="sxs-lookup"><span data-stu-id="4e45f-153">Expectations: throughput vs. latency</span></span>  
 <span data-ttu-id="4e45f-154">Vous pouvez vous attendre un certain débit ou de temps de latence entre le système déployé.</span><span class="sxs-lookup"><span data-stu-id="4e45f-154">You can expect a certain amount of throughput and/or latency from the deployed system.</span></span> <span data-ttu-id="4e45f-155">Tente d’atteindre un débit élevé et une faible latence de simultanément place les demandes opposés sur le système.</span><span class="sxs-lookup"><span data-stu-id="4e45f-155">Attempting to achieve high throughput and low latency simultaneously places opposing demands on the system.</span></span> <span data-ttu-id="4e45f-156">Vous pouvez vous attendre à un débit optimal avec une latence raisonnable.</span><span class="sxs-lookup"><span data-stu-id="4e45f-156">You can expect optimal throughput with reasonable latency.</span></span> <span data-ttu-id="4e45f-157">Mesure que le débit, contrainte (par exemple, une consommation plus élevée du processeur, contention d’e/S de disque supérieure, la sollicitation de la mémoire et contention de verrouillage supérieure) sur le système augmente.</span><span class="sxs-lookup"><span data-stu-id="4e45f-157">As throughput improves, stress (such as, higher CPU consumption, higher disk-I/O contention, memory pressure, and greater lock contention) on the system increases.</span></span> <span data-ttu-id="4e45f-158">Cette situation peut avoir un impact négatif sur la latence.</span><span class="sxs-lookup"><span data-stu-id="4e45f-158">This situation can have a negative impact on latency.</span></span> <span data-ttu-id="4e45f-159">Pour découvrir la capacité optimale d’un système, nous vous recommandons d’identifier et de réduire les goulots d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-159">To discover optimal capacity of a system, we recommend that you identify and minimize any bottlenecks.</span></span>  
  
 <span data-ttu-id="4e45f-160">Les instances terminées résidant dans la base de données peuvent provoquer des goulots d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-160">Completed instances residing in the database can cause bottlenecks.</span></span> <span data-ttu-id="4e45f-161">Lorsque les goulots d’étranglement se produisent, les performances peuvent se dégrader.</span><span class="sxs-lookup"><span data-stu-id="4e45f-161">When bottlenecks occur, performance can degrade.</span></span> <span data-ttu-id="4e45f-162">En donnant le système suffisamment de temps pour purger peut aider à résoudre le problème.</span><span class="sxs-lookup"><span data-stu-id="4e45f-162">Giving the system sufficient time to drain can help fix the problem.</span></span> <span data-ttu-id="4e45f-163">Découvrir la cause de l’accumulation de retard et aider à résoudre le problème sont important.</span><span class="sxs-lookup"><span data-stu-id="4e45f-163">Discovering the cause of the backlog buildup and helping fix the issue is important.</span></span>  
  
 <span data-ttu-id="4e45f-164">Pour découvrir la cause de la file d’attente, vous pouvez analyser les données historiques et surveiller les compteurs de performances (pour découvrir des modèles d’utilisation et diagnostiquer l’origine de la file d’attente).</span><span class="sxs-lookup"><span data-stu-id="4e45f-164">To discover the cause of the backlog, you can analyze historical data and monitor performance counters (to discover usage patterns, and diagnose the source of the backlog).</span></span> <span data-ttu-id="4e45f-165">En règle générale, les retards de traitement peuvent se produire lors du traitement des volumes importants de données par lots, chaque nuit.</span><span class="sxs-lookup"><span data-stu-id="4e45f-165">Commonly, backlogs can occur when large volumes of data are processed in a batched manner on a nightly basis.</span></span> <span data-ttu-id="4e45f-166">Vous pouvez s’avérer utile pour détecter la capacité du système et de sa capacité à récupérer à partir d’une file d’attente.</span><span class="sxs-lookup"><span data-stu-id="4e45f-166">You may find it useful to discover the capacity of the system and its ability to recover from a backlog.</span></span> <span data-ttu-id="4e45f-167">Ces informations peuvent vous aider à estimer les besoins en matériel de gestion des scénarios de surcharge et la quantité d’espace de mémoire tampon à prévoir dans un système à gérer les pics imprévus de débit.</span><span class="sxs-lookup"><span data-stu-id="4e45f-167">This information can help you to estimate hardware requirements for handling overdrive scenarios and the amount of buffer room to accommodate within a system to handle unforeseen spikes in throughput.</span></span>  
  
 <span data-ttu-id="4e45f-168">Surveillance des compteurs de performances peut aider à différencier les goulots d’étranglement potentiels susceptibles de survenir lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="4e45f-168">Monitoring performance counters can help individuate potential bottlenecks that could arise at runtime.</span></span> <span data-ttu-id="4e45f-169">Toutefois, lorsque nous pensez que la cause du problème de goulot d’étranglement du processeur ou de la mémoire peut être un des composants personnalisés qui composent la solution, nous fortement vous recommandons d’utiliser les outils de profilage ces profileur Visual Studio ou le profileur ANTS pendant un test de performances Pour affiner et différencier avec certitude de la classe qui génère le problème.</span><span class="sxs-lookup"><span data-stu-id="4e45f-169">However, when we suspect that the culprit of CPU or memory bottleneck may be one of the custom components that compose the solution, we strongly recommend that you use profiling tools such Visual Studio Profiler or ANTS Performance Profiler during a performance test to narrow and individuate with certainty the class that generates the problem.</span></span> <span data-ttu-id="4e45f-170">Évidemment, le profilage d’une application interfère avec des performances.</span><span class="sxs-lookup"><span data-stu-id="4e45f-170">Obviously, profiling an application interferes with performance.</span></span> <span data-ttu-id="4e45f-171">Par conséquent, ces tests doivent se concentrer sur individuating les composants qui provoquent la consommation de mémoire, l’utilisation du processeur ou la latence et chiffres collectés pendant ces tests doivent être ignorées.</span><span class="sxs-lookup"><span data-stu-id="4e45f-171">Therefore, these tests should be focused on individuating those components that cause memory consumption, CPU utilization or latency and figures collected during these tests should be discarded.</span></span>  
  
 <span data-ttu-id="4e45f-172">Le système de réglage pour un débit durable optimal nécessite une profondeur en comprendre le fonctionnement de l’application déployée, des forces et faiblesses du système et les modèles d’utilisation du scénario spécifique.</span><span class="sxs-lookup"><span data-stu-id="4e45f-172">Tuning the system for optimal sustainable throughput requires an in depth understanding of the deployed application, the strengths and weaknesses of the system, and usage patterns of the specific scenario.</span></span> <span data-ttu-id="4e45f-173">La seule manière de découvrir les goulots d'étranglement et de prévoir avec certitude le débit durable optimal consiste à effectuer un test rigoureux d'une topologie se rapprochant le plus de celle qui sera utilisée en production.</span><span class="sxs-lookup"><span data-stu-id="4e45f-173">The only way to discover bottlenecks and predict optimal sustainable throughput with certainty is through thorough testing on a topology that closely matches what will be used in production.</span></span> <span data-ttu-id="4e45f-174">Lors de l’exécution de charge et tests de stress par rapport à un certain cas d’usage, isolation des artefacts uniques (emplacements de réception, ports d’envoi, orchestrations) dans les instances d’hôte distinct et en définissant les compteurs de droite à l’intérieur de l’outil Analyseur de performances sont cruciale pour limiter le cause d’un goulot d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-174">When running load and stress tests against a certain use case, isolating single artifacts (receive locations, send ports, orchestrations) into separate host instances and setting the right counters inside the performance monitor tool is crucial to narrow down the cause of a bottleneck.</span></span>  
  
 <span data-ttu-id="4e45f-175">Les autres rubriques de cette section vous guident dans le processus de définition de cette topologie et fournissent des conseils sur la façon de réduire et d’éviter les goulots d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-175">Other topics in this section guide you through the process of defining that topology, and provide guidance on how to lessen and avoid bottlenecks.</span></span>  
  
## <a name="scaling"></a><span data-ttu-id="4e45f-176">mise à l’échelle</span><span class="sxs-lookup"><span data-stu-id="4e45f-176">Scaling</span></span>  
 <span data-ttu-id="4e45f-177">Les goulots d’étranglement peuvent se produire à différents stades d’une topologie de déploiement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-177">Bottlenecks can occur at various stages of a deployed topology.</span></span> <span data-ttu-id="4e45f-178">Certains d'entre eux peut être adressés par l’évolution verticale ou montée en puissance parallèle de l’environnement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-178">Some bottlenecks can be addressed by either scaling up or scaling out the environment.</span></span> <span data-ttu-id="4e45f-179">L’évolution verticale est le processus de mise à niveau de l’ordinateur existant.</span><span class="sxs-lookup"><span data-stu-id="4e45f-179">Scaling up is the process of upgrading the existing computer.</span></span> <span data-ttu-id="4e45f-180">Par exemple, vous pouvez mettre à niveau un ordinateur BizTalk Server à partir d’un ordinateur à quatre processeurs à un ordinateur équipé de huit processeurs, ainsi qu’en remplaçant les processeurs existants et en ajoutant davantage de RAM.</span><span class="sxs-lookup"><span data-stu-id="4e45f-180">For example, you can upgrade a BizTalk Server computer from a four-processor computer to an eight-processor computer, as well as substituting the existing CPUs and adding more RAM.</span></span> <span data-ttu-id="4e45f-181">De cette façon, vous pouvez accélérer les tâches gourmandes en ressources telles que l’analyse et de mappage de document.</span><span class="sxs-lookup"><span data-stu-id="4e45f-181">In this way, you can accelerate resource-intensive tasks such as document parsing and mapping.</span></span> <span data-ttu-id="4e45f-182">Montée en puissance est le processus d’ajout de serveurs à votre déploiement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-182">Scaling out is the process of adding servers to your deployment.</span></span> <span data-ttu-id="4e45f-183">La décision à l’échelle de façon horizontale ou verticale varie selon le type de goulot d’étranglement et de l’application en cours de configuration.</span><span class="sxs-lookup"><span data-stu-id="4e45f-183">The decision to scale up or out depends on the type of bottleneck and the application being configured.</span></span> <span data-ttu-id="4e45f-184">Une application doit être générée de toutes pièces pour être en mesure de tirer parti de la mise à l’échelle de façon horizontale ou verticale. Le guide suivant explique comment modifier les topologies de déploiement de matériel basés sur les goulots d’étranglement rencontrés.</span><span class="sxs-lookup"><span data-stu-id="4e45f-184">An application needs to be built from the ground up to be capable of taking advantage of scaling up or out. The following guidance explains how to change hardware deployment topologies based on bottlenecks encountered.</span></span>  
  
 <span data-ttu-id="4e45f-185">**L’évolution verticale** signifie une solution BizTalk en cours d’exécution mise à niveau matérielle (par exemple, ajout de l’UC et mémoire).</span><span class="sxs-lookup"><span data-stu-id="4e45f-185">**Scaling up** means running a BizTalk solution on upgraded hardware (for example, adding CPU’s and memory).</span></span> <span data-ttu-id="4e45f-186">Vous devez examiner l’évolution verticale lorsque 1) montée en puissance parallèle est trop cher ou (2) montée en puissance parallèle ne permettra pas de résoudre un goulot d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-186">You should look at scaling up when 1) scaling out is too expensive or 2) scaling out will not help solve a bottleneck.</span></span> <span data-ttu-id="4e45f-187">Par exemple, vous pouvez réduire considérablement le temps de transformation et de traitement d’un message volumineux si vous exécutez la tâche sur un ordinateur plus rapide.</span><span class="sxs-lookup"><span data-stu-id="4e45f-187">For example, you can significantly reduce the time spent transforming and processing a large message if you run the task on a faster machine.</span></span>  
  
 <span data-ttu-id="4e45f-188">**Montée en puissance** la plate-forme d’application se compose de l’ajout de nœuds de BizTalk pour le groupe BizTalk Server et de les utiliser pour exécuter une ou plusieurs parties de la solution.</span><span class="sxs-lookup"><span data-stu-id="4e45f-188">**Scaling out** the application platform consists of adding BizTalk nodes to the BizTalk Server Group and using them to run one or more parts of the solution.</span></span> <span data-ttu-id="4e45f-189">Vous devez examiner de montée en puissance parallèle lorsque (1) vous devez isoler l’envoi, réception, traitement, le suivi des hôtes ou (2) lors de la mémoire, les ressources d’e/s ou e/s réseau sont surexploités pour un seul serveur.</span><span class="sxs-lookup"><span data-stu-id="4e45f-189">You should look at scaling out when 1) you need to isolate send, receive, processing, tracking hosts or 2) when memory, I/O or Network I/O resources are maxed out for a single server.</span></span> <span data-ttu-id="4e45f-190">La charge peut être répartie sur plusieurs serveurs. Toutefois, l’ajout de nouveaux nœuds pour le groupe BizTalk Server peut augmenter la contention de verrouillage de la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="4e45f-190">The load can be spread across multiple servers; however, adding new nodes to the BizTalk Server Group can increase the lock contention on the MessageBox database.</span></span>  
  
 <span data-ttu-id="4e45f-191">Par conséquent, doit évoluer ou monter en charge ?</span><span class="sxs-lookup"><span data-stu-id="4e45f-191">So should you scale up or scale out?</span></span> <span data-ttu-id="4e45f-192">Mise à l’échelle de votre plateforme peut réduire la latence d’une solution BizTalk, car elle rend les tâches uniques (par exemple, mappage des messages) s’exécuter plus rapidement.</span><span class="sxs-lookup"><span data-stu-id="4e45f-192">Scaling up your platform can reduce the latency of a BizTalk solution because it makes single tasks (for example, message mapping) run faster.</span></span> <span data-ttu-id="4e45f-193">Montée en puissance parallèle peut améliorer le débit durable maximal et l’évolutivité de votre solution BizTalk, car il permet de répartir la charge de travail sur plusieurs ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="4e45f-193">Scaling out can improve the maximum sustainable throughtput and the scalability of your BizTalk solution because it allows you to spread the workload across multiple machines.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4e45f-194">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="4e45f-194">See Also</span></span>  
 [<span data-ttu-id="4e45f-195">Recherche et suppression des goulots d’étranglement</span><span class="sxs-lookup"><span data-stu-id="4e45f-195">Finding and Eliminating Bottlenecks</span></span>](../technical-guides/finding-and-eliminating-bottlenecks.md)