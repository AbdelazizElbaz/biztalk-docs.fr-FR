---
title: "Liste de vérification : Mise à jour d’une Orchestration à l’aide du contrôle de version côte à côte | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 97f66987-0269-4dfe-a648-7b68412e86fe
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a8e9ed9f260b7b7b8b269e6a4b5e22411ce05b5c
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/01/2017
---
# <a name="checklist-updating-an-orchestration-using-side-by-side-versioning"></a><span data-ttu-id="08e3a-102">Liste de vérification : Mise à jour d’une Orchestration à l’aide du contrôle de version côte à côte</span><span class="sxs-lookup"><span data-stu-id="08e3a-102">Checklist: Updating an Orchestration Using Side-by-Side Versioning</span></span>
<span data-ttu-id="08e3a-103">Modifications aux orchestrations peuvent être plus complexe que des modifications d’autres artefacts, tels que des cartes.</span><span class="sxs-lookup"><span data-stu-id="08e3a-103">Changes to orchestrations can be more involved than changes to other artifacts, such as maps.</span></span> <span data-ttu-id="08e3a-104">Si vous avez des orchestrations de courte durée de vie, une mise à jour simple peut suffire.</span><span class="sxs-lookup"><span data-stu-id="08e3a-104">If you have short-lived orchestrations, then a simple update may be sufficient.</span></span> <span data-ttu-id="08e3a-105">Mais si vous avez les orchestrations longues ou que vous ne peut pas terminer les instances existantes, le contrôle de version côte à côte sera la seule option.</span><span class="sxs-lookup"><span data-stu-id="08e3a-105">But if you have long-running orchestrations or cannot terminate existing instances, then side-by-side versioning will be your only option.</span></span>  
  
 <span data-ttu-id="08e3a-106">Lorsqu’une orchestration gère des transactions à long terme, vous ne pouvez pas modifier immédiatement à la version mise à jour de l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="08e3a-106">When an orchestration handles long-running transactions, you cannot change to the updated version of the orchestration immediately.</span></span> <span data-ttu-id="08e3a-107">Vous devez autoriser la version d’origine terminer le traitement de ses messages afin qu’ils ne soient pas perdues.</span><span class="sxs-lookup"><span data-stu-id="08e3a-107">You must allow the original version to finish processing its messages so that they are not lost.</span></span> <span data-ttu-id="08e3a-108">Pour ce faire, vous déployez l'orchestration mise à jour dans l'application utilisée par l'orchestration d'origine.</span><span class="sxs-lookup"><span data-stu-id="08e3a-108">To accomplish this, you deploy the updated orchestration into the same application as the original one.</span></span> <span data-ttu-id="08e3a-109">Vous arrêtez ensuite la version d'origine et démarrez la version mise à jour afin qu'elle reçoive tous les nouveaux messages tandis que l'ancienne version continue de traiter les éventuels messages en vol.</span><span class="sxs-lookup"><span data-stu-id="08e3a-109">You then stop the original version and start the updated version so that it receives all new messages while the previous version continues to process any in-flight messages.</span></span> <span data-ttu-id="08e3a-110">Une fois que l'orchestration d'origine a fini de traiter tous ses messages, vous annulez son déploiement dans l'application BizTalk dans laquelle elle a été déployée.</span><span class="sxs-lookup"><span data-stu-id="08e3a-110">After the original orchestration has finished processing all of its messages, you undeploy it from the BizTalk application in which it was deployed.</span></span>  
  
|<span data-ttu-id="08e3a-111">Étapes</span><span class="sxs-lookup"><span data-stu-id="08e3a-111">Steps</span></span>|<span data-ttu-id="08e3a-112">Référence</span><span class="sxs-lookup"><span data-stu-id="08e3a-112">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="08e3a-113">Après avoir apporté les modifications nécessaires à l’orchestration, incrémentez le numéro de version d’assembly.</span><span class="sxs-lookup"><span data-stu-id="08e3a-113">After making the necessary changes to the orchestration, increment the assembly version number.</span></span>|[<span data-ttu-id="08e3a-114">Comment mettre à jour un assembly</span><span class="sxs-lookup"><span data-stu-id="08e3a-114">How to Update an Assembly</span></span>](../technical-guides/how-to-update-an-assembly.md)|  
|<span data-ttu-id="08e3a-115">Déployez l’assembly à partir de Visual Studio dans une application BizTalk, puis testez l’assembly.</span><span class="sxs-lookup"><span data-stu-id="08e3a-115">Deploy the assembly from Visual Studio into a BizTalk application, and then test the assembly.</span></span> <span data-ttu-id="08e3a-116">**Remarque :** veillez à sélectionner l’option de déploiement pour installer l’assembly dans le GAC.</span><span class="sxs-lookup"><span data-stu-id="08e3a-116">**Note:**  Make sure you select the deployment option to install the assembly in the GAC.</span></span>|<span data-ttu-id="08e3a-117">[Déploiement d’assemblys BizTalk à partir de Visual Studio dans une Application BizTalk](http://go.microsoft.com/fwlink/?LinkID=154719) (http://go.microsoft.com/fwlink/?LinkID=154719).</span><span class="sxs-lookup"><span data-stu-id="08e3a-117">[Deploying BizTalk Assemblies from Visual Studio into a BizTalk Application](http://go.microsoft.com/fwlink/?LinkID=154719) (http://go.microsoft.com/fwlink/?LinkID=154719).</span></span>|  
|<span data-ttu-id="08e3a-118">Exportez l’assembly à partir de l’application dans votre environnement de test dans un fichier .msi.</span><span class="sxs-lookup"><span data-stu-id="08e3a-118">Export the assembly from the application in your test environment into an .msi file.</span></span>|[<span data-ttu-id="08e3a-119">Comment exporter une application vers un fichier .msi</span><span class="sxs-lookup"><span data-stu-id="08e3a-119">How to Export an Application to an .msi File</span></span>](../technical-guides/how-to-export-an-application-to-an-msi-file.md)|  
|<span data-ttu-id="08e3a-120">Importer le fichier .msi dans l’application BizTalk dans votre environnement de production qui contient l’orchestration que vous souhaitez mettre à jour.</span><span class="sxs-lookup"><span data-stu-id="08e3a-120">Import the .msi file into the BizTalk application in your production environment that contains the orchestration that you want to update.</span></span> <span data-ttu-id="08e3a-121">**Remarque :** vous pouvez utiliser les étapes suivantes pour tester l’assembly, ainsi que de déployer dans votre environnement de production.</span><span class="sxs-lookup"><span data-stu-id="08e3a-121">**Note:**  You can use the following steps for testing the assembly as well as deploying it into your production environment.</span></span>|[<span data-ttu-id="08e3a-122">Comment importer une application depuis un fichier .msi</span><span class="sxs-lookup"><span data-stu-id="08e3a-122">How to Import an Application from an .msi File</span></span>](../technical-guides/how-to-import-an-application-from-an-msi-file.md)|  
|<span data-ttu-id="08e3a-123">Lier l’orchestration mise à jour avec les mêmes liaisons que l’orchestration d’origine.</span><span class="sxs-lookup"><span data-stu-id="08e3a-123">Bind the updated orchestration using the same bindings as the original orchestration.</span></span>|<span data-ttu-id="08e3a-124">[Comment configurer des liaisons d’une Orchestration](http://go.microsoft.com/fwlink/?LinkId=154850) (http://go.microsoft.com/fwlink/?LinkId=154850).</span><span class="sxs-lookup"><span data-stu-id="08e3a-124">[How to Configure Bindings for an Orchestration](http://go.microsoft.com/fwlink/?LinkId=154850) (http://go.microsoft.com/fwlink/?LinkId=154850).</span></span>|  
|<span data-ttu-id="08e3a-125">Désinscrivez l'orchestration d'origine, puis démarrez l'orchestration mise à jour.</span><span class="sxs-lookup"><span data-stu-id="08e3a-125">Unenlist the original orchestration, and then start the updated orchestration.</span></span> <span data-ttu-id="08e3a-126">**Remarque :** pour éviter toute suppression de messages, vous devez le faire par programme.</span><span class="sxs-lookup"><span data-stu-id="08e3a-126">**Note:**  To avoid any dropped messages, you should do this programmatically.</span></span>|<span data-ttu-id="08e3a-127">Pour plus d’informations sur le déploiement de l’orchestration par programme, consultez [déploiement et démarrage d’une nouvelle Version d’une Orchestration par programme](http://go.microsoft.com/fwlink/?LinkId=154851) (http://go.microsoft.com/fwlink/?LinkId=154851).</span><span class="sxs-lookup"><span data-stu-id="08e3a-127">For more information about deploying the orchestration programmatically, see [Deploying and Starting a New Version of an Orchestration Programmatically](http://go.microsoft.com/fwlink/?LinkId=154851) (http://go.microsoft.com/fwlink/?LinkId=154851).</span></span><br /><br /> <span data-ttu-id="08e3a-128">Pour plus d’informations sur le déploiement de l’orchestration manuellement, consultez la rubrique suivante dans l’aide de BizTalk Server :</span><span class="sxs-lookup"><span data-stu-id="08e3a-128">For more information about deploying the orchestration manually, see the following in BizTalk Server Help:</span></span><br /><br /> <span data-ttu-id="08e3a-129">-   [Comment désinscrire une Orchestration](http://go.microsoft.com/fwlink/?LinkId=154852) (http://go.microsoft.com/fwlink/?LinkId=154852).</span><span class="sxs-lookup"><span data-stu-id="08e3a-129">-   [How to Unenlist an Orchestration](http://go.microsoft.com/fwlink/?LinkId=154852) (http://go.microsoft.com/fwlink/?LinkId=154852).</span></span><br /><span data-ttu-id="08e3a-130">-   [Comment inscrire une Orchestration](http://go.microsoft.com/fwlink/?LinkId=154853) (http://go.microsoft.com/fwlink/?LinkId=154853).</span><span class="sxs-lookup"><span data-stu-id="08e3a-130">-   [How to Enlist an Orchestration](http://go.microsoft.com/fwlink/?LinkId=154853) (http://go.microsoft.com/fwlink/?LinkId=154853).</span></span><br /><span data-ttu-id="08e3a-131">-   [Comment démarrer une Orchestration](http://go.microsoft.com/fwlink/?LinkId=154854) (http://go.microsoft.com/fwlink/?LinkId=154854).</span><span class="sxs-lookup"><span data-stu-id="08e3a-131">-   [How to Start an Orchestration](http://go.microsoft.com/fwlink/?LinkId=154854) (http://go.microsoft.com/fwlink/?LinkId=154854).</span></span>|  
|<span data-ttu-id="08e3a-132">Surveillance du système pour les instances de la version d’orchestration d’origine à l’aide de concentrateur du groupe page Affichage de la requête.</span><span class="sxs-lookup"><span data-stu-id="08e3a-132">Monitor the system for instances of the original orchestration version using the Group Hub page query view.</span></span>|<span data-ttu-id="08e3a-133">[Comment afficher des informations sur l’Instance d’une Orchestration](http://go.microsoft.com/fwlink/?LinkId=154855) (http://go.microsoft.com/fwlink/?LinkId=154855).</span><span class="sxs-lookup"><span data-stu-id="08e3a-133">[How to View Instance Information for an Orchestration](http://go.microsoft.com/fwlink/?LinkId=154855) (http://go.microsoft.com/fwlink/?LinkId=154855).</span></span>|  
|<span data-ttu-id="08e3a-134">Lorsque toutes ses instances actives, mises en attente et suspendues sont terminées, annulez le déploiement de l’orchestration d’origine à partir de l’application.</span><span class="sxs-lookup"><span data-stu-id="08e3a-134">When all of its active, dehydrated, and suspended instances are complete, undeploy the original orchestration from the application.</span></span>|<span data-ttu-id="08e3a-135">[Comment supprimer une Orchestration à partir d’une Application](http://go.microsoft.com/fwlink/?LinkId=154856) (http://go.microsoft.com/fwlink/?LinkId=154856).</span><span class="sxs-lookup"><span data-stu-id="08e3a-135">[How to Remove an Orchestration from an Application](http://go.microsoft.com/fwlink/?LinkId=154856) (http://go.microsoft.com/fwlink/?LinkId=154856).</span></span>|  
|<span data-ttu-id="08e3a-136">Si vous le souhaitez désinstaller la version d’origine de l’assembly du GAC sur chaque ordinateur qui exécute l’application.</span><span class="sxs-lookup"><span data-stu-id="08e3a-136">Optionally uninstall the original assembly version from the GAC on each computer running the application.</span></span>|<span data-ttu-id="08e3a-137">[Comment désinstaller un Assembly du GAC](http://go.microsoft.com/fwlink/?LinkId=154857) (http://go.microsoft.com/fwlink/?LinkId=154857).</span><span class="sxs-lookup"><span data-stu-id="08e3a-137">[How to Uninstall an Assembly from the GAC](http://go.microsoft.com/fwlink/?LinkId=154857) (http://go.microsoft.com/fwlink/?LinkId=154857).</span></span>|  
  
## <a name="binding-to-receive-ports-and-locations"></a><span data-ttu-id="08e3a-138">Liaison de Ports et emplacements de réception</span><span class="sxs-lookup"><span data-stu-id="08e3a-138">Binding to Receive Ports and Locations</span></span>  
 <span data-ttu-id="08e3a-139">Si vous souhaitez créer de nouveaux ports et emplacements de la nouvelle version de l’orchestration de réception, simplement pour les nouveaux ports de liaison et les nouveaux artefacts de l’inscription/démarrage généralement seront suffisants.</span><span class="sxs-lookup"><span data-stu-id="08e3a-139">If you want to create new receive ports and locations for the new version of the orchestration, simply binding to the new ports and enlisting/starting the new artifacts will typically be sufficient.</span></span> <span data-ttu-id="08e3a-140">Création de nouveau des emplacements de réception et ports est généralement la meilleure approche, en particulier si votre scénario utilise les orchestrations longues où un certain nombre de corrélation reçoit toujours besoin d’être traités.</span><span class="sxs-lookup"><span data-stu-id="08e3a-140">Creating new receive locations and ports is usually the preferred approach, especially if your scenario uses long-running orchestrations where a number of correlating receives still need to be processed.</span></span> <span data-ttu-id="08e3a-141">Dans ce cas, vous ne pouvez peut-être pas réutiliser les ports de réception ou d’effectuer unenlistment.</span><span class="sxs-lookup"><span data-stu-id="08e3a-141">In this case, you may not be able to reuse existing receive ports or perform unenlistment.</span></span> <span data-ttu-id="08e3a-142">Si vous créez de nouveaux ports, veillez à ce qu’il est possible de vos systèmes back-end et partenaire gérer cette modification.</span><span class="sxs-lookup"><span data-stu-id="08e3a-142">If you create new ports, be sure that it is possible for your backend and partner systems to handle this change.</span></span> <span data-ttu-id="08e3a-143">Si ce n’est pas le cas, vous devez attendre que toutes les instances de longs déboucher sur avant la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="08e3a-143">If not, you will have to wait for all long-running instances to culminate before upgrading.</span></span>  
  
 <span data-ttu-id="08e3a-144">Si vous souhaitez utiliser des ports existants, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="08e3a-144">If you want to use existing ports, do the following:</span></span>  
  
1.  <span data-ttu-id="08e3a-145">Lier la nouvelle version de l’orchestration aux ports existants.</span><span class="sxs-lookup"><span data-stu-id="08e3a-145">Bind the new version of the orchestration to existing ports.</span></span>  
  
2.  <span data-ttu-id="08e3a-146">Désinscrire (mais ne l’arrêtez pas) l’ancienne version de l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="08e3a-146">Unenlist (but do not stop) the old orchestration version.</span></span>  
  
3.  <span data-ttu-id="08e3a-147">Inscrire et démarrer la nouvelle version de l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="08e3a-147">Enlist and start the new orchestration version.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="08e3a-148">Vous pouvez utiliser un script pour effectuer les étapes 2 et 3 dans une transaction afin que les messages ne sont pas absentes abonnements entre en cliquant sur manuel.</span><span class="sxs-lookup"><span data-stu-id="08e3a-148">You can use a script to do steps 2 and 3 in one transaction, so that messages will not be missing subscriptions between manual clicking.</span></span>