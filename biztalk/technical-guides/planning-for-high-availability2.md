---
title: "Planification pour une haute disponibilité2 | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 65271fd5-5294-406f-87f8-3aa394c235a2
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f9b5ff05391eed424e7b910296cc5aa801f8cab1
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/01/2017
---
# <a name="planning-for-high-availability"></a><span data-ttu-id="f9201-102">Planification pour une haute disponibilité</span><span class="sxs-lookup"><span data-stu-id="f9201-102">Planning for High Availability</span></span>
<span data-ttu-id="f9201-103">Haute disponibilité pour BizTalk Server se concentre sur la récupération des composants fonctionnels susceptibles d’interrompre la disponibilité dans un déploiement de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="f9201-103">High availability for BizTalk Server focuses on recovering functional components that might disrupt availability in a BizTalk Server deployment.</span></span>  
  
 <span data-ttu-id="f9201-104">Pour illustrer la haute disponibilité dans BizTalk Server, vous devez provoquer un échec et mesurer l’efficacité du produit en mode de récupération.</span><span class="sxs-lookup"><span data-stu-id="f9201-104">To demonstrate high availability in BizTalk Server, you have to cause a failure and measure the product's effectiveness in recovery.</span></span> <span data-ttu-id="f9201-105">Un déploiement de BizTalk Server hautement disponible rend les erreurs et échecs transparent pour les systèmes et applications externes et garantit que tous les services continuent de fonctionner correctement avec une perturbation minimale.</span><span class="sxs-lookup"><span data-stu-id="f9201-105">A highly available BizTalk Server deployment makes errors and failures transparent to external applications and systems, and ensures that all services continue functioning correctly with minimal disruption.</span></span>  
  
 <span data-ttu-id="f9201-106">Conception d’un déploiement de BizTalk Server qui offre une haute disponibilité implique l’implémentation de redondance pour chacun des composants fonctionnels impliquées dans une intégration d’application ou un scénario de processus d’intégration d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="f9201-106">Designing a BizTalk Server deployment that provides high availability involves implementing redundancy for each functional component involved in an application integration or business process integration scenario.</span></span> <span data-ttu-id="f9201-107">BizTalk Server simplifie l’implémentation de ces scénarios en séparant conceptuellement les données à partir de la *hôtes* qui traitent les données.</span><span class="sxs-lookup"><span data-stu-id="f9201-107">BizTalk Server simplifies the implementation of these scenarios by conceptually separating the data from the *hosts* that process the data.</span></span> <span data-ttu-id="f9201-108">A *hôte* est un conteneur logique de BizTalk éléments, tels que les orchestrations, gestionnaires d’envoi et les gestionnaires de réception.</span><span class="sxs-lookup"><span data-stu-id="f9201-108">A *host* is a logical container of BizTalk items, such as orchestrations, send handlers, and receive handlers.</span></span> <span data-ttu-id="f9201-109">Vous créez *instances d’hôte* et les attribuer à l’ordinateur hôte.</span><span class="sxs-lookup"><span data-stu-id="f9201-109">You create *host instances* and assign them to the host.</span></span> <span data-ttu-id="f9201-110">Une instance de l'hôte est la représentation physique d'un hôte sur un serveur particulier.</span><span class="sxs-lookup"><span data-stu-id="f9201-110">A host instance is the physical representation of a host on a specific server.</span></span> <span data-ttu-id="f9201-111">Il est le processus du service BizTalk Server appelé BTSNTSvc.exe ou un autre processus, par exemple, le processus IIS.</span><span class="sxs-lookup"><span data-stu-id="f9201-111">It is either the BizTalk Server service process called BTSNTSvc.exe or another process, for example, the IIS process.</span></span> <span data-ttu-id="f9201-112">Par conséquent, offrant une haute disponibilité pour BizTalk Server implique l’exécution de plusieurs *instances d’hôte* et clustering avec les bases de données BizTalk Server, comme suit :</span><span class="sxs-lookup"><span data-stu-id="f9201-112">So providing high availability for BizTalk Server involves running multiple *host instances* and clustering the BizTalk Server databases, as follows:</span></span>  
  
-   <span data-ttu-id="f9201-113">**Architecture pour les hôtes BizTalk**.</span><span class="sxs-lookup"><span data-stu-id="f9201-113">**Architecture for BizTalk Hosts**.</span></span> <span data-ttu-id="f9201-114">BizTalk Server vous permet de séparer les hôtes et d’exécuter plusieurs instances d’hôte pour fournir une haute disponibilité pour les fonctions clés telles que la réception des messages, le traitement des orchestrations et envoyer des messages.</span><span class="sxs-lookup"><span data-stu-id="f9201-114">BizTalk Server lets you separate hosts and run multiple host instances to provide high availability for key functions such as receiving messages, processing orchestrations, and sending messages.</span></span> <span data-ttu-id="f9201-115">Ces hôtes ne nécessitent pas de mise en cluster ni mécanisme d’équilibrage de charge, car BizTalk Server répartit automatiquement la charge entre plusieurs ordinateurs à partir d’instances de l’hôte.</span><span class="sxs-lookup"><span data-stu-id="f9201-115">These hosts do not require any additional clustering or load-balancing mechanism because BizTalk Server automatically distributes workload across multiple computers through host instances.</span></span> <span data-ttu-id="f9201-116">Toutefois, héberge les gestionnaires de réception en cours d’exécution pour les adaptateurs HTTP et SOAP requièrent un mécanisme d’équilibrage de charge telles que charger équilibrage réseau (NLB) pour fournir une haute disponibilité et les ordinateurs hôtes exécutant les gestionnaires de réception FTP, MSMQ, POP3, SQL et SAP nécessitent un mécanisme de clustering pour fournir une haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="f9201-116">However, hosts running the receive handlers for the HTTP and SOAP adapters require a load-balancing mechanism such as Network Load Balancing (NLB) to provide high availability, and hosts running the receive handlers for FTP, MSMQ, POP3, SQL, and SAP require a clustering mechanism to provide high availability.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f9201-117">Vous devez toujours mettre en cluster SAP adaptateur pour prendre en charge un scénario de validation en deux phases de réception.</span><span class="sxs-lookup"><span data-stu-id="f9201-117">You must always cluster the SAP receive adapter to accommodate a two-phase commit scenario.</span></span>  
  
-   <span data-ttu-id="f9201-118">**Architecture des bases de données BizTalk Server**.</span><span class="sxs-lookup"><span data-stu-id="f9201-118">**Architecture for BizTalk Server databases**.</span></span> <span data-ttu-id="f9201-119">Configuration à haute disponibilité pour les bases de données BizTalk Server se compose généralement de deux ou plusieurs ordinateurs de base de données SQL Server configurées dans une configuration de cluster de serveurs actif/passif.</span><span class="sxs-lookup"><span data-stu-id="f9201-119">High-availability configuration for the BizTalk Server databases typically consists of two or more SQL Server database computers configured in an active/passive server cluster configuration.</span></span> <span data-ttu-id="f9201-120">Ces ordinateurs partagent une ressource de disque commune (par exemple un volume RAID 1 + 0 baie de disques SCSI ou d’un réseau de zone de stockage) et utiliser le Clustering de basculement Windows pour fournir la tolérance de pannes de redondance et de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="f9201-120">These computers share a common disk resource (such as a RAID 1+0 SCSI disk array or a storage area network) and use Windows Failover Clustering to provide backup redundancy and fault tolerance.</span></span>  
  
 <span data-ttu-id="f9201-121">Un autre composant fonctionnel BizTalk qui est essentiel pour la haute disponibilité est le serveur de secret principal.</span><span class="sxs-lookup"><span data-stu-id="f9201-121">Another BizTalk functional component that is critical for high availability is the master secret server.</span></span> <span data-ttu-id="f9201-122">BizTalk Server repose sur ce service pour obtenir la clé de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="f9201-122">BizTalk Server relies on this service to obtain the encryption key.</span></span>  
  
 <span data-ttu-id="f9201-123">Cette section fournit des informations sur la façon d’aborder la haute disponibilité dans chacune de ces catégories.</span><span class="sxs-lookup"><span data-stu-id="f9201-123">This section provides information about how to address high availability in each of these categories.</span></span> <span data-ttu-id="f9201-124">Comme une solution de haute disponibilité de BizTalk Server repose sur Windows et SQL Server, assurez-vous de déployer ces produits et à haute disponibilité avant de configurer les hôtes BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="f9201-124">Because a BizTalk Server high availability solution is built on Windows and SQL Server, make sure that you deploy these products with high availability before configuring hosts for BizTalk Server.</span></span> <span data-ttu-id="f9201-125">Les liens suivants comportent des informations sur la façon d'assurer la haute disponibilité pour ces produits sous-jacents :</span><span class="sxs-lookup"><span data-stu-id="f9201-125">The following links include information about providing high availability for these underlying products:</span></span>  
  
-   <span data-ttu-id="f9201-126">**Solutions haute disponibilité (SQL Server)] (https://docs.microsoft.com/sql/sql-server/failover-clusters/high-availability-solutions-sql-server)**</span><span class="sxs-lookup"><span data-stu-id="f9201-126">**High Availability Solutions (SQL Server)](https://docs.microsoft.com/sql/sql-server/failover-clusters/high-availability-solutions-sql-server)**</span></span>  
  
-   <span data-ttu-id="f9201-127">**[Clustering de basculement dans Windows Server](https://docs.microsoft.com/windows-server/failover-clustering/failover-clustering-overview)**</span><span class="sxs-lookup"><span data-stu-id="f9201-127">**[Failover Clustering in Windows Server](https://docs.microsoft.com/windows-server/failover-clustering/failover-clustering-overview)**</span></span>
  
## <a name="understanding-the-impact-of-a-component-failure"></a><span data-ttu-id="f9201-128">Comprendre l’Impact de la défaillance d’un composant</span><span class="sxs-lookup"><span data-stu-id="f9201-128">Understanding the Impact of a Component Failure</span></span>  
 <span data-ttu-id="f9201-129">Le tableau suivant répertorie les composants et les dépendances d’un environnement BizTalk Server et l’impact sur l’environnement BizTalk Server, si la dépendance ou le composant échoue.</span><span class="sxs-lookup"><span data-stu-id="f9201-129">The following table lists the components and dependencies of a BizTalk Server environment and the impact on the BizTalk Server environment if the component or dependency fails.</span></span> <span data-ttu-id="f9201-130">Vous devez envisager l’étendue d’une défaillance de décider d’un composant ou une dépendance de cluster.</span><span class="sxs-lookup"><span data-stu-id="f9201-130">You should consider the scope of a potential failure when deciding whether to cluster a component or dependency.</span></span>  
  
|<span data-ttu-id="f9201-131">Composant ou dépendance</span><span class="sxs-lookup"><span data-stu-id="f9201-131">Component or dependency</span></span>|<span data-ttu-id="f9201-132">Étendue de l’échec</span><span class="sxs-lookup"><span data-stu-id="f9201-132">Scope of failure</span></span>|  
|-----------------------------|----------------------|  
|<span data-ttu-id="f9201-133">SQL Server</span><span class="sxs-lookup"><span data-stu-id="f9201-133">SQL Server</span></span>|<span data-ttu-id="f9201-134">Échelle du système.</span><span class="sxs-lookup"><span data-stu-id="f9201-134">Systemwide.</span></span> <span data-ttu-id="f9201-135">Si SQL Server ne parvient pas BizTalk Server sera impossible de traiter les documents.</span><span class="sxs-lookup"><span data-stu-id="f9201-135">If SQL Server fails then BizTalk Server will be unable to process documents.</span></span>|  
|<span data-ttu-id="f9201-136">Serveur de secret principal</span><span class="sxs-lookup"><span data-stu-id="f9201-136">Master secret server</span></span>|<span data-ttu-id="f9201-137">Échelle du système.</span><span class="sxs-lookup"><span data-stu-id="f9201-137">Systemwide.</span></span> <span data-ttu-id="f9201-138">Si le serveur de secret principal échoue puis BizTalk Server ne pourra pas traiter les documents.</span><span class="sxs-lookup"><span data-stu-id="f9201-138">If the master secret server fails then BizTalk Server will be unable to process documents.</span></span> <br/><span data-ttu-id="f9201-139">**Remarque :** si le serveur de secret principal échoue, chaque serveur BizTalk server dans le groupe BizTalk continuera à utiliser une copie en mémoire en cache le secret principal jusqu'à ce que le service SSO sur que BizTalk server est redémarré.</span><span class="sxs-lookup"><span data-stu-id="f9201-139">**Note:**  If the master secret server fails, each BizTalk server in the BizTalk group will continue to use a cached in-memory copy of the master secret until the Enterprise SSO service on that BizTalk server is restarted.</span></span> <span data-ttu-id="f9201-140">Si le service SSO est redémarré sur les serveurs BizTalk Server, puis la copie mise en cache du secret est libérée de la mémoire et les serveurs BizTalk Server doivent être en mesure de contacter le serveur de secret principal pour obtenir une autre copie du secret.</span><span class="sxs-lookup"><span data-stu-id="f9201-140">If the Enterprise SSO service is restarted on the BizTalk servers, then the cached copy of the master secret is released from memory and the BizTalk servers must be able to contact the master secret server to obtain another copy of the master secret.</span></span> <span data-ttu-id="f9201-141">Ne redémarrez pas le service SSO de l’entreprise sur les serveurs BizTalk dans un groupe si le serveur de secret principal échoue et que vous souhaitez poursuivre le traitement des documents de BizTalk server.</span><span class="sxs-lookup"><span data-stu-id="f9201-141">Do not restart the Enterprise SSO service on the BizTalk server(s) in a group if the master secret server fails and you want the BizTalk server to continue processing documents.</span></span>|  
|<span data-ttu-id="f9201-142">MSDTC</span><span class="sxs-lookup"><span data-stu-id="f9201-142">MSDTC</span></span>|<span data-ttu-id="f9201-143">Serveur.</span><span class="sxs-lookup"><span data-stu-id="f9201-143">Server.</span></span> <span data-ttu-id="f9201-144">En cas de MSDTC n’importe quel composant sur le serveur qui nécessite la prise en charge de la transaction échoue.</span><span class="sxs-lookup"><span data-stu-id="f9201-144">If MSDTC fails then any component on the server that requires transaction support will fail.</span></span> <br/><span data-ttu-id="f9201-145">**Remarque :** , car SQL Server et le serveur de secret principal sont dépendantes de MSDTC pour la prise en charge de la transaction, l’étendue de l’échec sera au niveau du système si le MSDTC sur SQL server ou du serveur de secret principal échoue.</span><span class="sxs-lookup"><span data-stu-id="f9201-145">**Note:**  Because SQL Server and the master secret server are dependent on MSDTC for transaction support, the scope of the failure will become system wide if the MSDTC on the SQL server or master secret server fails.</span></span> <span data-ttu-id="f9201-146">BizTalk Server requiert la prise en charge des transactions lors de la communication avec SQL Server et le serveur de secret principal au cours des opérations d’exécution.</span><span class="sxs-lookup"><span data-stu-id="f9201-146">BizTalk Server requires transaction support when communicating with SQL Server and the master secret server during run-time operations.</span></span>|  
|<span data-ttu-id="f9201-147">Instance de l'hôte BizTalk</span><span class="sxs-lookup"><span data-stu-id="f9201-147">BizTalk Host instance</span></span>|<span data-ttu-id="f9201-148">Serveur.</span><span class="sxs-lookup"><span data-stu-id="f9201-148">Server.</span></span> <span data-ttu-id="f9201-149">Tous les composants hébergées dans une instance d’hôte BizTalk ne pourront pas participer au traitement de document si l’instance d’hôte échoue.</span><span class="sxs-lookup"><span data-stu-id="f9201-149">Any components housed in a BizTalk Host instance will be unable to participate in document processing if the host instance fails.</span></span>|  
|<span data-ttu-id="f9201-150">Microsoft Message Queuing (MSMQ)</span><span class="sxs-lookup"><span data-stu-id="f9201-150">Microsoft Message Queuing (MSMQ)</span></span>|<span data-ttu-id="f9201-151">Serveur.</span><span class="sxs-lookup"><span data-stu-id="f9201-151">Server.</span></span> <span data-ttu-id="f9201-152">En cas de MSMQ puis tout traitement de document dont dépend le service MSMQ, telles que l’adaptateur MSMQ, est arrêté sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="f9201-152">If MSMQ fails then any document processing that is dependent on the MSMQ service, such as the MSMQ adapter, will be halted on the server.</span></span>|  
|<span data-ttu-id="f9201-153">Système de fichiers</span><span class="sxs-lookup"><span data-stu-id="f9201-153">File system</span></span>|<span data-ttu-id="f9201-154">Serveur.</span><span class="sxs-lookup"><span data-stu-id="f9201-154">Server.</span></span> <span data-ttu-id="f9201-155">Si le système de fichiers échoue puis tout traitement de document qui est dépendante du système de fichiers, telles que l’adaptateur File, est arrêté sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="f9201-155">If the file system fails then any document processing that is dependent on the file system, such as the File adapter, will be halted on the server.</span></span>|  
  
 <span data-ttu-id="f9201-156">Pour être en mesure de mieux gérer un système BizTalk Server hautement disponible, vous devez disposer d’une bonne compréhension de la pile BizTalk : Windows Server, le contrôleur de domaine (DNS, DHCP), BizTalk Server, SQL Server, le serveur IIS, serveur de fichiers, serveur MSMQ, des applications externes.</span><span class="sxs-lookup"><span data-stu-id="f9201-156">To be able to better manage a highly available BizTalk Server system, you must have a good understanding of the BizTalk stack: Windows Server, DC (DNS, DHCP), BizTalk Server, SQL Server, IIS server, File server, MSMQ server, external applications.</span></span> <span data-ttu-id="f9201-157">Cette section se concentre sur la haute disponibilité de BizTalk Server et l’ordinateur SQL Server dépendant.</span><span class="sxs-lookup"><span data-stu-id="f9201-157">This section focuses on the high availability of BizTalk Server and the dependent SQL Server computer.</span></span>  
  
## <a name="biztalk-server-high-availability-examples"></a><span data-ttu-id="f9201-158">Exemples de haute disponibilité de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="f9201-158">BizTalk Server High-Availability Examples</span></span>  
 <span data-ttu-id="f9201-159">Pour plus d’exemples de scénarios dans Microsoft BizTalk Server offrant une haute disponibilité via des niveaux de montée en charge des ordinateurs hôtes, consultez [scénarios de haute disponibilité exemple BizTalk Server](../core/sample-biztalk-server-high-availability-scenarios.md).</span><span class="sxs-lookup"><span data-stu-id="f9201-159">For sample scenarios in Microsoft BizTalk Server that provide high availability through scaled-out tiers of hosts, see [Sample BizTalk Server High Availability Scenarios](../core/sample-biztalk-server-high-availability-scenarios.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="f9201-160">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f9201-160">See Also</span></span>  
 <span data-ttu-id="f9201-161">[Haute disponibilité pour les hôtes BizTalk](../technical-guides/high-availability-for-biztalk-hosts.md) </span><span class="sxs-lookup"><span data-stu-id="f9201-161">[High Availability for BizTalk Hosts](../technical-guides/high-availability-for-biztalk-hosts.md) </span></span>  
 <span data-ttu-id="f9201-162">[Haute disponibilité pour les bases de données](../technical-guides/high-availability-for-databases.md) </span><span class="sxs-lookup"><span data-stu-id="f9201-162">[High Availability for Databases](../technical-guides/high-availability-for-databases.md) </span></span>  
 <span data-ttu-id="f9201-163">[Haute disponibilité pour le serveur de secret principal](../technical-guides/high-availability-for-the-master-secret-server.md) </span><span class="sxs-lookup"><span data-stu-id="f9201-163">[High Availability for the Master Secret Server](../technical-guides/high-availability-for-the-master-secret-server.md) </span></span>  
 [<span data-ttu-id="f9201-164">Liste de contrôle : Accroissement de la disponibilité avec la récupération d’urgence</span><span class="sxs-lookup"><span data-stu-id="f9201-164">Checklist: Increasing Availability with Disaster Recovery</span></span>](../technical-guides/checklist-increasing-availability-with-disaster-recovery.md)