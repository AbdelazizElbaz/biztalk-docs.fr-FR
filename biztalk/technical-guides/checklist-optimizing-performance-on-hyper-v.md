---
title: "Liste de vérification : Optimisation des performances sur Hyper-V | Documents Microsoft"
ms.custom: 
ms.date: 06/29/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 942a61eb-0fdd-4c8b-b0ad-d32951f0f631
caps.latest.revision: "23"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: db0afbdc9d89296f8aaff94db057bf2e9c072392
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/01/2017
---
# <a name="checklist-optimizing-performance-on-hyper-v"></a><span data-ttu-id="332ad-102">Liste de vérification : Optimisation des performances sur Hyper-V</span><span class="sxs-lookup"><span data-stu-id="332ad-102">Checklist: Optimizing Performance on Hyper-V</span></span>
<span data-ttu-id="332ad-103">Les considérations suivantes s’appliquent lors de l’exécution de BizTalk Server et/ou le [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] ou les instances qui ont les bases de données BizTalk Server sur des ordinateurs virtuels Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="332ad-103">The following considerations apply when running BizTalk Server and/or the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance(s) that have the BizTalk Server databases on Hyper-V virtual machines.</span></span>  
  
## <a name="allocate-110125-of-cpu-and-disk-resources-to-the-hyper-v-virtual-machines"></a><span data-ttu-id="332ad-104">Allouer 110 – 125 % du processeur et des ressources de disque pour les ordinateurs virtuels Hyper-V</span><span class="sxs-lookup"><span data-stu-id="332ad-104">Allocate 110%–125% of CPU and Disk Resources to the Hyper-V Virtual Machines</span></span>  
 <span data-ttu-id="332ad-105">Vous souhaitez allouer 110 à 125 % des ressources processeur et 105 à 110 % des ressources de disque requises par une solution de matériel physique aux ordinateurs virtuels Hyper-V utilisé pour la solution.</span><span class="sxs-lookup"><span data-stu-id="332ad-105">Plan to allocate 110% to 125% of the CPU resources and 105% - 110% of the disk resources required by a physical hardware solution to the Hyper-V virtual machines used for the solution.</span></span> <span data-ttu-id="332ad-106">En configurant l’ordinateur virtuel Hyper-V avec des ressources supplémentaires, vous allez vérifier qu’elle peut fournir des performances similaire à un matériel physique lors de la prise en compte toute surcharge requis par la technologie de virtualisation Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="332ad-106">By configuring the Hyper-V virtual machine with additional resources, you will ensure that it can provide performance on par with physical hardware while accommodating any overhead required by Hyper-V virtualization technology.</span></span>  
  
|<span data-ttu-id="332ad-107">Étape</span><span class="sxs-lookup"><span data-stu-id="332ad-107">Step</span></span>|<span data-ttu-id="332ad-108">Référence</span><span class="sxs-lookup"><span data-stu-id="332ad-108">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="332ad-109">La configuration matérielle requise pour l’étendue du [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution.</span><span class="sxs-lookup"><span data-stu-id="332ad-109">Scope the hardware requirements for the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution.</span></span>|<span data-ttu-id="332ad-110">-Suivez les instructions de la section « Planification de l’environnement pour BizTalk Server » de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operations Guide [http://go.microsoft.com/fwlink/?LinkId=122399](http://go.microsoft.com/fwlink/?LinkId=122399) étendue de la configuration matérielle requise pour la solution.</span><span class="sxs-lookup"><span data-stu-id="332ad-110">-   Follow the guidance in the “Planning the Environment for BizTalk Server” section of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operations Guide at [http://go.microsoft.com/fwlink/?LinkId=122399](http://go.microsoft.com/fwlink/?LinkId=122399) to scope the hardware requirements for the solution.</span></span><br /><span data-ttu-id="332ad-111">-Pour l’étendue de l’édition et du nombre de serveurs BizTalk Server qui sera requise par la solution passez en revue les considérations décrites dans « Planification le niveau de serveur BizTalk » une planification de BizTalk Server [http://go.microsoft.com/fwlink/?LinkId=122401](http://go.microsoft.com/fwlink/?LinkId=122401).</span><span class="sxs-lookup"><span data-stu-id="332ad-111">-   To scope the edition and number of BizTalk Servers that will be required by the solution review BizTalk Server planning considerations documented in “Planning the BizTalk Server Tier” at [http://go.microsoft.com/fwlink/?LinkId=122401](http://go.microsoft.com/fwlink/?LinkId=122401).</span></span><br /><span data-ttu-id="332ad-112">-Pour définir l’étendue la version et le nombre de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] les ordinateurs qui seront requis par la solution, passez en revue les considérations décrite dans « Planification de la couche de base de données » de la base de données à [http://go.microsoft.com/fwlink/? LinkId = 122402](http://go.microsoft.com/fwlink/?LinkId=122402) et la section « performances surcharge d’en cours d’exécution SQL Server dans Hyper-V » du livre blanc « En cours d’exécution SQL Server 2008 in a Hyper-V environnement meilleures pratiques et les considérations relatives aux performances » disponible à l’adresse [http:// go.Microsoft.com/fwlink/ ? LinkId = 144622](http://go.microsoft.com/fwlink/?LinkId=144622).</span><span class="sxs-lookup"><span data-stu-id="332ad-112">-   To scope the version and number of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that will be required by the solution, review database planning considerations documented in “Planning the Database Tier” at [http://go.microsoft.com/fwlink/?LinkId=122402](http://go.microsoft.com/fwlink/?LinkId=122402) and the “Performance Overhead of Running SQL Server in Hyper-V” section of the “Running SQL Server 2008 in a Hyper-V Environment Best Practices and Performance Considerations” whitepaper available at [http://go.microsoft.com/fwlink/?LinkId=144622](http://go.microsoft.com/fwlink/?LinkId=144622).</span></span><br /><span data-ttu-id="332ad-113">-Pour effectuer la planification pour le développement, les environnements de test, intermédiaire et de production consulter « Planification du développement, test, intermédiaire et les environnements de Production » à [http://go.microsoft.com/fwlink/?LinkId=122403](http://go.microsoft.com/fwlink/?LinkId=122403).</span><span class="sxs-lookup"><span data-stu-id="332ad-113">-   To complete planning for development, testing, staging, and production environments review “Planning the Development, Testing, Staging, and Production Environments” at [http://go.microsoft.com/fwlink/?LinkId=122403](http://go.microsoft.com/fwlink/?LinkId=122403).</span></span>|  
|<span data-ttu-id="332ad-114">Une fois l’étendue de la configuration matérielle requise de votre solution BizTalk Server, envisagez de configurer les ordinateurs Hyper-V avec **110 – 125 %** des ressources processeur et disque si possible.</span><span class="sxs-lookup"><span data-stu-id="332ad-114">After scoping the hardware requirements of your BizTalk Server solution, plan to configure the Hyper-V machines with **110% – 125%** of the CPU and disk resources if possible.</span></span>|<span data-ttu-id="332ad-115">Par exemple, si la configuration matérielle requise pour un ordinateur physique de BizTalk Server utilisées par la solution est déterminé comme étant de 2 Go de RAM, un processeur double cœur en cours d’exécution au niveau 2GHZ et 2 x 500 Go disques physiques, puis dans l’idéal, l’ordinateur virtuel Hyper-V utilisé par la solution serait configuré avec les processeurs de 2 ou plus virtuels en cours d’exécution > = 2,2 GHZ et plus rapide des disques physiques (généralement par l’ajout d’axes ou à l’aide de disques plus rapides).</span><span class="sxs-lookup"><span data-stu-id="332ad-115">For example, if the hardware requirements for a physical BizTalk Server computer used by the solution is determined to be 2GB RAM, a dual core CPU running at 2GHZ, and 2x 500 GB physical disks, then ideally, the Hyper-V virtual machine used by the solution would be configured with 2 or more virtual processors running >= 2.2 GHZ, and faster physical disks (typically by adding spindles or using faster disks).</span></span>|  
  
## <a name="optimize-hyper-v-performance"></a><span data-ttu-id="332ad-116">Optimiser les performances de Hyper-V</span><span class="sxs-lookup"><span data-stu-id="332ad-116">Optimize Hyper-V Performance</span></span>  
 <span data-ttu-id="332ad-117">Utilisez les indications suivantes pour configurer Hyper-V pour des performances optimales.</span><span class="sxs-lookup"><span data-stu-id="332ad-117">Use the following general guidelines to configure Hyper-V for optimal performance.</span></span>  
  
|<span data-ttu-id="332ad-118">Étape</span><span class="sxs-lookup"><span data-stu-id="332ad-118">Step</span></span>|<span data-ttu-id="332ad-119">Référence</span><span class="sxs-lookup"><span data-stu-id="332ad-119">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="332ad-120">Appliquer les recommandations pour les serveurs de virtualisation de réglage des performances.</span><span class="sxs-lookup"><span data-stu-id="332ad-120">Apply recommended guidance for performance tuning virtualization servers.</span></span> <span data-ttu-id="332ad-121">**Remarque :** pour les scénarios de test décrit dans [test des performances de BizTalk Server virtualisation](~/technical-guides/testing-biztalk-server-virtualization-performance.md), les options de configuration qui ont été appliquées sont décrits dans les « spécificités Infrastructure physique » et » Les sections de caractéristiques de la virtualisation » de la [vue d’ensemble du scénario de Test](~/technical-guides/test-scenario-overview.md) rubrique.</span><span class="sxs-lookup"><span data-stu-id="332ad-121">**Note:**  For the test scenarios described in [Testing BizTalk Server Virtualization Performance](~/technical-guides/testing-biztalk-server-virtualization-performance.md), the configuration options that were applied are described in the “Physical Infrastructure Specifics” and the “Virtualization Specifics” sections of the [Test Scenario Overview](~/technical-guides/test-scenario-overview.md) topic.</span></span>|<span data-ttu-id="332ad-122">Section « Réglage des performances pour les serveurs de virtualisation » du document « Performances paramétrage des recommandations pour Windows Server 2008 R2 » disponible à l’adresse [http://go.microsoft.com/fwlink/?LinkID=202087](http://go.microsoft.com/fwlink/?LinkID=202087).</span><span class="sxs-lookup"><span data-stu-id="332ad-122">“Performance Tuning for Virtualization Servers” section of the “Performance Tuning Guidelines for Windows Server 2008 R2” document available at [http://go.microsoft.com/fwlink/?LinkID=202087](http://go.microsoft.com/fwlink/?LinkID=202087).</span></span>|  
|<span data-ttu-id="332ad-123">Fermez toute connexion d’ordinateur virtuel ne sont pas utilisées.</span><span class="sxs-lookup"><span data-stu-id="332ad-123">Close any Virtual Machine Connection windows that aren’t being used.</span></span>|<span data-ttu-id="332ad-124">La connexion de Machine virtuelle ou les fenêtres affichée lorsque vous double-cliquez sur un nom d’ordinateur virtuel dans le Gestionnaire Hyper-V consomment des ressources qui peuvent être utilisées dans le cas contraire.</span><span class="sxs-lookup"><span data-stu-id="332ad-124">The Virtual Machine Connection window(s) displayed when double-clicking a virtual machine name in the Hyper-V manager consume resources that could be otherwise utilized.</span></span>|  
|<span data-ttu-id="332ad-125">Fermez ou réduisez le Gestionnaire Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="332ad-125">Close or minimize the Hyper-V manager.</span></span>|<span data-ttu-id="332ad-126">Le Gestionnaire Hyper-V consomme des ressources en interrogeant continuellement de chaque ordinateur virtuel en cours d’exécution pour l’utilisation du processeur et le temps d’activité.</span><span class="sxs-lookup"><span data-stu-id="332ad-126">The Hyper-V manager consumes resources by continually polling each running virtual machine for CPU utilization and uptime.</span></span> <span data-ttu-id="332ad-127">Fermeture ou de réduire le Gestionnaire Hyper-V permettra de libérer ces ressources.</span><span class="sxs-lookup"><span data-stu-id="332ad-127">Closing or minimizing the Hyper-V manager will free up these resources.</span></span>|  
  
## <a name="optimize-performance-of-disk-memory-network-and-processor-in-a-hyper-v-environment"></a><span data-ttu-id="332ad-128">Optimiser les performances de disque, mémoire, réseau et du processeur dans un environnement Hyper-V</span><span class="sxs-lookup"><span data-stu-id="332ad-128">Optimize Performance of Disk, Memory, Network, and Processor in a Hyper-V Environment</span></span>  
 <span data-ttu-id="332ad-129">Suivez les indications ci-dessous pour optimiser les performances de disque, mémoire, réseau et du processeur dans un environnement virtuel Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="332ad-129">Use the following guidelines to optimize performance of disk, memory, network, and processor in a Hyper-V virtual environment.</span></span>  
  
### <a name="optimize-processor-performance"></a><span data-ttu-id="332ad-130">Optimiser les performances du processeur</span><span class="sxs-lookup"><span data-stu-id="332ad-130">Optimize Processor Performance</span></span>  
 <span data-ttu-id="332ad-131">Suivez ces instructions pour optimiser les performances du processeur systèmes d’exploitation invités s’exécutant dans un environnement virtuel Hyper-V :</span><span class="sxs-lookup"><span data-stu-id="332ad-131">Follow these guidelines to optimize processor performance of guest operating systems running in a Hyper-V virtual environment:</span></span>  
  
-   <span data-ttu-id="332ad-132">**Configurer une allocation de 1-à-1 de processeurs virtuels pour les processeurs logiques disponibles pour de meilleures performances -** lors de l’exécution d’une application intensive du processeur, la meilleure configuration est un ratio 1-à-1 de processeurs virtuels dans les systèmes d’exploitation invité à les processeurs logiques disponibles pour le système d’exploitation hôte.</span><span class="sxs-lookup"><span data-stu-id="332ad-132">**Configure a 1-to-1 allocation of virtual processors to available logical processors for best performance -** When running a CPU intensive application, the best configuration is a 1-to-1 ratio of virtual processors in the guest operating system(s) to the logical processors available to the host operating system.</span></span> <span data-ttu-id="332ad-133">Toute autre configuration, par exemple 2:1 ou 1 / 2 est moins efficace.</span><span class="sxs-lookup"><span data-stu-id="332ad-133">Any other configuration such as 2:1 or 1:2 is less efficient.</span></span> <span data-ttu-id="332ad-134">Le graphique suivant illustre une allocation de 1 à 1 des cœurs de processeurs virtuels dans les systèmes d’exploitation invité avec des processeurs logiques disponibles pour le système d’exploitation hôte :</span><span class="sxs-lookup"><span data-stu-id="332ad-134">The following graphic illustrates a 1-to-1 allocation of virtual processor cores in the guest operating system(s) to logical processors available to the host operating system:</span></span>  
  
     <span data-ttu-id="332ad-135">![Physique d’un à un rapport de processeur virtuel](../technical-guides/media/90f98f0d-a223-404c-b419-81369dc92970.gif "physique d’un à un rapport de processeur virtuel")</span><span class="sxs-lookup"><span data-stu-id="332ad-135">![One to One Physical to Virtual Processor Ratio](../technical-guides/media/90f98f0d-a223-404c-b419-81369dc92970.gif "One to One Physical to Virtual Processor Ratio")</span></span>  
<span data-ttu-id="332ad-136">Ratio de processeur virtuel à logique</span><span class="sxs-lookup"><span data-stu-id="332ad-136">Virtual to logical processor ratio</span></span>  
  
-   <span data-ttu-id="332ad-137">**Tenez compte de la limite de processeur virtuel pour les systèmes d’exploitation invités différents et planifier en conséquence -** le nombre de cœurs de processeur qui sont disponibles pour le système d’exploitation invité dans un ordinateur virtuel Hyper-V peut avoir un impact sur la globale performances de l’application hébergée.</span><span class="sxs-lookup"><span data-stu-id="332ad-137">**Be aware of the virtual processor limit for different guest operating systems and plan accordingly -** The number of processor cores that are available to the guest operating system running in a Hyper-V virtual machine can impact the overall performance of the hosted application.</span></span> <span data-ttu-id="332ad-138">Par conséquent, considération convient que pour les invités système d’exploitation sera installé sur l’ordinateur virtuel Hyper-V pour héberger le serveur BizTalk et/ou [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] ou les instances qui hébergent les bases de données BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="332ad-138">Therefore, consideration should be made as to which guest operating system will be installed on the Hyper-V virtual machine to host the BizTalk Server and/or [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance(s) that host the BizTalk Server databases.</span></span> <span data-ttu-id="332ad-139">Hyper-V prend en charge le nombre de processeurs virtuels pour le système d’exploitation invité spécifié suivant :</span><span class="sxs-lookup"><span data-stu-id="332ad-139">Hyper-V accommodates the following number of virtual processors for the specified guest operating system:</span></span>  
  
|<span data-ttu-id="332ad-140">Système d'exploitation</span><span class="sxs-lookup"><span data-stu-id="332ad-140">Operating system</span></span>|<span data-ttu-id="332ad-141">Limite du processeur virtuel</span><span class="sxs-lookup"><span data-stu-id="332ad-141">Virtual processor limit</span></span>|  
|----------------------|-----------------------------|  
|[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]<span data-ttu-id="332ad-142">.</span><span class="sxs-lookup"><span data-stu-id="332ad-142">.</span></span> <span data-ttu-id="332ad-143">Toutes les éditions de [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] sont 64 bits uniquement.</span><span class="sxs-lookup"><span data-stu-id="332ad-143">All editions of [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] are 64-bit only.</span></span>|<span data-ttu-id="332ad-144">4</span><span class="sxs-lookup"><span data-stu-id="332ad-144">4</span></span>|  
|[!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)]<span data-ttu-id="332ad-145">64 bits</span><span class="sxs-lookup"><span data-stu-id="332ad-145"> 64-bit</span></span>|<span data-ttu-id="332ad-146">4</span><span class="sxs-lookup"><span data-stu-id="332ad-146">4</span></span>|  
|[!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)]<span data-ttu-id="332ad-147">32 bits</span><span class="sxs-lookup"><span data-stu-id="332ad-147"> 32-bit</span></span>|<span data-ttu-id="332ad-148">4</span><span class="sxs-lookup"><span data-stu-id="332ad-148">4</span></span>|  
|<span data-ttu-id="332ad-149">Windows 7 64 bits</span><span class="sxs-lookup"><span data-stu-id="332ad-149">Windows 7 64-bit</span></span>|<span data-ttu-id="332ad-150">4</span><span class="sxs-lookup"><span data-stu-id="332ad-150">4</span></span>|  
|<span data-ttu-id="332ad-151">Windows 7 32 bits</span><span class="sxs-lookup"><span data-stu-id="332ad-151">Windows 7 32-bit</span></span>|<span data-ttu-id="332ad-152">4</span><span class="sxs-lookup"><span data-stu-id="332ad-152">4</span></span>|  
|<span data-ttu-id="332ad-153">Windows Vista 64 bits</span><span class="sxs-lookup"><span data-stu-id="332ad-153">Windows Vista 64-bit</span></span>|<span data-ttu-id="332ad-154">2</span><span class="sxs-lookup"><span data-stu-id="332ad-154">2</span></span>|  
|<span data-ttu-id="332ad-155">Windows Vista 32 bits</span><span class="sxs-lookup"><span data-stu-id="332ad-155">Windows Vista  32-bit</span></span>|<span data-ttu-id="332ad-156">2</span><span class="sxs-lookup"><span data-stu-id="332ad-156">2</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="332ad-157">Pour plus d’informations sur les systèmes d’exploitation invités pris en charge sur Hyper-V, consultez [http://go.microsoft.com/fwlink/?LinkID=118347](http://go.microsoft.com/fwlink/?LinkID=118347).</span><span class="sxs-lookup"><span data-stu-id="332ad-157">For more information about the guest operating systems that are supported on Hyper-V, see [http://go.microsoft.com/fwlink/?LinkID=118347](http://go.microsoft.com/fwlink/?LinkID=118347).</span></span>  
  
### <a name="optimize-disk-performance"></a><span data-ttu-id="332ad-158">Optimiser les performances du disque</span><span class="sxs-lookup"><span data-stu-id="332ad-158">Optimize Disk Performance</span></span>  
 <span data-ttu-id="332ad-159">Suivez ces instructions pour optimiser les performances de disque systèmes d’exploitation invités s’exécutant dans un environnement virtuel Hyper-V :</span><span class="sxs-lookup"><span data-stu-id="332ad-159">Follow these guidelines to optimize disk performance of guest operating systems running in a Hyper-V virtual environment:</span></span>  
  
|<span data-ttu-id="332ad-160">Étape</span><span class="sxs-lookup"><span data-stu-id="332ad-160">Step</span></span>|<span data-ttu-id="332ad-161">Référence</span><span class="sxs-lookup"><span data-stu-id="332ad-161">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="332ad-162">Configurer les disques virtuels pour une utilisation avec les ordinateurs virtuels Hyper-V à l’aide de l’option de disque dur virtuel de taille fixe (VHD).</span><span class="sxs-lookup"><span data-stu-id="332ad-162">Configure virtual disks for use with the Hyper-V virtual machines using the fixed-size virtual hard disk (VHD) option.</span></span> <span data-ttu-id="332ad-163">Disque dur virtuel de taille fixe offre des performances que des disques physiques avec la flexibilité de fonctionnalités telles que la prise en charge et la prise en charge du disque de capture instantanée de clustering.</span><span class="sxs-lookup"><span data-stu-id="332ad-163">Fixed-size VHD offers performance approaching that of physical disks together with the flexibility of features such as clustering support and snapshot disk support.</span></span>|<span data-ttu-id="332ad-164">Stockage sur disque dans un environnement Hyper-V est accessible via un contrôleur IDE virtuel ou un contrôleur SCSI virtuel.</span><span class="sxs-lookup"><span data-stu-id="332ad-164">Disk storage in a Hyper-V environment is accessible through a virtual IDE controller or a virtual SCSI controller.</span></span> <span data-ttu-id="332ad-165">Contrairement aux versions précédentes de la technologie de virtualisation Microsoft, il n’existe aucune différence de performances entre l’utilisation d’un contrôleur IDE virtuel ou un contrôleur SCSI virtuel lors de l’accès aux disques durs virtuels.</span><span class="sxs-lookup"><span data-stu-id="332ad-165">Unlike previous versions of Microsoft virtualization technology, there is no performance difference between using a virtual IDE controller or a virtual SCSI controller when accessing virtual hard disks.</span></span> <span data-ttu-id="332ad-166">Les options de stockage de disque suivants sont disponibles pour une utilisation dans un environnement Hyper-V :</span><span class="sxs-lookup"><span data-stu-id="332ad-166">The following disk storage options are available for use in a Hyper-V environment:</span></span><br /><br /> <span data-ttu-id="332ad-167">-   **Les disques de taille - fixes** un disque dur virtuel de taille fixe (VHD) est un pour les données, les blocs sont alloués au préalable sur un disque physique en fonction de la taille de disque maximale définie au moment de la création.</span><span class="sxs-lookup"><span data-stu-id="332ad-167">-   **Fixed size disks -** A fixed-size virtual hard disk (VHD) is one for which data blocks are pre-allocated on a physical disk based on the maximum disk size defined at the time of creation.</span></span> <span data-ttu-id="332ad-168">Par exemple, si vous créez un disque dur virtuel de taille fixe 100 Go, Hyper-V alloue toutes les 100 Go de stockage de bloc de données la surcharge requise pour les en-têtes de disque dur virtuel et les pieds de page lorsqu’il crée le nouveau disque dur virtuel.</span><span class="sxs-lookup"><span data-stu-id="332ad-168">For example, if you create a 100 GB fixed-size VHD, Hyper-V will allocate all 100 GB of data block storage in addition to the overhead required for the VHD headers and footers when it creates the new VHD.</span></span><br /><span data-ttu-id="332ad-169">-   **Disques - extension dynamique** un disque dur virtuel de taille dynamique est une pour laquelle le disque dur virtuel initial ne contient aucun bloc de données.</span><span class="sxs-lookup"><span data-stu-id="332ad-169">-   **Dynamically expanding disks -** A dynamically expanding VHD is one for which the initial virtual hard disk contains no data blocks.</span></span> <span data-ttu-id="332ad-170">Au lieu de cela est dynamiquement alloué comme les données sont écrites sur le disque dur virtuel, jusqu'à la taille maximale spécifiée lorsque le disque dur virtuel a été créé.</span><span class="sxs-lookup"><span data-stu-id="332ad-170">Instead space is dynamically allocated as data is written to the VHD, up to the maximum size specified when the VHD was created.</span></span> <span data-ttu-id="332ad-171">Par exemple, un disque de taille dynamique de 100 Go contient uniquement les en-têtes de disque dur virtuel initialement et nécessite moins de 2 Mo d’espace de stockage physique.</span><span class="sxs-lookup"><span data-stu-id="332ad-171">For example, a 100-GB dynamically expanding disk initially contains only VHD headers and requires less than 2 MB of physical storage space.</span></span> <span data-ttu-id="332ad-172">Comme les nouvelles données sont écrites par l’ordinateur virtuel pour le disque dur virtuel de taille dynamique, des blocs de données physiques supplémentaires sont allouées par incréments de 2 Mo pour le fichier de disque dur virtuel, avec un maximum de 100 Go.</span><span class="sxs-lookup"><span data-stu-id="332ad-172">As new data is written by the virtual machine to the dynamically expanding VHD, additional physical data blocks are allocated in 2-MB increments to the VHD file, up to a maximum of 100 GB.</span></span><br /><span data-ttu-id="332ad-173">-   **-Les disques de différenciation** un disque de différenciation est un type spécial de développer dynamiquement des fichiers de disque dur virtuel associé à un disque dur virtuel « parent ».</span><span class="sxs-lookup"><span data-stu-id="332ad-173">-   **Differencing Disks -** A differencing disk is a special type of dynamically expanding VHD file that is associated with a “parent” VHD.</span></span> <span data-ttu-id="332ad-174">Dans cette topologie de stockage parent/enfant, le disque parent reste inchangé et des opérations d’écriture effectuées pour seulement le disque de différenciation « enfant ».</span><span class="sxs-lookup"><span data-stu-id="332ad-174">In this parent/child storage topology, the parent disk remains unchanged and any write operations made to the “child” differencing disk only.</span></span> <span data-ttu-id="332ad-175">Toutes les opérations de lecture sont d’abord vérifiées sur le disque de différenciation pour voir si le contenu mis à jour a été écrit sur le disque de différenciation ; Si le contenu n’est pas dans le disque de différenciation, le contenu est lu à partir du disque dur virtuel parent.</span><span class="sxs-lookup"><span data-stu-id="332ad-175">Any read operations are first checked against the differencing disk to see whether updated content was written to the differencing disk; if the content isn’t in the differencing disk, then the content is read from the parent VHD.</span></span> <span data-ttu-id="332ad-176">Les disques de différenciation sont utiles pour les scénarios où vous devez conserver une configuration particulière de la ligne de base et que vous souhaitez tester facilement et puis restaurer les modifications à la ligne de base.</span><span class="sxs-lookup"><span data-stu-id="332ad-176">Differencing disks are useful for scenarios where you need to maintain a particular baseline configuration and would like to easily test and then rollback changes to the baseline.</span></span> <span data-ttu-id="332ad-177">La flexibilité de la topologie de stockage parent/enfant fournie par le biais des disques de différenciation est utile pour le test, ce n’est pas la configuration optimale pour les performances étant donné que les frais liés à la maintenance de la topologie de parent/enfant obligatoire lors de l’utilisation des disques de différenciation.</span><span class="sxs-lookup"><span data-stu-id="332ad-177">While the flexibility of the parent/child storage topology provided through differencing disks is useful for testing, this is not the optimal configuration for performance because there is overhead associated with maintaining the parent/child topology required when using differencing disks.</span></span><br /><span data-ttu-id="332ad-178">-   **Disques relais –** la fonctionnalité de disque direct permet le système d’exploitation invité contourner le système de fichiers d’ordinateur hôte Hyper-V et accéder directement au disque.</span><span class="sxs-lookup"><span data-stu-id="332ad-178">-   **Passthrough disks –** The passthrough disk feature allows the guest operating system to bypass the Hyper-V Host file system and access the disk directly.</span></span> <span data-ttu-id="332ad-179">Les disques qui sont rendus disponibles pour les systèmes d’exploitation invités via le relais doivent être définies « hors connexion » dans l’hôte Hyper-V pour vous assurer que l’hôte et le système d’exploitation invité n’essaient pas d’accéder au disque simultanément.</span><span class="sxs-lookup"><span data-stu-id="332ad-179">Disks that are made available to guest operating systems via passthrough must be set to “offline” in the Hyper-V host to ensure that both the host and guest operating system do not attempt to access the disk simultaneously.</span></span> <span data-ttu-id="332ad-180">Le disque direct offre un avantage de performance marginaux sur quel disque options de stockage, mais ne prend pas en charge certaines fonctionnalités de disques virtuels, tels que des captures instantanées d’ordinateur virtuel et de gestion de clusters.</span><span class="sxs-lookup"><span data-stu-id="332ad-180">The passthrough disk does offer a marginal performance advantage over other disk storage options but does not support certain functionality of virtual disks, such as Virtual machine snapshots and clustering support.</span></span> <span data-ttu-id="332ad-181">Par conséquent, l’utilisation de la fonctionnalité de disque direct n’est pas recommandée dans un environnement BizTalk ou SQL Server, car les avantages de performance marginaux sont plus que par les fonctionnalités manquantes.</span><span class="sxs-lookup"><span data-stu-id="332ad-181">Therefore use of the passthrough disk feature is not recommended in a BizTalk or SQL Server environment because the marginal performance benefits are more than offset by the missing functionality.</span></span><br /><br /> <span data-ttu-id="332ad-182">Pour plus d’informations sur les performances relatives des options de stockage de disque fourni avec Hyper-V, consultez le billet de blog « Analyse de stockage Hyper-V », à [http://go.microsoft.com/fwlink/?LinkID=132848](http://go.microsoft.com/fwlink/?LinkID=132848).</span><span class="sxs-lookup"><span data-stu-id="332ad-182">For more information about the relative performance of disk storage choices provided with Hyper-V, see the blog entry “Hyper-V Storage Analysis”, at [http://go.microsoft.com/fwlink/?LinkID=132848](http://go.microsoft.com/fwlink/?LinkID=132848).</span></span>|  
|<span data-ttu-id="332ad-183">Configurer les disques pour les volumes de données à l’aide du contrôleur SCSI</span><span class="sxs-lookup"><span data-stu-id="332ad-183">Configure disks for data volumes using the SCSI controller</span></span>|<span data-ttu-id="332ad-184">Cela est recommandé, car le contrôleur SCSI ne peut être installé que si les services d’intégration Hyper-V sont installés alors que le contrôleur IDE émulé est disponible sans avoir à installer les services d’intégration Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="332ad-184">This is recommended because the SCSI controller can only be installed if Hyper-V integration services are installed whereas the emulated IDE controller is available without installing Hyper-V integration services.</span></span> <span data-ttu-id="332ad-185">E/s de disque effectuées en utilisant le pilote de filtre IDE fourni avec les services d’intégration est considérablement plus performants que les performances d’e/s fourni avec le contrôleur IDE émulé sur disque.</span><span class="sxs-lookup"><span data-stu-id="332ad-185">Disk I/O performed using the IDE filter driver provided with integration services is significantly better than disk I/O performance provided with the emulated IDE controller.</span></span> <span data-ttu-id="332ad-186">Par conséquent, pour vous assurer de disque optimiser les performances d’e/s pour les fichiers de données dans un environnement virtualisé Hyper-V, installez les services d’intégration sur les système d’exploitation hôte et invité et configurer les disques pour les volumes de données avec le contrôleur SCSI synthétique.</span><span class="sxs-lookup"><span data-stu-id="332ad-186">Therefore, to ensure optimal disk I/O performance for the data files in a Hyper-V virtualized environment, install integration services on both the host and guest operating system and configure disks for data volumes with the synthetic SCSI controller.</span></span> <span data-ttu-id="332ad-187">Pour les charges d’e/s de stockage très importantes qui s’étendent sur plusieurs lecteurs de données, chaque disque dur virtuel doit être attaché à un contrôleur SCSI synthétique distinct pour meilleures performances globales.</span><span class="sxs-lookup"><span data-stu-id="332ad-187">For highly intensive storage I/O workloads that span multiple data drives, each VHD should be attached to a separate synthetic SCSI controller for better overall performance.</span></span> <span data-ttu-id="332ad-188">En outre, chaque disque dur virtuel doit être stocké sur des disques physiques distincts.</span><span class="sxs-lookup"><span data-stu-id="332ad-188">In addition, each VHD should be stored on separate physical disks.</span></span> <span data-ttu-id="332ad-189">**Important :** n’attachez pas un disque du système à un contrôleur SCSI.</span><span class="sxs-lookup"><span data-stu-id="332ad-189">**Important:**  Do not attach a system disk to a SCSI controller.</span></span> <span data-ttu-id="332ad-190">Un disque dur virtuel qui contient un système d’exploitation doit être attaché à un contrôleur IDE.</span><span class="sxs-lookup"><span data-stu-id="332ad-190">A virtual hard disk that contains an operating system must be attached to an IDE controller.</span></span>|  
  
### <a name="optimize-memory-performance"></a><span data-ttu-id="332ad-191">Optimiser les performances de la mémoire</span><span class="sxs-lookup"><span data-stu-id="332ad-191">Optimize Memory Performance</span></span>  
 <span data-ttu-id="332ad-192">Suivez ces instructions pour optimiser les performances de mémoire systèmes d’exploitation invités s’exécutant dans un environnement virtuel Hyper-V :</span><span class="sxs-lookup"><span data-stu-id="332ad-192">Follow these guidelines to optimize memory performance of guest operating systems running in a Hyper-V virtual environment:</span></span>  
  
|<span data-ttu-id="332ad-193">Étape</span><span class="sxs-lookup"><span data-stu-id="332ad-193">Step</span></span>|<span data-ttu-id="332ad-194">Référence</span><span class="sxs-lookup"><span data-stu-id="332ad-194">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="332ad-195">Vérifiez qu’il existe suffisamment de mémoire installée sur l’ordinateur physique qui héberge les ordinateurs virtuels Hyper-V</span><span class="sxs-lookup"><span data-stu-id="332ad-195">Ensure there is sufficient memory installed on the physical computer that hosts the Hyper-V virtual machines</span></span>|<span data-ttu-id="332ad-196">-Mémoire physique disponible est souvent le facteur de performances significatif pour BizTalk Server s’exécutant sur un ordinateur virtuel Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="332ad-196">-   Available physical memory is often the most significant performance factor for BizTalk Server running on a Hyper-V virtual machine.</span></span> <span data-ttu-id="332ad-197">Il s’agit, car chaque ordinateur virtuel doit se trouver dans la mémoire non paginée, ou de la mémoire qui ne peuvent pas être transférée sur le disque.</span><span class="sxs-lookup"><span data-stu-id="332ad-197">This is because each virtual machine must reside in non-paged-pool memory, or memory that cannot be paged to the disk.</span></span> <span data-ttu-id="332ad-198">Parce que la mémoire non paginée ne peuvent pas être transférée sur le disque, l’ordinateur physique qui héberge les machines virtuelles doit avoir la mémoire physique disponible égale à la somme de la mémoire allouée pour chaque ordinateur virtuel, ainsi que les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="332ad-198">Because non-paged-pool memory cannot be paged to disk, the physical computer that hosts the virtual machines should have available physical memory equal to the sum of the memory allocated for each virtual machine plus the following:</span></span><br />     <span data-ttu-id="332ad-199">300 Mo pour l’hyperviseur plus de 32 Mo pour la première Go de mémoire RAM allouée à chaque machine virtuelle et un autre 8 Mo pour chaque Go de RAM supplémentaire allouée à chaque ordinateur virtuel plus 512 Mo pour l’ordinateur hôte système d’exploitation en cours d’exécution sur la partition racine</span><span class="sxs-lookup"><span data-stu-id="332ad-199">300 MB for the Hypervisor                         plus 32 MB for the first GB of RAM allocated to each virtual machine                         plus another 8 MB for every additional GB of RAM allocated to each virtual machine                         plus 512 MB for the host operating system running on the root partition</span></span><br />     <span data-ttu-id="332ad-200">Par exemple, si un ordinateur virtuel Hyper-V est alloué à 2 Go de mémoire dans le Gestionnaire Hyper-V, la mémoire physique réelle utilisée lors de cet ordinateur virtuel de Hyper-V en cours d’exécution serait 2388 Mo (300 Mo pour l’hyperviseur + 2 Go allouée pour l’ordinateur virtuel + 32 MO + 8 MO = 2388 MO).</span><span class="sxs-lookup"><span data-stu-id="332ad-200">For example, if a Hyper-V virtual machine is allocated 2 GB of memory in the Hyper-V Manager, the actual physical memory used when running that Hyper-V virtual machine would be approximately 2388MB (300MB for the hypervisor +2GB allocated for the virtual machine + 32MB + 8MB = 2388MB).</span></span> <span data-ttu-id="332ad-201">Étant donné que l’hyperviseur doit uniquement être chargé qu’une seule fois, l’initialisation d’ordinateurs virtuels suivants n’entraîne pas de la charge de 300 Mo associée au chargement de l’hyperviseur.</span><span class="sxs-lookup"><span data-stu-id="332ad-201">Because the hypervisor only needs to be loaded once, initialization of subsequent virtual machines does not incur the 300 MB overhead associated with loading the hypervisor.</span></span> <span data-ttu-id="332ad-202">Par conséquent, si les deux ordinateurs virtuels de Hyper-V sont chaque alloué 2 Go de mémoire dans le Gestionnaire Hyper-V, la mémoire physique réelle utilisée lors de l’exécution de ces machines virtuelles de Hyper-V serait 4476 Mo (300 Mo pour l’hyperviseur + 4 Go allouée pour le réseau virtuel ordinateurs + 64 Mo + 16 Mo = 4476 Mo).</span><span class="sxs-lookup"><span data-stu-id="332ad-202">Therefore, if two Hyper-V virtual machines are each allocated 2 GB of memory in the Hyper-V Manager, the actual physical memory used when running these Hyper-V virtual machines would be approximately 4476MB (300MB for the hypervisor +4GB allocated for the virtual machines + 64 MB + 16MB = 4476MB).</span></span> <span data-ttu-id="332ad-203">**Remarque :** en règle générale, envisagez de les allouer au moins 512 Mo de mémoire pour la partition racine fournir des services tels que la virtualisation d’e/s, prise en charge des fichiers de capture instantanée et la gestion de partition enfant.</span><span class="sxs-lookup"><span data-stu-id="332ad-203">**Note:**      As a general rule of thumb, plan to allocate at least 512 MB memory for the root partition to provide services such as I/O virtualization, snapshot files support, and child partition management.</span></span><br /><span data-ttu-id="332ad-204">-   **Utiliser un système d’exploitation invités 64 bits lorsque cela est possible** , envisagez d’utiliser un système d’exploitation de 64 bits pour chaque système d’exploitation invité.</span><span class="sxs-lookup"><span data-stu-id="332ad-204">-   **Use a 64-bit guest operating system when possible** – Consider using a 64-bit operating system for each guest operating system.</span></span> <span data-ttu-id="332ad-205">Cela doit être effectuée, car par défaut, les systèmes d’exploitation Windows 32 bits peut uniquement adresse jusqu'à 2 Go d’espace d’adressage virtuel par processus.</span><span class="sxs-lookup"><span data-stu-id="332ad-205">This should be done because by default, 32-bit Windows operating systems can only address up to 2GB of virtual address space per process.</span></span> <span data-ttu-id="332ad-206">Installation d’un système d’exploitation de 64 bits permet aux applications tirer pleinement parti de la mémoire installée sur l’ordinateur physique qui héberge les ordinateurs virtuels Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="332ad-206">Installation of a 64-bit operating system allows applications to take full advantage of the memory installed on the physical computer that hosts the Hyper-V virtual machines.</span></span>|  
  
### <a name="optimize-network-performance"></a><span data-ttu-id="332ad-207">Optimiser les performances du réseau</span><span class="sxs-lookup"><span data-stu-id="332ad-207">Optimize Network Performance</span></span>  
 <span data-ttu-id="332ad-208">Hyper-V prend en charge les cartes réseau synthétiques et émulées dans des machines virtuelles, mais les périphériques synthétiques offrent de bien meilleures performances et réduit la surcharge du processeur.</span><span class="sxs-lookup"><span data-stu-id="332ad-208">Hyper-V supports synthetic and emulated network adapters in virtual machines, but the synthetic devices offer significantly better performance and reduced CPU overhead.</span></span> <span data-ttu-id="332ad-209">Chacun de ces cartes est connecté à un commutateur réseau virtuel, ce qui peut être connecté à une carte réseau physique, si vous avez besoin d’une connectivité réseau externe.</span><span class="sxs-lookup"><span data-stu-id="332ad-209">Each of these adapters is connected to a virtual network switch, which can be connected to a physical network adapter if external network connectivity is needed.</span></span> <span data-ttu-id="332ad-210">Suivez les recommandations de cette section pour optimiser les performances réseau des systèmes d’exploitation invités s’exécutant dans un environnement virtuel Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="332ad-210">Follow the recommendations in this section to optimize network performance of guest operating systems running in a Hyper-V virtual environment.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="332ad-211">Ces recommandations sont fournies à partir de la section « Performance Tuning for Virtualization Servers » du livre blanc « Performances paramétrage des recommandations pour Windows Server 2008 R2 » disponible en téléchargement à [http://go.microsoft.com/fwlink/?LinkID=202087](http://go.microsoft.com/fwlink/?LinkID=202087).</span><span class="sxs-lookup"><span data-stu-id="332ad-211">These recommendations are from the “Performance Tuning for Virtualization Servers” section of the “Performance Tuning Guidelines for Windows Server 2008 R2” whitepaper available for download at [http://go.microsoft.com/fwlink/?LinkID=202087](http://go.microsoft.com/fwlink/?LinkID=202087).</span></span> <span data-ttu-id="332ad-212">Pour savoir comment paramétrer la carte réseau de la partition racine, y compris la modération de l’interruption, reportez-vous à la section « Performances paramétrage pour la mise en réseau sous-système » de ce guide.</span><span class="sxs-lookup"><span data-stu-id="332ad-212">For how to tune the network adapter in the root partition, including interrupt moderation, refer to the “Performance Tuning for Networking Subsystem” section of this guide.</span></span> <span data-ttu-id="332ad-213">Les réglages TCP dans cette section doivent être appliqués, si nécessaire, pour les partitions enfants.</span><span class="sxs-lookup"><span data-stu-id="332ad-213">The TCP tunings in that section should be applied, if required, to the child partitions.</span></span>  
  
|<span data-ttu-id="332ad-214">Étape</span><span class="sxs-lookup"><span data-stu-id="332ad-214">Step</span></span>|<span data-ttu-id="332ad-215">Référence</span><span class="sxs-lookup"><span data-stu-id="332ad-215">Reference</span></span>|  
|----------|---------------|  
|<span data-ttu-id="332ad-216">Configurer des ordinateurs virtuels Hyper-V qui s’exécutent sur le même ordinateur hôte Hyper-V pour utiliser un un réseau privé virtuel</span><span class="sxs-lookup"><span data-stu-id="332ad-216">Configure Hyper-V Virtual Machines that are Running on the same Hyper-V host computer to use a Private Virtual Network</span></span>|<span data-ttu-id="332ad-217">Suivez les recommandations de la section « Configurer Hyper-V virtuels qui s’exécutent sur le même Hyper-V hôte de l’ordinateur à utiliser un un réseau privé virtuel » de [optimisations réseau](~/technical-guides/network-optimizations.md).</span><span class="sxs-lookup"><span data-stu-id="332ad-217">Follow recommendations in the “Configure Hyper-V Virtual Machines that are Running on the same Hyper-V host computer to use a Private Virtual Network” section of [Network Optimizations](~/technical-guides/network-optimizations.md).</span></span>|  
|<span data-ttu-id="332ad-218">Désactiver le déchargement TCP pour les cartes réseau de Machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="332ad-218">Disable TCP Offloading for the Virtual Machine Network Cards</span></span>|<span data-ttu-id="332ad-219">Suivez les recommandations de la section « Désactiver TCP déchargement pour la Machine virtuelle cartes réseau » de [optimisations réseau](~/technical-guides/network-optimizations.md).</span><span class="sxs-lookup"><span data-stu-id="332ad-219">Follow recommendations in the “Disable TCP Offloading for the Virtual Machine Network Cards” section of [Network Optimizations](~/technical-guides/network-optimizations.md).</span></span>|  
|<span data-ttu-id="332ad-220">Configurer les systèmes d’exploitation invités pour utiliser la carte réseau synthétique Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="332ad-220">Configure guest operating systems to use the Hyper-V synthetic network adapter.</span></span>|<span data-ttu-id="332ad-221">Fonctionnalités d’Hyper-V une carte réseau synthétique qui est conçue spécifiquement pour les machines virtuelles atteindre considérablement réduite surcharge du processeur sur les e/s réseau lorsqu’elle est comparée à la carte réseau émulée qui reproduit le matériel existant.</span><span class="sxs-lookup"><span data-stu-id="332ad-221">Hyper-V features a synthetic network adapter that is designed specifically for VMs to achieve significantly reduced CPU overhead on network I/O when it is compared to the emulated network adapter that mimics existing hardware.</span></span> <span data-ttu-id="332ad-222">La carte réseau synthétique communique entre les partitions racine et enfant sur le VMBus à l’aide de la mémoire partagée pour le transfert de données plus efficace.</span><span class="sxs-lookup"><span data-stu-id="332ad-222">The synthetic network adapter communicates between the child and root partitions over the VMBus by using shared memory for more efficient data transfer.</span></span> <br /><span data-ttu-id="332ad-223">La carte réseau émulée doit être supprimée via la boîte de dialogue des paramètres de machine virtuelle et remplacée par une carte réseau synthétique.</span><span class="sxs-lookup"><span data-stu-id="332ad-223">The emulated network adapter should be removed through the VM settings dialog box and replaced with a synthetic network adapter.</span></span> <span data-ttu-id="332ad-224">L’invité nécessite que les services d’intégration VM est installé.</span><span class="sxs-lookup"><span data-stu-id="332ad-224">The guest requires that the VM integration services be installed.</span></span>|  
|<span data-ttu-id="332ad-225">S’il est disponible, activez les capacités de déchargement pour le pilote de carte réseau physique de la partition racine.</span><span class="sxs-lookup"><span data-stu-id="332ad-225">If available, enable offload capabilities for the physical network adapter driver in the root partition.</span></span>|<span data-ttu-id="332ad-226">Comme avec le scénario natif, les fonctions dans la carte réseau physique de déchargement réduire l’utilisation du processeur d’e/s de réseau dans les scénarios de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="332ad-226">As with the native scenario, offload capabilities in the physical network adapter reduce the CPU usage of network I/Os in VM scenarios.</span></span> <span data-ttu-id="332ad-227">Hyper-V actuellement utilise LSOv1 et TCPv4 de somme de contrôle le déchargement.</span><span class="sxs-lookup"><span data-stu-id="332ad-227">Hyper-V currently uses LSOv1 and TCPv4 checksum offload.</span></span> <span data-ttu-id="332ad-228">Les capacités de déchargement doivent être activées dans le pilote pour la carte réseau physique de la partition racine.</span><span class="sxs-lookup"><span data-stu-id="332ad-228">The offload capabilities must be enabled in the driver for the physical network adapter in the root partition.</span></span> <span data-ttu-id="332ad-229">Pour plus d’informations sur les capacités de déchargement de cartes réseau, consultez la section « Choix d’une carte réseau » de la section « Performance Tuning for Virtualization Servers » du livre blanc « Performances paramétrage des recommandations pour Windows Server 2008 R2 » disponible pour téléchargement à l’adresse [http://go.microsoft.com/fwlink/?LinkID=202087](http://go.microsoft.com/fwlink/?LinkID=202087).</span><span class="sxs-lookup"><span data-stu-id="332ad-229">For details on offload capabilities in network adapters, refer to the “Choosing a Network Adapter” section of the “Performance Tuning for Virtualization Servers” section of the “Performance Tuning Guidelines for Windows Server 2008 R2” whitepaper available for download at [http://go.microsoft.com/fwlink/?LinkID=202087](http://go.microsoft.com/fwlink/?LinkID=202087).</span></span><br /><span data-ttu-id="332ad-230">Pour certains les pilotes réseau disable de cartes LSOv1 mais activent LSOv2 par défaut.</span><span class="sxs-lookup"><span data-stu-id="332ad-230">Drivers for certain network adapters disable LSOv1 but enable LSOv2 by default.</span></span> <span data-ttu-id="332ad-231">Les administrateurs système doivent activer explicitement LSOv1 en utilisant le pilote **propriétés** boîte de dialogue Gestionnaire de périphériques.</span><span class="sxs-lookup"><span data-stu-id="332ad-231">System administrators must explicitly enable LSOv1 by using the driver **Properties** dialog box in Device Manager.</span></span>|  
|<span data-ttu-id="332ad-232">Configurer la topologie du commutateur réseau permettent d’utiliser plusieurs cartes réseau.</span><span class="sxs-lookup"><span data-stu-id="332ad-232">Configure network switch topology to make use of multiple network adapters.</span></span>|<span data-ttu-id="332ad-233">Hyper-V prend en charge la création de plusieurs commutateurs de réseau virtuel, chacun d’eux peut être attaché à une carte réseau physique si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="332ad-233">Hyper-V supports creating multiple virtual network switches, each of which can be attached to a physical network adapter if needed.</span></span> <span data-ttu-id="332ad-234">Chaque carte réseau d’un ordinateur virtuel peut être connecté à un commutateur de réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="332ad-234">Each network adapter in a VM can be connected to a virtual network switch.</span></span> <span data-ttu-id="332ad-235">Si le serveur physique possède plusieurs cartes réseau, les machines virtuelles avec des charges sollicitant beaucoup le réseau peuvent bénéficier de se connecter à différents commutateurs virtuels pour mieux utiliser les cartes réseau physiques.</span><span class="sxs-lookup"><span data-stu-id="332ad-235">If the physical server has multiple network adapters, VMs with network-intensive loads can benefit from being connected to different virtual switches to better use the physical network adapters.</span></span>|  
|<span data-ttu-id="332ad-236">Si plusieurs cartes réseau physiques sont installés sur l’ordinateur hôte Hyper-V, lier des interruptions de périphérique pour chaque carte réseau à un seul processeur logique.</span><span class="sxs-lookup"><span data-stu-id="332ad-236">If multiple physical network cards are installed on the Hyper-V host computer, bind device interrupts for each network card to a single logical processor.</span></span>|<span data-ttu-id="332ad-237">Certaines charges de travail, les interruptions de périphérique pour une carte réseau unique de liaison à un seul processeur logique peut améliorer les performances pour Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="332ad-237">Under certain workloads, binding the device interrupts for a single network adapter to a single logical processor can improve performance for Hyper-V.</span></span> <span data-ttu-id="332ad-238">Nous vous recommandons ce réglage avancé uniquement pour résoudre des problèmes spécifiques dans entièrement à l’aide de la bande passante réseau.</span><span class="sxs-lookup"><span data-stu-id="332ad-238">We recommend this advanced tuning only to address specific problems in fully using network bandwidth.</span></span> <span data-ttu-id="332ad-239">Administrateurs système peuvent utiliser l’outil IntPolicy pour lier des interruptions de périphérique sur des processeurs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="332ad-239">System administrators can use the IntPolicy tool to bind device interrupts to specific processors.</span></span> <span data-ttu-id="332ad-240">Pour plus d’informations sur l’outil IntPolicy, consultez [http://go.microsoft.com/fwlink/?LinkID=129773](http://go.microsoft.com/fwlink/?LinkID=129773).</span><span class="sxs-lookup"><span data-stu-id="332ad-240">For more information about the IntPolicy tool, see [http://go.microsoft.com/fwlink/?LinkID=129773](http://go.microsoft.com/fwlink/?LinkID=129773).</span></span>|  
|<span data-ttu-id="332ad-241">Si possible, activer les VLAN, le balisage pour la carte réseau synthétique Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="332ad-241">If possible, enable VLAN tagging for the Hyper-V synthetic network adapter.</span></span>|<span data-ttu-id="332ad-242">La carte réseau synthétique Hyper-V prend en charge le marquage VLAN.</span><span class="sxs-lookup"><span data-stu-id="332ad-242">The Hyper-V synthetic network adapter supports VLAN tagging.</span></span> <span data-ttu-id="332ad-243">Il fournit améliorer considérablement les performances réseau si la carte réseau physique prend en charge NDIS_ENCAPSULATION_IEEE_802_3_P_AND_Q_IN_OOB déchargement de l’encapsulation d’envoi important et somme de contrôle.</span><span class="sxs-lookup"><span data-stu-id="332ad-243">It provides significantly better network performance if the physical network adapter supports NDIS_ENCAPSULATION_IEEE_802_3_P_AND_Q_IN_OOB encapsulation for both large send and checksum offload.</span></span> <span data-ttu-id="332ad-244">Sans cette prise en charge, Hyper-V ne peut pas utiliser le déchargement du matériel pour les paquets qui nécessitent un marquage VLAN et les performances du réseau peuvent être réduite.</span><span class="sxs-lookup"><span data-stu-id="332ad-244">Without this support, Hyper-V cannot use hardware offload for packets that require VLAN tagging and network performance can be decreased.</span></span>|  
|<span data-ttu-id="332ad-245">Installer la carte réseau de haute vitesse sur l’ordinateur hôte Hyper-V et configurer pour des performances maximales.</span><span class="sxs-lookup"><span data-stu-id="332ad-245">Install high speed network adapter on the Hyper-V host computer and configure for maximum performance.</span></span>|<span data-ttu-id="332ad-246">Envisagez d’installer des cartes réseau de 1 Go sur l’ordinateur hôte Hyper-V et configurer les cartes réseau avec une vitesse fixe au lieu d’utiliser « négociation automatique » ; il est très important que la vitesse du réseau, duplex et les paramètres de contrôle de flux sont définies pour correspondre les paramètres du commutateur à laquelle ils sont connectés.</span><span class="sxs-lookup"><span data-stu-id="332ad-246">Consider installing 1-GB network adapters on the Hyper-V host computer and configure the network adapters with a fixed speed as opposed to using “auto negotiate” - It is very important that the network speed, duplex, and flow control parameters are set to correspond to the settings on the switch to which they are connected.</span></span>|  
|<span data-ttu-id="332ad-247">Suivez les meilleures pratiques pour optimiser les performances du réseau.</span><span class="sxs-lookup"><span data-stu-id="332ad-247">Follow best practices for optimizing network performance.</span></span>|<span data-ttu-id="332ad-248">La rubrique [optimisations réseau](~/technical-guides/network-optimizations.md) propose des conseils généraux pour optimiser les performances du réseau.</span><span class="sxs-lookup"><span data-stu-id="332ad-248">The topic [Network Optimizations](~/technical-guides/network-optimizations.md) offers general guidance for optimizing network performance.</span></span> <span data-ttu-id="332ad-249">Lors de cette rubrique n’offre pas de recommandations spécifiques pour l’optimisation des performances de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] dans un environnement virtualisé Hyper-V, les techniques sont applicables à aucun [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution, qu’il s’exécute sur du matériel physique ou sur Hyper-V environnement virtualisé.</span><span class="sxs-lookup"><span data-stu-id="332ad-249">While this topic does not offer specific recommendations for optimizing performance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a Hyper-V virtualized environment, the techniques are applicable to any [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution, whether running on physical hardware or on a Hyper-V virtualized environment.</span></span>|  
  
## <a name="optimize-sql-server-performance"></a><span data-ttu-id="332ad-250">Optimiser les performances de SQL Server</span><span class="sxs-lookup"><span data-stu-id="332ad-250">Optimize SQL Server Performance</span></span>  
 <span data-ttu-id="332ad-251">Suivez les recommandations de la rubrique [optimisations de SQL Server](~/technical-guides/sql-server-optimizations.md) pour optimiser les performances de SQL Server pour la solution BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="332ad-251">Follow the recommendations in the topic [SQL Server Optimizations](~/technical-guides/sql-server-optimizations.md) to optimize SQL Server performance for the BizTalk Server solution.</span></span> <span data-ttu-id="332ad-252">Lors de cette rubrique n’offre pas de recommandations spécifiques pour l’optimisation des performances de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] dans un environnement virtualisé Hyper-V, les techniques sont applicables à aucun [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution, qu’il s’exécute sur du matériel physique ou sur Hyper-V environnement virtualisé.</span><span class="sxs-lookup"><span data-stu-id="332ad-252">While this topic does not offer specific recommendations for optimizing performance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a Hyper-V virtualized environment, the techniques are applicable to any [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution, whether running on physical hardware or on a Hyper-V virtualized environment.</span></span>  
  
## <a name="optimize-biztalk-server-solution"></a><span data-ttu-id="332ad-253">Optimiser la Solution BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="332ad-253">Optimize BizTalk Server Solution</span></span>  
 <span data-ttu-id="332ad-254">Suivez les recommandations de la rubrique [optimisations de BizTalk Server](~/technical-guides/biztalk-server-optimizations.md) pour optimiser les performances de la solution BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="332ad-254">Follow the recommendations in the topic [BizTalk Server Optimizations](~/technical-guides/biztalk-server-optimizations.md) to optimize performance of the BizTalk Server solution.</span></span> <span data-ttu-id="332ad-255">Lors de cette rubrique n’offre pas de recommandations spécifiques pour l’optimisation des performances de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] dans un environnement virtualisé Hyper-V, les techniques sont applicables à aucun [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution, qu’il s’exécute sur du matériel physique ou sur Hyper-V environnement virtualisé.</span><span class="sxs-lookup"><span data-stu-id="332ad-255">While this topic does not offer specific recommendations for optimizing performance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a Hyper-V virtualized environment, the techniques are applicable to any [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution, whether running on physical hardware or on a Hyper-V virtualized environment.</span></span>