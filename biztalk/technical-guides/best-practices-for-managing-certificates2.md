---
title: Meilleures pratiques pour la gestion Certificates2 | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 71fa00cc-2e0c-46b3-ae62-f130a5b5f4f5
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 39f47159fbeacb1b4975cf9f1aa0a8c9a030ecc3
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="best-practices-for-managing-certificates"></a><span data-ttu-id="30116-102">Méthodes conseillées pour la gestion des certificats</span><span class="sxs-lookup"><span data-stu-id="30116-102">Best Practices for Managing Certificates</span></span>
<span data-ttu-id="30116-103">Cette section fournit les meilleures pratiques pour la gestion des certificats dans votre Microsoft [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] environnement.</span><span class="sxs-lookup"><span data-stu-id="30116-103">This section provides best practices for managing certificates in your Microsoft [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] environment.</span></span>  
  
## <a name="assess-and-plan-your-use-of-certificates"></a><span data-ttu-id="30116-104">Évaluer et planifier l’utilisation de certificats</span><span class="sxs-lookup"><span data-stu-id="30116-104">Assess and Plan Your Use of Certificates</span></span>  
 <span data-ttu-id="30116-105">**Effectuer une analyse du modèle de votre environnement**</span><span class="sxs-lookup"><span data-stu-id="30116-105">**Do a Threat Model Analysis of your environment**</span></span>  
  
-   <span data-ttu-id="30116-106">Réalisez une analyse du modèle des menaces de votre environnement pour déterminer si les certificats de signature ou de chiffrement permettent de réduire les menaces potentielles.</span><span class="sxs-lookup"><span data-stu-id="30116-106">Do a Threat Model Analysis (TMA) of your environment to determine whether signing or encryption certificates will help you mitigate security threats.</span></span>  
  
 <span data-ttu-id="30116-107">**Créez un plan pour les certificats de clé publique avec les partenaires**</span><span class="sxs-lookup"><span data-stu-id="30116-107">**Create a plan for public key certificates with partners**</span></span>  
  
-   <span data-ttu-id="30116-108">Créer un plan pour envoyer des certificats de clé publique à et recevoir des certificats de clé publique provenant de partenaires.</span><span class="sxs-lookup"><span data-stu-id="30116-108">Create a plan for sending public key certificates to and receiving public key certificates from partners.</span></span> <span data-ttu-id="30116-109">Si vous n'utilisez pas de certificats de signature pour la résolution du tiers, le certificat public peut être joint au message et il n'est pas nécessaire que votre système en inclue une copie.</span><span class="sxs-lookup"><span data-stu-id="30116-109">If you are not using signing certificates for party resolution, the public certificate can be attached to the message, in which case you do not need a copy of the certificate in your system beforehand.</span></span>  
  
 <span data-ttu-id="30116-110">**Établissez des instructions avec des partenaires pour l’envoi de clés publiques**</span><span class="sxs-lookup"><span data-stu-id="30116-110">**Establish guidelines with partners for submitting public keys**</span></span>  
  
-   <span data-ttu-id="30116-111">Dans le contrat de niveau de service (SLA) passé avec vos partenaires, établissez des instructions pour l'envoi des clés publiques, afin qu'ils vous avertissent lorsque leurs certificats expirent ou sont révoqués.</span><span class="sxs-lookup"><span data-stu-id="30116-111">As part of your Service Level Agreement (SLA) with your partner, establish guidelines for submitting public keys, notifying you when their certificates are about to expire, and notifying you when they revoke a certificate.</span></span>  
  
## <a name="install-certificates"></a><span data-ttu-id="30116-112">Installer des certificats</span><span class="sxs-lookup"><span data-stu-id="30116-112">Install Certificates</span></span>  
 <span data-ttu-id="30116-113">**Télécharger la liste de révocation de certificats à des intervalles définis**</span><span class="sxs-lookup"><span data-stu-id="30116-113">**Download the certificate revocation list at set intervals**</span></span>  
  
-   <span data-ttu-id="30116-114">Téléchargez la liste de révocation des certificats de votre autorité de certification à intervalles définis.</span><span class="sxs-lookup"><span data-stu-id="30116-114">Download the certificate revocation list (CRL) from your certification authority (CA) at set intervals.</span></span> <span data-ttu-id="30116-115">Il est recommandé d'effectuer cette opération une fois par semaine.</span><span class="sxs-lookup"><span data-stu-id="30116-115">We recommend doing this once a week.</span></span> <span data-ttu-id="30116-116">Les listes de révocation des certificats sont téléchargées automatiquement si une autorité de certification existe pour le domaine auquel les serveurs BizTalk sont joints.</span><span class="sxs-lookup"><span data-stu-id="30116-116">The CRLs are downloaded automatically if there is a CA for the domain in which the BizTalk servers are joined.</span></span>  
  
 <span data-ttu-id="30116-117">**Vérifier les certificats de signature**</span><span class="sxs-lookup"><span data-stu-id="30116-117">**Verify signing certificates**</span></span>  
  
-   <span data-ttu-id="30116-118">Assurez-vous de contrôler la présence de certificats de signature dans la liste de révocation de certificats.</span><span class="sxs-lookup"><span data-stu-id="30116-118">Make sure you verify the signing certificates against the certificate revocation list.</span></span> <span data-ttu-id="30116-119">Pour plus d’informations sur la façon de vérifier la signature des certificats, consultez [comment configurer le composant de Pipeline décodeur MIME/SMIME](http://go.microsoft.com/fwlink/?LinkId=155145) (http://go.microsoft.com/fwlink/?LinkId=155145) dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] aide.</span><span class="sxs-lookup"><span data-stu-id="30116-119">For more information about how to verify the signing certificates, see [How to Configure the MIME/SMIME Decoder Pipeline Component](http://go.microsoft.com/fwlink/?LinkId=155145) (http://go.microsoft.com/fwlink/?LinkId=155145) in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Help.</span></span>  
  
 <span data-ttu-id="30116-120">**Gérer les certificats avec des partenaires**</span><span class="sxs-lookup"><span data-stu-id="30116-120">**Manage certificates with partners**</span></span>  
  
-   <span data-ttu-id="30116-121">Utilisez la gestion des certificats dans le cadre de vos méthodes de gestion des partenaires.</span><span class="sxs-lookup"><span data-stu-id="30116-121">Make certificate management part of your partner management practices.</span></span> <span data-ttu-id="30116-122">Lorsque vous ajoutez ou supprimez un tiers de l'environnement BizTalk Server, il est recommandé d'ajouter ou de supprimer le certificat associé à ce tiers.</span><span class="sxs-lookup"><span data-stu-id="30116-122">When you add or remove a party from the BizTalk Server environment, we recommend that you add or remove the certificates associated with that partner.</span></span>  
  
 <span data-ttu-id="30116-123">**Supprimer les certificats avant de supprimer une instance d’hôte**</span><span class="sxs-lookup"><span data-stu-id="30116-123">**Remove certificates before removing a host instance**</span></span>  
  
-   <span data-ttu-id="30116-124">Avant de supprimer une instance d'hôte de BizTalk Server, supprimez les certificats dans le magasin personnel du compte sous lequel l'instance de l'hôte est exécutée.</span><span class="sxs-lookup"><span data-stu-id="30116-124">Before removing a host instance from a BizTalk server, remove the certificates in the personal store of the account under which the host instance is running.</span></span>  
  
## <a name="configure-biztalk-server-to-use-certificates-for-mimesmime"></a><span data-ttu-id="30116-125">Configurer BizTalk Server pour utiliser des certificats pour MIME/SMIME</span><span class="sxs-lookup"><span data-stu-id="30116-125">Configure BizTalk Server to Use Certificates for MIME/SMIME</span></span>  
 <span data-ttu-id="30116-126">**Éviter les attaques de déni de service pour les signatures numériques**</span><span class="sxs-lookup"><span data-stu-id="30116-126">**Avoid denial of service attacks for digital signatures**</span></span>  
  
-   <span data-ttu-id="30116-127">Déterminez ce que vous voulez faire avec des messages lorsque BizTalk Server ne peut pas valider la signature numérique.</span><span class="sxs-lookup"><span data-stu-id="30116-127">Determine what you want to do with messages when BizTalk Server cannot validate the digital signature.</span></span> <span data-ttu-id="30116-128">Définition de la propriété de l’authentification sur le port de réception permettra d’éviter les attaques de déni de service.</span><span class="sxs-lookup"><span data-stu-id="30116-128">Setting the Authentication property on the receive port will help prevent denial of service attacks.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="30116-129">L’authentification - supprimer les messages et l’authentification - conserver les messages des indicateurs sur le port de réception nécessitent que le composant de pipeline Résolution du tiers est configuré correctement et que les parties sont définis dans BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="30116-129">The Authentication - Drop messages and Authentication - Keep messages flags on the receive port require that the Party Resolution pipeline component be configured correctly, and that the parties are defined in BizTalk Server.</span></span> <span data-ttu-id="30116-130">Pour plus d’informations, consultez [composant de Pipeline résolution tiers](http://go.microsoft.com/fwlink/?LinkId=155146) (http://go.microsoft.com/fwlink/?LinkId=155146) dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] aide.</span><span class="sxs-lookup"><span data-stu-id="30116-130">For more information, see [Party Resolution Pipeline Component](http://go.microsoft.com/fwlink/?LinkId=155146) (http://go.microsoft.com/fwlink/?LinkId=155146) in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Help.</span></span>  
  
 <span data-ttu-id="30116-131">**Créez des emplacements de réception pour les messages chiffrés et**</span><span class="sxs-lookup"><span data-stu-id="30116-131">**Create separate receive locations for encrypted and unencrypted messages**</span></span>  
  
-   <span data-ttu-id="30116-132">Si vous envisagez de recevoir des messages MIME chiffrés de la part de certains partenaires et des messages non chiffrés de la part d'autres partenaires, créez des emplacements de réception distincts dans les différents hôtes pour les messages chiffrés et non chiffrés.</span><span class="sxs-lookup"><span data-stu-id="30116-132">If you plan to receive MIME-encrypted messages from some partners and unencrypted messages from other partners, create separate receive locations in different hosts for encrypted and unencrypted messages.</span></span> <span data-ttu-id="30116-133">Lorsque vous n'attendez que les messages MIME chiffrés, configurez l’option Autoriser les messages non-MIME dans le composant de pipeline MIME/SMIME décoder sur non.</span><span class="sxs-lookup"><span data-stu-id="30116-133">When you expect only MIME-encrypted messages, configure the Allow Non MIME Message option in the Decode MIME/SMIME pipeline component to No.</span></span>  
  
## <a name="configure-a-biztalk-adapter-to-use-certificates"></a><span data-ttu-id="30116-134">Configuration d’un adaptateur BizTalk pour utiliser des certificats</span><span class="sxs-lookup"><span data-stu-id="30116-134">Configure a BizTalk Adapter to Use Certificates</span></span>  
 <span data-ttu-id="30116-135">**Testez votre connexion au site Web cible**</span><span class="sxs-lookup"><span data-stu-id="30116-135">**Test your connection to the target Web site**</span></span>  
  
-   <span data-ttu-id="30116-136">Si vous utilisez SSL, vérifiez que vous pouvez vous connecter au site Web cible avec Microsoft Internet Explorer® avant d’essayer de se connecter au site Web cible avec les transports HTTP ou SOAP.</span><span class="sxs-lookup"><span data-stu-id="30116-136">If you are using SSL, ensure that you can connect to the target Web site with Microsoft Internet Explorer® before attempting to connect to the target Web site with the HTTP or SOAP transports.</span></span> <span data-ttu-id="30116-137">Vérifiez qu’aucune boîte de dialogue n’est affichées dans Internet Explorer, lorsque vous vous connectez au site Web cible.</span><span class="sxs-lookup"><span data-stu-id="30116-137">Verify that no dialog boxes are displayed in Internet Explorer when you connect to the target Web site.</span></span> <span data-ttu-id="30116-138">BizTalk Server ne dispose d’aucun mécanisme permettant de s’interfacer avec les boîtes de dialogue peut s’afficher lors de la connexion au site web cible.</span><span class="sxs-lookup"><span data-stu-id="30116-138">BizTalk Server has no mechanism for interfacing with any dialog boxes that might be displayed when connecting to the target web site.</span></span> <span data-ttu-id="30116-139">Une boîte de dialogue peut être affichée par Internet Explorer si le nom du site Web cible ne correspond pas à celui spécifié pour le site Web dans le certificat SSL ou si l’autorité de Certification racine pour le certificat SSL n’est pas dans la Certification de racine de confiance approprié Magasin d’autorités.</span><span class="sxs-lookup"><span data-stu-id="30116-139">A dialog box may be displayed by Internet Explorer if the target Web site name does not match the name specified for the Web site in the SSL certificate or if the Root Certification Authority for the SSL certificate is not in the appropriate Trusted Root Certification Authorities store.</span></span>  
  
 <span data-ttu-id="30116-140">**Utilisez l’outil de diagnostic SSL pour analyser les problèmes de connexion SSL**</span><span class="sxs-lookup"><span data-stu-id="30116-140">**Use the SSL Diagnostics tool to analyze SSL connection issues**</span></span>  
  
-   <span data-ttu-id="30116-141">Cet outil est un composant en option de l'ensemble d'outils de diagnostic IIS.</span><span class="sxs-lookup"><span data-stu-id="30116-141">The SSL Diagnostics tool is an optional component of the IIS Diagnostics Toolkit.</span></span> <span data-ttu-id="30116-142">Vous pouvez télécharger les outils de diagnostic IIS depuis la [outils de diagnostic de Internet Information Services](http://go.microsoft.com/fwlink/?LinkID=64426) page (http://go.microsoft.com/fwlink/?LinkID=64426).</span><span class="sxs-lookup"><span data-stu-id="30116-142">You can download the IIS Diagnostics Toolkit from the [Internet Information Services Diagnostics Tools](http://go.microsoft.com/fwlink/?LinkID=64426) page (http://go.microsoft.com/fwlink/?LinkID=64426).</span></span>  
  
## <a name="exporting-a-certificate-from-one-biztalk-group-to-another"></a><span data-ttu-id="30116-143">Exportation d’un certificat à partir d’un groupe de BizTalk à un autre</span><span class="sxs-lookup"><span data-stu-id="30116-143">Exporting a Certificate from One BizTalk Group to Another</span></span>  
 <span data-ttu-id="30116-144">**Assurez-vous qu’un certificat importé est utilisé pour son usage prévu**</span><span class="sxs-lookup"><span data-stu-id="30116-144">**Ensure that an imported certificate is being used for its intended purpose**</span></span>  
  
-   <span data-ttu-id="30116-145">Si vous importez un certificat dans un groupe, le certificat importé doit avoir une propriété d’utilisation qui est cohérente avec l’utilisation prévue.</span><span class="sxs-lookup"><span data-stu-id="30116-145">If you import a certificate into a group, the imported certificate must have a usage property that is consistent with its intended use.</span></span> <span data-ttu-id="30116-146">Pour vérifier la propriété d’utilisation, double-cliquez sur le certificat dans le **Console de gestion des certificats** de l’interface, puis cliquez sur le **détails** onglet de la **certificat** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="30116-146">To check the usage property, double-click the certificate in the **Certificates Management Console** interface, and then click the **Details** tab of the **Certificate** dialog box.</span></span> <span data-ttu-id="30116-147">Puis cliquez sur le **tous les** est définie sur le **afficher** liste déroulante, puis cliquez sur pour sélectionner le **utilisation de la clé** et/ou **utilisation améliorée de la clé** champs Pour vérifier l’utilisation prévue.</span><span class="sxs-lookup"><span data-stu-id="30116-147">Then click the **All** option for the **Show** drop-down list, and then click to select the **Key Usage** and/or **Enhanced Key Usage** fields to verify the intended purpose.</span></span> <span data-ttu-id="30116-148">Si BizTalk Server tente d’utiliser un certificat pour que son rôle prévu, une erreur d’exécution se produira.</span><span class="sxs-lookup"><span data-stu-id="30116-148">If BizTalk Server attempts to use a certificate for other than its intended purpose a runtime error will occur.</span></span>