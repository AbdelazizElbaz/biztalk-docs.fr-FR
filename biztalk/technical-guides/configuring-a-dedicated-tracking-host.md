---
title: "Configuration d’un hôte de suivi dédié | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f997bcc2-08fd-4e9a-ba44-542ec8460d6d
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b91a4b65c6e9a9b293e967385b8f0ac4eece1aa4
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/01/2017
---
# <a name="configuring-a-dedicated-tracking-host"></a><span data-ttu-id="be842-102">Configuration d’un hôte de suivi dédié</span><span class="sxs-lookup"><span data-stu-id="be842-102">Configuring a Dedicated Tracking Host</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="be842-103">est optimisé pour le débit, afin de l’orchestration principale et les moteurs de messagerie ne pas réellement déplacent événements ou des messages directement aux bases de données de suivi BizTalk (DTA) ou l’analyse BAM (Business Activity), car cela aurait transférer ces moteurs leur principal tâche d’exécution de processus d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="be842-103"> is optimized for throughput, so the main orchestration and messaging engines do not actually move events or messages directly to the BizTalk Tracking (DTA) or Business Activity Monitoring (BAM) databases, since this would divert these engines from their primary job of executing business processes.</span></span> <span data-ttu-id="be842-104">Au lieu de cela, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] laisse les événements et les messages dans la base de données MessageBox et les marque comme nécessitant un déplacement vers les bases de données des suivis BizTalk ou d’analyse BAM.</span><span class="sxs-lookup"><span data-stu-id="be842-104">Instead, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] leaves the events and messages in the MessageBox database and marks them as requiring a move to the BizTalk Tracking or BAM databases.</span></span> <span data-ttu-id="be842-105">Un processus en arrière-plan (l’hôte de suivi), puis déplace les événements pour les bases de données des suivis BizTalk et l’analyse BAM, tout en un SQL Server Agent travail copie les messages suivis à la base de données des suivis BizTalk.</span><span class="sxs-lookup"><span data-stu-id="be842-105">A background process (the tracking host) then moves the events to the BizTalk Tracking and BAM databases, while a SQL Server Agent job copies tracked messages to the BizTalk Tracking database.</span></span>  
  
## <a name="advantages-of-using-a-dedicated-tracking-host"></a><span data-ttu-id="be842-106">Avantages de l’utilisation d’un hôte de suivi dédié</span><span class="sxs-lookup"><span data-stu-id="be842-106">Advantages of Using a Dedicated Tracking Host</span></span>  
 <span data-ttu-id="be842-107">Un hôte BizTalk qui héberge le suivi est chargé de déplacer le DTA et BAM de données de suivi à partir de la base de données MessageBox pour les bases de données de suivi BizTalk (DTA) et d’importation principale BAM.</span><span class="sxs-lookup"><span data-stu-id="be842-107">A BizTalk Host that hosts tracking is responsible for moving the DTA and BAM tracking data from the MessageBox database to the BizTalk Tracking (DTA) and BAM Primary Import databases.</span></span> <span data-ttu-id="be842-108">Ce déplacement de données de suivi a un impact sur les performances d’autres artefacts BizTalk qui s’exécutent dans le même ordinateur hôte qui héberge le suivi.</span><span class="sxs-lookup"><span data-stu-id="be842-108">This movement of tracking data has an impact on the performance of other BizTalk artifacts that are running in the same host that is hosting tracking.</span></span> <span data-ttu-id="be842-109">Par conséquent, vous devez utiliser un hôte dédié qui ne fait rien, mais le suivi de l’hôte.</span><span class="sxs-lookup"><span data-stu-id="be842-109">Thus, you should use a dedicated host that does nothing but host tracking.</span></span>  
  
 <span data-ttu-id="be842-110">À l’aide d’un hôte de suivi dédié vous permet également d’arrêter les autres hôtes BizTalk sans interférer avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] de suivi.</span><span class="sxs-lookup"><span data-stu-id="be842-110">Using a dedicated tracking host also allows you to stop other BizTalk hosts without interfering with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tracking.</span></span> <span data-ttu-id="be842-111">Le déplacement des données en dehors de la base de données de suivi est essentiel pour une intégrité [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] système.</span><span class="sxs-lookup"><span data-stu-id="be842-111">The movement of tracking data out of the MessageBox database is critical for a healthy [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] system.</span></span> <span data-ttu-id="be842-112">Si l’hôte BizTalk responsable du déplacement des données de suivi dans le groupe BizTalk est arrêté, le service de décodage de données de suivi ne fonctionnera pas.</span><span class="sxs-lookup"><span data-stu-id="be842-112">If the BizTalk Host responsible for moving tracking data in the BizTalk group is stopped, the Tracking Data Decode service will not run.</span></span> <span data-ttu-id="be842-113">L’impact de ce est comme suit :</span><span class="sxs-lookup"><span data-stu-id="be842-113">The impact of this is as follows:</span></span>  
  
-   <span data-ttu-id="be842-114">HAT des données de suivi n’est pas déplacé à partir de la base de données MessageBox à la base de données des suivis BizTalk.</span><span class="sxs-lookup"><span data-stu-id="be842-114">HAT tracking data will not be moved from the MessageBox database to the BizTalk Tracking database.</span></span>  
  
-   <span data-ttu-id="be842-115">Données de suivi BAM n’est pas déplacé à partir de la base de données MessageBox à la base de données d’importation principale BAM.</span><span class="sxs-lookup"><span data-stu-id="be842-115">BAM tracking data will not be moved from the MessageBox database to the BAM Primary Import database.</span></span>  
  
-   <span data-ttu-id="be842-116">Étant donné que les données ne sont pas déplacées, il ne peut pas être supprimé à partir de la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="be842-116">Because data is not moved, it cannot be deleted from the MessageBox database.</span></span>  
  
-   <span data-ttu-id="be842-117">Lorsque le service de décodage de données de suivi est arrêté, le suivi des intercepteurs seront toujours exécuter et écrire des données de suivi dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="be842-117">When the Tracking Data Decode service is stopped, tracking interceptors will still run and write tracking data to the MessageBox database.</span></span> <span data-ttu-id="be842-118">Si les données ne sont pas déplacées, cela entraîne la base de données MessageBox à être saturé, ce qui affecte les performances au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="be842-118">If the data is not moved, this will cause the MessageBox database to become bloated, which will affect performance over time.</span></span> <span data-ttu-id="be842-119">Même si les propriétés personnalisées ne sont pas suivies ou les profils de l’analyse BAM ne sont pas définies, par défaut des données de suivi sont effectuées (telles que le pipeline de réception / envoyer des événements et des événements de l’orchestration).</span><span class="sxs-lookup"><span data-stu-id="be842-119">Even if custom properties are not tracked or BAM profiles are not set up, by default some data is tracked (such as pipeline receive / send events and orchestration events).</span></span> <span data-ttu-id="be842-120">Si vous ne souhaitez pas exécuter le service de décodage de données de suivi, désactivez tous les suivi afin qu’aucun des intercepteurs d’enregistrement des données dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="be842-120">If you do not want to run the Tracking Data Decode service, turn off all tracking so that no interceptors save data to the database.</span></span> <span data-ttu-id="be842-121">Pour désactiver le suivi global, consultez [la désactivation du suivi Global](http://go.microsoft.com/fwlink/?LinkId=154193) (http://go.microsoft.com/fwlink/?LinkId=154193) utilisez le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] la console Administration pour désactiver le suivi des événements de manière sélective.</span><span class="sxs-lookup"><span data-stu-id="be842-121">To disable global tracking, see [How to Turn Off Global Tracking](http://go.microsoft.com/fwlink/?LinkId=154193) (http://go.microsoft.com/fwlink/?LinkId=154193) Use the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console to selectively disable tracking events.</span></span>  
  
## <a name="optimizing-performance-for-a-dedicated-tracking-host"></a><span data-ttu-id="be842-122">Optimisation des performances pour un hôte de suivi dédié</span><span class="sxs-lookup"><span data-stu-id="be842-122">Optimizing Performance for a Dedicated Tracking Host</span></span>  
 <span data-ttu-id="be842-123">Cet hôte doit être exécuté sur au moins deux ordinateurs exécutant [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] (pour assurer la redondance dans les cas un tombe en panne).</span><span class="sxs-lookup"><span data-stu-id="be842-123">This host should be run on at least two computers running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] (for redundancy in case one fails).</span></span> <span data-ttu-id="be842-124">Pour des performances optimales, vous devez avoir suivi au moins une instance de l’hôte par base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="be842-124">For optimal performance, you should have at least one tracking host instance per MessageBox database.</span></span> <span data-ttu-id="be842-125">Le nombre réel de suivi des instances d’hôte doit être N + 1, où N = nombre de bases de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="be842-125">The actual number of tracking host instances should be N + 1, where N = the number of MessageBox databases.</span></span> <span data-ttu-id="be842-126">Le « + 1 » est pour assurer la redondance.</span><span class="sxs-lookup"><span data-stu-id="be842-126">The "+ 1" is for redundancy.</span></span> <span data-ttu-id="be842-127">Il en existe aucun avantage à l’ajout de plus, car le suivi qu’une seule instance de l’hôte ne peut déplacer les données pour une base de données MessageBox spécifique.</span><span class="sxs-lookup"><span data-stu-id="be842-127">There is no benefit to adding more than that, because only one tracking host instance can move data for a specific MessageBox database.</span></span> <span data-ttu-id="be842-128">Par conséquent, le verrouillage doit être jamais un problème.</span><span class="sxs-lookup"><span data-stu-id="be842-128">As a result, locking should never be an issue.</span></span> <span data-ttu-id="be842-129">La supplémentaires d’une instance de l’hôte de suivi est ajouté pour la tolérance de panne ; Si un des suivi héberge instances échoue, l’instance supplémentaire suppose les droits de l’instance a échoué.</span><span class="sxs-lookup"><span data-stu-id="be842-129">The one additional tracking host instance is added for fault tolerance; if one of the tracking host instances fails, the additional instance will assume the duties of the failed instance.</span></span>  
  
 <span data-ttu-id="be842-130">Un suivi instance d’hôte déplace les données de suivi pour les bases de données MessageBox spécifiques, mais il y aura jamais l’hôte de suivi plus d’une instance de déplacer les données d’une base de données MessageBox spécifique.</span><span class="sxs-lookup"><span data-stu-id="be842-130">A tracking host instance moves tracking data for specific MessageBox databases, but there will never be more than one tracking host instance moving data for a specific MessageBox database.</span></span> <span data-ttu-id="be842-131">Par exemple, si vous avez trois bases de données MessageBox et que deux instances de l’hôte de suivi, une des instances de l’hôte doit déplacer les données de deux bases de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="be842-131">For example, if you have three MessageBox databases, and only two tracking host instances, then one of the host instances needs to move data for two of the MessageBox databases.</span></span> <span data-ttu-id="be842-132">Ajout d’une troisième instance de l’hôte de suivi distribue le suivi des hôtes de travail à un autre ordinateur exécutant [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="be842-132">Adding a third tracking host instance distributes the tracking host work to another computer running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="be842-133">Dans ce scénario, ajout d’une quatrième instance de l’hôte de suivi ne serait pas distribuer n’importe quel hôte de suivi plus de travail, mais cela permet de fournir un fichier extra suivi d’instance d’hôte pour la tolérance de panne.</span><span class="sxs-lookup"><span data-stu-id="be842-133">In this scenario, adding a fourth tracking host instance would not distribute any more tracking host work, but would provide an extra tracking host instance for fault tolerance.</span></span>  
  
 <span data-ttu-id="be842-134">Pour plus d’informations sur le service Bus d’événements BAM, consultez les rubriques suivantes dans l’aide de BizTalk Server :</span><span class="sxs-lookup"><span data-stu-id="be842-134">For more information about the BAM Event Bus service, see the following topics in BizTalk Server Help:</span></span>  
  
-   <span data-ttu-id="be842-135">[La gestion de Service Bus d’événements BAM](http://go.microsoft.com/fwlink/?LinkId=154194) (http://go.microsoft.com/fwlink/?LinkId=154194)</span><span class="sxs-lookup"><span data-stu-id="be842-135">[Managing the BAM Event Bus Service](http://go.microsoft.com/fwlink/?LinkId=154194) (http://go.microsoft.com/fwlink/?LinkId=154194)</span></span>  
  
-   <span data-ttu-id="be842-136">[Création d’Instances de Service Bus d’événements BAM](http://go.microsoft.com/fwlink/?LinkId=154195) (http://go.microsoft.com/fwlink/?LinkId=154195)</span><span class="sxs-lookup"><span data-stu-id="be842-136">[Creating Instances of the BAM Event Bus Service](http://go.microsoft.com/fwlink/?LinkId=154195) (http://go.microsoft.com/fwlink/?LinkId=154195)</span></span>  
  
## <a name="configuring-a-dedicated-tracking-host"></a><span data-ttu-id="be842-137">Configuration d’un hôte de suivi dédié</span><span class="sxs-lookup"><span data-stu-id="be842-137">Configuring a Dedicated Tracking Host</span></span>  
 <span data-ttu-id="be842-138">Pour effectuer la procédure de cette section, vous devez disposer des droits d’utilisateur suivants pour modifier les propriétés de l’hôte pour permettre le suivi de l’hôte :</span><span class="sxs-lookup"><span data-stu-id="be842-138">To perform the procedure in this section, you must have the following user rights for modifying host properties to allow host tracking:</span></span>  
  
-   <span data-ttu-id="be842-139">Vous devez être un membre de le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] groupe Administrateurs.</span><span class="sxs-lookup"><span data-stu-id="be842-139">You must be a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
-   <span data-ttu-id="be842-140">Les droits suivants sont requis dans SQL Server :</span><span class="sxs-lookup"><span data-stu-id="be842-140">You must have the following rights in SQL Server:</span></span>  
  
    -   <span data-ttu-id="be842-141">Vous devez être un administrateur SQL Server ou un membre de la *db_owner* ou *db_securityadmin* rôles de base de données SQL Server dans la base de données (BizTalk DTADb), (des bases de données MessageBox (BizTalkMsgBoxDb) et la base de données d’importation principale BAM (BAMPrimaryImport).</span><span class="sxs-lookup"><span data-stu-id="be842-141">You must be either a SQL Server administrator or a member of the *db_owner* or *db_securityadmin* SQL Server database roles in the BizTalk Tracking database (BizTalk DTADb), MessageBox databases (BizTalkMsgBoxDb), and the BAM Primary Import database (BAMPrimaryImport).</span></span>  
  
    -   <span data-ttu-id="be842-142">Vous devez être membre du rôle sysadmin SQL Server sur tous les ordinateurs où il existe des bases de données MessageBox, ou un membre de la *db_owner* ou *db_ddladmin* rôle SQL Server pour toutes les bases de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="be842-142">You must be a member of the sysadmin SQL Server role on all the computers where there are MessageBox databases, or a member of the *db_owner* or *db_ddladmin* SQL Server role for all the MessageBox databases.</span></span>  
  
#### <a name="to-enable-host-tracking"></a><span data-ttu-id="be842-143">Pour activer le suivi de l’hôte</span><span class="sxs-lookup"><span data-stu-id="be842-143">To enable host tracking</span></span>  
  
1.  <span data-ttu-id="be842-144">Cliquez sur **Démarrer**, cliquez sur **programmes**, cliquez sur **Microsoft** [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)], puis cliquez sur **Administration de BizTalk Server**.</span><span class="sxs-lookup"><span data-stu-id="be842-144">Click **Start**, click **Programs**, click **Microsoft** [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="be842-145">Dans l’arborescence de la console, développez [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)] **Administration**, développez le groupe BizTalk, cliquez sur **paramètres de plateforme**, puis cliquez sur **hôtes**.</span><span class="sxs-lookup"><span data-stu-id="be842-145">In the console tree, expand [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)] **Administration**, expand the BizTalk group, click **Platform Settings**, and then click **Hosts**.</span></span>  
  
3.  <span data-ttu-id="be842-146">Dans le volet de détails, cliquez sur l’ordinateur hôte que vous souhaitez modifier, puis cliquez sur **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="be842-146">In the details pane, right-click the host that you want to modify, and then click **Properties**.</span></span>  
  
4.  <span data-ttu-id="be842-147">Dans le **propriétés de l’hôte** boîte de dialogue le **général** onglet, activez ou désactivez **Options - Autoriser le suivi de hôte**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="be842-147">In the **Host Properties** dialog box, on the **General** tab, select or clear **Options - Allow Host Tracking**, and then click **OK**.</span></span>  
  
     <span data-ttu-id="be842-148">Cette case à cocher doit être activée pour indiquer que l'hôte charge le composant de suivi BizTalk pour traiter l'analyse du fonctionnement et les données d'entreprise.</span><span class="sxs-lookup"><span data-stu-id="be842-148">Select this check box to indicate that the host loads the BizTalk Tracking component to process health monitoring and business data.</span></span> <span data-ttu-id="be842-149">Si vous activez cette case, l'hôte actuel disposera d'un accès en lecture et en écriture aux tables de suivi de la base de données MessageBox et à la base de données des suivis.</span><span class="sxs-lookup"><span data-stu-id="be842-149">If you select this check box, the current host will have read/write access to the tracking tables in the MessageBox database, as well as to the Tracking database.</span></span> <span data-ttu-id="be842-150">Par conséquent, les objets exécutés sur cet hôte bénéficieront aussi d'un accès en lecture/écriture à ces bases de données.</span><span class="sxs-lookup"><span data-stu-id="be842-150">Accordingly, any objects running in this host will also have read/write access to these databases.</span></span>  
  
     <span data-ttu-id="be842-151">Si vous désactivez cette case, l'hôte disposera uniquement d'un accès en écriture aux tables de suivi de la base de données MessageBox et n'aura pas accès à la base de données des suivis BizTalk.</span><span class="sxs-lookup"><span data-stu-id="be842-151">If you clear the check box, the host will have only write access to the tracking tables in the MessageBox database and will not have access to the Tracking database.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="be842-152">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="be842-152">See Also</span></span>  
 [<span data-ttu-id="be842-153">Liste de contrôle : Configuration de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="be842-153">Checklist: Configuring BizTalk Server</span></span>](../technical-guides/checklist-configuring-biztalk-server.md)