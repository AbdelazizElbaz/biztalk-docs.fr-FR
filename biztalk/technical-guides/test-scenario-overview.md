---
title: "Vue d’ensemble du scénario de test | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: cde553ad-2540-40d9-a74b-928fee873c31
caps.latest.revision: "32"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 53e20b7d94e44006df1042c9ca202e296508a5d5
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="test-scenario-overview"></a><span data-ttu-id="44ee6-102">Vue d’ensemble du scénario de test</span><span class="sxs-lookup"><span data-stu-id="44ee6-102">Test Scenario Overview</span></span>
<span data-ttu-id="44ee6-103">Cette rubrique fournit une vue d’ensemble de l’application de test ; obtenir une description de la méthodologie utilisée de test et répertorie les indicateurs de performance clés (KPI) capturées pendant le test de charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-103">This topic provides an overview of the test application; a description of the testing methodology used, and lists the key performance indicators (KPIs) captured during load testing.</span></span>  
  
## <a name="test-application"></a><span data-ttu-id="44ee6-104">Application de test</span><span class="sxs-lookup"><span data-stu-id="44ee6-104">Test Application</span></span>  
 <span data-ttu-id="44ee6-105">Une application demande-réponse synchrone a été utilisée pour comparer les performances de [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] s’exécutant sur Hyper-V pour [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] en cours d’exécution sur un matériel physique.</span><span class="sxs-lookup"><span data-stu-id="44ee6-105">A synchronous request-response application was used to compare performance of [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] running on Hyper-V to [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] running on physical hardware.</span></span> <span data-ttu-id="44ee6-106">Cette application a été utilisée pour illustrer les performances d’un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution qui a été optimisée pour une latence faible.</span><span class="sxs-lookup"><span data-stu-id="44ee6-106">This application was used to illustrate performance of a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution that has been tuned for low latency.</span></span> <span data-ttu-id="44ee6-107">Faible latence de messagerie est essentielle pour certains scénarios tels que des opérations bancaires en ligne dans laquelle un client envoie une demande et attend un message de réponse dans un intervalle très court (par exemple \< 3 secondes).</span><span class="sxs-lookup"><span data-stu-id="44ee6-107">Low latency messaging is critical for certain scenarios such as online banking where a client sends a request and expects a response message within a very short interval (for example \< 3 seconds).</span></span>  
  
 <span data-ttu-id="44ee6-108">La figure ci-dessous illustre l’architecture de haut niveau utilisée.</span><span class="sxs-lookup"><span data-stu-id="44ee6-108">The figure below illustrates the high-level architecture used.</span></span> <span data-ttu-id="44ee6-109">Visual Studio Team System (VSTS) 2008 Test Load Agent appelée une classe de test personnalisée, qui permet de générer une charge sur le transport WCF [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="44ee6-109">Visual Studio Team System (VSTS) 2008 Test Load Agent invoked a custom test class, which used the WCF transport to generate load against [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="44ee6-110">Le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] application dans ce scénario a été exposée via WCF-BasicHttp emplacement de réception requête-réponse.</span><span class="sxs-lookup"><span data-stu-id="44ee6-110">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] application in this scenario was exposed via a WCF-BasicHttp request-response receive location.</span></span> <span data-ttu-id="44ee6-111">VSTS 2008 Test Load Agent a été utilisé en tant que le client de test en raison de la grande flexibilité qu’il fournit, y compris la possibilité de configurer le nombre de messages envoyés dans, nombre de threads simultanés et l’intervalle de veille entre les demandes envoyées.</span><span class="sxs-lookup"><span data-stu-id="44ee6-111">VSTS 2008 Test Load Agent was used as the test client because of the great flexibility that it provides, including the capability to configure the number of messages sent in total, number of simultaneous threads, and the sleep interval between requests sent.</span></span>  
  
 <span data-ttu-id="44ee6-112">Plusieurs ordinateurs VSTS 2008 Test Load Agent peuvent être exécutés en tandem pour simuler les modèles de charge réels.</span><span class="sxs-lookup"><span data-stu-id="44ee6-112">Several VSTS 2008 Test Load Agent computers can be run in tandem to simulate real world load patterns.</span></span> <span data-ttu-id="44ee6-113">Pour ces tests, les ordinateurs de VSTS 2008 Test Load Agent pilotées par un seul ordinateur de contrôleur de VSTS 2008 Test Load Agent qui exécutait également BizUnit 3.0.</span><span class="sxs-lookup"><span data-stu-id="44ee6-113">For these tests, the VSTS 2008 Test Load Agent computers were driven by a single VSTS 2008 Test Load Agent Controller computer that was also running BizUnit 3.0.</span></span> <span data-ttu-id="44ee6-114">Par conséquent, une charge homogène a été envoyée à la fois physique et virtuel [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="44ee6-114">As a result, a consistent load was sent to both the physical and virtual [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers.</span></span> <span data-ttu-id="44ee6-115">Pour plus d’informations sur l’utilisation de VSTS 2008 Test Edition pour générer une charge simulée pour les tests, consultez [http://go.microsoft.com/fwlink/?LinkID=132311](http://go.microsoft.com/fwlink/?LinkID=132311).</span><span class="sxs-lookup"><span data-stu-id="44ee6-115">For more information about using VSTS 2008 Test Edition to generate simulated load for testing, see [http://go.microsoft.com/fwlink/?LinkID=132311](http://go.microsoft.com/fwlink/?LinkID=132311).</span></span>  
  
 <span data-ttu-id="44ee6-116">![Architecture de l’application](../technical-guides/media/testapplicationarchitecture.gif "TestApplicationArchitecture")</span><span class="sxs-lookup"><span data-stu-id="44ee6-116">![Application Architecture](../technical-guides/media/testapplicationarchitecture.gif "TestApplicationArchitecture")</span></span>  
<span data-ttu-id="44ee6-117">Architecture de l’Application de test</span><span class="sxs-lookup"><span data-stu-id="44ee6-117">Test Application Architecture</span></span>  
  
1.  <span data-ttu-id="44ee6-118">Un WCF-BasicHttp ou l’emplacement de réception requête-réponse WCF-Custom reçoit un nouveau CalculatorRequest à partir d’un ordinateur Agent de Test de charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-118">A WCF-BasicHttp or WCF-Custom Request-Response Receive Location receives a new CalculatorRequest from a Test Load Agent computer.</span></span>  
  
2.  <span data-ttu-id="44ee6-119">Le composant désassembleur XML promeut l’élément de méthode à l’intérieur du document xml CalculatorRequest.</span><span class="sxs-lookup"><span data-stu-id="44ee6-119">The XML disassembler component promotes the Method element inside the CalculatorRequest xml document.</span></span> <span data-ttu-id="44ee6-120">L’Agent de Message envoie le message entrant dans la base de données MessageBox (BizTalkMsgBoxDb).</span><span class="sxs-lookup"><span data-stu-id="44ee6-120">The Message Agent submits the incoming message to the MessageBox database (BizTalkMsgBoxDb).</span></span>  
  
3.  <span data-ttu-id="44ee6-121">La demande entrante démarre une nouvelle instance de la LogicalPortsOrchestration.</span><span class="sxs-lookup"><span data-stu-id="44ee6-121">The inbound request starts a new instance of the LogicalPortsOrchestration.</span></span> <span data-ttu-id="44ee6-122">Cette orchestration utilise un port à liaison directe pour recevoir les messages CalculatorRequest avec la propriété de méthode promue = « LogicalPortsOrchestration ».</span><span class="sxs-lookup"><span data-stu-id="44ee6-122">This orchestration uses a direct bound port to receive the CalculatorRequest messages with the Method promoted property = “LogicalPortsOrchestration”.</span></span>  
  
4.  <span data-ttu-id="44ee6-123">Le LogicalPortsOrchestration utilise une boucle pour récupérer les opérations et pour chaque élément, il appelle le service web WCF de calculatrice en aval à l’aide d’un Port de sollicitation-réponse logique.</span><span class="sxs-lookup"><span data-stu-id="44ee6-123">The LogicalPortsOrchestration uses a loop to retrieve operations and for each item it invokes the downstream Calculator WCF web service using a Logical Solicit-Response Port.</span></span> <span data-ttu-id="44ee6-124">Le message de demande pour le service web WCF de calculatrice est créé à l’aide d’un composant d’assistance et publié dans la MessageBox.</span><span class="sxs-lookup"><span data-stu-id="44ee6-124">The request message for the Calculator WCF web service is created using a helper component and published to the MessageBox.</span></span>  
  
5.  <span data-ttu-id="44ee6-125">Le message de demande est utilisé par un Port d’envoi WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="44ee6-125">The request message is consumed by a WCF-BasicHttp Send Port.</span></span>  
  
6.  <span data-ttu-id="44ee6-126">Le Port d’envoi WCF-BasicHttp appelle l’une des méthodes (ajouter, soustraction, multiplication, division) exposées par le service web WCF de calculatrice.</span><span class="sxs-lookup"><span data-stu-id="44ee6-126">The WCF-BasicHttp Send Port invokes one of the methods (Add, Subtract, Multiply, Divide) exposed by the Calculator WCF web service.</span></span>  
  
7.  <span data-ttu-id="44ee6-127">Le service web WCF de calculatrice renvoie un message de réponse.</span><span class="sxs-lookup"><span data-stu-id="44ee6-127">The Calculator WCF web service returns a response message.</span></span>  
  
8.  <span data-ttu-id="44ee6-128">Le message de réponse est publié dans la MessageBox.</span><span class="sxs-lookup"><span data-stu-id="44ee6-128">The response message is published to the MessageBox.</span></span>  
  
9. <span data-ttu-id="44ee6-129">Le message de réponse est renvoyé à l’appelant LogicalPortsOrchestration.</span><span class="sxs-lookup"><span data-stu-id="44ee6-129">The response message is returned to the caller LogicalPortsOrchestration.</span></span> <span data-ttu-id="44ee6-130">L’orchestration répète ce modèle pour chaque opération dans le document xml CalculatorRequest entrant.</span><span class="sxs-lookup"><span data-stu-id="44ee6-130">The orchestration repeats this pattern for each operation within the inbound CalculatorRequest xml document.</span></span>  
  
10. <span data-ttu-id="44ee6-131">La LogicalPortsOrchestration publie le message CalculatorResponse vers la MessageBox.</span><span class="sxs-lookup"><span data-stu-id="44ee6-131">The LogicalPortsOrchestration publishes the CalculatorResponse message to the MessageBox.</span></span>  
  
11. <span data-ttu-id="44ee6-132">Le message de réponse est récupéré par l’emplacement de réception requête-réponse WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="44ee6-132">The response message is retrieved by the Request-Response WCF-BasicHttp Receive Location.</span></span>  
  
12. <span data-ttu-id="44ee6-133">Le message de réponse est renvoyé à l’ordinateur de l’Agent de Test de charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-133">The response message is returned to the Load Test Agent computer.</span></span>  
  
 <span data-ttu-id="44ee6-134">Vous trouverez ci-dessous une capture d’écran de l’orchestration utilisée pendant le test de charge :</span><span class="sxs-lookup"><span data-stu-id="44ee6-134">A screenshot of the orchestration used during the load test is shown below:</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="44ee6-135">À des fins d’illustration, l’orchestration représentée ci-dessous est une version simplifiée de l’orchestration qui a été réellement utilisée pendant le test de charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-135">For purposes of illustration, the orchestration depicted below is a simplified version of the orchestration that was actually used during load testing.</span></span> <span data-ttu-id="44ee6-136">L’orchestration utilisée pendant le test de charge inclus plusieurs étendues, logique de gestion des erreurs et les types de ports supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="44ee6-136">The orchestration used during load testing included multiple scopes, error handling logic, and additional port types.</span></span>  
  
 <span data-ttu-id="44ee6-137">![Application de l’orchestration](../technical-guides/media/logicalportsorchestration.gif "LogicalPortsOrchestration")</span><span class="sxs-lookup"><span data-stu-id="44ee6-137">![Test Application Orchestration](../technical-guides/media/logicalportsorchestration.gif "LogicalPortsOrchestration")</span></span>  
<span data-ttu-id="44ee6-138">Orchestration de l'application test</span><span class="sxs-lookup"><span data-stu-id="44ee6-138">Test Application Orchestration</span></span>  
  
## <a name="testing-methodology"></a><span data-ttu-id="44ee6-139">Méthodologie de test</span><span class="sxs-lookup"><span data-stu-id="44ee6-139">Testing Methodology</span></span>  
 <span data-ttu-id="44ee6-140">Les tests de performances implique de nombreuses tâches, qui si effectuée manuellement répétitives, monotones, et sujet aux erreurs.</span><span class="sxs-lookup"><span data-stu-id="44ee6-140">Performance testing involves many tasks, which if performed manually are repetitive, monotonous, and error prone.</span></span> <span data-ttu-id="44ee6-141">Afin d’améliorer l’efficacité de test et d’assurer la cohérence entre les séries de tests, [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] Team System (VSTS) Test Edition avec BizUnit 3.0 a été utilisée pour automatiser les tâches requises pendant le processus de test.</span><span class="sxs-lookup"><span data-stu-id="44ee6-141">In order to improve test efficiency and provide consistency between test runs, [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] Team System (VSTS) Test Edition with BizUnit 3.0 was used to automate the tasks required during the testing process.</span></span> <span data-ttu-id="44ee6-142">Ordinateurs de VSTS 2008 Test Load Agent ont été utilisés en tant que le client de test pour générer la charge de message sur le système et les mêmes types de message ont été utilisés sur chaque série de tests pour améliorer la cohérence.</span><span class="sxs-lookup"><span data-stu-id="44ee6-142">VSTS 2008 Test Load Agent computers were used as the test client to generate the message load against the system and the same message types were used on each test run to improve consistency.</span></span> <span data-ttu-id="44ee6-143">Cette procédure fournit un jeu cohérent de données pour chaque série de tests.</span><span class="sxs-lookup"><span data-stu-id="44ee6-143">Following this process provides a consistent set of data for every test run.</span></span> <span data-ttu-id="44ee6-144">Pour plus d’informations sur BizUnit 3.0, consultez [http://go.microsoft.com/fwlink/?LinkID=85168](http://go.microsoft.com/fwlink/?LinkID=85168).</span><span class="sxs-lookup"><span data-stu-id="44ee6-144">For more information about BizUnit 3.0, see [http://go.microsoft.com/fwlink/?LinkID=85168](http://go.microsoft.com/fwlink/?LinkID=85168).</span></span> <span data-ttu-id="44ee6-145">Pour plus d’informations sur [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] Team System Test Edition, consultez [http://go.microsoft.com/fwlink/?LinkID=141387](http://go.microsoft.com/fwlink/?LinkID=141387).</span><span class="sxs-lookup"><span data-stu-id="44ee6-145">For more information about [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] Team System Test Edition, see [http://go.microsoft.com/fwlink/?LinkID=141387](http://go.microsoft.com/fwlink/?LinkID=141387).</span></span>  
  
 <span data-ttu-id="44ee6-146">Les étapes suivantes ont été automatisés :</span><span class="sxs-lookup"><span data-stu-id="44ee6-146">The following steps were automated:</span></span>  
  
-   <span data-ttu-id="44ee6-147">Arrêter les hôtes BizTalk.</span><span class="sxs-lookup"><span data-stu-id="44ee6-147">Stop BizTalk hosts.</span></span>  
  
-   <span data-ttu-id="44ee6-148">Nettoyer les répertoires de test.</span><span class="sxs-lookup"><span data-stu-id="44ee6-148">Clean up test directories.</span></span>  
  
-   <span data-ttu-id="44ee6-149">Redémarrez IIS.</span><span class="sxs-lookup"><span data-stu-id="44ee6-149">Restart IIS.</span></span>  
  
-   <span data-ttu-id="44ee6-150">Nettoyage du [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de données Messagebox.</span><span class="sxs-lookup"><span data-stu-id="44ee6-150">Clean up the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Messagebox database.</span></span>  
  
-   <span data-ttu-id="44ee6-151">Redémarrez [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="44ee6-151">Restart [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="44ee6-152">Effacer des journaux des événements.</span><span class="sxs-lookup"><span data-stu-id="44ee6-152">Clear event logs.</span></span>  
  
-   <span data-ttu-id="44ee6-153">Créez un dossier de résultats de test pour chaque exécution stocker des métriques de performances associés et les fichiers journaux.</span><span class="sxs-lookup"><span data-stu-id="44ee6-153">Create a test results folder for each run to store associated performance metrics and log files.</span></span>  
  
-   <span data-ttu-id="44ee6-154">Démarrer les hôtes BizTalk.</span><span class="sxs-lookup"><span data-stu-id="44ee6-154">Start BizTalk Hosts.</span></span>  
  
-   <span data-ttu-id="44ee6-155">Charger les compteurs de l’Analyseur de performances.</span><span class="sxs-lookup"><span data-stu-id="44ee6-155">Load Performance Monitor counters.</span></span>  
  
-   <span data-ttu-id="44ee6-156">Préchauffage environnement BizTalk avec une petite charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-156">Warm up BizTalk environment with a small load.</span></span>  
  
-   <span data-ttu-id="44ee6-157">Envoyer par représentant à exécuter.</span><span class="sxs-lookup"><span data-stu-id="44ee6-157">Send through representative run.</span></span>  
  
-   <span data-ttu-id="44ee6-158">Écrire des journaux de performances dans un dossier de résultats.</span><span class="sxs-lookup"><span data-stu-id="44ee6-158">Write performance logs to a results folder.</span></span>  
  
-   <span data-ttu-id="44ee6-159">Collecter les journaux des applications et d’écriture dans un fichier .csv dans le dossier de résultats.</span><span class="sxs-lookup"><span data-stu-id="44ee6-159">Collect application logs and write to a .csv file in the results folder.</span></span>  
  
-   <span data-ttu-id="44ee6-160">Exécutez l’outil de performances analyse des journaux (PAL), les outils Rejournaliser et de l’Analyseur de journal sur les journaux de performances collectées pour produire des statistiques, des graphiques et des rapports.</span><span class="sxs-lookup"><span data-stu-id="44ee6-160">Run the Performance Analysis of Logs (PAL) tool, Relog and Log Parser tools against the collected performance logs to produce statistics, charts and reports.</span></span> <span data-ttu-id="44ee6-161">Pour plus d’informations sur la PAL, Rejournaliser et de l’Analyseur de journal, consultez [annexe d : outils pour mesurer les performances](../technical-guides/appendix-d-tools-for-measuring-performance.md).</span><span class="sxs-lookup"><span data-stu-id="44ee6-161">For more information about PAL, Relog, and Log Parser, see [Appendix D: Tools for Measuring Performance](../technical-guides/appendix-d-tools-for-measuring-performance.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="44ee6-162">Le suivi a été désactivé et le travail de SQL Server Agent BizTalk Server a été désactivé pendant le test.</span><span class="sxs-lookup"><span data-stu-id="44ee6-162">All tracking was disabled and the BizTalk Server SQL Server Agent job was disabled during testing.</span></span>  
  
 <span data-ttu-id="44ee6-163">Pour vous assurer que les résultats de ce laboratoire ont été en mesure de fournir une comparaison des performances de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] dans un physique et un environnement Hyper-V, les métriques de performances et les journaux collectés dans un emplacement centralisé pour chaque série de tests.</span><span class="sxs-lookup"><span data-stu-id="44ee6-163">To ensure that the results of this lab were able to provide a comparison of the performance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a physical and Hyper-V environment, performance metrics and logs were collected in a centralized location for each test run.</span></span>  
  
 <span data-ttu-id="44ee6-164">Le client test a été utilisé pour créer un répertoire de résultats uniques pour chaque série de tests.</span><span class="sxs-lookup"><span data-stu-id="44ee6-164">The test client was used to create a unique results directory for each test run.</span></span> <span data-ttu-id="44ee6-165">Ce répertoire contenus de tous les journaux de performances, les journaux des événements et les données requises pour le test associées.</span><span class="sxs-lookup"><span data-stu-id="44ee6-165">This directory contained all the performance logs, event logs and associated data required for the test.</span></span> <span data-ttu-id="44ee6-166">Cette approche fourni les informations nécessaires lors de l’exécution de l’analyse rétrospective de test préalable étaient nécessaire.</span><span class="sxs-lookup"><span data-stu-id="44ee6-166">This approach provided information needed when retrospective analysis of prior test runs was required.</span></span> <span data-ttu-id="44ee6-167">À la fin de chaque test, les données brutes a été compilées en un jeu de résultats cohérents et indicateurs de performance clés (KPI).</span><span class="sxs-lookup"><span data-stu-id="44ee6-167">At the end of each test, the raw data was compiled into a set of consistent results and key performance indicators (KPIs).</span></span> <span data-ttu-id="44ee6-168">Collecte des résultats cohérents définie pour les ordinateurs physiques et virtualisés fournis les points de comparaison nécessaire entre les différents environnements plusieurs séries de tests.</span><span class="sxs-lookup"><span data-stu-id="44ee6-168">Collecting consistent results set for physical and virtualized machines provided the points of comparison needed between the different test runs and different environments.</span></span> <span data-ttu-id="44ee6-169">Les données collectées inclus :</span><span class="sxs-lookup"><span data-stu-id="44ee6-169">The data collected included:</span></span>  
  
-   <span data-ttu-id="44ee6-170">**Environnement** pour enregistrer l’environnement dans lequel le test a été exécuté, BizTalk Server sur du matériel physique ou BizTalk Server sur Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="44ee6-170">**Environment –** To record which environment the test was being run against, either BizTalk Server on physical hardware or BizTalk Server on Hyper-V.</span></span>  
  
-   <span data-ttu-id="44ee6-171">**Tester le numéro de série –** pour identifier de façon unique chaque série de tests</span><span class="sxs-lookup"><span data-stu-id="44ee6-171">**Test Run Number –** To uniquely identify each test run</span></span>  
  
-   <span data-ttu-id="44ee6-172">**Cas de test :** pour enregistrer l’architecture de la solution BizTalk Server utilisée pendant les tests.</span><span class="sxs-lookup"><span data-stu-id="44ee6-172">**Test Case –** To record the architecture of the BizTalk Server solution used during testing.</span></span> <span data-ttu-id="44ee6-173">(Par exemple envoie Orchestration avec Ports logiques par rapport à l’Orchestration à l’aide en ligne)</span><span class="sxs-lookup"><span data-stu-id="44ee6-173">(For example Orchestration with Logical Ports versus Orchestration using inline Sends)</span></span>  
  
-   <span data-ttu-id="44ee6-174">**Date –** pour enregistrer la date et l’heure du test a été exécuté.</span><span class="sxs-lookup"><span data-stu-id="44ee6-174">**Date –** To record the date and time the test was run</span></span>  
  
-   <span data-ttu-id="44ee6-175">**Heure commencé –** comme indiqué par l’agent de test de charge VSTS première initié</span><span class="sxs-lookup"><span data-stu-id="44ee6-175">**Time Started –** As reported by the first VSTS load test agent initiated</span></span>  
  
-   <span data-ttu-id="44ee6-176">**Temps bloqué –** comme indiqué par l’agent de test de charge VSTS dernier pour terminer</span><span class="sxs-lookup"><span data-stu-id="44ee6-176">**Time Stopped –** As reported by the last VSTS load test agent to complete</span></span>  
  
-   <span data-ttu-id="44ee6-177">**Durée du test en Minutes –** pour enregistrer la durée du test.</span><span class="sxs-lookup"><span data-stu-id="44ee6-177">**Test Duration in Minutes –** To record the duration of the test.</span></span>  
  
-   <span data-ttu-id="44ee6-178">**Messages envoyés au Total :** pour enregistrer le nombre total de messages envoyés à partir des ordinateurs de l’Agent de charge sur les ordinateurs BizTalk Server pendant le test.</span><span class="sxs-lookup"><span data-stu-id="44ee6-178">**Messages Sent in Total –** To record the total number of messages sent from the Load Agent computers to the BizTalk Server computers during the test.</span></span>  
  
-   <span data-ttu-id="44ee6-179">**Messages envoyés par seconde –** pour enregistrer les messages envoyés par seconde à partir des ordinateurs de l’Agent de charge sur les ordinateurs BizTalk Server pendant le test.</span><span class="sxs-lookup"><span data-stu-id="44ee6-179">**Messages Sent per Second –** To record the messages sent per second from the Load Agent computers to the BizTalk Server computers during the test.</span></span>  
  
-   <span data-ttu-id="44ee6-180">**Latence de Client – moyenne** pour enregistrer la durée moyenne entre les clients de Test Load Agent lancé une demande d’et a reçu une réponse à partir des ordinateurs BizTalk Server pendant le test de charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-180">**Average Client Latency –** To record the average amount of time between when Test Load Agent clients initiated a request to and received a response from the BizTalk Server computers during the load test.</span></span>  
  
-   <span data-ttu-id="44ee6-181">**Durée de requête-réponse moyen (ms) :** comme indiqué par le **BizTalk : latence Latency\Request-réponse (s) de messagerie** compteur Analyseur de performances pour BizTalkServerIsolatedHost</span><span class="sxs-lookup"><span data-stu-id="44ee6-181">**Request-Response Duration Average (ms) –** As reported by the **BizTalk:Messaging Latency\Request-Response Latency (sec)** Performance Monitor counter for the BizTalkServerIsolatedHost</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="44ee6-182">Où plusieurs hôtes BizTalk virtualisés en cours d’exécution une moyenne de ces compteurs tel que calculé à partir des journaux a été utilisé.</span><span class="sxs-lookup"><span data-stu-id="44ee6-182">Where multiple virtualized BizTalk hosts were running an average of these counters as calculated from the logs was used.</span></span>  
  
-   <span data-ttu-id="44ee6-183">**Terminé orchestrations par seconde –** comme indiqué par le **\Orchestrations le Orchestrations XLANG/s (BizTalkServerApplication) réussies par seconde** compteur Analyseur de performances.</span><span class="sxs-lookup"><span data-stu-id="44ee6-183">**Orchestrations Completed per Second –** As reported by the **XLANG/s Orchestrations(BizTalkServerApplication)\Orchestrations completed/sec** Performance Monitor counter.</span></span> <span data-ttu-id="44ee6-184">Ce compteur fournit une bonne mesure du débit de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution.</span><span class="sxs-lookup"><span data-stu-id="44ee6-184">This counter provides a good measure of the throughput of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution.</span></span>  
  
-   <span data-ttu-id="44ee6-185">**% de Messages traités \< 3 secondes –** pour enregistrer le nombre total de messages traités au sein de 3 secondes pendant le test.</span><span class="sxs-lookup"><span data-stu-id="44ee6-185">**% of Messages Processed \< 3 seconds –** To record the total number of messages processed within 3 seconds during the test.</span></span>  
  
 <span data-ttu-id="44ee6-186">Test de charge VSTS 2008 a été utilisé pour générer une charge homogène dans l’ensemble de tous les tests.</span><span class="sxs-lookup"><span data-stu-id="44ee6-186">VSTS 2008 Load Test was used to generate a consistent load throughout all the tests.</span></span> <span data-ttu-id="44ee6-187">Le test suivant des paramètres d’exécution et le modèle de charge ont été modifiés au cours du test pour ajuster le profil de charge de chaque test :</span><span class="sxs-lookup"><span data-stu-id="44ee6-187">The following test run settings and load pattern were modified during testing to adjust the load profile of each test:</span></span>  
  
-   <span data-ttu-id="44ee6-188">**Paramètres de série de tests**</span><span class="sxs-lookup"><span data-stu-id="44ee6-188">**Test Run Settings**</span></span>  
  
     <span data-ttu-id="44ee6-189">Le paramètre d’exécution de test suivant a été modifié selon le test en cours d’exécution :</span><span class="sxs-lookup"><span data-stu-id="44ee6-189">The following test run setting was modified depending on the test being performed:</span></span>  
  
    -   <span data-ttu-id="44ee6-190">**Exécutez durée –** spécifie la durée pendant laquelle l’exécution du test.</span><span class="sxs-lookup"><span data-stu-id="44ee6-190">**Run Duration –** Specifies how long the test is run.</span></span>  
  
     <span data-ttu-id="44ee6-191">![Tester les paramètres d’exécution](../technical-guides/media/wcfloadtestrunsettings.gif "WCFLoadTestRunSettings")</span><span class="sxs-lookup"><span data-stu-id="44ee6-191">![Test Run Settings](../technical-guides/media/wcfloadtestrunsettings.gif "WCFLoadTestRunSettings")</span></span>  
<span data-ttu-id="44ee6-192">Tester des paramètres d'exécution</span><span class="sxs-lookup"><span data-stu-id="44ee6-192">Test Run Settings</span></span>  
  
-   <span data-ttu-id="44ee6-193">**Paramètres de modèle de test**</span><span class="sxs-lookup"><span data-stu-id="44ee6-193">**Test Pattern Settings**</span></span>  
  
     <span data-ttu-id="44ee6-194">Les paramètres de modèle de test suivants ont été modifiés selon le test en cours d’exécution :</span><span class="sxs-lookup"><span data-stu-id="44ee6-194">The following test pattern settings were modified depending on the test being performed:</span></span>  
  
    1.  <span data-ttu-id="44ee6-195">**Modèle –** spécifie la façon dont la charge utilisateur simulée est ajustée pendant un test de charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-195">**Pattern –** Specifies how the simulated user load is adjusted during a load test.</span></span> <span data-ttu-id="44ee6-196">Modèles de charge sont **constante**, **étape**, ou **objectif** en fonction.</span><span class="sxs-lookup"><span data-stu-id="44ee6-196">Load patterns are either **Constant**, **Step**, or **Goal** based.</span></span> <span data-ttu-id="44ee6-197">Tous les tests de charge effectuée étaient constante ou étape.</span><span class="sxs-lookup"><span data-stu-id="44ee6-197">All load testing performed was either Constant or Step.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="44ee6-198">Tous les tests effectuée pour des raisons de ce guide utilisé soit un **constante** modèle de charge ou un **étape** modèle de charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-198">All testing performed for purposes of this guide used either a **Constant** load pattern or a **Step** load pattern.</span></span> <span data-ttu-id="44ee6-199">Modèles de charge constant et les modèles de charge étape fournissent les fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="44ee6-199">Constant load patterns and Step load patterns provide the following functionality:</span></span>  
        >   
        >  -   <span data-ttu-id="44ee6-200">**Modèle de charge constant –** le modèle de charge est la même pour la durée du test, le nombre d’utilisateurs simulés commence à un niveau prédéfini et ne change pas.</span><span class="sxs-lookup"><span data-stu-id="44ee6-200">**Constant load pattern –** The load pattern is the same for the duration of the test, the number of simulated users starts at a predefined level and does not change.</span></span>  
        > -   <span data-ttu-id="44ee6-201">**Modèle de charge étape –** le modèle de charge augmente pendant la série de tests ; le nombre d’utilisateurs simulés commence à un niveau prédéfini et est incrémenté d’un montant prédéfini à des intervalles prédéfinis pour la durée du test.</span><span class="sxs-lookup"><span data-stu-id="44ee6-201">**Step load pattern –** The load pattern is increased during the test run; the number of simulated users starts at a predefined level and is incremented by a predefined amount at predefined intervals for the duration of the test.</span></span>  
  
    2.  <span data-ttu-id="44ee6-202">**Nombre d’utilisateurs constant (charger modèle Constant) –** nombre d’utilisateurs virtuels qui génèrent la charge par rapport à l’adresse de point de terminaison spécifié dans le fichier app.config du projet de Test de charge de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="44ee6-202">**Constant User Count (Constant Load Pattern) –** Number of virtual users that are generating load against the endpoint address specified in the app.config file of the Visual Studio Load Test project.</span></span> <span data-ttu-id="44ee6-203">Cette valeur est spécifiée dans les paramètres de modèle de charge utilisés pour le test de charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-203">This value is specified in the Load Pattern settings used for the load test.</span></span>  
  
    3.  <span data-ttu-id="44ee6-204">**Nombre initial d’utilisateurs (étape modèle de charge) –** nombre d’utilisateurs virtuels qui génèrent la charge par rapport à l’adresse de point de terminaison spécifié au début d’un test de modèle de charge dans l’étape.</span><span class="sxs-lookup"><span data-stu-id="44ee6-204">**Initial User Count (Step Load Pattern) –** Number of virtual users that are generating load against the specified endpoint address at the beginning of a Step Load Pattern test.</span></span> <span data-ttu-id="44ee6-205">Cette valeur est spécifiée dans les paramètres de modèle de charge utilisés pour le test de charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-205">This value is specified in the Load Pattern settings used for the load test.</span></span>  
  
    4.  <span data-ttu-id="44ee6-206">**Nombre maximal d’utilisateurs (étape modèle de charge) –** nombre d’utilisateurs virtuels qui génèrent la charge par rapport à l’adresse de point de terminaison spécifié à la fin d’un test de modèle de charge dans l’étape.</span><span class="sxs-lookup"><span data-stu-id="44ee6-206">**Maximum User Count (Step Load Pattern) –** Number of virtual users that are generating load against the specified endpoint address at the end of a Step Load Pattern test.</span></span> <span data-ttu-id="44ee6-207">Cette valeur est spécifiée dans les paramètres de modèle de charge utilisés pour le test de charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-207">This value is specified in the Load Pattern settings used for the load test.</span></span>  
  
    5.  <span data-ttu-id="44ee6-208">**Durée de l’étape (étape modèle de charge) –** nombre de secondes que les utilisateurs virtuels sont génère une charge par rapport à l’adresse de point de terminaison spécifié pour une étape de test de charge.</span><span class="sxs-lookup"><span data-stu-id="44ee6-208">**Step Duration (Step Load Pattern) –** Number of seconds that virtual users are generating load against the specified endpoint address for a load test step.</span></span>  
  
    6.  <span data-ttu-id="44ee6-209">**Nombre d’utilisateurs étape (étape modèle de charge) –** nombre d’utilisateurs virtuels à augmenter à chaque étape lors de l’utilisation d’un modèle de charge d’étape.</span><span class="sxs-lookup"><span data-stu-id="44ee6-209">**Step User Count (Step Load Pattern) –** Number of virtual users to increase at each step when using a step load pattern.</span></span>  
  
     <span data-ttu-id="44ee6-210">![Paramètres de modèle de test](../technical-guides/media/wcfloadtestpatternsettings.gif "WCFLoadTestPatternSettings")</span><span class="sxs-lookup"><span data-stu-id="44ee6-210">![Test Pattern Settings](../technical-guides/media/wcfloadtestpatternsettings.gif "WCFLoadTestPatternSettings")</span></span>  
<span data-ttu-id="44ee6-211">Tester des paramètres du modèle</span><span class="sxs-lookup"><span data-stu-id="44ee6-211">Test Pattern Settings</span></span>  
  
 <span data-ttu-id="44ee6-212">Pour plus d’informations sur l’utilisation des tests de charge dans [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)], consultez la rubrique **fonctionne avec des Tests de charge** dans les [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] documentation Team System à l’adresse [http://go.microsoft.com/fwlink/?LinkId=141486](http://go.microsoft.com/fwlink/?LinkId=141486).</span><span class="sxs-lookup"><span data-stu-id="44ee6-212">For more information about working with load tests in [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)], see the topic **Working with Load Tests** in the [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)] Team System documentation at [http://go.microsoft.com/fwlink/?LinkId=141486](http://go.microsoft.com/fwlink/?LinkId=141486).</span></span>  
  
## <a name="key-performance-indicators-measured-during-testing"></a><span data-ttu-id="44ee6-213">Indicateurs de Performance clés mesurés au cours du test</span><span class="sxs-lookup"><span data-stu-id="44ee6-213">Key Performance Indicators Measured During Testing</span></span>  
 <span data-ttu-id="44ee6-214">Les compteurs de l’Analyseur de performances suivants ont été capturées en tant qu’indicateurs de performance clés (KPI) pour toutes les séries de tests :</span><span class="sxs-lookup"><span data-stu-id="44ee6-214">The following Performance Monitor counters were captured as key performance indicators (KPI) for all test runs:</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="44ee6-215">Pour plus d’informations sur l’évaluation des performances avec les compteurs de Performance, consultez [liste de vérification : mesure des performances sur Hyper-V](../technical-guides/checklist-measuring-performance-on-hyper-v.md).</span><span class="sxs-lookup"><span data-stu-id="44ee6-215">For more information about evaluating performance with Performance monitor counters, see [Checklist: Measuring Performance on Hyper-V](../technical-guides/checklist-measuring-performance-on-hyper-v.md).</span></span>  
  
 <span data-ttu-id="44ee6-216">**Indicateur de performance clé de BizTalk Server**</span><span class="sxs-lookup"><span data-stu-id="44ee6-216">**BizTalk Server KPI**</span></span>  
  
-   <span data-ttu-id="44ee6-217">**Documents traités par seconde –** telle que mesurée par le **BizTalk : messagerie/Documents traités par seconde** compteur.</span><span class="sxs-lookup"><span data-stu-id="44ee6-217">**Documents processed per second –** As measured by the **BizTalk:Messaging/Documents processed/Sec** counter.</span></span>  
  
-   <span data-ttu-id="44ee6-218">**Latence –** mesuré tel que retourné par le contrôleur de Test de charge VSTS 2008.</span><span class="sxs-lookup"><span data-stu-id="44ee6-218">**Latency –** As measured as returned by the VSTS 2008 Load Test Controller.</span></span>  
  
 <span data-ttu-id="44ee6-219">**KPI SQL Server**</span><span class="sxs-lookup"><span data-stu-id="44ee6-219">**SQL Server KPI**</span></span>  
  
-   <span data-ttu-id="44ee6-220">**Utilisation du processeur de SQL Server –** telle que mesurée par le **SQL\Processor(Total)\\% temps processeur** compteur.</span><span class="sxs-lookup"><span data-stu-id="44ee6-220">**SQL Server processor utilization –** As measured by the **SQL\Processor(Total)\\%Processor Time** counter.</span></span> <span data-ttu-id="44ee6-221">Ce compteur mesure l’utilisation du processeur de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] de traitement sur le [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] ordinateur.</span><span class="sxs-lookup"><span data-stu-id="44ee6-221">This counter measures CPU utilization of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] processing on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computer.</span></span>  
  
-   <span data-ttu-id="44ee6-222">**Transact des performances de traitement de commande SQL –** telle que mesurée par le **\SQL Server:SQL Statistics\Batch demandes par seconde** compteur.</span><span class="sxs-lookup"><span data-stu-id="44ee6-222">**Transact SQL command processing performance –** As measured by the **\SQL Server:SQL Statistics\Batch Requests/sec** counter.</span></span> <span data-ttu-id="44ee6-223">Ce compteur mesure le nombre de lots de commandes Transact-SQL reçues par seconde.</span><span class="sxs-lookup"><span data-stu-id="44ee6-223">This counter measures the number of Transact-SQL command batches received per second.</span></span> <span data-ttu-id="44ee6-224">Ce compteur est utilisé pour mesurer le débit de la [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] ordinateur.</span><span class="sxs-lookup"><span data-stu-id="44ee6-224">This counter is used to measure throughput on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computer.</span></span>  
  
 <span data-ttu-id="44ee6-225">**Indicateur de performance clé de la mise en réseau**</span><span class="sxs-lookup"><span data-stu-id="44ee6-225">**Networking KPI**</span></span>  
  
-   <span data-ttu-id="44ee6-226">**Débit du réseau de BizTalk Server –** telle que mesurée par le **\Network Interface (\*) \Bytes/s** compteur Analyseur de performances sur le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="44ee6-226">**BizTalk Server network throughput –** As measured by the **\Network Interface(\*)\Bytes Total/sec** performance monitor counter on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers.</span></span>  
  
-   <span data-ttu-id="44ee6-227">**Débit du réseau SQL Server –** telle que mesurée par le **SQL Network Interface\Bytes Total/s (Avg)** retournée par le contrôleur de Test de charge VSTS 2008.</span><span class="sxs-lookup"><span data-stu-id="44ee6-227">**SQL Server network throughput –** As measured by the **SQL Network Interface\Bytes Total/sec (Avg)** returned by the VSTS 2008 Load Test Controller.</span></span>  
  
 <span data-ttu-id="44ee6-228">**Mémoire d’indicateur de performance clé**</span><span class="sxs-lookup"><span data-stu-id="44ee6-228">**Memory KPI**</span></span>  
  
-   <span data-ttu-id="44ee6-229">**Mémoire disponible :** telle que mesurée par le **\Memory\Available Mo** compteur pour les différents scénarios.</span><span class="sxs-lookup"><span data-stu-id="44ee6-229">**Available memory –** As measured by the **\Memory\Available Mbytes** counter for the various scenarios.</span></span>  
  
## <a name="physical-infrastructure-specifics"></a><span data-ttu-id="44ee6-230">Caractéristiques de l’Infrastructure physique</span><span class="sxs-lookup"><span data-stu-id="44ee6-230">Physical Infrastructure Specifics</span></span>  
 <span data-ttu-id="44ee6-231">Pour chacun des serveurs qui ont été installées, les paramètres suivants ont été ajustées.</span><span class="sxs-lookup"><span data-stu-id="44ee6-231">For each of the servers that were installed the following settings were adjusted.</span></span>  
  
 <span data-ttu-id="44ee6-232">**Pour tous les serveurs :**</span><span class="sxs-lookup"><span data-stu-id="44ee6-232">**For all servers:**</span></span>  
  
-   <span data-ttu-id="44ee6-233">Le fichier d’échange a été défini à 1,5 fois la quantité de mémoire physique allouée.</span><span class="sxs-lookup"><span data-stu-id="44ee6-233">The paging file was set to 1.5 times the amount of physical memory allocated.</span></span> <span data-ttu-id="44ee6-234">Le fichier d’échange a été défini sur une taille fixe en vous assurant que la taille initiale et les valeurs maximales sont identiques en Mo.</span><span class="sxs-lookup"><span data-stu-id="44ee6-234">The paging file was set to a fixed size by ensuring that the initial size and maximum values were identical in MB.</span></span>  
  
-   <span data-ttu-id="44ee6-235">L’option de performances « Ajuster pour de meilleures performances » a été sélectionnée à partir de l’écran Avancé de propriétés système.</span><span class="sxs-lookup"><span data-stu-id="44ee6-235">The “Adjust for best performance” performance option was selected from the advanced System Properties screen.</span></span>  
  
-   <span data-ttu-id="44ee6-236">Il a été vérifié que le système avait été ajusté pour de meilleures performances des services d’arrière-plan dans la section Options de performances des propriétés système.</span><span class="sxs-lookup"><span data-stu-id="44ee6-236">It was verified that the system had been adjusted for best performance of Background services in the Performance Options section of System Properties.</span></span>  
  
-   [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)]<span data-ttu-id="44ee6-237">a été installé en tant que le système d’exploitation invité sur chacun des ordinateurs virtuels.</span><span class="sxs-lookup"><span data-stu-id="44ee6-237"> was installed as the guest operating system on each of the virtual machines.</span></span>  
  
-   <span data-ttu-id="44ee6-238">Windows Update a été correctement exécutée sur tous les serveurs pour installer les dernières mises à jour de sécurité.</span><span class="sxs-lookup"><span data-stu-id="44ee6-238">Windows Update was successfully run on all servers to install the latest security updates.</span></span>  
  
 <span data-ttu-id="44ee6-239">**Pour SQL Server :**</span><span class="sxs-lookup"><span data-stu-id="44ee6-239">**For SQL Server:**</span></span>  
  
-   [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)]<span data-ttu-id="44ee6-240">a été installé selon le guide d’installation disponible à l’adresse [http://go.microsoft.com/fwlink/?LinkId=141021](http://go.microsoft.com/fwlink/?LinkId=141021).</span><span class="sxs-lookup"><span data-stu-id="44ee6-240"> was installed as per the installation guide available at [http://go.microsoft.com/fwlink/?LinkId=141021](http://go.microsoft.com/fwlink/?LinkId=141021).</span></span>  
  
-   [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]<span data-ttu-id="44ee6-241">utilisé avait le LUN SAN configuré conformément à la table ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="44ee6-241"> used had the SAN LUNs configured as per the table below.</span></span> <span data-ttu-id="44ee6-242">Les base de données et les fichiers journaux ont été séparés pour sur les LUN comme suit pour réduire la contention d’e/s de disque possibles :</span><span class="sxs-lookup"><span data-stu-id="44ee6-242">The database and log files were separated to across the LUNs as follows to reduce possible disk I/O contention:</span></span>  
  
    -   <span data-ttu-id="44ee6-243">Le volume Data_Sys a été utilisé pour stocker tous les fichiers de base de données (y compris le système et les bases de données BizTalk), à l’exception des bases de données MessageBox et TempDb.</span><span class="sxs-lookup"><span data-stu-id="44ee6-243">The Data_Sys volume was used to store all database files (including system and BizTalk databases) except the MessageBox and TempDb databases.</span></span>  
  
    -   <span data-ttu-id="44ee6-244">Le volume Log_Sys a été utilisé pour stocker tous les fichiers journaux (y compris le système et [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de données) à l’exception des bases de données MessageBox et TempDb.</span><span class="sxs-lookup"><span data-stu-id="44ee6-244">The Log_Sys volume was used to store all log files (including system and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases) except the MessageBox and TempDb databases.</span></span>  
  
    -   <span data-ttu-id="44ee6-245">Le volume Data_TempDb a été utilisé pour stocker le fichier de base de données TempDb.</span><span class="sxs-lookup"><span data-stu-id="44ee6-245">The Data_TempDb volume was used to store the TempDb database file.</span></span>  
  
    -   <span data-ttu-id="44ee6-246">Le volume Logs_TempDb a été utilisé pour stocker les fichiers journaux TempDb.</span><span class="sxs-lookup"><span data-stu-id="44ee6-246">The Logs_TempDb volume was used to store the TempDb log file.</span></span>  
  
    -   <span data-ttu-id="44ee6-247">Le fichier de base de données MessageBox a été stocké sur le volume Data_BtsMsgBox et le fichier journal a été stocké sur le volume Log_BtsMsgBox.</span><span class="sxs-lookup"><span data-stu-id="44ee6-247">The MessageBox database file was stored on the Data_BtsMsgBox volume and the log file was stored on the Log_BtsMsgBox volume.</span></span>  
  
-   <span data-ttu-id="44ee6-248">En outre, un distinct numéro d’unité logique a été fournie pour le fichier journal MSDTC.</span><span class="sxs-lookup"><span data-stu-id="44ee6-248">In addition to this, a separate LUN was provided for the MSDTC log file.</span></span> <span data-ttu-id="44ee6-249">Sur les systèmes de BizTalk un débit élevé, l’activité du fichier journal MSDTC a été indiquée pour provoquer un goulot d’étranglement d’e/s s’il est conservé sur le même lecteur physique du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="44ee6-249">On high throughput BizTalk systems, the MSDTC log file activity has been shown to cause an I/O bottleneck if it is left on the same physical drive as the operating system.</span></span>  
  
    |<span data-ttu-id="44ee6-250">Nom de volume</span><span class="sxs-lookup"><span data-stu-id="44ee6-250">Volume Name</span></span>|<span data-ttu-id="44ee6-251">Fichiers</span><span class="sxs-lookup"><span data-stu-id="44ee6-251">Files</span></span>|<span data-ttu-id="44ee6-252">Numéro d’unité logique taille Go</span><span class="sxs-lookup"><span data-stu-id="44ee6-252">LUN Size GB</span></span>|<span data-ttu-id="44ee6-253">Héberger la taille de la Partition Go</span><span class="sxs-lookup"><span data-stu-id="44ee6-253">Host Partition Size GB</span></span>|<span data-ttu-id="44ee6-254">Taille de cluster</span><span class="sxs-lookup"><span data-stu-id="44ee6-254">Cluster Size</span></span>|  
    |-----------------|-----------|-----------------|----------------------------|------------------|  
    |<span data-ttu-id="44ee6-255">Data_Sys</span><span class="sxs-lookup"><span data-stu-id="44ee6-255">Data_Sys</span></span>|<span data-ttu-id="44ee6-256">MASTER et les fichiers de données MSDB</span><span class="sxs-lookup"><span data-stu-id="44ee6-256">MASTER, and MSDB data files</span></span>|<span data-ttu-id="44ee6-257">10</span><span class="sxs-lookup"><span data-stu-id="44ee6-257">10</span></span>|<span data-ttu-id="44ee6-258">10</span><span class="sxs-lookup"><span data-stu-id="44ee6-258">10</span></span>|<span data-ttu-id="44ee6-259">64 KO</span><span class="sxs-lookup"><span data-stu-id="44ee6-259">64KB</span></span>|  
    |<span data-ttu-id="44ee6-260">Logs_Sys</span><span class="sxs-lookup"><span data-stu-id="44ee6-260">Logs_Sys</span></span>|<span data-ttu-id="44ee6-261">Fichiers journaux de MASTER et MSDB</span><span class="sxs-lookup"><span data-stu-id="44ee6-261">MASTER and MSDB log files</span></span>|<span data-ttu-id="44ee6-262">10</span><span class="sxs-lookup"><span data-stu-id="44ee6-262">10</span></span>|<span data-ttu-id="44ee6-263">10</span><span class="sxs-lookup"><span data-stu-id="44ee6-263">10</span></span>|<span data-ttu-id="44ee6-264">64 KO</span><span class="sxs-lookup"><span data-stu-id="44ee6-264">64KB</span></span>|  
    |<span data-ttu-id="44ee6-265">Data_TempDb</span><span class="sxs-lookup"><span data-stu-id="44ee6-265">Data_TempDb</span></span>|<span data-ttu-id="44ee6-266">Fichier de données TempDB</span><span class="sxs-lookup"><span data-stu-id="44ee6-266">TempDB data file</span></span>|<span data-ttu-id="44ee6-267">50</span><span class="sxs-lookup"><span data-stu-id="44ee6-267">50</span></span>|<span data-ttu-id="44ee6-268">50</span><span class="sxs-lookup"><span data-stu-id="44ee6-268">50</span></span>|<span data-ttu-id="44ee6-269">64 KO</span><span class="sxs-lookup"><span data-stu-id="44ee6-269">64KB</span></span>|  
    |<span data-ttu-id="44ee6-270">Logs_TempDb</span><span class="sxs-lookup"><span data-stu-id="44ee6-270">Logs_TempDb</span></span>|<span data-ttu-id="44ee6-271">Fichier journal TempDB</span><span class="sxs-lookup"><span data-stu-id="44ee6-271">TempDB log file</span></span>|<span data-ttu-id="44ee6-272">50</span><span class="sxs-lookup"><span data-stu-id="44ee6-272">50</span></span>|<span data-ttu-id="44ee6-273">50</span><span class="sxs-lookup"><span data-stu-id="44ee6-273">50</span></span>|<span data-ttu-id="44ee6-274">64 KO</span><span class="sxs-lookup"><span data-stu-id="44ee6-274">64KB</span></span>|  
    |<span data-ttu-id="44ee6-275">Data_BtsMsgBox</span><span class="sxs-lookup"><span data-stu-id="44ee6-275">Data_BtsMsgBox</span></span>|<span data-ttu-id="44ee6-276">Fichier de données BizTalkMsgBoxDb</span><span class="sxs-lookup"><span data-stu-id="44ee6-276">BizTalkMsgBoxDb data file</span></span>|<span data-ttu-id="44ee6-277">300</span><span class="sxs-lookup"><span data-stu-id="44ee6-277">300</span></span>|<span data-ttu-id="44ee6-278">100</span><span class="sxs-lookup"><span data-stu-id="44ee6-278">100</span></span>|<span data-ttu-id="44ee6-279">64 KO</span><span class="sxs-lookup"><span data-stu-id="44ee6-279">64KB</span></span>|  
    |<span data-ttu-id="44ee6-280">Logs_BtsMsgBox</span><span class="sxs-lookup"><span data-stu-id="44ee6-280">Logs_BtsMsgBox</span></span>|<span data-ttu-id="44ee6-281">Fichier de journal BizTalkMsgBoxDb</span><span class="sxs-lookup"><span data-stu-id="44ee6-281">BizTalkMsgBoxDb log file</span></span>|<span data-ttu-id="44ee6-282">100</span><span class="sxs-lookup"><span data-stu-id="44ee6-282">100</span></span>|<span data-ttu-id="44ee6-283">100</span><span class="sxs-lookup"><span data-stu-id="44ee6-283">100</span></span>|<span data-ttu-id="44ee6-284">64 KO</span><span class="sxs-lookup"><span data-stu-id="44ee6-284">64KB</span></span>|  
    |<span data-ttu-id="44ee6-285">Data_BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="44ee6-285">Data_BAMPrimaryImport</span></span>|<span data-ttu-id="44ee6-286">Fichier de données BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="44ee6-286">BAMPrimaryImport data file</span></span>|<span data-ttu-id="44ee6-287">10</span><span class="sxs-lookup"><span data-stu-id="44ee6-287">10</span></span>|<span data-ttu-id="44ee6-288">10</span><span class="sxs-lookup"><span data-stu-id="44ee6-288">10</span></span>|<span data-ttu-id="44ee6-289">64 KO</span><span class="sxs-lookup"><span data-stu-id="44ee6-289">64KB</span></span>|  
    |<span data-ttu-id="44ee6-290">Logs_BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="44ee6-290">Logs_BAMPrimaryImport</span></span>|<span data-ttu-id="44ee6-291">Fichier de journal BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="44ee6-291">BAMPrimaryImport log file</span></span>|<span data-ttu-id="44ee6-292">10</span><span class="sxs-lookup"><span data-stu-id="44ee6-292">10</span></span>|<span data-ttu-id="44ee6-293">10</span><span class="sxs-lookup"><span data-stu-id="44ee6-293">10</span></span>|<span data-ttu-id="44ee6-294">64 KO</span><span class="sxs-lookup"><span data-stu-id="44ee6-294">64KB</span></span>|  
    |<span data-ttu-id="44ee6-295">Data_BizTalkDatabases</span><span class="sxs-lookup"><span data-stu-id="44ee6-295">Data_BizTalkDatabases</span></span>|<span data-ttu-id="44ee6-296">Autres fichiers de données de base de données BizTalk</span><span class="sxs-lookup"><span data-stu-id="44ee6-296">Other BizTalk database data files</span></span>|<span data-ttu-id="44ee6-297">20</span><span class="sxs-lookup"><span data-stu-id="44ee6-297">20</span></span>|<span data-ttu-id="44ee6-298">20</span><span class="sxs-lookup"><span data-stu-id="44ee6-298">20</span></span>|<span data-ttu-id="44ee6-299">64 KO</span><span class="sxs-lookup"><span data-stu-id="44ee6-299">64KB</span></span>|  
    |<span data-ttu-id="44ee6-300">Logs_BizTalkDatabases</span><span class="sxs-lookup"><span data-stu-id="44ee6-300">Logs_BizTalkDatabases</span></span>|<span data-ttu-id="44ee6-301">Autres fichiers journaux de base de données BizTalk</span><span class="sxs-lookup"><span data-stu-id="44ee6-301">Other BizTalk database log files</span></span>|<span data-ttu-id="44ee6-302">20</span><span class="sxs-lookup"><span data-stu-id="44ee6-302">20</span></span>|<span data-ttu-id="44ee6-303">20</span><span class="sxs-lookup"><span data-stu-id="44ee6-303">20</span></span>|<span data-ttu-id="44ee6-304">64 KO</span><span class="sxs-lookup"><span data-stu-id="44ee6-304">64KB</span></span>|  
    |<span data-ttu-id="44ee6-305">Néant</span><span class="sxs-lookup"><span data-stu-id="44ee6-305">N/A</span></span>|<span data-ttu-id="44ee6-306">Fichier journal MSDTC</span><span class="sxs-lookup"><span data-stu-id="44ee6-306">MSDTC log file</span></span>|<span data-ttu-id="44ee6-307">5</span><span class="sxs-lookup"><span data-stu-id="44ee6-307">5</span></span>|<span data-ttu-id="44ee6-308">5</span><span class="sxs-lookup"><span data-stu-id="44ee6-308">5</span></span>|<span data-ttu-id="44ee6-309">Néant</span><span class="sxs-lookup"><span data-stu-id="44ee6-309">N/A</span></span>|  
  
-   [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)]<span data-ttu-id="44ee6-310">a été installé selon les guides d’installation disponibles à l’adresse [http://go.microsoft.com/fwlink/?LinkId=128383](http://go.microsoft.com/fwlink/?LinkId=128383).</span><span class="sxs-lookup"><span data-stu-id="44ee6-310"> was installed as per the installation guides available at [http://go.microsoft.com/fwlink/?LinkId=128383](http://go.microsoft.com/fwlink/?LinkId=128383).</span></span>  
  
-   <span data-ttu-id="44ee6-311">Le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] outil de Best Practices Analyzer (BPA) a été utilisé pour effectuer la validation de plateforme une fois que le système a été configuré.</span><span class="sxs-lookup"><span data-stu-id="44ee6-311">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Best Practices Analyzer (BPA) tool was used to perform platform validation once the system had been configured.</span></span> <span data-ttu-id="44ee6-312">Le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] BPA est disponible à l’adresse [http://go.microsoft.com/fwlink/?LinkId=67150](http://go.microsoft.com/fwlink/?LinkId=67150).</span><span class="sxs-lookup"><span data-stu-id="44ee6-312">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] BPA is available at [http://go.microsoft.com/fwlink/?LinkId=67150](http://go.microsoft.com/fwlink/?LinkId=67150).</span></span>  
  
## <a name="virtualization-specifics"></a><span data-ttu-id="44ee6-313">Caractéristiques de la virtualisation</span><span class="sxs-lookup"><span data-stu-id="44ee6-313">Virtualization Specifics</span></span>  
 <span data-ttu-id="44ee6-314">Unique 50 Go de disque dur virtuel fixé a été utilisé pour héberger le système d’exploitation pour chaque ordinateur virtuel de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="44ee6-314">A single 50 GB fixed VHD was used to host the operating system for each Hyper-V virtual machine.</span></span>  
  
 <span data-ttu-id="44ee6-315">Les disques durs virtuels fixes ont été utilisés au lieu de disques durs virtuels de tailles dynamique, car ils immédiatement d’allouer le stockage maximal pour le disque dur virtuel au fichier sur le lecteur sur lequel il est hébergé.</span><span class="sxs-lookup"><span data-stu-id="44ee6-315">Fixed VHDs were used instead of dynamically sized VHDs because they immediately allocate the maximum storage for the VHD to the file on the drive where it is hosted.</span></span> <span data-ttu-id="44ee6-316">Cela réduit la fragmentation du fichier de disque dur virtuel qui se produisent sur le lecteur physique sur lequel il est hébergé, ce qui améliore les performances d’e/s de disque.</span><span class="sxs-lookup"><span data-stu-id="44ee6-316">This reduces fragmentation of the VHD file occurring on the physical drive where it is hosted, which improves disk I/O performance.</span></span>  
  
 <span data-ttu-id="44ee6-317">Pour configurer les ordinateurs virtuels, une installation de [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] Édition 64 bits a été effectuée sur un disque dur virtuel unique.</span><span class="sxs-lookup"><span data-stu-id="44ee6-317">To set-up the virtual machines, an installation of [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] 64-bit edition was performed on a single VHD.</span></span> <span data-ttu-id="44ee6-318">Une fois que toutes les mises à jour appropriées ont été installés l’ordinateur virtuel de base a été mis en image à l’aide de sysprep utilitaire qui est installé avec [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)], dans le répertoire %WINDIR%\system32\sysprep.</span><span class="sxs-lookup"><span data-stu-id="44ee6-318">Once all appropriate updates had been installed the base virtual machine was imaged using sysprep utility that is installed with [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)], in the %WINDIR%\system32\sysprep directory.</span></span>  
  
 <span data-ttu-id="44ee6-319">Ce disque dur virtuel de base a été copié, puis utilisé comme base pour tous les ordinateurs virtuels Hyper-V qui ont été déployés dans l’environnement.</span><span class="sxs-lookup"><span data-stu-id="44ee6-319">This base VHD was then copied and used as the basis for all Hyper-V virtual machines that were deployed across the environment.</span></span> <span data-ttu-id="44ee6-320">Sysprep a été exécuté sur l’image de disque dur virtuel de base pour réinitialiser les identificateurs de sécurité système avant tout [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] ou [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] binaires ont été déployées sur le système.</span><span class="sxs-lookup"><span data-stu-id="44ee6-320">Sysprep was run on the base VHD image to reset system security identifiers before any [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] or [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] binaries were deployed to the system.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="44ee6-321">L’exécution de Sysprep [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] a été installé et configuré sur le serveur peut être effectué via l’utilisation d’un fichier de réponses Sysprep et les scripts fournis avec [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)].</span><span class="sxs-lookup"><span data-stu-id="44ee6-321">Running Sysprep after [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] has been installed and configured on the server can be accomplished through the use of a Sysprep answer file and scripts provided with [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)].</span></span> <span data-ttu-id="44ee6-322">Ces exemples de scripts sont conçus pour une utilisation avec [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] installé sur les versions 32 bits et 64 bits de [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] uniquement.</span><span class="sxs-lookup"><span data-stu-id="44ee6-322">These sample scripts are designed for use with [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] installed on 32-bit and 64-bit versions of [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] only.</span></span> <span data-ttu-id="44ee6-323">Pour plus d’informations, consultez le [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] documentation en ligne.</span><span class="sxs-lookup"><span data-stu-id="44ee6-323">For more information see the [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] online documentation.</span></span>  
  
 <span data-ttu-id="44ee6-324">La référence de l’installation Windows sans assistance est disponible à l’adresse [http://go.microsoft.com/fwlink/?LinkId=142364](http://go.microsoft.com/fwlink/?LinkId=142364).</span><span class="sxs-lookup"><span data-stu-id="44ee6-324">The Unattended Windows Setup Reference is available at [http://go.microsoft.com/fwlink/?LinkId=142364](http://go.microsoft.com/fwlink/?LinkId=142364).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="44ee6-325">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="44ee6-325">See Also</span></span>  
 [<span data-ttu-id="44ee6-326">Annexe c : prise en charge Hyper-V BizTalk Server et SQL Server</span><span class="sxs-lookup"><span data-stu-id="44ee6-326">Appendix C: BizTalk Server and SQL Server Hyper-V Supportability</span></span>](../technical-guides/appendix-c-biztalk-server-and-sql-server-hyper-v-supportability.md)