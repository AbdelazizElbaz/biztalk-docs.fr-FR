---
title: "Les paramètres de SQL Server qui ne doivent pas être modifiées | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 4b383bfb-c3d9-47d4-b294-f6be94302734
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d2fb6e2553c005d3ba8651c860ff844e8cc74106
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="sql-server-settings-that-should-not-be-changed"></a><span data-ttu-id="93445-102">Paramètres de SQL Server qui ne doivent pas être modifiés.</span><span class="sxs-lookup"><span data-stu-id="93445-102">SQL Server Settings That Should Not Be Changed</span></span>
<span data-ttu-id="93445-103">Lorsque vous configurez [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] au cours des procédures opérationnelle pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], vous ne devez pas modifier pour les paramètres suivants.</span><span class="sxs-lookup"><span data-stu-id="93445-103">When setting up [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] during the operational readiness procedures for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], you should not make changes to the following settings.</span></span>  
  
## <a name="sql-server-max-degree-of-parallelism"></a><span data-ttu-id="93445-104">Degré maximal de parallélisme SQL Server</span><span class="sxs-lookup"><span data-stu-id="93445-104">SQL Server Max Degree of Parallelism</span></span>  
 <span data-ttu-id="93445-105">Max Degree de parallélisme (MDOP) est définie sur « 1 » lors de la configuration [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour le [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance(s) qui hébergent le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="93445-105">Max Degree of Parallelism (MDOP) is set to “1” during the configuration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] for the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance(s) that host the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox database(s).</span></span> <span data-ttu-id="93445-106">Il s’agit d’un [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] paramètre au niveau de l’instance.</span><span class="sxs-lookup"><span data-stu-id="93445-106">This is a [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance-level setting.</span></span> <span data-ttu-id="93445-107">Ce paramètre ne doit pas être modifié à partir de la valeur « 1 ».</span><span class="sxs-lookup"><span data-stu-id="93445-107">This setting should not be changed from the value of “1”.</span></span> <span data-ttu-id="93445-108">Cette modification à autre chose qu’un « 1 » peut avoir un impact négatif les [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] procédures stockées et les performances.</span><span class="sxs-lookup"><span data-stu-id="93445-108">Changing this to anything other than “1” can have a significant negative impact on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures and performance.</span></span> <span data-ttu-id="93445-109">Si vous modifiez le paramètre de parallélisme pour une instance de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] aura un effet négatif sur d’autres applications de base de données qui sont en cours d’exécution sur le [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance, vous devez créer une instance distincte de [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] dédiés à l’hébergement le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de données.</span><span class="sxs-lookup"><span data-stu-id="93445-109">If changing the parallelism setting for an instance of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] will have an adverse effect on other database applications that are being executed on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance, you should create a separate instance of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] dedicated to hosting the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>  
  
 <span data-ttu-id="93445-110">Requêtes parallèles sont généralement mieux adaptées à un traitement par lots et la décision prise en charge des charges de travail.</span><span class="sxs-lookup"><span data-stu-id="93445-110">Parallel queries are generally best suited to batch processing and decision support workloads.</span></span> <span data-ttu-id="93445-111">Ils ne sont généralement pas souhaitables dans un environnement de traitement de transaction où vous avez de nombreuses requêtes courts et rapides en cours d’exécution en parallèle.</span><span class="sxs-lookup"><span data-stu-id="93445-111">They are typically not desirable in a transaction processing environment where you have many short, fast queries running in parallel.</span></span> <span data-ttu-id="93445-112">En outre, la modification MDOP paramètre entraîne parfois le plan de requête à modifier, ce qui conduit à la médiocrité des performances ou même blocages avec le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] requêtes.</span><span class="sxs-lookup"><span data-stu-id="93445-112">In addition, changing the MDOP setting sometimes causes the query plan to be changed, which leads to poor query performance or even deadlocks with the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] queries.</span></span>  
  
 <span data-ttu-id="93445-113">Le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] des procédures stockées fournissent les jointures corrects et indicateurs de verrouillage chaque fois que possible afin de tenter de maintenir l’optimiseur de requête d’effectuant la quantité de travail et de modifier le plan.</span><span class="sxs-lookup"><span data-stu-id="93445-113">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures provide the correct joins and lock hints wherever possible in order to try to keep the query optimizer from doing much work and changing the plan.</span></span> <span data-ttu-id="93445-114">Ces procédures stockées fournissent les exécutions de requête cohérente en créant les requêtes de telle sorte que l’optimiseur de requête est extraite de l’image autant que possible.</span><span class="sxs-lookup"><span data-stu-id="93445-114">These stored procedures provide consistent query executions by constructing the queries such that the query optimizer is taken out of the picture as much as possible.</span></span>  
  
 <span data-ttu-id="93445-115">Pour plus d’informations, consultez l’article de la Base de connaissances Microsoft 899000, [« Pour l’instance de SQL Server lorsque vous configurez BizTalk Server le paramétrage du parallélisme »](http://go.microsoft.com/fwlink/?LinkId=153432) (http://go.microsoft.com/fwlink/?LinkId=153432).</span><span class="sxs-lookup"><span data-stu-id="93445-115">For more information, see Microsoft Knowledge Base article 899000, ["The Parallelism setting for the instance of SQL Server when you configure BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153432) (http://go.microsoft.com/fwlink/?LinkId=153432).</span></span>  
  
## <a name="sql-server-statistics-on-the-messagebox-database"></a><span data-ttu-id="93445-116">Statistiques de SQL Server sur la base de données MessageBox</span><span class="sxs-lookup"><span data-stu-id="93445-116">SQL Server Statistics on the MessageBox Database</span></span>  
 <span data-ttu-id="93445-117">Les options suivantes sont désactivées par défaut dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de données MessageBox lors de sa création :</span><span class="sxs-lookup"><span data-stu-id="93445-117">The following options are turned off by default in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox database when it is created:</span></span>  
  
-   <span data-ttu-id="93445-118">Création automatique des statistiques</span><span class="sxs-lookup"><span data-stu-id="93445-118">Auto create statistics</span></span>  
  
-   <span data-ttu-id="93445-119">Mise à jour automatique des statistiques</span><span class="sxs-lookup"><span data-stu-id="93445-119">Auto update statistics</span></span>  
  
 <span data-ttu-id="93445-120">N’activez pas ces options sur les bases de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="93445-120">Do not enable these options on MessageBox databases.</span></span> <span data-ttu-id="93445-121">L’activation de la « création automatique des statistiques » et « automatique des statistiques de mise à jour » des options peuvent provoquer des délais d’exécution de requête indésirables, en particulier dans un environnement à forte charge.</span><span class="sxs-lookup"><span data-stu-id="93445-121">Enabling the "auto create statistics" and "auto update statistics" options can cause undesirable query execution delays, especially in a high-load environment.</span></span>  
  
 <span data-ttu-id="93445-122">En outre, le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] les procédures stockées ont les jonctions exactes et les indicateurs de verrou spécifiés sur les requêtes.</span><span class="sxs-lookup"><span data-stu-id="93445-122">In addition, the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures have exact joins and lock hints specified on the queries.</span></span> <span data-ttu-id="93445-123">Cela permet de garantir que le plan de requête optimal est utilisé par le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] les requêtes dans [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="93445-123">This is done to ensure that the optimal query plan is used by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] queries in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span> <span data-ttu-id="93445-124">Les distributions et les résultats attendus pour les requêtes sont connus ; le nombre approximatif de lignes renvoyées est connu.</span><span class="sxs-lookup"><span data-stu-id="93445-124">The distributions and expected results for the queries are known; the approximate number of rows returned is known.</span></span> <span data-ttu-id="93445-125">Les statistiques ne sont généralement pas nécessaires.</span><span class="sxs-lookup"><span data-stu-id="93445-125">Statistics are generally not needed.</span></span>  
  
 <span data-ttu-id="93445-126">Pour plus d'informations, consultez les articles suivants de la Base de connaissances Microsoft :</span><span class="sxs-lookup"><span data-stu-id="93445-126">For more information, see the following Microsoft Knowledge Base articles:</span></span>  
  
-   <span data-ttu-id="93445-127">**912262**:[« l’option de statistiques de mise à jour automatique, création automatique des statistiques, et le paramétrage du parallélisme sont désactivés dans l’instance de base de données SQL Server qui héberge la base de données BizTalkMsgBoxDB de BizTalk Server »](http://go.microsoft.com/fwlink/?LinkId=153430) (http://go.microsoft.com/fwlink/?LinkId=153430).</span><span class="sxs-lookup"><span data-stu-id="93445-127">**912262**—["The auto update statistics option, the auto create statistics option, and the Parallelism setting are turned off in the SQL Server database instance that hosts the BizTalk Server BizTalkMsgBoxDB database"](http://go.microsoft.com/fwlink/?LinkId=153430) (http://go.microsoft.com/fwlink/?LinkId=153430).</span></span>  
  
-   <span data-ttu-id="93445-128">**917845**:[« Vous rencontrez blocage, blocage des conditions ou autres problèmes SQL Server lorsque vous essayez de vous connecter à la base de données BizTalkMsgBoxDb de BizTalk Server »](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span><span class="sxs-lookup"><span data-stu-id="93445-128">**917845**—["You experience blocking, deadlock conditions, or other SQL Server issues when you try to connect to the BizTalkMsgBoxDb database in BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span></span>  
  
## <a name="changes-to-the-messagebox-database"></a><span data-ttu-id="93445-129">Modifications apportées à la base de données MessageBox</span><span class="sxs-lookup"><span data-stu-id="93445-129">Changes to the MessageBox Database</span></span>  
 <span data-ttu-id="93445-130">La base de données MessageBox doit être traité comme une application non Microsoft source code.</span><span class="sxs-lookup"><span data-stu-id="93445-130">The MessageBox database should be treated like non-Microsoft application source code.</span></span> <span data-ttu-id="93445-131">Autrement dit, vous ne devez pas « modifier » la base de données MessageBox via les modifications apportées aux tables, index, procédures stockées et la plupart des paramètres de base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="93445-131">That is, you should not “tweak” the MessageBox database via changes to tables, indexes, stored procedures, and most SQL Server database settings.</span></span> <span data-ttu-id="93445-132">Pour plus d’informations, dans le blog du moteur de base de BizTalk, consultez l’entrée [« Que vous pouvez et ne peut pas faire avec le serveur de base de données MessageBox »](http://go.microsoft.com/fwlink/?LinkId=101577) (http://go.microsoft.com/fwlink/?LinkId=101577).</span><span class="sxs-lookup"><span data-stu-id="93445-132">For more information, in the BizTalk Core Engine's WebLog, see the entry ["What you can and can't do with the MessageBox Database server"](http://go.microsoft.com/fwlink/?LinkId=101577) (http://go.microsoft.com/fwlink/?LinkId=101577).</span></span>  
  
## <a name="default-settings-for-the-database-index-rebuilds-and-defragmentation"></a><span data-ttu-id="93445-133">Paramètres par défaut pour les reconstructions d’Index de base de données et de défragmentation</span><span class="sxs-lookup"><span data-stu-id="93445-133">Default Settings for the Database Index Rebuilds and Defragmentation</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="93445-134">ne prend pas en charge la défragmentation d’index.</span><span class="sxs-lookup"><span data-stu-id="93445-134"> does not support defragmenting indexes.</span></span> <span data-ttu-id="93445-135">« DBCC INDEXDEFRAG » et « ALTER INDEX...</span><span class="sxs-lookup"><span data-stu-id="93445-135">“DBCC INDEXDEFRAG” and “ALTER INDEX …</span></span> <span data-ttu-id="93445-136">REORGANIZE... »</span><span class="sxs-lookup"><span data-stu-id="93445-136">REORGANIZE …”</span></span> <span data-ttu-id="93445-137">ne sont pas pris en charge, car ils utilisent la page de verrouillage, ce qui peut entraîner le blocage et les blocages à l’aide [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="93445-137">are not supported since they use page locking, which can cause blocking and deadlocks with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="93445-138">reconstruit les index de base de données est prise en charge (« DBCC DBREINDEX » et « ALTER INDEX...</span><span class="sxs-lookup"><span data-stu-id="93445-138"> does support database index rebuilds (“DBCC DBREINDEX” and “ALTER INDEX …</span></span> <span data-ttu-id="93445-139">REBUILD... »), mais ils ne doivent être effectuées pendant les fenêtres de maintenance lorsque [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ne traite pas les données.</span><span class="sxs-lookup"><span data-stu-id="93445-139">REBUILD …”), but they should only be done during maintenance windows when [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is not processing data.</span></span> <span data-ttu-id="93445-140">Les reconstructions d’index lors de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] traite les données ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="93445-140">Index rebuilds while [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is processing data are not supported.</span></span>  
  
 <span data-ttu-id="93445-141">Pour plus d’informations, consultez l’article de la Base de connaissances Microsoft 917845 [« Vous rencontrez blocage, blocage des conditions ou autres problèmes SQL Server lorsque vous essayez de vous connecter à la base de données BizTalkMsgBoxDb de BizTalk Server »](http://go.microsoft.com/fwlink/?LinkId=153429) (http:// go.Microsoft.com/fwlink/ ? LinkId = 153429).</span><span class="sxs-lookup"><span data-stu-id="93445-141">For more information, see Microsoft Knowledge Base article 917845 [" You experience blocking, deadlock conditions, or other SQL Server issues when you try to connect to the BizTalkMsgBoxDb database in BizTalk Server"](http://go.microsoft.com/fwlink/?LinkId=153429) (http://go.microsoft.com/fwlink/?LinkId=153429).</span></span>  
  
 <span data-ttu-id="93445-142">La fragmentation d’index n’est pas autant d’un problème de performances pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] comme pour un système DSS ou un système OLTP qui effectue des analyses d’index.</span><span class="sxs-lookup"><span data-stu-id="93445-142">Index fragmentation is not as much of a performance issue for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] as it would be for a DSS system or an OLTP system that performs index scans.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="93445-143">effectue des requêtes très sélectifs et les mises à jour et [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] des procédures stockées ne devraient pas provoquer de table ou d’analyses d’index.</span><span class="sxs-lookup"><span data-stu-id="93445-143"> does very selective queries and updates and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stored procedures should not cause table or index scans.</span></span>  
  
 <span data-ttu-id="93445-144">Pour plus d’informations sur les types de charge de travail et de fragmentation d’index, consultez [« Microsoft SQL Server 2000 Index meilleures pratiques de défragmentation »](http://go.microsoft.com/fwlink/?LinkId=101580) (http://go.microsoft.com/fwlink/?LinkId=101580).</span><span class="sxs-lookup"><span data-stu-id="93445-144">For more information about index fragmentation and workload types, see ["Microsoft SQL Server 2000 Index Defragmentation Best Practices"](http://go.microsoft.com/fwlink/?LinkId=101580) (http://go.microsoft.com/fwlink/?LinkId=101580).</span></span> <span data-ttu-id="93445-145">Un guillemet à partir de l’article :</span><span class="sxs-lookup"><span data-stu-id="93445-145">A quote from the article:</span></span>  
  
 <span data-ttu-id="93445-146">« Comme indiqué dans la Figure 1, il est peu de différence entre les performances des procédures stockées avant et après la défragmentation.</span><span class="sxs-lookup"><span data-stu-id="93445-146">“As shown in Figure 1, there is little difference between the performance of the stored procedures before and after defragmenting.</span></span> <span data-ttu-id="93445-147">Étant donné que les requêtes sous-jacent émis par ces procédures stockées réactions très sélectifs portions de données, les performances de la charge de travail a été pas affectées par les index fragmentés. »</span><span class="sxs-lookup"><span data-stu-id="93445-147">Because the underlying queries issued by these stored procedures acted upon very selective portions of the data, workload performance was not adversely affected by fragmented indexes.”</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="93445-148">Le contenu de l’article s’appliquent également aux [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] et [!INCLUDE[btsSQLServer2005](../includes/btssqlserver2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="93445-148">The contents of the article also apply to [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] and [!INCLUDE[btsSQLServer2005](../includes/btssqlserver2005-md.md)].</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="93445-149">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="93445-149">See Also</span></span>  
 [<span data-ttu-id="93445-150">Liste de vérification : Configuration de SQL Server</span><span class="sxs-lookup"><span data-stu-id="93445-150">Checklist: Configuring SQL Server</span></span>](~/technical-guides/checklist-configuring-sql-server.md)