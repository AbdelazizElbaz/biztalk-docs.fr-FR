---
title: "Architecture du scénario de serveur de test | Documents Microsoft"
ms.custom: 
ms.date: 2015-12-09
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 1e3afb57-c3ff-4314-9605-cf9fe936e63f
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 34a437cdc306a25d8f5e688880c55530ea9703f3
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="test-scenario-server-architecture"></a><span data-ttu-id="74f7d-102">Architecture de serveur de scénario de test</span><span class="sxs-lookup"><span data-stu-id="74f7d-102">Test Scenario Server Architecture</span></span>
<span data-ttu-id="74f7d-103">Cette rubrique fournit une vue d’ensemble du flux de messages entre les serveurs au cours du test de charge et les architectures de serveur distincts par rapport à laquelle le test de charge a été effectué.</span><span class="sxs-lookup"><span data-stu-id="74f7d-103">This topic provides an overview of the flow of messages between servers during load testing and the distinct server architectures against which the load test was performed.</span></span>  
  
## <a name="overview-of-message-flow-during-load-testing"></a><span data-ttu-id="74f7d-104">Vue d’ensemble du flux de messages au cours du test de charge</span><span class="sxs-lookup"><span data-stu-id="74f7d-104">Overview of Message Flow During Load Testing</span></span>  
 <span data-ttu-id="74f7d-105">Le diagramme suivant fournit une présentation générale de l’architecture de serveur utilisée pour tous les scénarios de test et le flux des messages entre les serveurs pendant un test de charge.</span><span class="sxs-lookup"><span data-stu-id="74f7d-105">The following diagram provides a generic overview of the server architecture used for all test scenarios and the flow of messages between servers during a load test.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="74f7d-106">Chaque architecture de serveur distincts qui a été testé est décrite dans la section **Architecture du serveur de ligne de base**.</span><span class="sxs-lookup"><span data-stu-id="74f7d-106">Each distinct server architecture that was tested is described in the section **Baseline Server Architecture**.</span></span>  
  
 <span data-ttu-id="74f7d-107">L’illustration suivante fournit une vue d’ensemble du flux du message.</span><span class="sxs-lookup"><span data-stu-id="74f7d-107">The following figure provides an overview of the message flow.</span></span> <span data-ttu-id="74f7d-108">Les nombres dans la figure correspondent aux étapes répertoriées ci-dessous l’illustration.</span><span class="sxs-lookup"><span data-stu-id="74f7d-108">The numbers in the figure correspond to the steps listed below the figure.</span></span>  
  
 <span data-ttu-id="74f7d-109">![Vue d’ensemble du flux de message](../technical-guides/media/archmsgflow.gif "ArchMsgFlow")</span><span class="sxs-lookup"><span data-stu-id="74f7d-109">![Message Flow Overview](../technical-guides/media/archmsgflow.gif "ArchMsgFlow")</span></span>  
<span data-ttu-id="74f7d-110">Vue d'ensemble du flux de messages</span><span class="sxs-lookup"><span data-stu-id="74f7d-110">Message Flow Overview</span></span>  
  
1.  <span data-ttu-id="74f7d-111">Le test de charge est initié par l’ordinateur du contrôleur de l’Agent charge **VSTS_TestController**:</span><span class="sxs-lookup"><span data-stu-id="74f7d-111">Load testing is initiated by the Load Agent Controller computer **VSTS_TestController**:</span></span>  
  
    -   <span data-ttu-id="74f7d-112">Un projet Visual Studio 2008 sur **VSTS_TestController** est exécutée.</span><span class="sxs-lookup"><span data-stu-id="74f7d-112">A Visual Studio 2008 project on **VSTS_TestController** is executed.</span></span> <span data-ttu-id="74f7d-113">Le projet charge une instance de la classe BizUnit, charge le fichier de configuration BizUnit XML spécifié et commence à s’exécuter les étapes définies dans le fichier de configuration BizUnit.</span><span class="sxs-lookup"><span data-stu-id="74f7d-113">The project loads an instance of the BizUnit class, loads the specified BizUnit XML configuration file, and begins executing the steps defined in the BizUnit configuration file.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="74f7d-114">Pour plus d’informations sur le fichier de configuration XML utilisé par BizUnit, consultez la rubrique « Définition des Tests à l’aide un fichier de Configuration XML » à [http://go.microsoft.com/fwlink/?LinkId=143432](http://go.microsoft.com/fwlink/?LinkId=143432).</span><span class="sxs-lookup"><span data-stu-id="74f7d-114">For more information about the XML configuration file used by BizUnit, see the topic “Defining Tests Using an XML Configuration File” at [http://go.microsoft.com/fwlink/?LinkId=143432](http://go.microsoft.com/fwlink/?LinkId=143432).</span></span>  
  
    -   <span data-ttu-id="74f7d-115">Après avoir effectué les étapes de configuration de Test, l’une des étapes dans le projet BizUnit exécute une commande qui affiche une boîte de dialogue qui vous invite à démarrer un test « amorcer » exécuté pour envoyer des messages d’amorçage à le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environnement.</span><span class="sxs-lookup"><span data-stu-id="74f7d-115">After completing the Test Setup steps, one of the steps in the BizUnit project executes a command that displays a dialog box which prompts you to start a “priming” test run to submit priming messages to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span>  
  
    -   <span data-ttu-id="74f7d-116">Messages d’amorçage sont envoyées à partir d’un projet de Test de Visual Studio 2008 distinct sur **VSTS_TestController**.</span><span class="sxs-lookup"><span data-stu-id="74f7d-116">Priming messages are submitted from a separate Visual Studio 2008 Test project on **VSTS_TestController**.</span></span> <span data-ttu-id="74f7d-117">Messages d’amorçage sont envoyées à « préchauffage » l’environnement de test en initialisant les caches du système.</span><span class="sxs-lookup"><span data-stu-id="74f7d-117">Priming messages are sent to “warm up” the test environment by initializing system caches.</span></span>  
  
    -   <span data-ttu-id="74f7d-118">Une fois que tous les messages d’amorçage ont été traités ; l’instance de BizUnit charge les compteurs de l’Analyseur de performances pour tous les ordinateurs en cours de test dans la série de tests principal et exécute une commande pour afficher une boîte de dialogue qui vous invite à envoyer des messages pour la série de tests principal.</span><span class="sxs-lookup"><span data-stu-id="74f7d-118">After all priming messages have been processed; the BizUnit instance loads Performance Monitor counters for all computers being tested in the main test run and executes a command to display a dialog box which prompts you to submit messages for the main test run.</span></span>  
  
    -   <span data-ttu-id="74f7d-119">Le projet Visual Studio 2008 du Test de charge sur **VSTS_TestController** dirige les ordinateurs de l’Agent de Test de charge pour envoyer des messages pour la série de tests principal.</span><span class="sxs-lookup"><span data-stu-id="74f7d-119">The Visual Studio 2008 Load Test project on **VSTS_TestController** directs the Load Test Agent computers to submit messages for the main test run.</span></span>  
  
2.  <span data-ttu-id="74f7d-120">Les ordinateurs de test de soumettre l’Agent de Test de charge des messages à la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateurs spécifiés dans le fichier app.config du projet Visual Studio 2008 du Test de charge sur l’ordinateur de contrôleur de Test de charge (**VSTS_TestController**).</span><span class="sxs-lookup"><span data-stu-id="74f7d-120">The Load Test Agent computers submit test messages to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers specified in the app.config file of the Visual Studio 2008 Load Test project on the Load Test Controller computer (**VSTS_TestController**).</span></span>  
  
3.  <span data-ttu-id="74f7d-121">Le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateurs reçoivent les messages envoyés par les ordinateurs de l’Agent de Test de charge, pour ce test de charge que les messages ont été reçus par un moyen de deux emplacement de réception requête-réponse.</span><span class="sxs-lookup"><span data-stu-id="74f7d-121">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers receive the messages submitted by the Load Test Agent computers, for this load test the messages were received by a two way request-response receive location.</span></span>  
  
    -   [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="74f7d-122">publie le message dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="74f7d-122"> publishes the message to the MessageBox database.</span></span>  
  
    -   <span data-ttu-id="74f7d-123">Les messages sont consommés par une orchestration.</span><span class="sxs-lookup"><span data-stu-id="74f7d-123">The messages are consumed by an orchestration.</span></span>  
  
    -   <span data-ttu-id="74f7d-124">L’orchestration est liée à un port qui permet d’appeler le service de calculatrice en aval d’envoi de sollicitation-réponse bidirectionnelle.</span><span class="sxs-lookup"><span data-stu-id="74f7d-124">The orchestration is bound to a two way solicit-response send port which invokes the downstream calculator service.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="74f7d-125">Le service de calculatrice en aval est basé sur les exemples Windows Communication Foundation décrits à [http://go.microsoft.com/fwlink/?LinkId=141762](http://go.microsoft.com/fwlink/?LinkId=141762).</span><span class="sxs-lookup"><span data-stu-id="74f7d-125">The downstream calculator service is based upon Windows Communication Foundation samples described at [http://go.microsoft.com/fwlink/?LinkId=141762](http://go.microsoft.com/fwlink/?LinkId=141762).</span></span> <span data-ttu-id="74f7d-126">Les exemples Windows Communication Foundation sont disponibles pour téléchargement à l’adresse [http://go.microsoft.com/fwlink/?LinkId=87352](http://go.microsoft.com/fwlink/?LinkId=87352).</span><span class="sxs-lookup"><span data-stu-id="74f7d-126">The Windows Communication Foundation samples are available for download at [http://go.microsoft.com/fwlink/?LinkId=87352](http://go.microsoft.com/fwlink/?LinkId=87352).</span></span>  
  
4.  <span data-ttu-id="74f7d-127">Le service de calculatrice consomme la demande à partir de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et retourne une réponse à la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] port d’envoi de sollicitation-réponse.</span><span class="sxs-lookup"><span data-stu-id="74f7d-127">The calculator service consumes the request from [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and returns a response to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solicit-response send port.</span></span>  
  
5.  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="74f7d-128">traite la réponse et stocke le message de réponse dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="74f7d-128"> processes the response and persists the response message to the MessageBox database.</span></span> <span data-ttu-id="74f7d-129">Le message de réponse du service web Calculator est ensuite récupéré à partir de la base de données MessageBox par le port de requête-réponse de BizTalk, et la remise d’un message de réponse vers les ordinateurs de l’Agent de Test de charge.</span><span class="sxs-lookup"><span data-stu-id="74f7d-129">Then the response message from the Calculator web service is retrieved from the MessageBox database by the BizTalk request-response port, and a response message is delivered back to the Load Test Agent computers.</span></span>  
  
## <a name="baseline-server-architecture"></a><span data-ttu-id="74f7d-130">Architecture de serveur de base</span><span class="sxs-lookup"><span data-stu-id="74f7d-130">Baseline Server Architecture</span></span>  
 <span data-ttu-id="74f7d-131">Pour l’architecture de serveur de base, le rôle Hyper-V a été pas installé alors que les [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] ont été installés sur le système d’exploitation hôte.</span><span class="sxs-lookup"><span data-stu-id="74f7d-131">For the Baseline Server architecture, the Hyper-V role was not installed and Both [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] were installed on to the host operating system.</span></span> <span data-ttu-id="74f7d-132">Cela a été effectué pour établir des métriques de performances « ligne de base » de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution sur un environnement matériel physique.</span><span class="sxs-lookup"><span data-stu-id="74f7d-132">This was done to establish “baseline” performance metrics of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution on a physical hardware environment.</span></span>  
  
 <span data-ttu-id="74f7d-133">La figure suivante illustre physique [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] niveaux de l’Architecture du serveur de ligne de base.</span><span class="sxs-lookup"><span data-stu-id="74f7d-133">The following figure depicts the physical [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] tiers for the Baseline Server Architecture.</span></span>  
  
 <span data-ttu-id="74f7d-134">![BizTalk physique &#47; Physiques SQL](../technical-guides/media/archphysicalbts-physicalsql.gif "ArchPhysicalBTS_PhysicalSQL")</span><span class="sxs-lookup"><span data-stu-id="74f7d-134">![Physical BizTalk &#47; Physical SQL](../technical-guides/media/archphysicalbts-physicalsql.gif "ArchPhysicalBTS_PhysicalSQL")</span></span>  
<span data-ttu-id="74f7d-135">Serveur BizTalk physique / physique SQL Server (de base)</span><span class="sxs-lookup"><span data-stu-id="74f7d-135">Physical BizTalk Server / Physical SQL Server (Baseline)</span></span>  
  
-   <span data-ttu-id="74f7d-136">**BizTalk Server** - 2 ordinateurs BizTalk Server configurés comme suit :</span><span class="sxs-lookup"><span data-stu-id="74f7d-136">**BizTalk Server** - 2 BizTalk Server computers configured as follows:</span></span>  
  
    -   <span data-ttu-id="74f7d-137">Un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateur avec **6** Go de RAM et **8** cœurs de processeurs disponibles.</span><span class="sxs-lookup"><span data-stu-id="74f7d-137">One [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer with **6** GB RAM and **8** processor cores available.</span></span>  
  
    -   <span data-ttu-id="74f7d-138">Un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateur avec **3** Go de RAM et **4** cœurs de processeurs disponibles.</span><span class="sxs-lookup"><span data-stu-id="74f7d-138">One [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer with **3** GB RAM and **4** processor cores available.</span></span>  
  
    -   <span data-ttu-id="74f7d-139">Nombre total de 6 + 3 = **9** Go de RAM disponible et 8 + 4 = **12** cœurs de processeurs disponibles pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="74f7d-139">Total of 6 + 3 = **9** GB RAM available and 8 + 4 = **12** processor cores available for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="74f7d-140">**SQL Server** - 1 [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] ordinateur configuré comme suit :</span><span class="sxs-lookup"><span data-stu-id="74f7d-140">**SQL Server** - 1 [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] computer configured as follows:</span></span>  
  
    -   <span data-ttu-id="74f7d-141">**8** Go de RAM disponible.</span><span class="sxs-lookup"><span data-stu-id="74f7d-141">**8** GB RAM available.</span></span>  
  
    -   <span data-ttu-id="74f7d-142">**4** cœurs de processeurs disponibles.</span><span class="sxs-lookup"><span data-stu-id="74f7d-142">**4** processor cores available.</span></span>  
  
## <a name="virtual-biztalk-server--physical-sql-server"></a><span data-ttu-id="74f7d-143">Serveur BizTalk virtuel / physique SQL Server</span><span class="sxs-lookup"><span data-stu-id="74f7d-143">Virtual BizTalk Server / Physical SQL Server</span></span>  
 <span data-ttu-id="74f7d-144">La figure suivante représente le serveur virtuel [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et physique [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] niveaux.</span><span class="sxs-lookup"><span data-stu-id="74f7d-144">The following figure depicts the virtual [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and physical [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] tiers.</span></span>  
  
 <span data-ttu-id="74f7d-145">![BizTalk virtuel &#47; Physiques SQL](../technical-guides/media/archvirtualbts-physicalsql.gif "ArchVirtualBTS_PhysicalSQL")</span><span class="sxs-lookup"><span data-stu-id="74f7d-145">![Virtual BizTalk &#47; Physical SQL](../technical-guides/media/archvirtualbts-physicalsql.gif "ArchVirtualBTS_PhysicalSQL")</span></span>  
<span data-ttu-id="74f7d-146">Serveur BizTalk virtuel / physique SQL Server</span><span class="sxs-lookup"><span data-stu-id="74f7d-146">Virtual BizTalk Server / Physical SQL Server</span></span>  
  
 <span data-ttu-id="74f7d-147">Pour ce scénario, le test de charge a été effectué sur [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en cours d’exécution sur des ordinateurs virtuels Hyper-V et [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] en cours d’exécution sur un matériel physique.</span><span class="sxs-lookup"><span data-stu-id="74f7d-147">For this scenario, the load test was performed against [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] running on Hyper-V virtual machines and [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] running on physical hardware.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="74f7d-148">L’allocation de cœurs de processeur et mémoire RAM décrite ci-dessous était identique pour les scénarios de chaque ligne de base non, la seule différence étant que certains ordinateurs sont en cours d’exécution sur un ordinateur virtuel Hyper-V ou sur du matériel physique.</span><span class="sxs-lookup"><span data-stu-id="74f7d-148">The allocation of RAM and processor cores described below was identical for each non-baseline scenarios, the only difference being whether certain computers are running on a Hyper-V virtual machine or on physical hardware.</span></span>  
  
-   <span data-ttu-id="74f7d-149">**BizTalk Server** - 3 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ordinateurs s configurés comme suit :</span><span class="sxs-lookup"><span data-stu-id="74f7d-149">**BizTalk Server** - 3 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]s computers configured as follows:</span></span>  
  
    -   <span data-ttu-id="74f7d-150">3 Go de RAM allouée à chaque [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateur avec un total de 3 x 3 = **9** Go de RAM disponible pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="74f7d-150">3 GB RAM allocated to each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer with a total of 3 x 3 = **9** GB RAM available for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
    -   <span data-ttu-id="74f7d-151">4 cœurs de processeur alloué à chaque [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateur avec un total de 3 x 4 = **12** cœurs de processeurs disponibles pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="74f7d-151">4 processor cores allocated to each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer with a total of 3 x 4 = **12** processor cores available for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="74f7d-152">**SQL Server** - 1 [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] ordinateur configuré comme suit :</span><span class="sxs-lookup"><span data-stu-id="74f7d-152">**SQL Server** - 1 [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] computer configured as follows:</span></span>  
  
    -   <span data-ttu-id="74f7d-153">**8** Go de RAM disponible.</span><span class="sxs-lookup"><span data-stu-id="74f7d-153">**8** GB RAM available.</span></span>  
  
    -   <span data-ttu-id="74f7d-154">**4** cœurs de processeurs disponibles.</span><span class="sxs-lookup"><span data-stu-id="74f7d-154">**4** processor cores available.</span></span>  
  
## <a name="virtual-biztalk-server--virtual-sql-server"></a><span data-ttu-id="74f7d-155">Serveur BizTalk virtuel / virtuel SQL Server</span><span class="sxs-lookup"><span data-stu-id="74f7d-155">Virtual BizTalk Server / Virtual SQL Server</span></span>  
 <span data-ttu-id="74f7d-156">La figure suivante illustre une machine virtuelle, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateur et une machine virtuelle, [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] ordinateur sur des ordinateurs hôtes Hyper-V distincts.</span><span class="sxs-lookup"><span data-stu-id="74f7d-156">The following figure depicts a virtual [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer and a virtual [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] computer on separate Hyper-V host computers.</span></span>  
  
 <span data-ttu-id="74f7d-157">![BizTalk virtuel &#47; SQL virtuel](../technical-guides/media/archvirtualbts-virtualsql.gif "ArchVirtualBTS_VirtualSQL")</span><span class="sxs-lookup"><span data-stu-id="74f7d-157">![Virtual BizTalk &#47; Virtual SQL](../technical-guides/media/archvirtualbts-virtualsql.gif "ArchVirtualBTS_VirtualSQL")</span></span>  
<span data-ttu-id="74f7d-158">Serveur BizTalk virtuel / virtuel SQL Server</span><span class="sxs-lookup"><span data-stu-id="74f7d-158">Virtual BizTalk Server / Virtual SQL Server</span></span>  
  
 <span data-ttu-id="74f7d-159">Pour ce scénario, le test de charge a été effectué sur [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en cours d’exécution sur des ordinateurs virtuels Hyper-V et [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] en cours d’exécution sur un ordinateur virtuel Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="74f7d-159">For this scenario, the load test was performed against [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] running on Hyper-V virtual machines and [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] running on a Hyper-V virtual machine.</span></span> <span data-ttu-id="74f7d-160">Le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateurs virtuels Hyper-V et le [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] machine virtuelle Hyper-V ont été exécutées sur des ordinateurs hôtes Hyper-V distincts.</span><span class="sxs-lookup"><span data-stu-id="74f7d-160">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Hyper-V virtual machines and the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Hyper-V virtual machine were run on separate Hyper-V host computers.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="74f7d-161">L’allocation de cœurs de processeur et de RAM pour ce scénario est identique à l’allocation de cœurs de processeur et de RAM pour le **virtuels BizTalk Server / physique SQL Server** scénario, la seule différence étant que [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] a été configuré pour s’exécuter sur un ordinateur virtuel Hyper-V plutôt que de matériel physique.</span><span class="sxs-lookup"><span data-stu-id="74f7d-161">The allocation of RAM and processor cores for this scenario is identical to the allocation of RAM and processor cores for the **Virtual BizTalk Server / Physical SQL Server** scenario, the only difference being that [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] was configured to run on a Hyper-V virtual machine rather than physical hardware.</span></span>  
  
## <a name="consolidated-environment"></a><span data-ttu-id="74f7d-162">Environnement consolidé</span><span class="sxs-lookup"><span data-stu-id="74f7d-162">Consolidated Environment</span></span>  
 <span data-ttu-id="74f7d-163">La figure suivante illustre virtuel [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] une machine virtuelle et les ordinateurs [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] ordinateur consolidées sur un ordinateur hôte de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="74f7d-163">The following figure depicts virtual [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers and a virtual [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] computer consolidated on one Hyper-V host computer.</span></span>  
  
 <span data-ttu-id="74f7d-164">![BizTalk virtuel &#47; SQL virtuel &#47; Consolidés](../technical-guides/media/archvirtualbts-virtualsql-consolidated.gif "ArchVirtualBTS_VirtualSQL_Consolidated")</span><span class="sxs-lookup"><span data-stu-id="74f7d-164">![Virtual BizTalk &#47; Virtual SQL &#47; Consolidated](../technical-guides/media/archvirtualbts-virtualsql-consolidated.gif "ArchVirtualBTS_VirtualSQL_Consolidated")</span></span>  
<span data-ttu-id="74f7d-165">Environnement consolidé</span><span class="sxs-lookup"><span data-stu-id="74f7d-165">Consolidated Environment</span></span>  
  
 <span data-ttu-id="74f7d-166">Pour ce scénario, le test de charge a été effectué sur [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en cours d’exécution sur des ordinateurs virtuels Hyper-V et [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] en cours d’exécution sur un ordinateur virtuel Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="74f7d-166">For this scenario, the load test was performed against [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] running on Hyper-V virtual machines and [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] running on a Hyper-V virtual machine.</span></span> <span data-ttu-id="74f7d-167">Le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateurs virtuels Hyper-V et le [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] machine virtuelle Hyper-V ont été exécutées sur le même ordinateur hôte Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="74f7d-167">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Hyper-V virtual machines and the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Hyper-V virtual machine were all run on the same Hyper-V host computer.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="74f7d-168">L’allocation de cœurs de processeur et de RAM pour ce scénario est identique à l’allocation de cœurs de processeur et de RAM pour le **virtuels BizTalk Server / serveur SQL Server virtuel** scénario, la seule différence étant que les deux le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Ordinateurs virtuels Hyper-V et [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] ordinateurs virtuels Hyper-V ont été configurés pour s’exécuter sur le même ordinateur hôte Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="74f7d-168">The allocation of RAM and processor cores for this scenario is identical to the allocation of RAM and processor cores for the **Virtual BizTalk Server / Virtual SQL Server** scenario, the only difference being that both the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Hyper-V virtual machines and [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Hyper-V virtual machines were configured to run on the same Hyper-V host computer.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="74f7d-169">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="74f7d-169">See Also</span></span>  
 [<span data-ttu-id="74f7d-170">Vue d’ensemble du scénario de test</span><span class="sxs-lookup"><span data-stu-id="74f7d-170">Test Scenario Overview</span></span>](../technical-guides/test-scenario-overview.md)