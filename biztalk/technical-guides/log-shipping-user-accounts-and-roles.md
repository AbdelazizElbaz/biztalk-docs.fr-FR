---
title: "Les journaux de comptes d’utilisateurs et rôles | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2056ea90-5e9f-4501-95d6-18c905db4023
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a7dbec7cfa23c8a1e07e32cdf0c3ce7b044651ec
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/01/2017
---
# <a name="log-shipping-user-accounts-and-roles"></a><span data-ttu-id="51e62-102">Journaux de rôles et les comptes d’utilisateur</span><span class="sxs-lookup"><span data-stu-id="51e62-102">Log Shipping User Accounts and Roles</span></span>
<span data-ttu-id="51e62-103">Envoi de journaux est pilotée par un travail de l’Agent SQL Server pour automatiser le processus de restauration des sauvegardes et des journaux de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="51e62-103">BizTalk Server log shipping is driven by a SQL Server Agent job to automate the process of restoring backups and logs.</span></span> <span data-ttu-id="51e62-104">Des autorisations incorrectes peuvent entraîner des opérations de restauration effectuées par envoi de journaux de BizTalk Server pour faire échouer.</span><span class="sxs-lookup"><span data-stu-id="51e62-104">Incorrect permissions can cause restore operations performed by BizTalk Server log shipping to fail.</span></span> <span data-ttu-id="51e62-105">Le compte d’utilisateur configuré pour restaurer les bases de données doit avoir accès à l’instance de base de données de production qui héberge la base de données de gestion BizTalk.</span><span class="sxs-lookup"><span data-stu-id="51e62-105">The user account configured to restore databases must have access to the production database instance that hosts the BizTalk Management database.</span></span> <span data-ttu-id="51e62-106">Dans la plupart des cas cela signifie que le compte de service pour le travail de l’Agent SQL Server gèrent le journaux de BizTalk Server sur la récupération d’urgence [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance requiert une connexion et des autorisations sur l’instance de base de données de production qui héberge le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]base de données de gestion.</span><span class="sxs-lookup"><span data-stu-id="51e62-106">In most cases this means that the service account for the SQL Server Agent job driving the BizTalk Server log shipping job on the disaster recovery [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance requires a login and permissions on the production database instance that hosts the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] management database.</span></span> <span data-ttu-id="51e62-107">Cela suppose que le compte de service SQL Server Agent est configuré en tant que le propriétaire du travail.</span><span class="sxs-lookup"><span data-stu-id="51e62-107">This assumes that the SQL Server Agent service account is configured as the job owner.</span></span>  
  
 <span data-ttu-id="51e62-108">BizTalk Server inclut un rôle SQL Server nommé BTS_BACKUP_USERS afin que le compte d’utilisateur configuré pour restaurer les bases de données ne nécessite pas d’autorisation des administrateurs système SQL Server.</span><span class="sxs-lookup"><span data-stu-id="51e62-108">BizTalk Server includes a SQL Server role named BTS_BACKUP_USERS so that the user account configured to restore databases does not require SQL Server System Administrators permission.</span></span>  
  
 <span data-ttu-id="51e62-109">Lorsque vous configurez le compte d’utilisateur qui effectue les opérations de restauration de base de données dans le cadre de la copie des journaux de BizTalk Server, vérifiez que les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="51e62-109">When configuring the user account that will perform database restore operations as part of BizTalk Server log shipping, please verify the following:</span></span>  
  
-   <span data-ttu-id="51e62-110">Configurer le service de l’Agent SQL Server pour une exécution sous un compte de domaine avec un utilisateur mappé configuré dans [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio (dans **sécurité**, **connexions**) sur chaque [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance hôtes [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] bases de données restaurées par les [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] journal des travaux de copie.</span><span class="sxs-lookup"><span data-stu-id="51e62-110">Configure the SQL Server Agent service to run under a domain account with a mapped user configured in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio (in **Security**, **Logins**) on each [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance that hosts [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases restored by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] log shipping jobs.</span></span>  
  
-   <span data-ttu-id="51e62-111">Configurer un [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] connexion de compte pour cet utilisateur et affectez cet utilisateur au rôle BizTalk BTS_BACKUP_USERS SQL sur chaque serveur.</span><span class="sxs-lookup"><span data-stu-id="51e62-111">Configure a [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] login account for this user, and assign this user to the BizTalk BTS_BACKUP_USERS SQL role on each server.</span></span>  
  
-   <span data-ttu-id="51e62-112">Affectez cet utilisateur à la [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] rôle des administrateurs système sur l’ordinateur exécutant [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] qui héberge le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] base de données de gestion.</span><span class="sxs-lookup"><span data-stu-id="51e62-112">Assign this user to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] System Administrators role on the computer running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] that houses the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] management database.</span></span>  
  
-   <span data-ttu-id="51e62-113">Le compte qui effectue la sauvegarde et de restauration doivent disposer les opérations de lecture et d’accès en écriture pour le chemin UNC partagent où sont créés les fichiers de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="51e62-113">The account that performs backup and restore operations must have Read and Write access to the UNC share where backup files are created.</span></span>