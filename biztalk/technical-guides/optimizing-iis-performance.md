---
title: Optimisation des performances de IIS | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 6722a2ee-3704-4aaa-9b0d-cef97bcb9a04
caps.latest.revision: "10"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a5b8cae6700328c68c8b6113c8719cf14f76a22c
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="optimizing-iis-performance"></a><span data-ttu-id="905ec-102">Optimisation des performances d’IIS</span><span class="sxs-lookup"><span data-stu-id="905ec-102">Optimizing IIS Performance</span></span>
## <a name="apply-iis-configuration-options-to-improve-iis-performance"></a><span data-ttu-id="905ec-103">Appliquer les options de configuration d’IIS pour améliorer les performances d’IIS</span><span class="sxs-lookup"><span data-stu-id="905ec-103">Apply IIS configuration options to improve IIS performance</span></span>  
 <span data-ttu-id="905ec-104">Internet Information Services (IIS) expose de nombreux paramètres de configuration qui affectent les performances d’IIS.</span><span class="sxs-lookup"><span data-stu-id="905ec-104">Internet Information Services (IIS) exposes numerous configuration parameters that affect IIS performance.</span></span> <span data-ttu-id="905ec-105">Cette rubrique décrit plusieurs de ces paramètres et fournit des indications générales pour définir les valeurs de paramètre pour améliorer les performances d’IIS.</span><span class="sxs-lookup"><span data-stu-id="905ec-105">This topic describes several of these parameters and provides general guidance for setting the parameter values to improve IIS performance.</span></span>  
  
### <a name="log-only-essential-information-or-completely-disable-iis-logging"></a><span data-ttu-id="905ec-106">Ouvrez une session uniquement les informations essentielles ou désactiver la journalisation IIS</span><span class="sxs-lookup"><span data-stu-id="905ec-106">Log only essential information or completely disable IIS logging</span></span>  
 <span data-ttu-id="905ec-107">Journalisation IIS doit être réduite ou même désactivée dans un environnement de production.</span><span class="sxs-lookup"><span data-stu-id="905ec-107">IIS logging should be minimized or even disabled in a production environment.</span></span> <span data-ttu-id="905ec-108">Pour désactiver la journalisation, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="905ec-108">To disable logging follow these steps:</span></span>  
  
1.  <span data-ttu-id="905ec-109">Cliquez sur **Démarrer**, pointez sur **tous les programmes**, cliquez sur **outils d’administration**, puis cliquez sur **Gestionnaire des Services Internet (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="905ec-109">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
2.  <span data-ttu-id="905ec-110">Dans le **connexions** volet, développez **Sites**, cliquez pour sélectionner le site Web pour lequel vous souhaitez désactiver la journalisation, puis activez **affichage des fonctionnalités**, puis Double-cliquez sur le **journalisation** fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="905ec-110">In the **Connections** pane, click to expand **Sites**, click to select the Web site for which you would like to disable logging, click to select **Features View**, and then double-click the **Logging** feature.</span></span>  
  
3.  <span data-ttu-id="905ec-111">Cliquez sur **désactiver** dans les **Actions** volet pour désactiver la journalisation pour ce site Web.</span><span class="sxs-lookup"><span data-stu-id="905ec-111">Click **Disable** in the **Actions** pane to disable logging for this Web site.</span></span>  
  
### <a name="disable-iis-asp-debugging-in-production-environments"></a><span data-ttu-id="905ec-112">Désactiver le débogage des IIS ASP dans les environnements de production</span><span class="sxs-lookup"><span data-stu-id="905ec-112">Disable IIS ASP debugging in production environments</span></span>  
 <span data-ttu-id="905ec-113">Le débogage ASP d’IIS doit être désactivé dans un environnement de production.</span><span class="sxs-lookup"><span data-stu-id="905ec-113">IIS ASP debugging should be disabled in a production environment.</span></span> <span data-ttu-id="905ec-114">Pour désactiver IIS ASP débogage procédez comme suit : dans le **connexions** volet, développez **Sites**, cliquez pour sélectionner le site web pour lequel vous souhaitez désactiver le débogage ASP, activez la case à cocher **Affichage des fonctionnalités**, puis double-cliquez sur le **ASP** fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="905ec-114">To disable IIS ASP debugging follow these steps: In the **Connections** pane, click to expand **Sites**, click to select the web site for which you would like to disable ASP debugging, click to select **Features View**, and then double-click the **ASP** feature.</span></span> <span data-ttu-id="905ec-115">Cliquez pour développer **Compilation**, cliquez pour développer **propriétés de débogage**et vérifiez que les deux **activer le débogage du côté Client** et **activer côté serveur Débogage** sont définies sur **False**.</span><span class="sxs-lookup"><span data-stu-id="905ec-115">Click to expand **Compilation**, click to expand **Debugging Properties**, and verify that both **Enable Client-side Debugging** and **Enable Server-side Debugging** are set to **False**.</span></span>  
  
1.  <span data-ttu-id="905ec-116">Cliquez sur **Démarrer**, pointez sur **tous les programmes**, cliquez sur **outils d’administration**, puis cliquez sur **Gestionnaire des Services Internet (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="905ec-116">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
2.  <span data-ttu-id="905ec-117">Dans le **connexions** volet, développez **Sites**, cliquez pour sélectionner le site web pour lequel vous souhaitez désactiver le débogage ASP, activez **affichage des fonctionnalités**, puis Double-cliquez sur le **ASP** fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="905ec-117">In the **Connections** pane, click to expand **Sites**, click to select the web site for which you would like to disable ASP debugging, click to select **Features View**, and then double-click the **ASP** feature.</span></span>  
  
3.  <span data-ttu-id="905ec-118">Cliquez pour développer **Compilation**, cliquez pour développer **propriétés de débogage**et vérifiez que les deux **activer le débogage du côté Client** et **activer côté serveur Débogage** sont définies sur **False**.</span><span class="sxs-lookup"><span data-stu-id="905ec-118">Click to expand **Compilation**, click to expand **Debugging Properties**, and verify that both **Enable Client-side Debugging** and **Enable Server-side Debugging** are set to **False**.</span></span>  
  
4.  <span data-ttu-id="905ec-119">Si nécessaire, cliquez sur **appliquer** dans les **Actions** volet.</span><span class="sxs-lookup"><span data-stu-id="905ec-119">If necessary, click **Apply** in the **Actions** pane.</span></span>  
  
 <span data-ttu-id="905ec-120">Désactiver le débogage des Applications ASP.NET et les Services Web en spécifiant le \<débogage de compilation = « false » / > section dans le fichier web.config de l’application web.</span><span class="sxs-lookup"><span data-stu-id="905ec-120">Disable debugging for ASP.NET Applications and Web Services by specifying the \<compilation debug="false"/> section in the web.config file for the web application.</span></span>  
  
### <a name="tune-the-value-of-the-asp-threads-per-processor-limit-property"></a><span data-ttu-id="905ec-121">Régler la valeur de la propriété limite ASP de Threads par processeur</span><span class="sxs-lookup"><span data-stu-id="905ec-121">Tune the value of the ASP Threads Per Processor Limit property</span></span>  
 <span data-ttu-id="905ec-122">ASP **limite de Threads par processeur** propriété spécifie le nombre maximal de threads de travail par processeur créés par IIS.</span><span class="sxs-lookup"><span data-stu-id="905ec-122">The ASP **Threads Per Processor Limit** property specifies the maximum number of worker threads per processor that IIS creates.</span></span> <span data-ttu-id="905ec-123">Augmentez la valeur de la limite de Threads par processeur jusqu'à ce que l’utilisation du processeur soit au moins 50 pour cent ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="905ec-123">Increase the value for the Threads Per Processor Limit until the processor utilization meets at least 50 percent or above.</span></span> <span data-ttu-id="905ec-124">Ce paramètre peut affecter fortement l’évolutivité de vos applications Web et les performances de votre serveur en général.</span><span class="sxs-lookup"><span data-stu-id="905ec-124">This setting can dramatically influence the scalability of your Web applications and the performance of your server in general.</span></span> <span data-ttu-id="905ec-125">Étant donné que cette propriété définit le nombre maximal de demandes ASP pouvant s’exécuter simultanément, ce paramètre doit conserver la valeur par défaut, sauf si vos applications ASP effectuent des appels de longue durée vers des composants externes.</span><span class="sxs-lookup"><span data-stu-id="905ec-125">Because this property defines the maximum number of ASP requests that can execute simultaneously, this setting should remain at the default value unless your ASP applications are making extended calls to external components.</span></span> <span data-ttu-id="905ec-126">Dans ce cas, vous pouvez augmenter la valeur de limite de Threads par processeur.</span><span class="sxs-lookup"><span data-stu-id="905ec-126">In this case, you may increase the value of Threads Per Processor Limit.</span></span> <span data-ttu-id="905ec-127">Ainsi, le serveur pour créer des threads supplémentaires pour gérer plus de demandes simultanées.</span><span class="sxs-lookup"><span data-stu-id="905ec-127">Doing so allows the server to create more threads to handle more concurrent requests.</span></span> <span data-ttu-id="905ec-128">La valeur par défaut de la limite de Threads par processeur est 25.</span><span class="sxs-lookup"><span data-stu-id="905ec-128">The default value of Threads Per Processor Limit is 25.</span></span> <span data-ttu-id="905ec-129">La valeur maximale recommandée pour cette propriété est 100.</span><span class="sxs-lookup"><span data-stu-id="905ec-129">The maximum recommended value for this property is 100.</span></span>  
  
 <span data-ttu-id="905ec-130">Pour augmenter la valeur de la limite de Threads par processeur, procédez comme suit : dans le **connexions** volet, sélectionnez le serveur web, puis activez **affichage des fonctionnalités**, puis double-cliquez sur le  **ASP** fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="905ec-130">To increase the value for the Threads Per Processor Limit follow these steps:In the **Connections** pane, select the web server, click to select **Features View**, and then double-click the **ASP** feature.</span></span>  
  
1.  <span data-ttu-id="905ec-131">Cliquez sur **Démarrer**, pointez sur **tous les programmes**, cliquez sur **outils d’administration**, puis cliquez sur **Gestionnaire des Services Internet (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="905ec-131">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
2.  <span data-ttu-id="905ec-132">Dans le **connexions** volet, sélectionnez le serveur web, puis activez **affichage des fonctionnalités**, puis double-cliquez sur le **ASP** fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="905ec-132">In the **Connections** pane, select the web server, click to select **Features View**, and then double-click the **ASP** feature.</span></span>  
  
3.  <span data-ttu-id="905ec-133">Cliquez pour développer **propriétés relatives aux limites** sous **comportement**, cliquez sur **limite de Threads par processeur**, entrez la valeur souhaitée pour **limite de Threads par processeur**  et cliquez sur **appliquer** dans les **Actions** volet.</span><span class="sxs-lookup"><span data-stu-id="905ec-133">Click to expand **Limits Properties** under **Behavior**, click **Threads Per Processor Limit**, enter the desired value for **Threads Per Processor Limit** and click **Apply** in the **Actions** pane.</span></span>  
  
 <span data-ttu-id="905ec-134">Pour plus d’informations sur la façon de modifier les propriétés dans le \<limites > élément d’IIS 7.5/7.0 \<asp > élément, consultez [limites d’ASP. \<limites >](http://go.microsoft.com/fwlink/?LinkId=157483) (http://go.microsoft.com/fwlink/?LinkId=157483).</span><span class="sxs-lookup"><span data-stu-id="905ec-134">For more information about how to modify the properties in the \<limits> element of the IIS 7.5/7.0 \<asp> element, see [ASP Limits \<limits>](http://go.microsoft.com/fwlink/?LinkId=157483) (http://go.microsoft.com/fwlink/?LinkId=157483).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="905ec-135">Cette propriété peut uniquement être appliqué au niveau du serveur, la modification de cette propriété affecte tous les sites Web qui s’exécutent sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="905ec-135">Because this property can only be applied at the server level, modification of this property affects all Web sites that run on the server.</span></span>  
  
### <a name="tune-the-value-of-the-asp-queue-length-property"></a><span data-ttu-id="905ec-136">Régler la valeur de la propriété de longueur de file d’attente ASP</span><span class="sxs-lookup"><span data-stu-id="905ec-136">Tune the value of the ASP Queue Length property</span></span>  
 <span data-ttu-id="905ec-137">L’objectif du paramétrage de cette propriété est pour garantir des temps de réponse tout en réduisant la fréquence à laquelle le serveur envoie l’erreur HTTP 503 (serveur encombré) aux clients lorsque la file d’attente de demandes ASP est pleine.</span><span class="sxs-lookup"><span data-stu-id="905ec-137">The goal of tuning this property is to ensure good response time while minimizing how often the server sends the HTTP 503 (Server Too Busy) error to clients when the ASP request queue is full.</span></span> <span data-ttu-id="905ec-138">Si la valeur de propriété de longueur de file d’attente ASP est trop faible, le serveur envoie l’erreur HTTP 503 avec une fréquence supérieure.</span><span class="sxs-lookup"><span data-stu-id="905ec-138">If the value of ASP Queue Length property is too low, the server will send the HTTP 503 error with greater frequency.</span></span> <span data-ttu-id="905ec-139">Si la valeur de propriété de longueur de file d’attente ASP est trop élevée, les utilisateurs peuvent percevoir que le serveur ne répond pas alors qu’en fait que la demande est en attente dans la file d’attente.</span><span class="sxs-lookup"><span data-stu-id="905ec-139">If the value of ASP Queue Length property is too high, users might perceive that the server is not responding when in fact their request is waiting in the queue.</span></span> <span data-ttu-id="905ec-140">En surveillant la file d’attente pendant les périodes de trafic élevé, vous devez discerner un modèle de pics de demande web et des creux.</span><span class="sxs-lookup"><span data-stu-id="905ec-140">By watching the queue during periods of high traffic, you should discern a pattern of web request peaks and valleys.</span></span> <span data-ttu-id="905ec-141">Notez la valeur de crête et définissez la valeur de la propriété de longueur de file d’attente ASP juste au-dessus de la valeur maximale.</span><span class="sxs-lookup"><span data-stu-id="905ec-141">Make note of the peak value, and set the value of the ASP Queue Length property just above the peak value.</span></span> <span data-ttu-id="905ec-142">Utiliser la file d’attente pour gérer les pics à court terme, vérifiez les temps de réponse et limiter le système pour éviter la surcharge de subi, inattendue des pics se produisent.</span><span class="sxs-lookup"><span data-stu-id="905ec-142">Use the queue to handle short-term spikes, ensure response time, and throttle the system to avoid overload when sustained, unexpected spikes occur.</span></span> <span data-ttu-id="905ec-143">Si vous n’avez pas de données pour le réglage de la propriété de longueur de file d’attente ASP, un bon point de départ sera pour définir un rapport de files d’attente de 1 au nombre total de threads.</span><span class="sxs-lookup"><span data-stu-id="905ec-143">If you do not have data for adjusting the ASP Queue Length property, a good starting point will be to set a one-to-one ratio of queues to total threads.</span></span> <span data-ttu-id="905ec-144">Par exemple, si la propriété ASP Threads par processeur limite est définie à 25 et que vous disposez de quatre processeurs (4 * 25 = 100 threads), la valeur de la propriété de longueur de file d’attente ASP 100 et au paramétrage à partir de là.</span><span class="sxs-lookup"><span data-stu-id="905ec-144">For example, if the ASP Threads Per Processor Limit property is set to 25 and you have four processors (4 * 25 = 100 threads), set the ASP Queue Length property to 100 and tune from there.</span></span>  
  
 <span data-ttu-id="905ec-145">Pour augmenter la valeur de la longueur de file d’attente de propriété, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="905ec-145">To increase the value for the Queue Length property follow these steps:</span></span>  
  
1.  <span data-ttu-id="905ec-146">Cliquez sur **Démarrer**, pointez sur **tous les programmes**, cliquez sur **outils d’administration**, puis cliquez sur **Gestionnaire des Services Internet (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="905ec-146">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
2.  <span data-ttu-id="905ec-147">Dans le **connexions** volet, sélectionnez le serveur Web, puis activez **affichage des fonctionnalités**, puis double-cliquez sur le **ASP** fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="905ec-147">In the **Connections** pane, select the Web server, click to select **Features View**, and then double-click the **ASP** feature.</span></span>  
  
3.  <span data-ttu-id="905ec-148">Cliquez pour développer **propriétés relatives aux limites** sous **comportement**, cliquez sur **longueur de file d’attente**, entrez la valeur souhaitée pour **longueur de file d’attente** , puis Cliquez sur **appliquer** dans les **Actions** volet.</span><span class="sxs-lookup"><span data-stu-id="905ec-148">Click to expand **Limits Properties** under **Behavior**, click **Queue Length**, enter the desired value for **Queue Length** and then click **Apply** in the **Actions** pane.</span></span>  
  
 <span data-ttu-id="905ec-149">Pour plus d’informations sur la façon de modifier les propriétés dans le \<limites > élément d’IIS 7.5/7.0 \<asp > élément, consultez [limites d’ASP. \<limites >](http://go.microsoft.com/fwlink/?LinkId=157483) (http://go.microsoft.com/fwlink/?LinkId=157483).</span><span class="sxs-lookup"><span data-stu-id="905ec-149">For more information about how to modify the properties in the \<limits> element of the IIS 7.5/7.0 \<asp> element, see [ASP Limits \<limits>](http://go.microsoft.com/fwlink/?LinkId=157483) (http://go.microsoft.com/fwlink/?LinkId=157483).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="905ec-150">Cette propriété peut uniquement être appliqué au niveau du serveur, la modification de cette propriété affecte tous les sites Web qui s’exécutent sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="905ec-150">Because this property can only be applied at the server level, modification of this property affects all Web sites that run on the server.</span></span>  
  
### <a name="tune-the-maxpoolthreads-registry-entry"></a><span data-ttu-id="905ec-151">Paramétrer l’entrée de Registre MaxPoolThreads</span><span class="sxs-lookup"><span data-stu-id="905ec-151">Tune the MaxPoolThreads registry entry</span></span>  
 <span data-ttu-id="905ec-152">Ce paramètre spécifie le nombre de threads du pool à créer par processeur.</span><span class="sxs-lookup"><span data-stu-id="905ec-152">This setting specifies the number of pool threads to create per processor.</span></span> <span data-ttu-id="905ec-153">Threads de pool attendent le demandes réseau et traitent les demandes entrantes.</span><span class="sxs-lookup"><span data-stu-id="905ec-153">Pool threads watch the network for requests and process incoming requests.</span></span> <span data-ttu-id="905ec-154">Le compteur MaxPoolThreads n’inclut pas les threads qui sont consommés par les applications ISAPI.</span><span class="sxs-lookup"><span data-stu-id="905ec-154">The MaxPoolThreads count does not include threads that are consumed by ISAPI applications.</span></span> <span data-ttu-id="905ec-155">En règle générale, vous ne devez pas créer plus de 20 threads par processeur.</span><span class="sxs-lookup"><span data-stu-id="905ec-155">Generally, you should not create more than 20 threads per processor.</span></span> <span data-ttu-id="905ec-156">MaxPoolThreads correspond à une entrée de Registre REG_DWORD située HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\InetInfo\Parameters\ avec une valeur par défaut de 4.</span><span class="sxs-lookup"><span data-stu-id="905ec-156">MaxPoolThreads is a REG_DWORD registry entry located at HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\InetInfo\Parameters\ with a default value of 4.</span></span>  
  
### <a name="disable-wcf-services-tracing"></a><span data-ttu-id="905ec-157">Désactiver les services WCF de suivi</span><span class="sxs-lookup"><span data-stu-id="905ec-157">Disable WCF services tracing</span></span>  
 <span data-ttu-id="905ec-158">Utilisez l’outil Éditeur de Configuration (SvcConfigEditor.exe) pour désactiver les services WCF de traçage dans un environnement de production.</span><span class="sxs-lookup"><span data-stu-id="905ec-158">Use the Configuration Editor Tool (SvcConfigEditor.exe) to disable WCF services tracing in a production environment.</span></span> <span data-ttu-id="905ec-159">Pour plus d’informations sur l’outil Éditeur de Configuration, consultez [l’outil Éditeur de Configuration (SvcConfigEditor.exe)](http://go.microsoft.com/fwlink/?LinkID=127070) (http://go.microsoft.com/fwlink/?LinkID=127070).</span><span class="sxs-lookup"><span data-stu-id="905ec-159">For more information about the Configuration Editor Tool, see [Configuration Editor Tool (SvcConfigEditor.exe)](http://go.microsoft.com/fwlink/?LinkID=127070) (http://go.microsoft.com/fwlink/?LinkID=127070).</span></span>  
  
### <a name="configure-aspnet-20-maxconcurrentrequests-for-iis-7570-integrated-mode"></a><span data-ttu-id="905ec-160">Configurez ASP.NET 2.0 MaxConcurrentRequests en mode intégré de IIS 7.0/7.5</span><span class="sxs-lookup"><span data-stu-id="905ec-160">Configure ASP.NET 2.0 MaxConcurrentRequests for IIS 7.5/7.0 Integrated mode</span></span>  
 <span data-ttu-id="905ec-161">Lorsque ASP.NET 2.0 est hébergé sur IIS 7.5/7.0 en Mode intégré, l’utilisation de threads est gérée différemment que sur IIS 7.5/7.0 en Mode classique.</span><span class="sxs-lookup"><span data-stu-id="905ec-161">When ASP.NET 2.0 is hosted on IIS 7.5/7.0 in Integrated Mode, the use of threads is handled differently than on IIS 7.5/7.0 in Classic Mode.</span></span> <span data-ttu-id="905ec-162">Lorsque ASP.NET 2.0 est hébergé sur IIS 7.5 en mode intégré, ASP.NET 2.0 limite le nombre de demandes au lieu du nombre de threads qui s’exécutent simultanément des demandes de manière simultanée.</span><span class="sxs-lookup"><span data-stu-id="905ec-162">When ASP.NET 2.0 is hosted on IIS 7.5 in Integrated mode, ASP.NET 2.0 restricts the number of concurrently executing requests instead of the number of threads concurrently executing requests.</span></span> <span data-ttu-id="905ec-163">Pour des scénarios synchrones, cela indirectement limite le nombre de threads, car le nombre de demandes sera le même que le nombre de threads.</span><span class="sxs-lookup"><span data-stu-id="905ec-163">For synchronous scenarios, this will indirectly limit the number of threads because the number of requests will be the same as the number of threads.</span></span> <span data-ttu-id="905ec-164">Mais pour des scénarios asynchrones, le nombre de demandes et les threads seront probablement très différent, car vous pourriez avoir beaucoup plus de requêtes que de threads.</span><span class="sxs-lookup"><span data-stu-id="905ec-164">But for asynchronous scenarios, the number of requests and threads will likely be very different because you could have far more requests than threads.</span></span> <span data-ttu-id="905ec-165">Lorsque vous exécutez ASP.NET 2.0 sur IIS 7.5 en mode intégré, les minFreeThreads minLocalRequestFreeThreads de l’élément « httpRuntime » dans le fichier machine.config sont ignorés.</span><span class="sxs-lookup"><span data-stu-id="905ec-165">When you run ASP.NET 2.0 on IIS 7.5 in integrated mode, the minFreeThreads and minLocalRequestFreeThreads of the “httpRuntime” element in the machine.config are ignored.</span></span> <span data-ttu-id="905ec-166">Pour le mode intégré d’IIS 7.5, une valeur DWORD nommé MaxConcurrentRequestsPerCPU dans HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0 détermine le nombre de requêtes simultanées par UC.</span><span class="sxs-lookup"><span data-stu-id="905ec-166">For IIS 7.5 Integrated mode, a DWORD named MaxConcurrentRequestsPerCPU within HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0 determines the number of concurrent requests per CPU.</span></span> <span data-ttu-id="905ec-167">Par défaut, la clé de Registre n’existe pas et le nombre de demandes par UC est limité à 12.</span><span class="sxs-lookup"><span data-stu-id="905ec-167">By default, the registry key does not exist and the number of requests per CPU is limited to 12.</span></span> <span data-ttu-id="905ec-168">.NET framework 3.5 SP1 inclut une mise à jour les fichiers binaires v2.0 qui prend en charge la configuration des pools d’applications IIS via le fichier aspnet.config.</span><span class="sxs-lookup"><span data-stu-id="905ec-168">.NET Framework 3.5 SP1 includes an update to the v2.0 binaries that supports configuring IIS application pools via the aspnet.config file.</span></span> <span data-ttu-id="905ec-169">Cette configuration s’applique au mode intégré uniquement (le mode classique/ISAPI ignore ces paramètres). La nouvelle section de configuration aspnet.config avec les valeurs par défaut est indiquée ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="905ec-169">This configuration applies to integrated mode only (Classic/ISAPI mode ignores these settings).The new aspnet.config config section with default values is listed below:</span></span>  
  
```  
<system.web>  
   <applicationPool maxConcurrentRequestsPerCPU="12" maxConcurrentThreadsPerCPU="0" requestQueueLimit="5000"/>  
</system.web>  
```  
  
 <span data-ttu-id="905ec-170">En Mode intégré de IIS 7.5, le maxWorkerThreads et maxIoThreads paramètres dans la section « processModel » du fichier machine.config ne sont pas utilisées pour régir le nombre de l’exécution de requêtes, soi, mais ils sont toujours utilisés pour régir la taille du pool de threads CLR utilisé par ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="905ec-170">In IIS 7.5 Integrated Mode, the maxWorkerThreads and the maxIoThreads parameters in the “processModel” section of the machine.config file are not used to govern the number of running requests, per se, but they are still used to govern the size of the CLR thread pool used by ASP.NET.</span></span> <span data-ttu-id="905ec-171">Lorsque la section « processModel » du fichier machine.config a « autoConfig = true » (qui est le paramètre par défaut), cela donne le pool d’applications jusqu'à 100 threads de travail (MaxWorkerThreads) par processeur logique.</span><span class="sxs-lookup"><span data-stu-id="905ec-171">When the “processModel” section of the machine.config has “autoConfig=true” (which is the default setting), this will give the application pool up to 100 worker threads (MaxWorkerThreads) per logical CPU.</span></span> <span data-ttu-id="905ec-172">Par conséquent, un serveur marchandise commun avec 2 processeurs double cœur aurait 400 MaxWorkerThreads.</span><span class="sxs-lookup"><span data-stu-id="905ec-172">So a common commodity server with 2 dual-core CPUs would have 400 MaxWorkerThreads.</span></span> <span data-ttu-id="905ec-173">Cela doit être suffisante pour toutes les applications les plus exigeantes.</span><span class="sxs-lookup"><span data-stu-id="905ec-173">This should be sufficient for all but the most demanding applications.</span></span>  
  
 <span data-ttu-id="905ec-174">Pour plus d’informations sur la configuration de l’utilisation de Thread ASP.NET sur IIS 7.5, consultez [Blog de Thomas Marquardt sur l’utilisation de Thread ASP.NET sur IIS 7.0](http://go.microsoft.com/fwlink/?LinkId=157518) (http://go.microsoft.com/fwlink/?LinkId=157518).</span><span class="sxs-lookup"><span data-stu-id="905ec-174">For more information about configuring ASP.NET Thread Usage on IIS 7.5, see [Thomas Marquardt's Blog on ASP.NET Thread Usage on IIS 7.0](http://go.microsoft.com/fwlink/?LinkId=157518) (http://go.microsoft.com/fwlink/?LinkId=157518).</span></span>  
  
### <a name="configure-aspnet-4-maxconcurrentrequests-for-iis-7570-integrated-mode"></a><span data-ttu-id="905ec-175">Configurez ASP.NET 4 MaxConcurrentRequests en mode intégré d’IIS 7.0/7.5</span><span class="sxs-lookup"><span data-stu-id="905ec-175">Configure ASP.NET 4 MaxConcurrentRequests for IIS 7.5/7.0 Integrated mode</span></span>  
 <span data-ttu-id="905ec-176">.NET Framework 4, le paramètre par défaut pour maxConcurrentRequestsPerCPU la valeur est de 5 000, ce qui constitue un très grand nombre et par conséquent permettra beaucoup de demandes asynchrones à s’exécuter simultanément.</span><span class="sxs-lookup"><span data-stu-id="905ec-176">With .NET Framework 4, the default setting for maxConcurrentRequestsPerCPU is 5000 which is a very large number and therefore will allow plenty of asynchronous requests to execute concurrently.</span></span> <span data-ttu-id="905ec-177">Pour plus d’informations, consultez [ \<applicationPool >, élément (paramètres Web)](http://go.microsoft.com/fwlink/?LinkID=205339) (http://go.microsoft.com/fwlink/?LinkID=205339).</span><span class="sxs-lookup"><span data-stu-id="905ec-177">For more information, see [\<applicationPool> Element (Web Settings)](http://go.microsoft.com/fwlink/?LinkID=205339) (http://go.microsoft.com/fwlink/?LinkID=205339).</span></span>  
  
 <span data-ttu-id="905ec-178">Pour le mode intégré d’IIS 7.0/7.5, une valeur DWORD nommé MaxConcurrentRequestsPerCPU dans HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0 détermine le nombre de requêtes simultanées par UC.</span><span class="sxs-lookup"><span data-stu-id="905ec-178">For IIS 7.5/7.0 Integrated mode, a DWORD named MaxConcurrentRequestsPerCPU within HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0 determines the number of concurrent requests per CPU.</span></span> <span data-ttu-id="905ec-179">Par défaut, la clé de Registre n’existe pas et le nombre de demandes par UC est limité à 5000.</span><span class="sxs-lookup"><span data-stu-id="905ec-179">By default, the registry key does not exist and the number of requests per CPU is limited to 5000.</span></span>  
  
### <a name="enable-iis-http-compression"></a><span data-ttu-id="905ec-180">Activer la compression HTTP de IIS</span><span class="sxs-lookup"><span data-stu-id="905ec-180">Enable IIS HTTP compression</span></span>  
 <span data-ttu-id="905ec-181">Pour utiliser plus efficacement la bande passante disponible, activez la compression HTTP de IIS.</span><span class="sxs-lookup"><span data-stu-id="905ec-181">To more efficiently use available bandwidth, enable IIS HTTP compression.</span></span> <span data-ttu-id="905ec-182">La compression HTTP fournit la durée de transmission plus rapide entre les navigateurs prenant en charge la compression et les services IIS, quelle que soit la si votre contenu est pris en charge à partir de stockage local ou d’une ressource UNC.</span><span class="sxs-lookup"><span data-stu-id="905ec-182">HTTP compression provides faster transmission time between compression-enabled browsers and IIS, regardless of whether your content is served from local storage or a UNC resource.</span></span>  
  
-   <span data-ttu-id="905ec-183">**Pour configurer la compression au niveau du serveur Web :**</span><span class="sxs-lookup"><span data-stu-id="905ec-183">**To configure compression at the Web server level:**</span></span>  
  
    1.  <span data-ttu-id="905ec-184">Cliquez sur **Démarrer**, pointez sur **tous les programmes**, cliquez sur **outils d’administration**, puis cliquez sur **Gestionnaire des Services Internet (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="905ec-184">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
    2.  <span data-ttu-id="905ec-185">Dans le **connexions** volet, sélectionnez le serveur Web, puis activez **affichage des fonctionnalités**, puis double-cliquez sur le **Compression** fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="905ec-185">In the **Connections** pane, select the Web server, click to select **Features View**, and then double-click the **Compression** feature.</span></span>  
  
    3.  <span data-ttu-id="905ec-186">Définir les options de compression souhaité, puis **appliquer** dans les **Actions** volet.</span><span class="sxs-lookup"><span data-stu-id="905ec-186">Set the desired compression options and then click **Apply** in the **Actions** pane.</span></span>  
  
-   <span data-ttu-id="905ec-187">**Pour configurer la compression au niveau du site Web :**</span><span class="sxs-lookup"><span data-stu-id="905ec-187">**To configure compression at the Web site level:**</span></span>  
  
    1.  <span data-ttu-id="905ec-188">Cliquez sur **Démarrer**, pointez sur **tous les programmes**, cliquez sur **outils d’administration**, puis cliquez sur **Gestionnaire des Services Internet (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="905ec-188">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
    2.  <span data-ttu-id="905ec-189">Dans le **connexions** volet, développez **Sites**, sélectionnez le site Web pour lequel vous souhaitez configurer la compression, sélectionnez **affichage des fonctionnalités**, et puis double-cliquez sur le **Compression** fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="905ec-189">In the **Connections** pane, click to expand **Sites**, click to select the Web site for which you would like to configure compression, click to select **Features View**, and then double-click the **Compression** feature.</span></span>  
  
    3.  <span data-ttu-id="905ec-190">Définir les options de compression souhaité, puis **appliquer** dans les **Actions** volet.</span><span class="sxs-lookup"><span data-stu-id="905ec-190">Set the desired compression options and then click **Apply** in the **Actions** pane.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="905ec-191">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="905ec-191">See Also</span></span>  
 [<span data-ttu-id="905ec-192">Optimisation des performances</span><span class="sxs-lookup"><span data-stu-id="905ec-192">Optimizing Performance</span></span>](../technical-guides/optimizing-performance.md)