---
title: "Scénario de faible latence Optimizations1 | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: cd2a891a-ee4b-4542-b3ce-434e2a6474be
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 12f16f67f1c161f74e6a9179db8c85f48b5b3e14
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/01/2017
---
# <a name="low-latency-scenario-optimizations"></a><span data-ttu-id="2187f-102">Optimisations de scénario de faible latence</span><span class="sxs-lookup"><span data-stu-id="2187f-102">Low-Latency Scenario Optimizations</span></span>
<span data-ttu-id="2187f-103">Par défaut, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] est optimisé pour le débit plutôt que de faible latence.</span><span class="sxs-lookup"><span data-stu-id="2187f-103">By default, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is optimized for throughput rather than low-latency.</span></span> <span data-ttu-id="2187f-104">Les optimisations suivantes ont été appliquées à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour le scénario de test utilisé dans ce guide.</span><span class="sxs-lookup"><span data-stu-id="2187f-104">The following optimizations were applied to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] for the test scenario used for this guide.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2187f-105">Ces optimisations améliorent les temps de latence, mais peuvent le faire à un coût pour le débit global.</span><span class="sxs-lookup"><span data-stu-id="2187f-105">These optimizations will improve latency but may do so at some cost to overall throughput.</span></span>  
  
## <a name="increase-the-biztalk-server-host-internal-message-queue-size"></a><span data-ttu-id="2187f-106">Augmenter la taille de file d’attente de messages interne hôte BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="2187f-106">Increase the BizTalk Server host internal message queue size</span></span>  
 <span data-ttu-id="2187f-107">Chaque hôte de BizTalk possède sa propre file d’attente en mémoire interne.</span><span class="sxs-lookup"><span data-stu-id="2187f-107">Each BizTalk host has its own internal in-memory queue.</span></span> <span data-ttu-id="2187f-108">Augmenter la taille de cette file d’attente à partir de la valeur par défaut de 100 à 1000 pour améliorer les performances d’un scénario à faible latence.</span><span class="sxs-lookup"><span data-stu-id="2187f-108">Increase the size of this queue from the default value of 100 to 1000 to improve performance for a low-latency scenario.</span></span> <span data-ttu-id="2187f-109">Pour plus d’informations sur la modification de la valeur de la taille de file d’attente de messages interne, consultez « Comment pour modifier les paramètres par défaut hôte limitation » dans l’aide de BizTalk Server à [http://go.microsoft.com/fwlink/?LinkID=120225](http://go.microsoft.com/fwlink/?LinkID=120225).</span><span class="sxs-lookup"><span data-stu-id="2187f-109">For more information about modifying the value of the internal message queue size, see “How to Modify the Default Host Throttling Settings” in the BizTalk Server help at [http://go.microsoft.com/fwlink/?LinkID=120225](http://go.microsoft.com/fwlink/?LinkID=120225).</span></span>  
  
## <a name="reduce-the-maxreceiveinterval-value-in-the-admserviceclass-table-of-the-biztalk-server-management-database"></a><span data-ttu-id="2187f-110">Réduisez la valeur MaxReceiveInterval dans la table adm_ServiceClass de la base de données de gestion BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="2187f-110">Reduce the MaxReceiveInterval value in the adm_ServiceClass table of the BizTalk Server management database</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="2187f-111">utilise un mécanisme d’interrogation pour recevoir des messages à partir de ses files d’attente de l’ordinateur hôte dans la Messagebox.</span><span class="sxs-lookup"><span data-stu-id="2187f-111"> uses a polling mechanism to receive messages from its host queues in the Messagebox.</span></span> <span data-ttu-id="2187f-112">Le **MaxReceiveInterval** valeur dans la table adm_ServiceClass de la base de données de gestion BizTalk (BizTalkMgmtDb) est la valeur maximale, en millisecondes que chaque instance d’hôte BizTalk doit attendre jusqu'à ce qu’il interroge la MessageBox.</span><span class="sxs-lookup"><span data-stu-id="2187f-112">The **MaxReceiveInterval** value in the adm_ServiceClass table of the BizTalk Management (BizTalkMgmtDb) database is the maximum value in milliseconds that each BizTalk host instance will wait until it polls the MessageBox.</span></span> <span data-ttu-id="2187f-113">La table adm_ServiceClass contient un enregistrement pour les types de service suivants :</span><span class="sxs-lookup"><span data-stu-id="2187f-113">The adm_ServiceClass table contains a record for the following service types:</span></span>  
  
-   <span data-ttu-id="2187f-114">**XLANG/S** – pour les instances d’hôte d’orchestration BizTalk</span><span class="sxs-lookup"><span data-stu-id="2187f-114">**XLANG/S** – for BizTalk orchestration host instances</span></span>  
  
-   <span data-ttu-id="2187f-115">**Messagerie InProcess** – pour les instances d’hôte in-process</span><span class="sxs-lookup"><span data-stu-id="2187f-115">**Messaging InProcess** – for in-process host instances</span></span>  
  
-   <span data-ttu-id="2187f-116">**MSMQT** – pour les instances d’hôte adaptateur MSMQT</span><span class="sxs-lookup"><span data-stu-id="2187f-116">**MSMQT** – for MSMQT adapter host instances</span></span>  
  
-   <span data-ttu-id="2187f-117">**Messagerie isolée** – pour hors des instances d’hôte de processus, utilisés par le protocole HTTP, SOAP et certaine WCF gestionnaires d’adaptateur de réception</span><span class="sxs-lookup"><span data-stu-id="2187f-117">**Messaging Isolated** – for out of process host instances, used by the HTTP, SOAP, and certain WCF receive adapter handlers</span></span>  
  
 <span data-ttu-id="2187f-118">Par défaut, cette valeur est définie à 500 millisecondes, qui est optimisé pour un débit plutôt que de faible latence.</span><span class="sxs-lookup"><span data-stu-id="2187f-118">By default, this value is set to 500 milliseconds, which is optimized for throughput rather than low-latency.</span></span> <span data-ttu-id="2187f-119">Dans certains scénarios, la latence peut être améliorée en réduisant cette valeur.</span><span class="sxs-lookup"><span data-stu-id="2187f-119">In certain scenarios, latency can be improved by reducing this value.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2187f-120">Modifications apportées à cette valeur avoir un impact sur toutes les instances du type de service associé, par conséquent, prenez soin d’évaluer l’impact sur toutes les instances d’hôte avant de modifier cette valeur.</span><span class="sxs-lookup"><span data-stu-id="2187f-120">Changes to this value impact all instances of the associated service type, therefore, take care to evaluate the impact on all host instances before changing this value.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2187f-121">Cette valeur est utilisée uniquement si la Messagebox n’a aucun message non traité restants.</span><span class="sxs-lookup"><span data-stu-id="2187f-121">This value is only used if the Messagebox has no remaining unprocessed messages.</span></span> <span data-ttu-id="2187f-122">S’il existe une constante en retard de traitement de messages non traités dans la Messagebox, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tente de traiter les messages sans en attente sur le délai d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="2187f-122">If there is a constant backlog of unprocessed messages in the Messagebox, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will attempt to process the messages without waiting on the polling delay.</span></span> <span data-ttu-id="2187f-123">Une fois que tous les messages sont traités, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] commencera interrogation à l’aide de la valeur spécifiée pour MaxReceiveInterval.</span><span class="sxs-lookup"><span data-stu-id="2187f-123">After all messages are processed, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will begin polling using the value specified for MaxReceiveInterval.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2187f-124">Dans un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environnement avec un ratio élevé des instances d’hôte pour les instances de base de données Messagebox, la diminution de la valeur pour MaxReceiveInterval peut provoquer l’utilisation excessive du processeur sur l’ordinateur SQL Server qui héberge l’instance de base de données Messagebox.</span><span class="sxs-lookup"><span data-stu-id="2187f-124">In a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment with a high ratio of host instances to Messagebox database instances, decreasing the value for MaxReceiveInterval may cause excessive CPU utilization on the SQL Server computer that houses the Messagebox database instance.</span></span> <span data-ttu-id="2187f-125">Par exemple, si la MaxReceiveInterval est réduite à une valeur faible (\< 100) dans un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environnement avec une seule Messagebox et les instances d’hôte > 50, l’utilisation du processeur sur le serveur SQL Server peut excéder 50 %.</span><span class="sxs-lookup"><span data-stu-id="2187f-125">For example, if the MaxReceiveInterval is decreased to a low value (\< 100) in a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment with a single Messagebox and > 50 host instances, CPU utilization on the SQL Server may climb above 50%.</span></span> <span data-ttu-id="2187f-126">Ce phénomène peut se produire, car la surcharge liée à l’interrogation en permanence les files d’attente de l’hôte est significative.</span><span class="sxs-lookup"><span data-stu-id="2187f-126">This phenomenon can occur because the overhead associated with continually polling host queues is significant.</span></span> <span data-ttu-id="2187f-127">Si vous réduisez MaxReceiveInterval à une valeur inférieure à 100, vous devez également évaluer l’impact sur l’utilisation du processeur de votre ordinateur SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2187f-127">If you reduce MaxReceiveInterval to a value less than 100, you should also evaluate the impact that this has on your SQL Server computer’s CPU utilization.</span></span>