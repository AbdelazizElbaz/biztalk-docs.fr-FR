---
title: Extension de messages volumineux Message Queuing BizTalk | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- BizTalk Message Queuing Large Message Extension
- utilities, BizTalk Message Queuing Large Message Extension
ms.assetid: 5d6892d3-fda8-41a3-8111-d28c11bd71fb
caps.latest.revision: "11"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 399c8e02d59a931dbf30bfa31ca28980dfa312be
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/01/2017
---
# <a name="biztalk-message-queuing-large-message-extension"></a><span data-ttu-id="8e53e-102">extension de messages volumineux Message Queuing BizTalk</span><span class="sxs-lookup"><span data-stu-id="8e53e-102">BizTalk Message Queuing Large Message Extension</span></span>
<span data-ttu-id="8e53e-103">Natif message queuing ne peut pas traiter un message avec un corps supérieur à 4megabytes (Mo).</span><span class="sxs-lookup"><span data-stu-id="8e53e-103">Native message queuing cannot process a message with a body larger than 4megabytes (MB).</span></span> <span data-ttu-id="8e53e-104">Cependant, Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] inclut un composant additionnel pour Message Queuing en mode natif qui autorise le traitement des messages de plus de 4 Mo.</span><span class="sxs-lookup"><span data-stu-id="8e53e-104">However, Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] includes an add-on for native message queuing that permits processing messages larger than 4 MB.</span></span> <span data-ttu-id="8e53e-105">Ce module complémentaire est fournie en tant que le fichier Mqrtlarge.dll et expose le **MQSendLargeMessage** et **MQReceiveLargeMessage** application programming interfaces (API) et le modèle COM analogue.</span><span class="sxs-lookup"><span data-stu-id="8e53e-105">This add-on is delivered as the Mqrtlarge.dll file, and exposes the **MQSendLargeMessage** and **MQReceiveLargeMessage** application programming interfaces (APIs), and the analogous COM model.</span></span> <span data-ttu-id="8e53e-106">Ces fonctions sont implémentées en tant qu’API, message queuing standard **MQSendMessage** et **MQReceiveMessage** respectivement.</span><span class="sxs-lookup"><span data-stu-id="8e53e-106">These functions are implemented as standard message queuing APIs, **MQSendMessage** and **MQReceiveMessage** respectively.</span></span>  
  
 <span data-ttu-id="8e53e-107">Pour que l'ordinateur Message Queuing puisse participer aux échanges de messages volumineux, il faut que le fichier Mqrtlarge.dll y soit installé et que l'application Message Queuing utilise les interfaces API du composant additionnel.</span><span class="sxs-lookup"><span data-stu-id="8e53e-107">To participate in large message exchanges, the message queuing computer must have the Mqrtlarge.dll file installed, and the message queuing application should use the add-on APIs.</span></span> <span data-ttu-id="8e53e-108">À défaut, ces messages sont fragmentés.</span><span class="sxs-lookup"><span data-stu-id="8e53e-108">Otherwise, complete messages will be fragmented.</span></span>  
  
 <span data-ttu-id="8e53e-109">**Emplacement dans le Kit de développement logiciel**</span><span class="sxs-lookup"><span data-stu-id="8e53e-109">**Location in SDK**</span></span>  
  
 <span data-ttu-id="8e53e-110">\<*Chemin d’installation*\>\SDK\ Mqrtlarge.dll</span><span class="sxs-lookup"><span data-stu-id="8e53e-110">\<*Installation Path*\>\SDK\ Mqrtlarge.dll</span></span>  
  
 <span data-ttu-id="8e53e-111">**Inventaire des fichiers**</span><span class="sxs-lookup"><span data-stu-id="8e53e-111">**File Inventory**</span></span>  
  
 <span data-ttu-id="8e53e-112">Le tableau suivant présente le fichier utilisé par cet utilitaire et décrit sa finalité.</span><span class="sxs-lookup"><span data-stu-id="8e53e-112">The following table shows the file this utility uses and describes its purpose.</span></span>  
  
|<span data-ttu-id="8e53e-113">Fichier(s)</span><span class="sxs-lookup"><span data-stu-id="8e53e-113">File(s)</span></span>|<span data-ttu-id="8e53e-114"> Description</span><span class="sxs-lookup"><span data-stu-id="8e53e-114">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="8e53e-115">Mqrtlarge.dll</span><span class="sxs-lookup"><span data-stu-id="8e53e-115">Mqrtlarge.dll</span></span>|<span data-ttu-id="8e53e-116">Une bibliothèque de liens dynamiques Win32 qui expose **MQSendLargeMessage** et **MQReceiveLargeMessage**.</span><span class="sxs-lookup"><span data-stu-id="8e53e-116">A Win32 dynamic-link library that exposes **MQSendLargeMessage** and **MQReceiveLargeMessage**.</span></span><br /><br /> <span data-ttu-id="8e53e-117">Les fichiers d’en-tête se trouvent dans le  *\<chemin d’Installation\>*répertoire \SDK\Include.</span><span class="sxs-lookup"><span data-stu-id="8e53e-117">The header files are located in the *\<Installation Path\>*\SDK\Include directory.</span></span> <span data-ttu-id="8e53e-118">**Remarque :** vous devez installer [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] sur une version 64 bits de Windows pour accéder à la version 64 bits de Mqrtlarge.dll.</span><span class="sxs-lookup"><span data-stu-id="8e53e-118">**Note:**  You must install [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] onto a 64 bit version of Windows in order to access the 64 bit version of Mqrtlarge.dll.</span></span>|  
  
 <span data-ttu-id="8e53e-119">**À l’aide de cet utilitaire**</span><span class="sxs-lookup"><span data-stu-id="8e53e-119">**Using This Utility**</span></span>  
  
 <span data-ttu-id="8e53e-120">Suivez la procédure suivante pour exécuter le fichier Mqrtlarge.dll.</span><span class="sxs-lookup"><span data-stu-id="8e53e-120">Use the following procedure to run the Mqrtlarge.dll file.</span></span>  
  
### <a name="to-use-the-mqrtlargedll-file"></a><span data-ttu-id="8e53e-121">Pour utiliser le fichier Mqrtlarge.dll</span><span class="sxs-lookup"><span data-stu-id="8e53e-121">To use the Mqrtlarge.dll file</span></span>  
  
1.  > [!NOTE]
    >  <span data-ttu-id="8e53e-122">Une solution MSMQ sans BizTalk Server, MQRTLarge.dll peut toujours fonctionner correctement.</span><span class="sxs-lookup"><span data-stu-id="8e53e-122">For an MSMQ solution without BizTalk Server, the MQRTLarge.dll may still function correctly.</span></span> <span data-ttu-id="8e53e-123">Toutefois, cette configuration n’est pas recommandée qui prend en charge de Microsoft et des résultats inattendus peuvent se produire si utilisé en dehors de l’environnement BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="8e53e-123">However, this is not a recommended configuration that Microsoft supports, and unexpected results may occur if used outside of the BizTalk Server environment.</span></span>  
  
     <span data-ttu-id="8e53e-124">Ajoutez le fichier Mqrtlarge.dll à l'ordinateur qui ne contient pas d'installation de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="8e53e-124">Add the file Mqrtlarge.dll to the computer that does not contain an installation of BizTalk Server.</span></span> <span data-ttu-id="8e53e-125">Message Queuing se sert du fichier Mqrtlarge.dll pour envoyer des messages à BizTalk Server ou en recevoir.</span><span class="sxs-lookup"><span data-stu-id="8e53e-125">Message Queuing uses Mqrtlarge.dll to send or receive messages to or from BizTalk Server.</span></span>  
  
2.  <span data-ttu-id="8e53e-126">Pour accéder aux API du fichier Mqrtlarge.dll, ajoutez une référence au fichier Mqrtlarge.dll dans les applications qui envoient ou reçoivent les messages vers ou depuis d'autres ordinateurs au niveau du point de terminaison Message Queuing BizTalk.</span><span class="sxs-lookup"><span data-stu-id="8e53e-126">To access the APIs in the Mqrtlarge.dll file, add a reference to the Mqrtlarge.dll file in the applications that send or receive messages to or from other computers to the BizTalk Message Queuing endpoint.</span></span>  
  
 <span data-ttu-id="8e53e-127">**Section Notes**</span><span class="sxs-lookup"><span data-stu-id="8e53e-127">**Remarks**</span></span>  
  
 <span data-ttu-id="8e53e-128">Les messages volumineux sont envoyés vers les files d'attente Message Queuing (ou MSMQ) standard.</span><span class="sxs-lookup"><span data-stu-id="8e53e-128">Large messages are sent to standard Message Queuing (also known as MSMQ) queues.</span></span> <span data-ttu-id="8e53e-129">Il est conseillé de n'utiliser que les API de messages volumineux sur ces files d'attente, bien que cela ne soit pas obligatoire.</span><span class="sxs-lookup"><span data-stu-id="8e53e-129">You should use only the large message APIs on such queues, although this is not enforced.</span></span>  
  
 <span data-ttu-id="8e53e-130">Vous pouvez toujours utiliser **MQSendMessage** pour envoyer des messages à une file d’attente à laquelle vous avez envoyé des messages volumineux.</span><span class="sxs-lookup"><span data-stu-id="8e53e-130">You can still use **MQSendMessage** to send messages to a queue to which you sent large messages.</span></span> <span data-ttu-id="8e53e-131">De même, vous pouvez utiliser **MQReceiveMessage** pour recevoir des messages à partir de ces files d’attente, bien qu’il n’est pas recommandé, car il peut affecter les performances de la **MQReceiveLargeMessage** API.</span><span class="sxs-lookup"><span data-stu-id="8e53e-131">Likewise, you can use **MQReceiveMessage** to receive messages from such queues, although it is not recommended because it may impact the performance of the **MQReceiveLargeMessage** API.</span></span>  
  
 <span data-ttu-id="8e53e-132">À des fins de récupération, il est recommandé d’utiliser **DEAD_LETTER** la journalisation.</span><span class="sxs-lookup"><span data-stu-id="8e53e-132">For recovery purposes, it is recommended that you use **DEAD_LETTER** journaling.</span></span>  
  
 <span data-ttu-id="8e53e-133">**Fragmentation**</span><span class="sxs-lookup"><span data-stu-id="8e53e-133">**Fragmentation**</span></span>  
  
 <span data-ttu-id="8e53e-134">En règle générale, un message volumineux est fragmenté en plusieurs messages, chacun de taille inférieure à 4 Mo.</span><span class="sxs-lookup"><span data-stu-id="8e53e-134">In general, a large message will be fragmented into numerous messages, each smaller than 4 MB.</span></span> <span data-ttu-id="8e53e-135">Il est important de comprendre que seul le corps fait l'objet d'une fragmentation.</span><span class="sxs-lookup"><span data-stu-id="8e53e-135">It is important to understand that only the body is fragmented.</span></span> <span data-ttu-id="8e53e-136">Le reste des propriétés est envoyé avec chaque fragment.</span><span class="sxs-lookup"><span data-stu-id="8e53e-136">The rest of the properties are sent with each fragment.</span></span>  
  
 <span data-ttu-id="8e53e-137">Le nombre de fragments est fonction de la taille du message et de celle des fragments.</span><span class="sxs-lookup"><span data-stu-id="8e53e-137">The number of fragments is defined by the size of the message and the size of the fragments.</span></span> <span data-ttu-id="8e53e-138">La taille des fragments peut être automatiquement définie par le fichier Mqrtlarge.dll ou par la partie appropriée de Message Queuing BizTalk.</span><span class="sxs-lookup"><span data-stu-id="8e53e-138">The fragment size may be automatically determined by the file Mqrtlarge.dll or the appropriate part of BizTalk Message Queuing.</span></span> <span data-ttu-id="8e53e-139">Les applications peuvent également indiquer cette taille de manière explicite.</span><span class="sxs-lookup"><span data-stu-id="8e53e-139">Applications can also explicitly specify the fragment size.</span></span>  
  
 <span data-ttu-id="8e53e-140">Notez que l'extension de messages volumineux implique d'étendre le message en lui ajoutant des données internes supplémentaires de taille constante.</span><span class="sxs-lookup"><span data-stu-id="8e53e-140">Note that the large message extension requires extending the message by adding additional internal data of a constant size.</span></span>  
  
 <span data-ttu-id="8e53e-141">**PROPID_M_EXTENSION**</span><span class="sxs-lookup"><span data-stu-id="8e53e-141">**PROPID_M_EXTENSION**</span></span>  
  
 <span data-ttu-id="8e53e-142">Vous pouvez utiliser la **PROPID_M_EXTENSION/PROPID_M_EXTENSION_LEN** propriétés pour signer le message.</span><span class="sxs-lookup"><span data-stu-id="8e53e-142">You can use the **PROPID_M_EXTENSION/PROPID_M_EXTENSION_LEN** properties to sign the message.</span></span> <span data-ttu-id="8e53e-143">La signature compose de 40 octets (B).</span><span class="sxs-lookup"><span data-stu-id="8e53e-143">The signature comprises 40 bytes (B).</span></span> <span data-ttu-id="8e53e-144">Le tableau suivant montre les fragments de signature.</span><span class="sxs-lookup"><span data-stu-id="8e53e-144">The following table shows signature fragments.</span></span>  
  
|<span data-ttu-id="8e53e-145"> Description</span><span class="sxs-lookup"><span data-stu-id="8e53e-145">Description</span></span>|<span data-ttu-id="8e53e-146">Taille</span><span class="sxs-lookup"><span data-stu-id="8e53e-146">Size</span></span>|  
|-----------------|----------|  
|<span data-ttu-id="8e53e-147">Identificateur global unique (GUID) indiquant que ce message a été envoyé à l’aide de **MQSendLargeMessage**</span><span class="sxs-lookup"><span data-stu-id="8e53e-147">Globally unique identifier (GUID) denoting that this message was sent using **MQSendLargeMessage**</span></span>|<span data-ttu-id="8e53e-148">16 B</span><span class="sxs-lookup"><span data-stu-id="8e53e-148">16 B</span></span>|  
|<span data-ttu-id="8e53e-149">GUID pour le message : ID unique pour chaque message volumineux qui est commune à toutes les parties du message</span><span class="sxs-lookup"><span data-stu-id="8e53e-149">GUID for the message: unique per-large message ID that is common to all parts of the message</span></span>|<span data-ttu-id="8e53e-150">16 B</span><span class="sxs-lookup"><span data-stu-id="8e53e-150">16 B</span></span>|  
|<span data-ttu-id="8e53e-151">Taille totale du message volumineux</span><span class="sxs-lookup"><span data-stu-id="8e53e-151">Total size of the large message</span></span>|<span data-ttu-id="8e53e-152">4 B</span><span class="sxs-lookup"><span data-stu-id="8e53e-152">4 B</span></span>|  
|<span data-ttu-id="8e53e-153">Numéro de la partie</span><span class="sxs-lookup"><span data-stu-id="8e53e-153">Part number</span></span>|<span data-ttu-id="8e53e-154">2 B</span><span class="sxs-lookup"><span data-stu-id="8e53e-154">2 B</span></span>|  
|<span data-ttu-id="8e53e-155">Nombre de parties du message</span><span class="sxs-lookup"><span data-stu-id="8e53e-155">Number of message parts</span></span>|<span data-ttu-id="8e53e-156">2 B</span><span class="sxs-lookup"><span data-stu-id="8e53e-156">2 B</span></span>|  
  
 <span data-ttu-id="8e53e-157">La décision d’utiliser **PROPID_M_EXTENSION** présente d’autres.</span><span class="sxs-lookup"><span data-stu-id="8e53e-157">The decision to use **PROPID_M_EXTENSION** has an additional implication.</span></span> <span data-ttu-id="8e53e-158">Le pont MSMQ-MQSeries Microsoft Host Integration Server utilise cette propriété pour transmettre une structure contenant les propriétés qui ne font pas l'objet d'un mappage direct entre les messages MQSeries et Message Queuing.</span><span class="sxs-lookup"><span data-stu-id="8e53e-158">The Microsoft Host Integration Server MSMQ-MQSeries Bridge uses this property to pass a structure that contains properties that are not mapped directly between MQSeries and Message Queuing messages.</span></span> <span data-ttu-id="8e53e-159">Toutes les applications qui envoient des messages vers et depuis MQSeries utilisent, de manière explicite ou implicite, cette structure.</span><span class="sxs-lookup"><span data-stu-id="8e53e-159">Applications that send messages to and from MQSeries explicitly or implicitly use this structure.</span></span> <span data-ttu-id="8e53e-160">Message Queuing peut générer un accusé de réception lorsqu'un message est reçu depuis une file d'attente par une application réceptrice.</span><span class="sxs-lookup"><span data-stu-id="8e53e-160">Message Queuing can generate acknowledgments when a message has been received from a queue by a receiving application.</span></span> <span data-ttu-id="8e53e-161">Les accusés de réception sont envoyés vers la file d'attente spécifiée par l'application émettrice.</span><span class="sxs-lookup"><span data-stu-id="8e53e-161">The acknowledgments are sent to a queue specified by the sending application.</span></span> <span data-ttu-id="8e53e-162">Dans le cas de messages volumineux, cet accusé est uniquement envoyé pour la dernière partie du message.</span><span class="sxs-lookup"><span data-stu-id="8e53e-162">In the case of large messages, you send this acknowledgment only for the last part of the large message.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8e53e-163">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="8e53e-163">See Also</span></span>  
 [<span data-ttu-id="8e53e-164">Utilitaires du SDK</span><span class="sxs-lookup"><span data-stu-id="8e53e-164">Utilities in the SDK</span></span>](../core/utilities-in-the-sdk.md)