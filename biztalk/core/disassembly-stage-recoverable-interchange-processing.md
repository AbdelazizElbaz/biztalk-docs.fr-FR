---
title: "Phase de désassemblage (traitement des échanges récupérables) | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 552b1e90-f75d-4713-8c7b-155a52819308
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f36dd7a9d8bb10180d4af0562ba1e869957415d8
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="disassembly-stage-recoverable-interchange-processing"></a><span data-ttu-id="3b42b-102">phase de désassemblage (Traitement des échanges récupérables)</span><span class="sxs-lookup"><span data-stu-id="3b42b-102">Disassembly Stage (Recoverable Interchange Processing)</span></span>
<span data-ttu-id="3b42b-103">Les échanges sont traités dans la phase de désassemblage selon deux modes :</span><span class="sxs-lookup"><span data-stu-id="3b42b-103">Interchanges are processed at the disassembly stage in two modes:</span></span>  
  
-   <span data-ttu-id="3b42b-104">**En mode standard.**</span><span class="sxs-lookup"><span data-stu-id="3b42b-104">**Standard mode.**</span></span> <span data-ttu-id="3b42b-105">lorsque le composant désassembleur d'un pipeline de réception est configuré pour effectuer le désassemblage standard, les messages que contient un échange sont extraits, traités par le pipeline de réception, mappés et publiés sous la forme d'une unité transactionnelle de travail.</span><span class="sxs-lookup"><span data-stu-id="3b42b-105">When the disassembler component of a receive pipeline is configured to perform standard disassembly, the messages contained in an interchange are extracted, processed by the receive pipeline, mapped, and published as a transactional unit of work.</span></span> <span data-ttu-id="3b42b-106">C'est-à-dire que soit l'ensemble de l'échange et les messages qu'il contient sont entièrement traités et publiés dans la base de données MessageBox, soit l'échange est placé dans la file d'attente des messages interrompus.</span><span class="sxs-lookup"><span data-stu-id="3b42b-106">That is, either the entire interchange and its contained messages are fully processed and published into the MessageBox database, or the interchange is placed in the Suspended queue.</span></span>  
  
-   <span data-ttu-id="3b42b-107">**Mode récupérable.**</span><span class="sxs-lookup"><span data-stu-id="3b42b-107">**Recoverable mode.**</span></span> <span data-ttu-id="3b42b-108">Lorsque le composant désassembleur d’un pipeline de réception est configuré pour effectuer **le traitement des échanges récupérables**, les messages contenus dans un échange sont extraits indépendamment les uns des autres.</span><span class="sxs-lookup"><span data-stu-id="3b42b-108">When the disassembler component of a receive pipeline is configured to perform **recoverable interchange processing**, the messages contained in an interchange are extracted independently of each other.</span></span> <span data-ttu-id="3b42b-109">Les messages dont l'extraction réussit sont propagés plus bas dans le pipeline de réception.</span><span class="sxs-lookup"><span data-stu-id="3b42b-109">Messages that are successfully extracted are propagated further down the receive pipeline.</span></span> <span data-ttu-id="3b42b-110">Les messages identifiés dans un échange mais dont l'extraction ne s'est pas déroulée correctement sont placés dans la file d'attente des messages interrompus.</span><span class="sxs-lookup"><span data-stu-id="3b42b-110">Messages that are identified within an interchange but are not successfully extracted are placed in the Suspended queue.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="3b42b-111">Exemples</span><span class="sxs-lookup"><span data-stu-id="3b42b-111">Examples</span></span>  
 <span data-ttu-id="3b42b-112">Les exemples ci-dessous illustrent des scénarios de traitement des échanges.</span><span class="sxs-lookup"><span data-stu-id="3b42b-112">The following examples illustrate interchange processing scenarios.</span></span>  
  
### <a name="example-1"></a><span data-ttu-id="3b42b-113">Exemple 1</span><span class="sxs-lookup"><span data-stu-id="3b42b-113">Example 1</span></span>  
 <span data-ttu-id="3b42b-114">Dans cet exemple, le pseudo-échange suivant est soumis sur un emplacement de réception d'échanges standard.</span><span class="sxs-lookup"><span data-stu-id="3b42b-114">In this example, the following pseudo-interchange is submitted on a standard interchange receive location.</span></span> <span data-ttu-id="3b42b-115">C'est-à-dire que le composant désassembleur dans le pipeline de réception est configuré pour le traitement des échanges standard.</span><span class="sxs-lookup"><span data-stu-id="3b42b-115">That is, the disassembler component in the receive pipeline is configured for standard interchange processing.</span></span>  
  
```  
<Interchange>  
<Document1>...</Document1>  
<Document2 failure=”routing”>...</Document2>  
<Document3>...</Document3>  
<Document4 failure=”pipeline” recoverableError=”true”>...</Document4>  
<Document5>...</Document5>  
</Interchange>  
```  
  
 <span data-ttu-id="3b42b-116">Cet échange contient cinq messages tous correctement extraits par le désassembleur à partir de l'échange.</span><span class="sxs-lookup"><span data-stu-id="3b42b-116">This interchange contains five messages, all of which the disassembler successfully extracts from the interchange.</span></span> <span data-ttu-id="3b42b-117">Ils sont traités comme suit :</span><span class="sxs-lookup"><span data-stu-id="3b42b-117">They are processed as follows:</span></span>  
  
-   <span data-ttu-id="3b42b-118">Le premier, le deuxième et le troisième messages se propagent à travers le pipeline et sont prêts à être publiés.</span><span class="sxs-lookup"><span data-stu-id="3b42b-118">The first, second, and third messages propagate through the pipeline and are ready to be published.</span></span>  
  
-   <span data-ttu-id="3b42b-119">Le traitement du quatrième message échoue lors de la phase de désassemblage dans le pipeline.</span><span class="sxs-lookup"><span data-stu-id="3b42b-119">The fourth message fails processing at the disassembling stage in the pipeline.</span></span> <span data-ttu-id="3b42b-120">Tous les messages qui ont déjà été traités sont alors annulés et le message d'échange d'origine est suspendu et peut être repris.</span><span class="sxs-lookup"><span data-stu-id="3b42b-120">This causes all the messages that have already been processed to roll back and the original interchange message to be suspended as resumable.</span></span>  
  
 <span data-ttu-id="3b42b-121">Le résultat de l'envoi est le suivant :</span><span class="sxs-lookup"><span data-stu-id="3b42b-121">The result of submission is:</span></span>  
  
-   <span data-ttu-id="3b42b-122">Rien n'est publié.</span><span class="sxs-lookup"><span data-stu-id="3b42b-122">Nothing is published.</span></span> <span data-ttu-id="3b42b-123">L'échange d'origine est suspendu car, dans le traitement des échanges standard, tout message extrait qui échoue à n'importe quel moment, pendant ou après le traitement des échanges, entraîne la suppression de tous les messages extraits et le placement de l'échange d'origine dans la file d'attente des messages interrompus pour être repris.</span><span class="sxs-lookup"><span data-stu-id="3b42b-123">The original interchange is suspended because in standard interchange processing, any extracted message that fails at any point during or after interchange processing results in all extracted messages being discarded and the original interchange being placed on the Suspended queue as resumable.</span></span>  
  
### <a name="example-2"></a><span data-ttu-id="3b42b-124">Exemple 2</span><span class="sxs-lookup"><span data-stu-id="3b42b-124">Example 2</span></span>  
 <span data-ttu-id="3b42b-125">Cet exemple utilise le même scénario de traitement et de propagation des échanges que l'exemple précédent sauf que la phase de désassemblage est configurée pour effectuer le traitement des échanges récupérables.</span><span class="sxs-lookup"><span data-stu-id="3b42b-125">The example uses the same interchange processing and propagation scenario as the previous example, except that the disassembly stage is configured to do recoverable interchange processing.</span></span>  
  
 <span data-ttu-id="3b42b-126">Le résultat de l'envoi est que chacun des messages extraits est traité et que l'échange d'origine est supprimé.</span><span class="sxs-lookup"><span data-stu-id="3b42b-126">The result of submission is that individual extracted messages are all processed and the original interchange is discarded.</span></span> <span data-ttu-id="3b42b-127">Les messages sont traités de la manière suivante :</span><span class="sxs-lookup"><span data-stu-id="3b42b-127">The individual messages are processed as follows:</span></span>  
  
-   <span data-ttu-id="3b42b-128">Le premier, le deuxième et le troisième messages se propagent à travers le pipeline et sont prêts à être publiés.</span><span class="sxs-lookup"><span data-stu-id="3b42b-128">The first, second, and third messages propagate through the pipeline and are ready to be published.</span></span>  
  
-   <span data-ttu-id="3b42b-129">Le quatrième message subit un échec lors du traitement de désassemblage (autrement dit, son extraction est suivie d'un problème) et est prêt à être suspendu.</span><span class="sxs-lookup"><span data-stu-id="3b42b-129">The fourth message fails disassembly processing (that is, something goes wrong after it is extracted) and is ready to be suspended.</span></span>  
  
-   <span data-ttu-id="3b42b-130">Le cinquième message se propage à travers le pipeline et est prêt à être publié.</span><span class="sxs-lookup"><span data-stu-id="3b42b-130">The fifth message propagates through the pipeline and is ready to be published.</span></span>  
  
-   <span data-ttu-id="3b42b-131">Une fois que tous les messages ont été extraits de l'échange, les messages 1, 2, 3 et 5 sont publiés dans la base de données MessageBox et le message 4 est placé dans la file d'attente des messages interrompus.</span><span class="sxs-lookup"><span data-stu-id="3b42b-131">After all messages are extracted from the interchange, messages 1, 2, 3, and 5 are published into the MessageBox database, and message 4 is placed on the Suspended queue.</span></span> <span data-ttu-id="3b42b-132">Le message 2 est également redirigé vers la file d'attente des messages interrompus en raison d'un échec de routage dû à un abonné non correspondant.</span><span class="sxs-lookup"><span data-stu-id="3b42b-132">Message 2 is also redirected to the Suspended queue because of a routing failure due to no matching subscriber.</span></span>  
  
## <a name="configuring-recoverable-interchange-processing"></a><span data-ttu-id="3b42b-133">Configuration du traitement des échanges récupérables</span><span class="sxs-lookup"><span data-stu-id="3b42b-133">Configuring Recoverable Interchange Processing</span></span>  
 <span data-ttu-id="3b42b-134">Le traitement des échanges récupérables est une propriété du composant désassembleur d'un pipeline de réception.</span><span class="sxs-lookup"><span data-stu-id="3b42b-134">Recoverable interchange processing is a property of the disassembler component of a receive pipeline.</span></span> <span data-ttu-id="3b42b-135">Tous les composants désassembleur ne permettent pas de spécifier le traitement des échanges récupérables. Ce n'est par exemple pas le cas du Désassembleur BizTalk Framework natif.</span><span class="sxs-lookup"><span data-stu-id="3b42b-135">Not all disassembler components allow you to specify recoverable interchange processing; for example, the native BizTalk Framework disassembler does not.</span></span> <span data-ttu-id="3b42b-136">Si un désassembleur prend en charge le traitement des échanges récupérables, vous spécifiez ce comportement dans le Concepteur de pipeline dans [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] lorsque vous ajoutez le composant désassembleur à la phase de désassemblage du pipeline en cours de conception.</span><span class="sxs-lookup"><span data-stu-id="3b42b-136">If a disassembler supports recoverable interchange processing, then you specify this behavior in Pipeline Designer within [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] when you add the disassembler component to the Disassemble stage of the pipeline being designed.</span></span> <span data-ttu-id="3b42b-137">Après avoir fait glisser le désassembleur sélectionné sur la phase de désassemblage du pipeline, vous définissez la propriété de traitement des échanges récupérables de ce composant désassembleur sur `true`.</span><span class="sxs-lookup"><span data-stu-id="3b42b-137">After you drag the selected disassembler onto the Disassemble stage of the pipeline, you set the recoverable interchange processing property of that disassembler component to `true`.</span></span>  
  
### <a name="party-resolution"></a><span data-ttu-id="3b42b-138">Résolution du tiers</span><span class="sxs-lookup"><span data-stu-id="3b42b-138">Party Resolution</span></span>  
 <span data-ttu-id="3b42b-139">Le tiers d'envoi des messages dont l'extraction a réussi dans le traitement des échanges récupérables est identifié en fonction du tiers configuré pour le port de réception sur lequel l'échange parent est arrivé.</span><span class="sxs-lookup"><span data-stu-id="3b42b-139">Messages that are successfully extracted in recoverable interchange processing have their sending party identified according to the party configured for the receive port on which the parent interchange arrived.</span></span> <span data-ttu-id="3b42b-140">Si la résolution du tiers échoue pour tout message extrait d'un échange donné, elle est considérée comme ayant échoué pour l'ensemble de l'échange.</span><span class="sxs-lookup"><span data-stu-id="3b42b-140">If party resolution fails for any message extracted from a given interchange, then party resolution is considered to have failed for the entire interchange.</span></span>  
  
### <a name="restrictions"></a><span data-ttu-id="3b42b-141">Restrictions</span><span class="sxs-lookup"><span data-stu-id="3b42b-141">Restrictions</span></span>  
  
-   <span data-ttu-id="3b42b-142">Lorsqu'un échange échoue dans le désassembleur, il est suspendu et peut être repris.</span><span class="sxs-lookup"><span data-stu-id="3b42b-142">When an interchange fails in the disassembler, the interchange is suspended as resumable.</span></span> <span data-ttu-id="3b42b-143">Toutefois, si l'échange reprend administrativement, il échouera à nouveau, car les types d'erreurs qui provoquent les échecs de désassemblage sont uniquement un résultat du contenu d'échange, qui reste le même quand l'échange est repris.</span><span class="sxs-lookup"><span data-stu-id="3b42b-143">However, if the interchange is administratively resumed, it will fail again because the kinds of errors that cause disassembly failure are solely a result of the interchange content, which stays the same when the interchange is resumed.</span></span> <span data-ttu-id="3b42b-144">Lorsqu'un échange a échoué de la sorte, il doit être modifié et réenvoyé via un emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="3b42b-144">Such a failed interchange must be modified and resubmitted through a receive location.</span></span>  
  
-   <span data-ttu-id="3b42b-145">Si un message ayant été extrait avec succès d'un échange subit un échec de propagation via la messagerie en raison d'un abonné sans correspondance, le message est suspendu et peut être repris.</span><span class="sxs-lookup"><span data-stu-id="3b42b-145">If a message that was successfully extracted from an interchange subsequently fails to propagate through messaging due to an unmatched subscriber, the message is suspended as resumable.</span></span> <span data-ttu-id="3b42b-146">Ce message peut être repris administrativement si la cause de l'échec de routage est résolue.</span><span class="sxs-lookup"><span data-stu-id="3b42b-146">This message can be administratively resumed if the cause of the routing failure is fixed.</span></span>  
  
-   <span data-ttu-id="3b42b-147">Le composant désassembleur continue d'extraire les messages d'un échange malgré l'apparition des erreurs suivantes dans les composants désassembleur :</span><span class="sxs-lookup"><span data-stu-id="3b42b-147">The disassembler component continues to extract messages from an interchange despite the following errors in disassembler components:</span></span>  
  
    -   <span data-ttu-id="3b42b-148">Schéma introuvable</span><span class="sxs-lookup"><span data-stu-id="3b42b-148">Schema not found</span></span>  
  
    -   <span data-ttu-id="3b42b-149">Ambiguïté de schéma non résolue (c'est-à-dire que plusieurs schémas existent pour le même type de message)</span><span class="sxs-lookup"><span data-stu-id="3b42b-149">Schema ambiguity not resolved (that is, more than one schema exists for the same message type)</span></span>  
  
    -   <span data-ttu-id="3b42b-150">Échec de la validation XML</span><span class="sxs-lookup"><span data-stu-id="3b42b-150">XML validation failed</span></span>  
  
    -   <span data-ttu-id="3b42b-151">Échec de l'analyse de fichier plat</span><span class="sxs-lookup"><span data-stu-id="3b42b-151">Flat-file parsing failed</span></span>  
  
-   <span data-ttu-id="3b42b-152">Le composant désassembleur **pas** continuer à extraire des messages d’un échange si l’erreur suivante se produit dans les composants désassembleur :</span><span class="sxs-lookup"><span data-stu-id="3b42b-152">The disassembler component does **not** continue to extract messages from an interchange if the following error occurs in disassembler components:</span></span>  
  
    -   <span data-ttu-id="3b42b-153">Les données de document ne sont pas des données XML bien formées : n'importe quelles propriétés de document qui provoqueraient l'échec de System.Xml.XmlReader</span><span class="sxs-lookup"><span data-stu-id="3b42b-153">Document data is not well-formed XML—any document properties that would cause System.Xml.XmlReader to fail</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3b42b-154">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="3b42b-154">See Also</span></span>  
 <span data-ttu-id="3b42b-155">[Comment configurer le composant de Pipeline désassembleur XML](../core/how-to-configure-the-xml-disassembler-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="3b42b-155">[How to Configure the XML Disassembler Pipeline Component](../core/how-to-configure-the-xml-disassembler-pipeline-component.md) </span></span>  
 [<span data-ttu-id="3b42b-156">Comment configurer le composant de Pipeline de désassembleur de fichier plat</span><span class="sxs-lookup"><span data-stu-id="3b42b-156">How to Configure the Flat File Disassembler Pipeline Component</span></span>](../core/how-to-configure-the-flat-file-disassembler-pipeline-component.md)