---
title: "Comment ajouter un répertoire virtuel à une Application | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- virtual directories
- managing [applications], virtual directories
- applications, virtual directories
- virtual directories, applications
ms.assetid: a5726696-bd65-49d9-8814-a078afe8c067
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 26627387a65b19cef8146cee8b91b2a7a0919059
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="how-to-add-a-virtual-directory-to-an-application"></a><span data-ttu-id="2baa6-102">Ajout d'un répertoire virtuel à une application</span><span class="sxs-lookup"><span data-stu-id="2baa6-102">How to Add a Virtual Directory to an Application</span></span>
<span data-ttu-id="2baa6-103">Cette rubrique explique comment ajouter un répertoire virtuel à une application BizTalk à l'aide de l'outil de ligne de commande BTSTask.</span><span class="sxs-lookup"><span data-stu-id="2baa6-103">This topic describes how to use the BTSTask command-line tool to add a virtual directory to a BizTalk application.</span></span> <span data-ttu-id="2baa6-104">Cette option n'est pas disponible dans la console Administration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2baa6-104">This option is not available in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="2baa6-105">Vous pouvez ajouter un répertoire virtuel si vous avez écrit un service Web personnalisé ou créé un site Web ASP.NET pour disposer d'une interface avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et que vous souhaitiez déployer le répertoire virtuel avec l'application.</span><span class="sxs-lookup"><span data-stu-id="2baa6-105">You might want to add a virtual directory if you have written a custom Web service or created an ASP.NET Web site for interfacing with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and want to deploy the virtual directory with the application.</span></span>  
  
 <span data-ttu-id="2baa6-106">Une autre méthode pour ajouter un répertoire virtuel pour une application est en spécifiant un répertoire virtuel pour un SOAP ou HTTP un emplacement de réception, comme décrit dans [comment configurer un emplacement de réception HTTP](../core/how-to-configure-an-http-receive-location.md).</span><span class="sxs-lookup"><span data-stu-id="2baa6-106">Another way to add a virtual directory to an application is by specifying a virtual directory for a SOAP or HTTP receive location, as described in [How to Configure an HTTP Receive Location](../core/how-to-configure-an-http-receive-location.md).</span></span> <span data-ttu-id="2baa6-107">Quelle que soit la méthode choisie, le répertoire virtuel est ajouté à la base de données de gestion BizTalk.</span><span class="sxs-lookup"><span data-stu-id="2baa6-107">In all cases, the virtual directory is added to the BizTalk Management database.</span></span> <span data-ttu-id="2baa6-108">Lorsque vous ajoutez un répertoire virtuel à l’aide de la ligne de commande, il affiche également dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] console d’Administration, dans le dossier ressources de l’application à laquelle vous l’avez ajouté, ainsi que la liste des artefacts de l’application lorsque vous utilisez la [Commande ListApp](../core/listapp-command.md).</span><span class="sxs-lookup"><span data-stu-id="2baa6-108">When you add a virtual directory by using the command line, it also displays in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, in the Resources folder of the application to which you added it as well as the list of artifacts in the application when you use the [ListApp Command](../core/listapp-command.md).</span></span> <span data-ttu-id="2baa6-109">Si vous exportez par la suite l'application, puis l'importez dans une autre groupe BizTalk, le répertoire virtuel s'affiche dans le dossier Ressources.</span><span class="sxs-lookup"><span data-stu-id="2baa6-109">If you later export the application and then import it into another BizTalk group, the virtual directory displays in the Resources folder.</span></span>  
  
 <span data-ttu-id="2baa6-110">Lors de l'ajout d'un répertoire virtuel à une application, gardez les points suivants à l'esprit :</span><span class="sxs-lookup"><span data-stu-id="2baa6-110">When adding a virtual directory to an application, bear in mind the following points:</span></span>  
  
-   <span data-ttu-id="2baa6-111">Vous pouvez remplacer un répertoire virtuel qui existe déjà dans l'application en spécifiant l'option de remplacement.</span><span class="sxs-lookup"><span data-stu-id="2baa6-111">You can overwrite a virtual directory that already exists in the application by specifying the overwrite option.</span></span> <span data-ttu-id="2baa6-112">L’option de remplacement est requise uniquement lorsque le répertoire virtuel existant porte le même nom que celui que vous souhaitez ajouter.</span><span class="sxs-lookup"><span data-stu-id="2baa6-112">The overwrite option is required only when the existing virtual directory has the same name as the one you want to add.</span></span> <span data-ttu-id="2baa6-113">Si non spécifié et qu’un répertoire virtuel existe déjà dans l’application avec le même nom que celui en cours d’ajout, l’opération d’ajout échoue.</span><span class="sxs-lookup"><span data-stu-id="2baa6-113">If not specified, and a virtual directory already exists in the application with the same name as the one being added, the add operation will fail.</span></span>  
  
-   <span data-ttu-id="2baa6-114">Lorsque vous ajoutez un répertoire virtuel dont l'URL contient « https », préférez l'utilisation de « http » à celle de « https » dans l'URL que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="2baa6-114">When you add a virtual directory with a URL that contains https, you must use http in the URL that you specify rather than https.</span></span> <span data-ttu-id="2baa6-115">Si vous utilisez « https », l'opération consistant à ajouter un répertoire virtuel échoue.</span><span class="sxs-lookup"><span data-stu-id="2baa6-115">If you use https, the operation to add a virtual directory will fail.</span></span> <span data-ttu-id="2baa6-116">Bien que vous ajoutiez le répertoire en utilisant « http » dans l'URL, le paramètre « https » correspondant à l'URL dans la métabase des services Internet est activé, de sorte que le répertoire virtuel fonctionne correctement.</span><span class="sxs-lookup"><span data-stu-id="2baa6-116">Even though you add it with http in the URL, the https setting for the URL in the Internet Information Services metabase will be in effect, and the virtual directory will function correctly.</span></span>  
  
-   <span data-ttu-id="2baa6-117">Si vous ajoutez un répertoire virtuel depuis une version 64 bits du service Web et essayez d'installer l'application comprenant ce répertoire sur un ordinateur 32 bits, le répertoire virtuel ne sera pas installé.</span><span class="sxs-lookup"><span data-stu-id="2baa6-117">If you add a virtual directory from a 64-bit version of the Web service, and you attempt to install the application that includes the virtual directory on a 32-bit computer, the virtual directory will not be installed.</span></span> <span data-ttu-id="2baa6-118">Il doit être installé sur un ordinateur 64 bits.</span><span class="sxs-lookup"><span data-stu-id="2baa6-118">It must be installed on a 64-bit computer.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="2baa6-119">Lorsque vous importez une application contenant un répertoire virtuel, les paramètres de sécurité du répertoire virtuel utilisés sont ceux qui sont activés lorsque le fichier .msi est généré au cours de l'exportation de l'application.</span><span class="sxs-lookup"><span data-stu-id="2baa6-119">When you import an application containing a virtual directory, the security settings on the virtual directory are those in effect when the .msi file is generated during application export.</span></span> <span data-ttu-id="2baa6-120">Si vous déployez une application dans un environnement de production, vérifiez que les paramètres répondent à vos exigences en matière de sécurité avant de l'exporter.</span><span class="sxs-lookup"><span data-stu-id="2baa6-120">If you are deploying an application into a production environment, before exporting the application, you should verify that the settings meet your security requirements.</span></span>  
>   
>  <span data-ttu-id="2baa6-121">Toutefois, si le répertoire virtuel existe déjà dans l'environnement de destination, les paramètres de sécurité du répertoire virtuel existant seront utilisés.</span><span class="sxs-lookup"><span data-stu-id="2baa6-121">If, however, the virtual directory already exists in the destination environment, the security settings on the existing virtual directory will be in effect.</span></span> <span data-ttu-id="2baa6-122">Ils ne sont pas modifiés afin de correspondre à ceux du répertoire virtuel que vous déployez.</span><span class="sxs-lookup"><span data-stu-id="2baa6-122">They are not changed to match those on the virtual directory you are deploying.</span></span> <span data-ttu-id="2baa6-123">Dans ce cas, vous devez vérifier qu'ils répondent à vos exigences.</span><span class="sxs-lookup"><span data-stu-id="2baa6-123">In this case, you should verify that the security settings on the existing virtual directory meet your requirements.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="2baa6-124">Si le répertoire virtuel utilise le protocole HTTPS (Hypertext Transfer Protocol over Secure Socket Layer), ses paramètres de sécurité ne sont pas conservés lors de l'exportation, et lorsqu'il est importé, il hérite de ceux du répertoire racine.</span><span class="sxs-lookup"><span data-stu-id="2baa6-124">If the virtual directory uses the HTTPS (Hypertext Transfer Protocol over Secure Socket Layer) protocol, its security settings are not preserved during export, and when it is imported, the virtual directory will inherit the security settings of the root.</span></span> <span data-ttu-id="2baa6-125">Vous devez vérifier que ces paramètres de sécurité répondent à vos exigences.</span><span class="sxs-lookup"><span data-stu-id="2baa6-125">You should verify that the security settings meet your requirements.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="2baa6-126">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="2baa6-126">Prerequisites</span></span>  
 <span data-ttu-id="2baa6-127">Pour exécuter la procédure décrite dans cette rubrique, vous devez être connecté avec un compte membre du groupe des administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2baa6-127">To perform the procedure in this topic, you must be logged on with an account that is a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span> <span data-ttu-id="2baa6-128">Pour plus d’informations sur les autorisations, consultez [autorisations requises pour déployer et gérer une Application BizTalk](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md).</span><span class="sxs-lookup"><span data-stu-id="2baa6-128">For more detailed information on permissions, see [Permissions Required for Deploying and Managing a BizTalk Application](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md).</span></span>  
  
### <a name="to-add-a-virtual-directory-to-an-application"></a><span data-ttu-id="2baa6-129">Pour ajouter un répertoire virtuel à une application</span><span class="sxs-lookup"><span data-stu-id="2baa6-129">To add a virtual directory to an application</span></span>  
  
1.  <span data-ttu-id="2baa6-130">Ouvrez une invite de commandes comme suit : cliquez sur **Démarrer**, cliquez sur **exécuter**, type `cmd`, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="2baa6-130">Open a command prompt as follows: Click **Start**, click **Run**, type `cmd`, and then click **OK**.</span></span>  
  
2.  <span data-ttu-id="2baa6-131">Tapez la commande suivante en utilisant les valeurs appropriées, comme décrit dans le tableau suivant :</span><span class="sxs-lookup"><span data-stu-id="2baa6-131">Type the following command, substituting the appropriate values, as described in the following table:</span></span>  
  
     <span data-ttu-id="2baa6-132">**BTSTask AddResource** [/**ApplicationName :***valeur*] **/Type:System.BizTalk:WebDirectory**[**/Overwrite**] **/Source :***valeur* [**facultatif /Destination :***valeur*] [**/Server :**  *valeur*] [**/Database :***valeur*]</span><span class="sxs-lookup"><span data-stu-id="2baa6-132">**BTSTask AddResource** [/**ApplicationName:***value*] **/Type:System.BizTalk:WebDirectory**[**/Overwrite**] **/Source:***value* [**/Destination:***value*] [**/Server:***value*] [**/Database:***value*]</span></span>  
  
     <span data-ttu-id="2baa6-133">Exemple :</span><span class="sxs-lookup"><span data-stu-id="2baa6-133">Example:</span></span>  
  
     <span data-ttu-id="2baa6-134">**BTSTask AddResource, /ApplicationName:MyApplication/type : System.BizTalk : WebDirectory /overwrite /Source:http://Host1:90 / MyVirtualDirectory /Destination:http://Host2:90 / / Database de MyVirtualDirectory /Server:MyDatabaseServer : BizTalkMgmtDb**</span><span class="sxs-lookup"><span data-stu-id="2baa6-134">**BTSTask AddResource /ApplicationName:MyApplication /Type: System.BizTalk:WebDirectory /Overwrite /Source:http://Host1:90/MyVirtualDirectory /Destination:http://Host2:90/MyVirtualDirectory /Server:MyDatabaseServer /Database:BizTalkMgmtDb**</span></span>  
  
    |<span data-ttu-id="2baa6-135">Paramètre</span><span class="sxs-lookup"><span data-stu-id="2baa6-135">Parameter</span></span>|<span data-ttu-id="2baa6-136">Valeur</span><span class="sxs-lookup"><span data-stu-id="2baa6-136">Value</span></span>|  
    |---------------|-----------|  
    |<span data-ttu-id="2baa6-137">**/ ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="2baa6-137">**/ApplicationName**</span></span>|<span data-ttu-id="2baa6-138">Nom de l'application BizTalk à laquelle ajouter le répertoire virtuel.</span><span class="sxs-lookup"><span data-stu-id="2baa6-138">Name of the BizTalk application to which to add the virtual directory.</span></span> <span data-ttu-id="2baa6-139">Si le nom de l'application n'est pas spécifié, l'application utilisée est l'application BizTalk définie par défaut pour le groupe.</span><span class="sxs-lookup"><span data-stu-id="2baa6-139">If the application name is not specified, the default BizTalk application for the group is used.</span></span> <span data-ttu-id="2baa6-140">Si le nom comprend des espaces, vous devez le placer entre guillemets doubles («).</span><span class="sxs-lookup"><span data-stu-id="2baa6-140">If the name includes spaces, you must enclose it in double quotation marks (").</span></span>|  
    |<span data-ttu-id="2baa6-141">**Type**</span><span class="sxs-lookup"><span data-stu-id="2baa6-141">**/Type**</span></span>|<span data-ttu-id="2baa6-142">**System.BizTalk : WebDirectory** (cette valeur ne respecte pas la casse).</span><span class="sxs-lookup"><span data-stu-id="2baa6-142">**System.BizTalk:WebDirectory** (This value is not case-sensitive.)</span></span>|  
    |<span data-ttu-id="2baa6-143">**/ Remplacer**</span><span class="sxs-lookup"><span data-stu-id="2baa6-143">**/Overwrite**</span></span>|<span data-ttu-id="2baa6-144">Option permettant de mettre à jour un répertoire virtuel existant.</span><span class="sxs-lookup"><span data-stu-id="2baa6-144">Option to update an existing virtual directory.</span></span> <span data-ttu-id="2baa6-145">Si cette option n'est pas spécifiée et qu'un répertoire virtuel, dont le nom est le même que celui du répertoire virtuel à ajouter, existe déjà dans l'application, l'opération AddResources échoue.</span><span class="sxs-lookup"><span data-stu-id="2baa6-145">If not specified, and a virtual directory already exists in the application that has the same name as the virtual directory being added, the AddResources operation fails.</span></span>|  
    |<span data-ttu-id="2baa6-146">**/ Source**</span><span class="sxs-lookup"><span data-stu-id="2baa6-146">**/Source**</span></span>|<span data-ttu-id="2baa6-147">URI du répertoire virtuel source.</span><span class="sxs-lookup"><span data-stu-id="2baa6-147">URI of the source virtual directory.</span></span>|  
    |<span data-ttu-id="2baa6-148">**Et de destination**</span><span class="sxs-lookup"><span data-stu-id="2baa6-148">**/Destination**</span></span>|<span data-ttu-id="2baa6-149">URI à affecter au répertoire virtuel lorsque l'application est installée à partir du fichier .msi.</span><span class="sxs-lookup"><span data-stu-id="2baa6-149">URI to be assigned to the virtual directory when the application is installed from the .msi file.</span></span> <span data-ttu-id="2baa6-150">Si ce paramètre n'est pas spécifié, la valeur utilisée est celle du paramètre Source, où l'hôte est défini sur « localhost ».</span><span class="sxs-lookup"><span data-stu-id="2baa6-150">If this parameter is not specified, then the value of the Source parameter is used with localhost as the host.</span></span>|  
    |<span data-ttu-id="2baa6-151">**/ Serveur**</span><span class="sxs-lookup"><span data-stu-id="2baa6-151">**/Server**</span></span>|<span data-ttu-id="2baa6-152">Nom de l'instance SQL Server hébergeant la base de données de gestion BizTalk et indiqué sous la forme NomServeur\NomInstance,Port.</span><span class="sxs-lookup"><span data-stu-id="2baa6-152">Name of the SQL Server instance hosting the BizTalk Management database, in the form ServerName\InstanceName,Port.</span></span><br /><br /> <span data-ttu-id="2baa6-153">Le nom de l'instance est uniquement requis lorsqu'il est différent du nom du serveur.</span><span class="sxs-lookup"><span data-stu-id="2baa6-153">Instance name is only required when the instance name is different than the server name.</span></span> <span data-ttu-id="2baa6-154">Le port est uniquement requis lorsque le serveur SQL Server utilise un numéro de port autre que celui par défaut (1433).</span><span class="sxs-lookup"><span data-stu-id="2baa6-154">Port is only required when SQL Server uses a port number other than the default (1433).</span></span><br /><br /> <span data-ttu-id="2baa6-155">Exemples :</span><span class="sxs-lookup"><span data-stu-id="2baa6-155">Examples:</span></span><br /><br /> <span data-ttu-id="2baa6-156">Server=MyServer</span><span class="sxs-lookup"><span data-stu-id="2baa6-156">Server=MyServer</span></span><br /><br /> <span data-ttu-id="2baa6-157">Server=MyServer\MySQLServer,1533</span><span class="sxs-lookup"><span data-stu-id="2baa6-157">Server=MyServer\MySQLServer,1533</span></span><br /><br /> <span data-ttu-id="2baa6-158">Si vous n'indiquez pas de nom pour l'instance SQL Server, le nom d'instance utilisé est celui de l'instance SQL Server exécutée sur l'ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="2baa6-158">If not provided, the name of the SQL Server instance running on the local computer is used.</span></span>|  
    |<span data-ttu-id="2baa6-159">**/ Base de données**</span><span class="sxs-lookup"><span data-stu-id="2baa6-159">**/Database**</span></span>|<span data-ttu-id="2baa6-160">Nom de la base de données de gestion BizTalk.</span><span class="sxs-lookup"><span data-stu-id="2baa6-160">Name of the BizTalk Management database.</span></span> <span data-ttu-id="2baa6-161">Si vous ne l'indiquez pas, la base de données utilisée est la base de données de gestion BizTalk s'exécutant au sein de l'instance locale de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2baa6-161">If not specified, the BizTalk Management database running in the local instance of SQL Server is used.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="2baa6-162">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="2baa6-162">See Also</span></span>  
 <span data-ttu-id="2baa6-163">[La gestion des assemblys .NET, certificats et autres ressources](../core/managing-net-assemblies-certificates-and-other-resources.md) </span><span class="sxs-lookup"><span data-stu-id="2baa6-163">[Managing .NET Assemblies, Certificates, and Other Resources](../core/managing-net-assemblies-certificates-and-other-resources.md) </span></span>  
 <span data-ttu-id="2baa6-164">[Commande AddResource : Répertoire virtuel](../core/addresource-command-virtual-directory.md) </span><span class="sxs-lookup"><span data-stu-id="2baa6-164">[AddResource Command: Virtual Directory](../core/addresource-command-virtual-directory.md) </span></span>  
 [<span data-ttu-id="2baa6-165">Création et modification des Applications BizTalk</span><span class="sxs-lookup"><span data-stu-id="2baa6-165">Creating and Modifying BizTalk Applications</span></span>](../core/creating-and-modifying-biztalk-applications.md)