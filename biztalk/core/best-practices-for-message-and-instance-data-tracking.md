---
title: "Meilleures pratiques pour le Message et le suivi des instances de données | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- HAT, best practices
- best practices, HAT
ms.assetid: 2ac5c87b-2059-4912-9cec-2ae4eaac56df
caps.latest.revision: "13"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4a6f673b0a70903575918eb87dc4bd8edc9841e4
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="best-practices-for-message-and-instance-data-tracking"></a><span data-ttu-id="5e0c3-102">Méthodes conseillées pour le suivi des données de message et d'instance</span><span class="sxs-lookup"><span data-stu-id="5e0c3-102">Best Practices for Message and Instance Data Tracking</span></span>
<span data-ttu-id="5e0c3-103">Consultez les méthodes conseillées suivantes relatives à l'utilisation des données d'historique et de suivi.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-103">Review the following best practices for using historical and tracked data.</span></span>  
  
-   <span data-ttu-id="5e0c3-104">**Passez en revue les considérations de sécurité pour l’utilisation des données historiques et suivies**</span><span class="sxs-lookup"><span data-stu-id="5e0c3-104">**Review the security considerations for using historical and tracked data**</span></span>  
  
    -   <span data-ttu-id="5e0c3-105">Pour plus d’informations sur les considérations de sécurité pour les données historiques et de suivi, consultez [considérations sur la sécurité de Message et le suivi des données d’Instance](../core/security-considerations-for-message-and-instance-data-tracking.md).</span><span class="sxs-lookup"><span data-stu-id="5e0c3-105">For more information about security considerations for historical and tracked data, see [Security Considerations for Message and Instance Data Tracking](../core/security-considerations-for-message-and-instance-data-tracking.md).</span></span>  
  
-   <span data-ttu-id="5e0c3-106">**Vérifiez que le service SQL Server Agent s’exécute sur toutes les bases de données MessageBox**</span><span class="sxs-lookup"><span data-stu-id="5e0c3-106">**Ensure that the SQL Server Agent service is running on all MessageBox databases**</span></span>  
  
    -   <span data-ttu-id="5e0c3-107">L'Agent SQL Server rend les corps de message disponibles pour la WMI, ainsi que les données d'historique et de suivi.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-107">SQL Server Agent makes message bodies available to WMI, and historical and tracked data.</span></span> <span data-ttu-id="5e0c3-108">Vous pouvez ainsi exécuter des tâches pour nettoyer les bases de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-108">This enables you to run jobs to clean up the MessageBox databases.</span></span> <span data-ttu-id="5e0c3-109">Pour plus d'informations sur l'Agent SQL Server, consultez la documentation en ligne de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-109">For more information about SQL Server Agent, see SQL Server Books Online.</span></span>  
  
-   <span data-ttu-id="5e0c3-110">**Activer le suivi du corps de message**</span><span class="sxs-lookup"><span data-stu-id="5e0c3-110">**Enable message body tracking**</span></span>  
  
    -   <span data-ttu-id="5e0c3-111">Le suivi du corps des messages doit être activé pour permettre l'enregistrement des messages une fois le traitement des instances de service terminé.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-111">Message body tracking is required to save messages after service instances processing is complete.</span></span>  
  
-   <span data-ttu-id="5e0c3-112">**Configurer le suivi en fonction de vos besoins**</span><span class="sxs-lookup"><span data-stu-id="5e0c3-112">**Configure tracking as appropriate for your business needs**</span></span>  
  
    -   <span data-ttu-id="5e0c3-113">Avant de pouvoir afficher les données d'historique et de suivi, vous devez configurer le suivi à l'aide de la console Administration de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-113">Before you can view historical and tracked data, you must first configure tracking using the BizTalk Server Administration Console.</span></span> <span data-ttu-id="5e0c3-114">Vous devez garder plusieurs considérations à l'esprit lorsque vous activez ou désactivez des options de suivi.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-114">There are multiple considerations to keep in mind when enabling or disabling tracking options.</span></span> <span data-ttu-id="5e0c3-115">Plus le volume de données suivi est important, plus la taille de la base de données de suivi BizTalk (BizTalkDTADb) augmentera rapidement, au détriment des performances d'exécution.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-115">The more data you track, the faster your BizTalk Tracking (BizTalkDTADb) database will grow in size, which can adversely affect your runtime performance.</span></span> <span data-ttu-id="5e0c3-116">Pour plus d’informations, consultez [configuration de suivi à l’aide de la Console Administration de BizTalk Server](http://msdn.microsoft.com/en-us/49b7f9d3-60b5-41bd-ba8b-029253926bef).</span><span class="sxs-lookup"><span data-stu-id="5e0c3-116">For more information, see [Configuring Tracking Using the BizTalk Server Administration Console](http://msdn.microsoft.com/en-us/49b7f9d3-60b5-41bd-ba8b-029253926bef).</span></span>  
  
-   <span data-ttu-id="5e0c3-117">**Sélectionnez le type approprié de suivi pour le dépannage ou l’audit**</span><span class="sxs-lookup"><span data-stu-id="5e0c3-117">**Select the appropriate type of tracking for troubleshooting or auditing**</span></span>  
  
    -   <span data-ttu-id="5e0c3-118">Pour le dépannage dans un environnement de développement ou dans un environnement intermédiaire ou de production, vous devez activer toutes les options de suivi afin de pouvoir consulter les événements d'artefact, les propriétés de message, les corps de message et les événements d'orchestration en détail.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-118">For troubleshooting either in a development environment, or in a staging or production environment, you should enable all tracking options so that you can see artifact events, message properties, message bodies and orchestration events in detail.</span></span> <span data-ttu-id="5e0c3-119">Vous disposerez ainsi d'un ensemble étoffé d'informations de suivi, que vous pourrez utiliser pour recréer la séquence d'événements dans votre système et déboguer votre application.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-119">This provides a rich set of tracked information that you can use to recreate the sequence of events in your system and debug your application.</span></span>  
  
    -   <span data-ttu-id="5e0c3-120">Pour un audit au niveau de la production, choisissez soigneusement les événements à auditer et activez le suivi pour ces événements uniquement.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-120">For production level auditing, carefully choose the events you want to audit and then enable tracking only for those events.</span></span> <span data-ttu-id="5e0c3-121">Par exemple, de nombreuses entreprises souhaitent être en mesure de prouver qu'un message est entré ou sorti de leur système.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-121">For example, many enterprises want to be able to prove that a message entered and exited the system.</span></span> <span data-ttu-id="5e0c3-122">Dans ce cas, vous devez activer le suivi des entrées sur le port de réception approprié et le suivi des sorties sur le port d'envoi correspondant.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-122">To achieve this, you should enable inbound tracking on the corresponding receive port and enable outbound tracking on the corresponding send port.</span></span> <span data-ttu-id="5e0c3-123">Au besoin, vous pouvez ajouter le suivi des propriétés et des corps de message.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-123">If necessary, you can add message property and message body tracking.</span></span>  
  
    -   <span data-ttu-id="5e0c3-124">Pour mesurer les indicateurs clés de performance (KPI) ou l'avancement par rapport à des étapes majeures commerciales préalablement déterminées, vous pouvez mettre en place le suivi de l'analyse BAM.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-124">For measuring business Key Performance Indicators (KPIs) or progress as measured by the achievement of specified business milestones, you should use Business Activity Monitoring (BAM) tracking.</span></span> <span data-ttu-id="5e0c3-125">Le suivi BAM offre des capacités limitées en matière de suivi et de stockage des corps de messages. Si ce point est important pour vous, vous devez utiliser les données d'historique et de suivi conjointement avec le suivi BAM.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-125">BAM tracking has limited abilities to track and store message bodies, so if this is important, you should use historical and tracked data  in conjunction with BAM tracking.</span></span> <span data-ttu-id="5e0c3-126">Pour plus d’informations sur le suivi BAM, consultez [à l’aide de l’analyse BAM](../core/using-business-activity-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="5e0c3-126">For more information about BAM tracking, see [Using Business Activity Monitoring](../core/using-business-activity-monitoring.md).</span></span>  
  
-   <span data-ttu-id="5e0c3-127">**Archiver et purger les données de la base de données des suivis BizTalk (BizTalkDTADb) sur une base régulière**</span><span class="sxs-lookup"><span data-stu-id="5e0c3-127">**Archive and purge data from the BizTalk Tracking (BizTalkDTADb) database on a regular basis**</span></span>  
  
    -   <span data-ttu-id="5e0c3-128">Si vous avez activé le suivi, vous devez archiver et purger régulièrement les données de la base de données de suivi BizTalk afin de lui conserver une taille raisonnable et de préserver les performances du système.</span><span class="sxs-lookup"><span data-stu-id="5e0c3-128">If you have enabled tracking, you should archive and purge data from the BizTalk Tracking database on a regular basis to help keep the database appropriately sized, which helps improve system performance.</span></span> <span data-ttu-id="5e0c3-129">Pour plus d’informations, consultez [l’archivage et la purge de la base de données de suivi BizTalk](../core/archiving-and-purging-the-biztalk-tracking-database.md).</span><span class="sxs-lookup"><span data-stu-id="5e0c3-129">For more information, see [Archiving and Purging the BizTalk Tracking Database](../core/archiving-and-purging-the-biztalk-tracking-database.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5e0c3-130">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="5e0c3-130">See Also</span></span>  
 [<span data-ttu-id="5e0c3-131">Affichage des messages suivis et les données d’Instance</span><span class="sxs-lookup"><span data-stu-id="5e0c3-131">Viewing Tracked Message and Instance Data</span></span>](../core/viewing-tracked-message-and-instance-data.md)