---
title: "L’authentification des Messages entre les processus | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- PID
- security, warnings
- processing, messages
- processing, security
- messages, processing
- security, messages
- MessageBox database, authenticating
- SSID
- authenticating, warnings
ms.assetid: fa746ee3-fc22-4e63-a5cc-8bc0cbeb536b
caps.latest.revision: "10"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1c54fb463353ed6551dcbf5764fae05e63fdb778
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="authentication-of-messages-between-processes"></a><span data-ttu-id="a6a5e-102">Authentification des Messages entre des processus</span><span class="sxs-lookup"><span data-stu-id="a6a5e-102">Authentication of Messages Between Processes</span></span>
<span data-ttu-id="a6a5e-103">L'illustration suivante présente les fonctionnalités de sécurité de BizTalk Server qui vous permettent d'authentifier les messages entre différents hôtes Biz Talk.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-103">The following figure shows the security features in BizTalk Server that enable you to authenticate messages between different BizTalk hosts.</span></span>  
  
 <span data-ttu-id="a6a5e-104">![Fonctionnalités de sécurité de l’authentification des messages](../core/media/ebiz-plan-secoverview-auth-process.gif "ebiz_plan_secoverview_auth_process")</span><span class="sxs-lookup"><span data-stu-id="a6a5e-104">![Security features authenticating messages](../core/media/ebiz-plan-secoverview-auth-process.gif "ebiz_plan_secoverview_auth_process")</span></span>  
<span data-ttu-id="a6a5e-105">Fonctionnalités de sécurité de BizTalk Server utilisées pour authentifier les messages entre les processus.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-105">Security features BizTalk Server uses to authenticate messages between processes.</span></span>  
  
 <span data-ttu-id="a6a5e-106">Une fois que BizTalk Server a reçu, déchiffré et validé un message et qu'il a un ID de tiers (PID) et un certificat valides pour identifier l'expéditeur du message, la base de données MessageBox est prête à vérifier les abonnements correspondant au message et à envoyer ce message à d'autres hôtes pour un traitement supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-106">After BizTalk Server receives a message, decrypts and validates the message, and has a valid party ID (PID) and certificate to identity the sender of the message, the MessageBox database is ready to verify the subscriptions that the message matches, and to send this message to other hosts for further processing.</span></span>  
  
 <span data-ttu-id="a6a5e-107">Comme un message passe d'un processus à un autre, il est souvent nécessaire de transmettre l'identité de l'expéditeur d'origine du message aux processus en aval pour l'autorisation, la résolution de tiers et la logique d'entreprise relatives à l'expéditeur.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-107">As a message flows from one process to another, it is often necessary to pass the identity of the original sender of the message to downstream processes for authorization, party resolution, and business logic relating to the sender.</span></span> <span data-ttu-id="a6a5e-108">Cependant, l'activation de tous les hôtes pour transmettre cette information sans aucun type de sécurité ni mécanisme de confiance augmenterait considérablement le besoin de vérifier que tous les objets et code utilisateur (par exemple, orchestrations, adaptateurs, composants de pipeline, fonctoids) sont bien dignes de confiance.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-108">However, enabling all hosts to flow this information without some type of security or trust mechanism would greatly increase the need to verify that all user objects and code (for example, orchestrations, adapters, pipeline components, functoids) are trustworthy.</span></span>  
  
 <span data-ttu-id="a6a5e-109">Comme moyen de différencier le niveau de confiance des objets et code utilisateur, BizTalk Server fournit l'approbation par authentification en tant que propriété des hôtes.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-109">To provide the means to differentiate the level of trust for user objects and code, BizTalk Server provides Authentication Trust as a property of hosts.</span></span> <span data-ttu-id="a6a5e-110">Lorsque la base de données MessageBox reçoit un message d'un hôte qui n'a pas été défini comme approuvé par authentification, elle remplace l'ID tiers (PID) par l'ID invité et l'ID de sécurité de l'expéditeur (SSID) par le compte de service sous lequel l'instance de l'hôte est exécutée.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-110">When the MessageBox database receives a message from a host that has not been set as authentication trusted, the MessageBox database overwrites the PID with the guest ID, and overwrites the SSID with the service account that the host instance is running as.</span></span> <span data-ttu-id="a6a5e-111">Lorsqu'un hôte est marqué comme approuvé par authentification, BizTalk permet à l'hôte de spécifier tout SSID et PID sur les messages qu'il met en file d'attente dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-111">When a host is marked as authentication trusted, BizTalk enables the host to specify any sender SID (SSID) and any party ID (PID) on messages that it queues to the MessageBox database.</span></span>  
  
 <span data-ttu-id="a6a5e-112">En spécifiant les hôtes approuvés et non approuvés, vous pouvez définir les limites de sécurité à l'intérieur desquelles les objets et code utilisateur peuvent être approuvés ou non.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-112">By specifying which hosts are trusted and which are not, you can define security boundaries in which user objects and code can be trusted or not trusted.</span></span> <span data-ttu-id="a6a5e-113">Les objets et code utilisateur déployés dans les hôtes définis sur Approuvé par authentification doivent être plus dignes de confiance que les objets et code utilisateur déployés dans les hôtes non définis sur Approuvé par authentification.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-113">That is, user objects and code deployed into hosts that have been set to Authentication Trusted need to be more trustworthy than user objects and code deployed to hosts that have not been set to Authentication Trusted.</span></span> <span data-ttu-id="a6a5e-114">Pour plus d’informations sur la configuration d’hôte approuvé par authentification, consultez [comment modifier les propriétés de l’hôte](../core/how-to-modify-host-properties.md).</span><span class="sxs-lookup"><span data-stu-id="a6a5e-114">For more information about how to configure authentication trusted host, see [How to Modify Host Properties](../core/how-to-modify-host-properties.md).</span></span>  
  
 <span data-ttu-id="a6a5e-115">Lorsque la base de données MessageBox reçoit un message, BizTalk Server procède comme suit pour appliquer l'approbation par authentification de l'instance de l'hôte envoyant le message à la base de données MessageBox :</span><span class="sxs-lookup"><span data-stu-id="a6a5e-115">When the MessageBox database receives a message, BizTalk Server takes the following steps to enforce the authentication trust of the host instance sending the message to the MessageBox database:</span></span>  
  
1.  <span data-ttu-id="a6a5e-116">La base de données MessageBox détermine tout d'abord si l'hôte envoyant le message a été défini comme approuvé par authentification en vérifiant que le SSID est celui d'un compte de service d'instance d'un hôte approuvé.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-116">The MessageBox database first determines whether the host sending the message has been set as authentication trusted by checking that the SSID is that of a host instance service account for a trusted host.</span></span>  
  
2.  <span data-ttu-id="a6a5e-117">Si l'hôte qui envoie le message à la base de données MessageBox est approuvé par authentification, celle-ci laisse le SSID et le PID dans le contexte du message en l'état, à moins qu'ils ne soient vides.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-117">If the host that is sending the message to the MessageBox database is authentication trusted, the MessageBox database leaves the SSID and PID in the message context "as is," unless they are empty.</span></span> <span data-ttu-id="a6a5e-118">Si le SSID est vide, la base de données MessageBox le renseigne avec le SID du processus appelant, également nommé identificateur de sécurité de l'hôte (HSID).</span><span class="sxs-lookup"><span data-stu-id="a6a5e-118">If the SSID is empty, the MessageBox database populates it with the SID of the calling process, also known as the host SID (HSID).</span></span> <span data-ttu-id="a6a5e-119">Si le PID est vide, elle définit le PID sur l'ID invité.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-119">If the PID is empty, it sets the PID to the guest ID.</span></span>  
  
3.  <span data-ttu-id="a6a5e-120">Si l'hôte qui envoie le message à la base de données MessageBox n'a pas été défini comme approuvé par authentification, le SSID est remplacé par le HSID et le PID est défini sur Invité, que ces champs soient préalablement renseignés ou non.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-120">If the host that is sending the message to the MessageBox database has not been set as authentication trusted, the SSID is populated with the HSID, and the PID is set to Guest, regardless of whether these fields were already populated.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="a6a5e-121">Si vous voulez qu'un processus en aval connaisse le SSID et le PID de l'expéditeur d'origine du message, vous devez définir tous les hôtes traversés par le message comme approuvés par authentification.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-121">If you want a downstream process to know the SSID and PID of the original sender of the message, you must set all hosts that the message passes through as authentication trusted.</span></span> <span data-ttu-id="a6a5e-122">En outre, si le message est reçu puis utilisé pour construire des messages sortants dans une orchestration, le SSID et le PID reçus dans les messages entrants doivent être explicitement ajoutés en tant que propriété aux messages sortants afin de transmettre ces identités.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-122">In addition, in cases such as when the message is received and subsequently used to construct outbound messages in an orchestration, the SSID and PID received on inbound messages must be explicitly added as a property to outbound messages in order to flow these identities.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="a6a5e-123">Si vous avez configuré l'hôte où un pipeline est en cours d'exécution en tant qu'approuvé par authentification, BizTalk Server considère le pipeline comme un environnement approuvé.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-123">If you configured the host where a pipeline is running as authentication trusted, BizTalk Server considers the pipeline to be a trusted environment.</span></span> <span data-ttu-id="a6a5e-124">Par conséquent, il est extrêmement important de vérifier que tout composant personnalisé inclus dans un pipeline BizTalk en cours d'exécution sur un hôte approuvé par authentification est également approuvé.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-124">Therefore, it is extremely important that you verify that any custom components that are included in a BizTalk pipeline that is running on a host that is authentication trusted are also trusted.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a6a5e-125">Il est impossible d'utiliser le même compte de service pour les hôtes approuvés par authentification et les hôtes non approuvés par authentification.</span><span class="sxs-lookup"><span data-stu-id="a6a5e-125">You cannot use the same service account for hosts that are authentication trusted and for hosts that are not authentication trusted.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a6a5e-126">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="a6a5e-126">See Also</span></span>  
 <span data-ttu-id="a6a5e-127">[Authentification des messages entrants](../core/inbound-message-authentication.md) </span><span class="sxs-lookup"><span data-stu-id="a6a5e-127">[Inbound Message Authentication](../core/inbound-message-authentication.md) </span></span>  
 <span data-ttu-id="a6a5e-128">[Protection des messages sortants](../core/outbound-message-protection.md) </span><span class="sxs-lookup"><span data-stu-id="a6a5e-128">[Outbound Message Protection](../core/outbound-message-protection.md) </span></span>  
 <span data-ttu-id="a6a5e-129">[Authentification de l’expéditeur d’un Message](../core/authenticating-the-sender-of-a-message.md) </span><span class="sxs-lookup"><span data-stu-id="a6a5e-129">[Authenticating the Sender of a Message](../core/authenticating-the-sender-of-a-message.md) </span></span>  
 [<span data-ttu-id="a6a5e-130">Autorisation du récepteur d’un Message</span><span class="sxs-lookup"><span data-stu-id="a6a5e-130">Authorizing the Receiver of a Message</span></span>](../core/authorizing-the-receiver-of-a-message.md)