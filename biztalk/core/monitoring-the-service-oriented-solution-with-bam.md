---
title: "Le Service d’analyse de la Solution avec BAM orientée services | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- monitoring, service solutions
- service solution tutorial, monitoring
- OrchestrationEventStream object
ms.assetid: 9b251580-9371-490e-9218-0ce3f6b00fa6
caps.latest.revision: "19"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: dc1aeaec2513ebe3c6d7fe62ef542b6f044bca56
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="monitoring-the-service-oriented-solution-with-bam"></a><span data-ttu-id="74472-102">Le Service d’analyse de la Solution avec BAM orientée services</span><span class="sxs-lookup"><span data-stu-id="74472-102">Monitoring the Service Oriented Solution with BAM</span></span>
<span data-ttu-id="74472-103">La solution surveille l’activité dans toutes les versions de la **CustomerService** orchestration à l’aide de l’analyse BAM (Business Activity) API.</span><span class="sxs-lookup"><span data-stu-id="74472-103">The solution monitors activity in all versions of the **CustomerService** orchestration using the Business Activity Monitoring (BAM) API.</span></span> <span data-ttu-id="74472-104">Plus spécifiquement, il utilise le nouveau **OrchestrationEventStream** objet.</span><span class="sxs-lookup"><span data-stu-id="74472-104">More specifically, it uses the new **OrchestrationEventStream** object.</span></span>  
  
## <a name="what-is-the-orchestrationeventstream-object"></a><span data-ttu-id="74472-105">Qu'est-ce que l'objet OrchestrationEventStream ?</span><span class="sxs-lookup"><span data-stu-id="74472-105">What is the OrchestrationEventStream Object?</span></span>  
 <span data-ttu-id="74472-106">La nouvelle **OrchestrationEventStream** objet permet le suivi et l’analyse à partir d’orchestrations.</span><span class="sxs-lookup"><span data-stu-id="74472-106">The new **OrchestrationEventStream** object enables tracking and monitoring from orchestrations.</span></span> <span data-ttu-id="74472-107">Les informations capturées maintiennent la cohérence transactionnelle avec l'état de l'orchestration.</span><span class="sxs-lookup"><span data-stu-id="74472-107">The information captured is transactionally consistent with the orchestration state.</span></span> <span data-ttu-id="74472-108">Par exemple, si l'instance de l'hôte de l'orchestration redémarre au milieu d'une exécution de l'orchestration, le redémarrage s'effectue à partir du dernier point de persistance de l'instance.</span><span class="sxs-lookup"><span data-stu-id="74472-108">For example, if the orchestration host instance restarts in the middle of executing the orchestration, the orchestration instance restarts from the last persistence point of the instance.</span></span> <span data-ttu-id="74472-109">Le **OrchestrationEventStream** classe garantit que les données capturées sont cohérentes avec le dernier point de persistance de l’instance d’orchestration.</span><span class="sxs-lookup"><span data-stu-id="74472-109">The **OrchestrationEventStream** class ensures that the captured data is transactionally consistent with the orchestration instance's last persistence point.</span></span> <span data-ttu-id="74472-110">Tous les **OrchestrationEventStream** méthodes sont statiques, afin que votre orchestration n’a pas besoin créer une instance de celui-ci.</span><span class="sxs-lookup"><span data-stu-id="74472-110">All of the **OrchestrationEventStream** methods are static so that your orchestration does not need to create an instance of it.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="74472-111">Pour utiliser le **OrchestrationEventStream** de l’objet, vous devez ajouter des références à la **Microsoft.BizTalk.Bam.XLANGs** et **Microsoft.BizTalk.Bam.EventObservation** assemblys.</span><span class="sxs-lookup"><span data-stu-id="74472-111">To use the **OrchestrationEventStream** object, you need to add references to the **Microsoft.BizTalk.Bam.XLANGs** and **Microsoft.BizTalk.Bam.EventObservation** assemblies.</span></span> <span data-ttu-id="74472-112">Bien que le **OrchestrationEventStream** objet se trouve dans le **Microsoft.BizTalk.Bam.EventObservation** espace de noms, il réside dans le **Microsoft.BizTalk.Bam.XLANGs** assembly.</span><span class="sxs-lookup"><span data-stu-id="74472-112">Although the **OrchestrationEventStream** object is in the **Microsoft.BizTalk.Bam.EventObservation** namespace, it resides in the **Microsoft.BizTalk.Bam.XLANGs** assembly.</span></span>  
  
 <span data-ttu-id="74472-113">Bien que l'Éditeur de modèle de suivi (TPE) soit l'outil recommandé dans le cadre de l'analyse BAM, il ne peut ni capturer les valeurs des variables de l'orchestration, ni gérer les objets personnalisés.</span><span class="sxs-lookup"><span data-stu-id="74472-113">Although the Tracking Profile Editor (TPE) is the preferred way of using BAM, TPE cannot capture the orchestration variable values, nor can it handle custom objects.</span></span> <span data-ttu-id="74472-114">La solution utilise l'API BAM pour remédier à ce problème.</span><span class="sxs-lookup"><span data-stu-id="74472-114">The solution uses the BAM API to overcome these limitations.</span></span>  
  
 <span data-ttu-id="74472-115">Pour obtenir des informations générales sur l’analyse BAM, consultez [à l’aide de l’analyse BAM](../core/using-business-activity-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="74472-115">For general information about BAM, see [Using Business Activity Monitoring](../core/using-business-activity-monitoring.md).</span></span> <span data-ttu-id="74472-116">Pour plus d’informations sur l’éditeur de profil de suivi (TPE), consultez [éditeur](../core/tracking-profile-editor.md).</span><span class="sxs-lookup"><span data-stu-id="74472-116">For information about the Tracking Profile Editor (TPE), see [Tracking Profile Editor](../core/tracking-profile-editor.md).</span></span>  
  
## <a name="wrapping-the-orchestrationeventstream-object"></a><span data-ttu-id="74472-117">Classe enveloppante de l'objet OrchestrationEventStream</span><span class="sxs-lookup"><span data-stu-id="74472-117">Wrapping the OrchestrationEventStream Object</span></span>  
 <span data-ttu-id="74472-118">Le retour automatique à la solution orientée le **OrchestrationEventStream** classe avec le **ServiceLevelTracking** classe.</span><span class="sxs-lookup"><span data-stu-id="74472-118">The service oriented solution wraps the **OrchestrationEventStream** class with the **ServiceLevelTracking** class.</span></span> <span data-ttu-id="74472-119">Le **ServiceLevelTracking** classe fournit des méthodes de l’étape majeure de spécifiques à l’application et masque les détails de l’utilisation de certaines **OrchestrationEventStream**.</span><span class="sxs-lookup"><span data-stu-id="74472-119">The **ServiceLevelTracking** class provides application-specific milestone methods and hides some of the details of using **OrchestrationEventStream**.</span></span>  
  
 <span data-ttu-id="74472-120">Comme dans **OrchestrationEventStream**, toutes les méthodes de **ServiceLevelTracking** sont statiques.</span><span class="sxs-lookup"><span data-stu-id="74472-120">As in **OrchestrationEventStream**, all the methods of **ServiceLevelTracking** are static.</span></span> <span data-ttu-id="74472-121">Ainsi, l'orchestration ou le composant personnalisé n'a pas besoin d'en créer une instance.</span><span class="sxs-lookup"><span data-stu-id="74472-121">Thus, the orchestration or custom component does not need to create an instance of it.</span></span> <span data-ttu-id="74472-122">La méthode qui démarre le suivi d’une activité, **TrackingBeginRequest**, retourne un ID d’instance unique d’activité.</span><span class="sxs-lookup"><span data-stu-id="74472-122">The method that begins tracking an activity, **TrackingBeginRequest**, returns a unique activity instance ID.</span></span> <span data-ttu-id="74472-123">Tous les événements de suivi suivantes doivent être associés à cet ID d’instance activité afin de capturer les données de niveau de service correctement, car il est propre à l’instance de la **CustomerService** orchestration.</span><span class="sxs-lookup"><span data-stu-id="74472-123">All subsequent tracking events must be associated with this activity instance ID in order to capture the service level data correctly, because it is unique to the instance of the **CustomerService** orchestration.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="74472-124">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="74472-124">See Also</span></span>  
 <span data-ttu-id="74472-125">[Développement d’un Service de la Solution orientée services](../core/developing-a-service-oriented-solution.md) </span><span class="sxs-lookup"><span data-stu-id="74472-125">[Developing a Service Oriented Solution](../core/developing-a-service-oriented-solution.md) </span></span>  
 [<span data-ttu-id="74472-126">Caractéristiques de l’implémentation du Service orienté solutions</span><span class="sxs-lookup"><span data-stu-id="74472-126">Implementation Highlights of the Service Oriented Solution</span></span>](../core/implementation-highlights-of-the-service-oriented-solution.md)