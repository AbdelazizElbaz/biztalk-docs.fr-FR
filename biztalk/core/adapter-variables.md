---
title: "Variables d’adaptateur | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: aeda96bc-5141-4c42-8a29-b0a28bc47aa4
caps.latest.revision: "25"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4ecb644aa2eb341ca0d6012194095be6afbe88e4
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="adapter-variables"></a>Variables d'adaptateur
Les adaptateurs personnalisés doivent gérer un certain nombre de variables. Les valeurs attribuées à ces variables influencent la logique personnalisée que l'adaptateur implémente. Les propriétés de configuration spécifiques au transport ou à l'application permettent également de prendre en charge votre solution. Le tableau suivant répertorie ces variables courantes. Vous devez déterminer si vous souhaitez prendre chacune d'entre elles en charge dans votre adaptateur personnalisé.  
  
 Pour chaque option, votre adaptateur doit implémenter des interfaces spécifiques. Le tableau suivant répertorie les options de variable avec des liens vers des informations plus détaillées sur l'écriture du code d'adaptateur permettant de prendre en charge vos décisions de conception.  
  
|Variable d'adaptateur| Description|  
|----------------------|-----------------|  
|Direction de communication|**Réception.** Un adaptateur de réception écoute l'adresse spécifique au protocole d'un message entrant. Lors de la réception d'un message, l'adaptateur de réception le remet au moteur de messagerie, qui le transmet via un pipeline de réception afin qu'il soit conservé par la suite dans la base de données MessageBox.<br /><br /> **Envoyer.** Lorsque le moteur de messagerie doit envoyer un message à un point de terminaison spécifique, il le transmet au pipeline d'envoi. Un adaptateur d'envoi accepte un message provenant du pipeline d'envoi et l'envoie au port d'envoi.|  
|Hébergement d'adaptateurs|**Dans le processus.** Un adaptateur in-process est créé et hébergé dans le processus de service BizTalk, BTSNTSvc.exe. Si l’hôte est de 64 bits du processus est appelé BTSNTSvc64.exe. Pour des raisons de simplicité, nous ne mentionnerons pas le processus 64 bits dans le reste de cette section.<br /><br /> Cela signifie que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] crée et gère la durée de vie de l'adaptateur, l'initialise avec le proxy de transport, répond aux requêtes de l'adaptateur et arrête l'adaptateur à l'arrêt du service.<br /><br /> Pour les adaptateurs in-process, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] fournit également des informations de configuration à l'adaptateur au moment de l'exécution, concernant notamment le gestionnaire, le port d'envoi et l'emplacement de réception. Par ailleurs, les aspects de configuration tels que les fenêtres de service sont gérés par le moteur de messagerie afin que l'adaptateur n'ait pas à s'assurer qu'un emplacement de réception ou un port d'envoi se trouve en dehors d'une fenêtre de service.<br /><br /> Notez que tous les adaptateurs d'envoi sont de type in-process et doivent s'exécuter dans le processus BTSNTSvc.exe.<br /><br /> **Isolé.** L’adaptateur est créé dans un hôte isolé qui n’est pas dans le cadre de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime. L'adaptateur de réception http, qui s'exécute dans l'espace de processus de IIS (Internet Information Services), illustre parfaitement ce qu'est un adaptateur isolé.<br /><br /> Le modèle de processus IIS est tel qu'IIS gère la durée de vie des applications ASP.NET et des extensions ISAPI. Lorsque [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ne peut pas gérer la durée de vie de l'adaptateur, celui-ci est appelé « adaptateur isolé ».<br /><br /> Étant donné que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ne gère pas l’instanciation d’un adaptateur isolé, l’adaptateur doit créer son propre proxy de transport et de s’inscrire auprès de ce proxy.<br /><br /> Notez que l'architecture de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] élimine toute communication inutile entre processus. L'adaptateur isolé et la pile BizTalk étant dans le même processus, il n'y a pas de communication entre processus lorsque l'adaptateur appelle le moteur de messagerie. La seule communication entre processus est entre le moteur de messagerie et la base de données, qui est inévitable.<br /><br /> Les applications COM+ ne peuvent pas héberger les adaptateurs d'envoi écrit dans du code non géré.|  
|Modèle d'échange de message|**Unidirectionnel.** Le message est soit entrant, soit sortant.<br /><br /> **Requête-réponse** (bidirectionnel)**.** Les adaptateurs de requête-réponse sont toujours des adaptateurs de réception. Un adaptateur de réception de type requête-réponse reçoit un message de requête de la part du client et l'envoie à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]. Après avoir traité ce message de requête, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] renvoie un message de réponse à l'adaptateur.  L'adaptateur le retransmet ensuite au client.<br /><br /> **Sollicitation-réponse** (bidirectionnel)**.** Les adaptateurs de sollicitation-réponse sont toujours des adaptateurs d'envoi. Un adaptateur d'envoi de type sollicitation-réponse envoie un message de requête de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] vers un destinataire, attend la réponse du destinataire, puis renvoie le message de réponse à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].|  
|Liaison de port d'envoi|**Ports d’envoi dynamique et les emplacements de réception.** La variable URI pour l'emplacement de réception et de port d'envoi utilisée dans la liaison dynamique est déterminée au moment de l'exécution.<br /><br /> **Ports d’envoi statique et emplacements de réception.** La variable URI pour l'emplacement de réception et de port d'envoi est statique et est configurée avant l'exécution.|  
|Adaptateurs d'envoi synchrones et asynchrones|**Adaptateur d’envoi synchrone.** Lors de l'exécution d'une opération d'envoi, le moteur de messagerie bloque le thread du proxy de transport jusqu'à ce qu'il ait envoyé le lot de messages et soit retourné. Le proxy de transport gère la suppression du message une fois celui-ci soit transmis, renvoyé, interrompu, ou après le passage à l'opération suivante.<br /><br /> **Adaptateur d’envoi asynchrone.** L'adaptateur d'envoi asynchrone ne bloque pas le thread du proxy de transport, mais utilise à la place un thread distinct lors de l'exécution des opérations d'envoi. Contrairement à l'adaptateur synchrone, il doit implémenter lui-même l'ensemble de la logique de suppression et de tentative ; le proxy de transport ne gère pas la logique.<br /><br /> Les adaptateurs qui envoient des messages asynchrones présentent de meilleures performances dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] que ceux qui envoient des messages synchrones. Cela est dû au fait que les threads consacrent beaucoup de temps à attendre que les opérations entrantes et sortantes soient terminées. Étant donné que le moteur de messagerie est étroitement lié à l’UC, la bloque le thread du moteur de messagerie dégrade les performances des adaptateurs.<br /><br /> L'utilisation de transmissions asynchrones est fortement recommandée et améliore les performances.|  
|Adaptateurs de réception asynchrones|Tous les adaptateurs de réception sont asynchrones. Cela signifie que lorsqu'un adaptateur envoie de nouveaux messages au moteur de messagerie BizTalk, il n'attend pas qu'ils soient complètement traités avant de retourner.|  
|Prise en charge transactionnelle|**Adaptateur transactionnel.** Prend en charge les messages d'envoi et de réception transactionnels. Du côté envoi, seuls les adaptateurs d'envoi par lot asynchrones prennent en charge les transactions.<br /><br /> **Adaptateur non transactionnel.** Adaptateur ne recevant pas ou n'envoyant pas de message au sein de l'étendue d'une transaction explicite. De nombreux adaptateurs sont non transactionnels car ils envoient vers ou à partir d'un système, tels que le système de fichiers Windows, qui ne prend pas en charge les transactions.|  
|Adaptateurs d'envoi pris et non pris en charge par lot|**Adaptateur pris en charge par lot.** L'adaptateur d'envoi peut traiter les messages par lots d'opérations.<br /><br /> Tous les adaptateurs peuvent collecter l'ensemble des messages disponibles pour envoi, puis les envoyer tous en même temps à la base de données MessageBox, ce qui permet de réduire le nombre de mises à jour de la base de donnés nécessaires. Dans certains cas, cela signifie que la longueur du lot est de un. De même, les adaptateurs d'envoi collectent tous les messages disponibles pour envoi, les extraient, puis les envoient tous en même temps vers leur destination.<br /><br /> En général, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] traite un lot en tant qu'unité de travail pour les mises à jour de la base de données. Les adaptateurs peuvent, au sein du même lot, envoyer des messages unidirectionnels de type requête-réponse et sollicitation-réponse, suspendre des messages, supprimer des messages, demander la retransmission d'un message ou son déplacement le vers le transport secondaire. Chaque fois que cela est possible, utilisez des transmissions par lot.<br /><br /> Les adaptateurs d'envoi et de réception peuvent être pris en charge par lot, mais seuls les adaptateurs d'envoi asynchrones par lot prennent en charge les transactions.<br /><br /> **Adaptateur non pris en charge le traitement par lots.** Chaque message requiert des appels indépendants au serveur.|  
|Adaptateurs de réception pris en charge par lot|Tous les adaptateurs de réception prennent en charge le traitement par lot.|  
|Configuration d'adaptateurs de conception dynamique et statique|**Conception d’adaptateur dynamique.** Pour qu'un adaptateur prenne en charge la configuration de conception dynamique, vous devez développer une interface personnalisée afin d'utiliser l'Assistant Ajouter les métadonnées de l'adaptateur. Cette interface permet de sélectionner un schéma à ajouter à un projet BizTalk et retourne sa description de service via un fichier WSDL (Web Services Description Language). L'adaptateur fournit une interface personnalisée pour obtenir les schémas. Lorsqu'un service est importé à l'aide de l'Assistant Ajouter les métadonnées de l'adaptateur, il ajoute des types de port, des types de message et orchestration au projet BizTalk, outre les schémas.<br /><br /> Pour plus d’informations, consultez [Configuration statique de l’adaptateur au moment du Design](../core/static-design-time-adapter-configuration.md).<br /><br /> **Conception d’adaptateur statique.** Pour qu'un adaptateur prenne en charge la configuration de conception statique, vous devez implémenter des interfaces standard afin de permettre à l'Assistant Ajouter les métadonnées de l'adaptateur de sélectionner un schéma à ajouter à un projet BizTalk. L'infrastructure d'adaptateurs BizTalk fournit l'interface pour l'adaptateur.<br /><br /> Pour plus d’informations sur la modification de l’exemple d’adaptateur file, consultez [Configuration dynamique de l’adaptateur au moment du Design](../core/dynamic-design-time-adapter-configuration.md).|  
|Adaptateurs de transport et d'applications|**Adaptateurs de transport.** Les adaptateurs de transport prennent en charge un protocole spécifique et n'utilise pas de schéma. Les douze adaptateurs natifs, neuf sont des adaptateurs de transport : MSMQ, MQ Series, fichier, FTP, HTTP, SMTP, POP3 et SOAP.<br /><br /> **Adaptateurs d’applications.** Les adaptateurs d'applications utilisent des schémas de données pour envoyer des données dans l'application spécifiée. Les adaptateurs natifs, deux sont des adaptateurs d’applications : [!INCLUDE[btsWinSharePointSvcsNoVersion](../includes/btswinsharepointsvcsnoversion-md.md)] et SQL.|  
  
 Pour plus d'informations sur les interfaces à implémenter dans le code de votre adaptateur personnalisé, utilisez le lien indiqué dans le tableau suivant correspondant au type d'adaptateur que vous prévoyez de créer. Dans certains cas, il pourra s'avérer nécessaire de combiner les interfaces présentées pour répondre à une exigence avec celles indiquées dans une autre page pour répondre à une autre exigence.  
  
|Variable|Informations supplémentaires|  
|--------------|--------------------------|  
|**Les adaptateurs d’envoi**|[Instanciation et initialisation d’un adaptateur d’envoi](../core/instantiating-and-initializing-a-send-adapter.md)|  
|Synchrone|[Interfaces pour un envoi synchrone adaptateur](../core/interfaces-for-a-synchronous-send-adapter.md)|  
|Asynchrone|[Interfaces pour un envoi asynchrone adaptateur](../core/interfaces-for-an-asynchronous-send-adapter.md)|  
|Synchrone pris en charge par lot|[Interfaces pour un adaptateur d’envoi synchrone de lot est pris en charge](../core/interfaces-for-a-synchronous-batch-supported-send-adapter.md)|  
|Asynchrone pris en charge par lot|[Interfaces pour un adaptateur d’envoi asynchrone de lot est pris en charge](../core/interfaces-for-an-asynchronous-batch-supported-send-adapter.md)|  
|Asynchrone transactionnel pris en charge par lot|[Interfaces pour un adaptateur d’envoi de lot est pris en charge asynchrone transactionnelle](../core/interfaces-for-a-transactional-asynchronous-batch-supported-send-adapter.md)|  
|Sollicitation-réponse|[Adaptateur d’envoi des interfaces pour une type sollicitation-réponse](../core/interfaces-for-a-solicit-response-send-adapter.md)|  
|**Les adaptateurs de réception**|[Instanciation et initialisation un adaptateur de réception](../core/instantiating-and-initializing-a-receive-adapter.md)|  
|Regular|[Adaptateur de réception des interfaces pour In-Process](../core/interfaces-for-an-in-process-receive-adapter.md)|  
|Isolé|[Adaptateur de réception des interfaces pour un hôte isolé](../core/interfaces-for-an-isolated-receive-adapter.md)|  
|Pris en charge par lot|[Interfaces pour un lot pris en charge par l’adaptateur de réception](../core/interfaces-for-a-batch-supported-receive-adapter.md)|  
|Transactionnel pris en charge par lot|[Adaptateur de réception des interfaces pour un transactionnel pris en charge par lot](../core/interfaces-for-a-transactional-batch-supported-receive-adapter.md)|  
|Synchrone de type requête-réponse|[Adaptateur de réception des interfaces pour une demande-réponse synchrone](../core/interfaces-for-a-synchronous-request-response-receive-adapter.md)|  
  
## <a name="see-also"></a>Voir aussi  
 [Développement d’adaptateurs personnalisés](../core/developing-custom-adapters.md)   
 [À l’aide des adaptateurs](../core/using-adapters.md)   
 [Exemples d’adaptateurs - développement](../core/adapter-samples-development.md)