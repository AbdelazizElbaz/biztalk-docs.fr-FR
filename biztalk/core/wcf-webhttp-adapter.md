---
title: Adaptateur WCF-WebHttp | Documents Microsoft
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 67a353e7-1ba3-427a-8e99-c9b8d83061cb
caps.latest.revision: ''
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 891f636a5380eda7db676559194618915213dc37
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/23/2018
---
# <a name="wcf-webhttp-adapter"></a>Adaptateur WCF-WebHttp
[!INCLUDE[btsCoName](../includes/btsconame-md.md)] [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] utilise le **WCF-WebHttp** adaptateur pour envoyer des messages aux services RESTful. Le **WCF-WebHttp** envoyer l’adaptateur envoie des messages HTTP à un service à partir d’un message BizTalk. L’emplacement de réception reçoit des messages en provenance d’un service RESTful. Pour les requêtes GET et DELETE, l’adaptateur n’utilise aucune charge. Pour les requêtes POST et PUT, l’adaptateur utilise le corps du message BizTalk dans le contenu et la charge HTTP.  

Cette rubrique montre comment créer l’emplacement de réception et envoi du port à l’aide de la console Administration de BizTalk.

## <a name="create-a-receive-location"></a>Créer un emplacement de réception
  
> [!NOTE]
>  Avant d’exécuter la procédure suivante, vous devez avoir déjà ajouté un unidirectionnel port de réception. Consultez [la création d’un Port de réception](../core/how-to-create-a-receive-port.md).  
  
1.  Dans la console Administration de BizTalk Server, développez successivement [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], **Groupe BizTalk**, **Applications**, puis l’application sous laquelle créer un emplacement de réception.  
  
2.  Dans le volet gauche, cliquez sur le nœud **Ports de réception** . Dans le volet droit, cliquez avec le bouton droit sur le port de réception auquel vous souhaitez associer le nouvel emplacement de réception, puis cliquez sur **Propriétés**.  
  
3.  Dans le volet gauche de la boîte de dialogue **Propriétés des ports de réception** , sélectionnez **Emplacements de réception**, puis dans le volet droit, cliquez sur **Nouveau** pour créer un emplacement de réception.  
  
4.  Dans la liste déroulante **Type** de la section **Transport** de la boîte de dialogue **Propriétés de l’emplacement de réception** , sélectionnez **WCF-WebHttp** , puis cliquez sur **Configurer** pour configurer les propriétés de transport de l’emplacement de réception.  
  
5.  Dans le **général** onglet, configurez l’adresse de point de terminaison de l’interface REST à partir de l’endroit où le message est reçu.  
  
    |Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    |**Adresse (URI)**|Obligatoire. Spécifier l’URI via lequel [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] peut recevoir des messages RESTful HTTP.|  
    |**Identité du point de terminaison**|Ce paramètre est facultatif. Spécifier l'identité du point de terminaison. Ces paramètres permettent au point de terminaison d’authentifier cet emplacement de réception. Lors du processus d’établissement de liaison entre le point de terminaison et l’emplacement de réception, l’infrastructure WCF (Windows Communication Foundation) garantit que l’identité du service attendu correspond aux valeurs de cet élément.<br /><br /> La valeur par défaut est une chaîne vide.|  
    |**Méthode HTTP et mappage d’URL**|Le mappage des opérations BTS permet aux utilisateurs de mapper des requêtes HTTP entrantes à une opération BTS dans le contexte de message, sur la base de la méthode HTTP entrante et du sous-chemin URL. La méthode HTTP entrante et le sous-chemin URL sont comparés à un ensemble de méthodes HTTP et au modèle URI. Si une correspondance est trouvée, l’adaptateur promeut la propriété **BTS.Operation** dans le contexte du message BizTalk avec la valeur spécifiée dans le message.<br /><br /> Vous pouvez spécifier la méthode HTTP et le mappage d’URL dans un format singulier ou incluant plusieurs mappages. Le format incluant plusieurs mappages ressemble à ce qui suit :<br /><br /> `<BtsHttpUrlMapping> <Operation Name = "DelCust" Method="DELETE" Url="/Customer/12345</BtsHttpUrlMapping>`<br /><br /> Dans l’extrait de code ci-dessus, notez que l’ID de client est fourni en tant que valeur constante, à savoir *12345*. Toutefois, dans certains scénarios, l’ID de client (ou toute autre variable de requête) doit être déterminé au moment de l’exécution. Pour activer de tels scénarios, vous devez renseigner le composant variable de l’URL entre accolades { }. Par exemple, dans l’extrait de code ci-dessus, si vous spécifiez l’ID de client en tant que variable, le résultat doit ressembler à ce qui suit :<br /><br /> `<BtsHttpUrlMapping> <Operation Name = "DelCust" Method="DELETE" Url="/Customer/{ID}</BtsHttpUrlMapping>`<br /><br /> Dans ce cas, vous devez également spécifier l’emplacement où la valeur de la variable **ID** doit être récupérée au moment de l’exécution. Vous indiquez cet emplacement à l’aide d’un **mappage de variable**.<br /><br />**Remarque**<br /> Dans le champ URL, tous les caractères XML spéciaux doivent être « échappés ». Cela garantit que les caractères XML spéciaux sont traitées et conservées par le port. Par exemple, le `&` caractères spéciaux doivent être échappés en tant que `&amp;`. <br /><br />De :<br />`Url=”/Customer?{ID}& group=Location”`<br />S'applique à : <br />`Url=”/Customer?{ID}&amp;group=Location”`|  
    |**Mappage de variables**|Si vous avez spécifié des variables pour le mappage d’URL de la méthode HTTP, vous devez spécifier à quoi correspond la variable au moment de l’exécution. Cliquez sur le bouton **Modifier** pour ouvrir la boîte de dialogue **Mappage de variable** . Sous la colonne **Variable** , la boîte de dialogue répertorie les variables que vous avez définies pour **Méthode HTTP et mappage d’URL**. Dans le champ **Nom de la propriété** , vous devez spécifier le nom de la propriété qui fournit la valeur à associer à la variable. Vous devez déjà avoir défini/promu cette propriété dans le cadre de votre solution. Vous devez également renseigner l’espace de noms pour la propriété dans le champ **Espace de noms de la propriété** .|  
  
6.  Dans le **liaison** onglet, configurez le délai d’expiration et les propriétés relatives au codage.  
  
    |Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    |**Ouvrez le délai d’attente (hh:mmss)**|Spécifier une valeur de période qui indique l'intervalle de temps donné pour qu'une opération d'ouverture de canal soit réalisée. Cette valeur doit être supérieure ou égale à la valeur **System.TimeSpan.Zero**.<br /><br /> Valeur par défaut : 00:01:00<br /><br /> Valeur maximale :  23:59:59|  
    |**Envoyer le délai d’attente (hh:mmss)**|Spécifier une valeur de période qui indique l'intervalle de temps donné pour qu'une opération d'envoi soit réalisée. Cette valeur doit être supérieure ou égale à la valeur **System.TimeSpan.Zero**. En cas d'utilisation d'un port de réception de requête-réponse, cette valeur indique une période pour la réalisation de l'intégralité de l'interaction, même si le client renvoie un message volumineux.<br /><br /> Valeur par défaut : 00:01:00<br /><br /> Valeur maximale :  23:59:59|  
    |**Délai d’attente Close (hh:mmss)**|Spécifier une valeur de période qui indique l'intervalle de temps donné pour qu'une opération de fermeture de canal soit réalisée. Cette valeur doit être supérieure ou égale à la valeur **System.TimeSpan.Zero**.<br /><br /> Valeur par défaut : 00:01:00<br /><br /> Valeur maximale :  23:59:59|  
    |**Taille maximale des messages reçus (octets)**|Indiquer la taille maximale en octets d'un message comprenant des en-têtes et pouvant être reçu sur le câble. La taille des messages est limitée par la quantité de mémoire allouée pour chacun d'eux. Vous pouvez vous servir de cette propriété afin de limiter les expositions aux attaques de type refus de service.<br /><br /> L’adaptateur WCF-WebHttp a recours à la classe [WebHttpBinding](http://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.aspx) dans le mode de transfert mis en mémoire tampon pour communiquer avec un point de terminaison. Pour le mode de transport mis en mémoire, la propriété [WebHttpBinding.MaxBufferSize](http://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.maxbuffersize.aspx) est toujours égale à la valeur de cette propriété.<br /><br /> Valeur par défaut : 65536<br /><br /> Valeur maximale : 2147483647|  
    |**Nombre maximal d’appels simultanés**|Spécifier le nombre d'appels simultanés par instance de service unique. Les appels excédentaires sont mis en file d'attente. La définition de cette valeur sur 0 équivaut à la définir sur **Int32.MaxValue**.<br /><br /> La valeur par défaut est 200.|  
  
7.  Dans le **sécurité** définir la sécurité, l’onglet emplacement de réception des fonctionnalités de la WCF-WebHttp.  
  
    |Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    |**Mode de sécurité**|Spécifier le type de sécurité utilisé. Les valeurs valides sont les suivantes :<br /><br /> -                          **Aucun**: les Messages ne sont pas sécurisés pendant le transfert.<br /><br /> - **Transport**: la sécurité est fournie en utilisant le transport HTTPS. Les messages SOAP sont sécurisés à l'aide de HTTPS. Pour utiliser ce mode, vous devez configurer SSL (Secure Sockets Layer) dans Microsoft Internet Information Services (IIS).<br /><br /> - **TransportWithMessageCredential**: l’intégrité, la confidentialité et l’authentification du service sont fournies par le transport HTTPS. Pour utiliser ce mode, vous devez configurer SSL (Secure Sockets Layer) dans Microsoft Internet Information Services (IIS).<br /><br /> La valeur par défaut est **Transport**.|  
    |**Type d’informations d’identification client du transport**|Spécifier le type d’informations d’identification à utiliser lors de l’authentification du client. Les valeurs valides sont les suivantes :<br /><br /> - **Aucun**: aucune authentification se produit au niveau du transport.<br /><br /> - **Base**: l’authentification de base. Dans l'authentification de base, les noms d'utilisateur et les mots de passe sont envoyés sous forme de texte brut sur le réseau. Vous devez créer les comptes d'utilisateur de domaine ou locaux correspondant aux informations d'identification.<br /><br /> - **Digest**: l’authentification Digest. Cette méthode d'authentification a un fonctionnement similaire à l'authentification de base, excepté que les mots de passe sont envoyés sur le réseau sous forme de valeur de hachage afin d'améliorer la sécurité. Elle est uniquement disponible sur des domaines avec contrôleurs de domaine exécutant l'authentification des systèmes d'exploitation Windows Server. Vous devez créer les comptes d'utilisateur de domaine ou locaux correspondant aux informations d'identification du client.<br /><br /> -                          **NTLM**: l’authentification NTLM. Les clients peuvent envoyer les informations d'identification sans envoyer de mot de passe vers cet emplacement de réception. Vous devez créer les comptes d'utilisateur de domaine ou locaux correspondant aux informations d'identification du client.<br /><br /> -                          **Windows**: l’authentification intégrée Windows. Windows Communication Foundation négocie l'authentification Kerberos ou NTLM, la première ayant sa préférence si un domaine est présent. Pour utiliser l'authentification Kerberos, le client doit identifier le service ayant un nom principal de service (SPN, Service Principal Name). Vous devez créer les comptes d'utilisateur de domaine ou locaux correspondant aux informations d'identification du client.<br /><br /> - **Certificat**: l’authentification du Client à l’aide du certificat client. La chaîne du certificat d'Autorité de certification des certificats X.509 du client doit être installée dans le magasin de certificats des autorités de certification racines de confiance de cet ordinateur afin que les clients puissent être authentifiés pour cet emplacement de réception.<br /><br /> **Remarque**le **type d’informations d’identification du client du Transport** propriété doit correspondre au schéma d’authentification de l’IIS virtual directory hébergeant cet emplacement de réception. Par exemple, si la propriété est définie sur **Windows**, vous devez également activer **Authentification Windows intégrée** pour le répertoire virtuel qui l'héberge. De même, si la propriété est définie sur **Aucun**, vous devez autoriser l'accès anonyme au répertoire virtuel qui héberge cet emplacement de réception.<br /><br /> La valeur par défaut est **Windows**.|  
    |**Service - empreinte numérique du certificat**|Spécifier l'empreinte du certificat X.509 pour cet emplacement de réception permettant au client d'authentifier le service. Pour sélectionner l'empreinte, accédez au magasin **Personnel** dans l'emplacement **Utilisateur actuel** à l'aide du bouton **Parcourir** .<br /><br /> **Remarque** vous devez installer le certificat de service dans le **utilisateur actuel** emplacement du compte d’utilisateur du Gestionnaire de réception hébergeant cet emplacement de réception.<br /><br /> Longueur minimale : 0<br /><br /> Longueur maximale : 40<br /><br /> La valeur par défaut est une chaîne vide.|  

8. Dans le **comportement** onglet, spécifier des comportements différents au niveau du service et le niveau de point de terminaison. Ces comportements sont basés sur les classes .NET Framework.  
  
    | Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    | ServiceBehavior | Étendre les fonctionnalités de votre service WCF au niveau du service. Vous pouvez ajouter des extensions effectuer différentes opérations, comme définissent les paramètres de sécurité, activer le débogage, implémentent la limitation, utilisent d’autres classes .NET.  <br/><br/> Sélection de droite **ServiceBehavior**, et **ajouter une Extension**. La liste affiche les classes .NET qui peuvent être utilisés.|
    | EndpointBehavior | Étendre la fonctionnalité du mode de réception des demandes au niveau du point de terminaison. Vous pouvez ajouter des extensions qui effectuer différentes opérations, telles que recevoir des requêtes HTTP à partir d’un client ASP.NET AJAX basés sur navigateur, spécifient un intervalle de temps sur les transactions, choisir de recevoir des messages de façon synchrone ou asynchrone et utilisez d’autres classes .NET. <br/><br/> Sélection de droite **EndpointBehavior**, et **ajouter une Extension**. La liste affiche les classes .NET qui peuvent être utilisés.|

    Cela est similaire à la configuration de comportement pour l’emplacement de réception WCF-Custom. Consultez le **comportement de la boîte de dialogue de propriétés du Transport WCF-Custom, réception,** onglet [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].
    
9.  Dans le **Messages** onglet, spécifiez la sélection de données pour le protocole SOAP **corps** élément.  
  
    |Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    |**En-têtes HTTP sortants**|Spécifie les en-têtes HTTP indiqués sur le message de réponse, le cas échéant.|  
    |**Désactiver l’emplacement en cas d’échec**|Spécifiez s'il faut désactiver l'emplacement de réception pour lequel le traitement entrant a échoué en raison d'une erreur de pipeline de réception ou d'un échec de routage.<br /><br /> Par défaut, cette option est désactivée.|  
    |**Suspendre le message de demande en cas d’échec**|Spécifier s'il faut interrompre le message de requête dont le traitement entrant a échoué en raison d'une erreur de pipeline de réception ou d'un échec de routage.<br /><br /> Par défaut, cette case à cocher est désactivée.|  
    |**Inclure les détails de l’exception dans les erreurs**|Spécifier s'il faut retourner des messages d'erreur SOAP en cas d'échec afin de faciliter le débogage.<br /><br /> Par défaut, cette case à cocher est désactivée.|  
  
9. Cliquez sur **OK**.  
  
10. Entrez les valeurs appropriées dans la boîte de dialogue **Propriétés de l'emplacement de réception** pour terminer la configuration de l'emplacement de réception, puis cliquez sur **OK** pour enregistrer les paramètres. Pour plus d’informations sur la **propriétés des emplacements de réception** boîte de dialogue, consultez [la création d’un emplacement de réception](../core/how-to-create-a-receive-location.md).  

## <a name="create-the-send-port"></a>Pour créer un port d'envoi

1.  Dans la console Administration de BizTalk, créez un port d'envoi ou double-cliquez sur un port d'envoi existant pour le modifier. Consultez [la création d’un Port d’envoi](../core/how-to-create-a-send-port2.md). Configurez toutes les options de port d’envoi et spécifiez **WCF-WebHttp** pour le **Type** option dans le **Transport** section de la **général** onglet.  
  
2.  Sur le **général** sous l’onglet du **Transport** , cliquez sur le **configurer** bouton.  
  
3.  Dans le **général** onglet, configurez l’adresse de point de terminaison de l’interface REST où le message est envoyé.  
  
    |Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    |**Adresse (URI)**|Obligatoire. Spécifier l’URI de l’interface REST à laquelle le message est envoyé.|  
    |**Identité du point de terminaison**|Ce paramètre est facultatif. Spécifier l'identité du point de terminaison. Ces paramètres permettent au point de terminaison d’authentifier ce port d’envoi. Lors du processus d’établissement de liaison entre le point de terminaison et l’emplacement de réception, l’infrastructure WCF (Windows Communication Foundation) garantit que l’identité du service attendu correspond aux valeurs de cet élément.<br /><br /> La valeur par défaut est une chaîne vide.|  
    |**Méthode HTTP et mappage d’URL**|Le mappage des opérations BTS permet aux utilisateurs de mapper des requêtes HTTP entrantes à une opération BTS dans le contexte de message, sur la base de la méthode HTTP entrante et du sous-chemin URL. La méthode HTTP entrante et le sous-chemin URL sont comparés à un ensemble de méthodes HTTP et au modèle URI. Si une correspondance est trouvée, l’adaptateur promeut la propriété **BTS.Operation** dans le contexte du message BizTalk avec la valeur spécifiée dans le message.<br /><br /> Vous pouvez spécifier la méthode HTTP et le mappage d’URL dans un format singulier ou incluant plusieurs mappages. Le format incluant plusieurs mappages ressemble à ce qui suit :<br /><br /> `BtsHttpUrlMapping> <Operation Name = "DelCust" Method="DELETE" Url="/Customer/12345" /> </BtsHttpUrlMapping>`<br /><br /> Dans l’extrait de code ci-dessus, notez que l’ID de client est fourni en tant que valeur constante, à savoir *12345*. Toutefois, dans certains scénarios, l’ID de client (ou toute autre variable de requête) doit être déterminé au moment de l’exécution. Pour activer de tels scénarios, vous devez renseigner le composant variable de l’URL entre accolades { }. Par exemple, dans l’extrait de code ci-dessus, si vous spécifiez l’ID de client en tant que variable, le résultat doit ressembler à ce qui suit :<br /><br /> `<BtsHttpUrlMapping> <Operation Name = "DelCust" Method="DELETE" Url="/Customer/{ID}" /> </BtsHttpUrlMapping>`<br /><br /> Dans ce cas, vous devez également spécifier l’emplacement où la valeur de la variable **ID** doit être récupérée au moment de l’exécution. Vous indiquez cet emplacement à l’aide d’un **mappage de variable**. <br /><br />**Remarque**<br /> Dans le champ URL, tous les caractères XML spéciaux doivent être « échappés ». Cela garantit que les caractères XML spéciaux sont traitées et conservées par le port. Par exemple, le `&` caractères spéciaux doivent être échappés en tant que `&amp;`. <br /><br />De :<br />`Url=”/Customer?{ID}& group=Location”`<br />S'applique à : <br />`Url=”/Customer?{ID}&amp;group=Location”`|  
    |**Mappage de variables**|Si vous avez spécifié des variables pour le mappage d’URL de la méthode HTTP, vous devez spécifier à quoi correspond la variable au moment de l’exécution. Cliquez sur le bouton **Modifier** pour ouvrir la boîte de dialogue **Mappage de variable** . Sous la colonne **Variable** , la boîte de dialogue répertorie les variables que vous avez définies pour **Méthode HTTP et mappage d’URL**. Dans le champ **Nom de la propriété** , vous devez spécifier le nom de la propriété qui fournit la valeur à associer à la variable. Vous devez déjà avoir défini/promu cette propriété dans le cadre de votre solution. Vous devez également renseigner l’espace de noms pour la propriété dans le champ **Espace de noms de la propriété** .|  
  
4.  Dans le **liaison** onglet, configurez le délai d’expiration et les propriétés relatives au codage.  
  
    |Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    |**Ouvrez le délai d’attente (hh:mmss)**|Spécifier une valeur de période qui indique l'intervalle de temps donné pour qu'une opération d'ouverture de canal soit réalisée. Cette valeur doit être supérieure ou égale à la valeur **System.TimeSpan.Zero**.<br /><br /> Valeur par défaut : 00:01:00<br /><br /> Valeur maximale :  23:59:59|  
    |**Envoyer le délai d’attente (hh:mmss)**|Spécifier une valeur de période qui indique l'intervalle de temps donné pour qu'une opération d'envoi soit réalisée. Cette valeur doit être supérieure ou égale à la valeur **System.TimeSpan.Zero**. En cas d'utilisation d'un port de réception de requête-réponse, cette valeur indique une période pour la réalisation de l'intégralité de l'interaction, même si le client renvoie un message volumineux.<br /><br /> Valeur par défaut : 00:01:00<br /><br /> Valeur maximale :  23:59:59|  
    |**Délai d’attente Close (hh:mmss)**|Spécifier une valeur de période qui indique l'intervalle de temps donné pour qu'une opération de fermeture de canal soit réalisée. Cette valeur doit être supérieure ou égale à la valeur **System.TimeSpan.Zero**.<br /><br /> Valeur par défaut : 00:01:00<br /><br /> Valeur maximale :  23:59:59|  
    |**Taille maximale des messages reçus (octets)**|Indiquer la taille maximale en octets d'un message comprenant des en-têtes et pouvant être reçu sur le câble. La taille des messages est limitée par la quantité de mémoire allouée pour chacun d'eux. Vous pouvez vous servir de cette propriété afin de limiter les expositions aux attaques de type refus de service.<br /><br /> L’adaptateur WCF-WebHttp a recours à la classe [WebHttpBinding](http://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.aspx) dans le mode de transfert mis en mémoire tampon pour communiquer avec un point de terminaison. Pour le mode de transport mis en mémoire, la propriété [WebHttpBinding.MaxBufferSize](http://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.maxbuffersize.aspx) est toujours égale à la valeur de cette propriété.<br /><br /> Valeur par défaut : 65536<br /><br /> Valeur maximale : 2147483647|  
  
5.  Dans le **sécurité** onglet, définissez les fonctionnalités de sécurité du port d’envoi WCF-WebHttp.  
  
    |Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    |**Mode de sécurité**|Spécifier le type de sécurité utilisé. Les valeurs valides sont les suivantes :<br /><br /> -   **Aucun**: les Messages ne sont pas sécurisés pendant le transfert.<br />-   **Transport**: la sécurité est fournie en utilisant le transport HTTPS. Les messages SOAP sont sécurisés à l'aide de HTTPS. La chaîne du certificat d'Autorité de certification du certificat X.509 du service doit être installée dans le magasin de certificats des autorités de certification racines de confiance de cet ordinateur afin que le service puisse être authentifié sur le port d'envoi à l'aide du certificat du service.<br />-   **TransportWithMessageCredential**: l’intégrité, la confidentialité et l’authentification du service sont fournies par le transport HTTPS. La chaîne de certificats d’autorité de certification du certificat X.509 du service doit être installée dans le magasin de certificats Autorités de Certification racines de confiance sur cet ordinateur afin que le service puisse être authentifié au port d’envoi à l’aide du certificat du service. L'authentification du port d'envoi est assurée par la sécurité des messages SOAP.<br /><br /> La valeur par défaut est **aucun**.|  
    |**Type d’informations d’identification client du transport**|Spécifier le type d’informations d’identification à utiliser lors de l’authentification du client. Les valeurs valides sont les suivantes :<br /><br /> -   **Aucun**: aucune authentification se produit au niveau du transport.<br />-   **Base**: l’authentification de base. Dans l'authentification de base, les noms d'utilisateur et les mots de passe sont envoyés sous forme de texte brut sur le réseau. Vous devez créer les comptes d'utilisateur de domaine ou locaux correspondant aux informations d'identification.<br />-   **Digest**: l’authentification Digest. Cette méthode d'authentification a un fonctionnement similaire à l'authentification de base, excepté que les mots de passe sont envoyés sur le réseau sous forme de valeur de hachage afin d'améliorer la sécurité. Elle est uniquement disponible sur des domaines avec contrôleurs de domaine exécutant l'authentification des systèmes d'exploitation Windows Server. Vous devez créer les comptes d'utilisateur de domaine ou locaux correspondant aux informations d'identification du client.<br />-   **NTLM**: l’authentification NTLM. Les clients peuvent envoyer les informations d'identification sans envoyer de mot de passe vers cet emplacement de réception. Vous devez créer les comptes d'utilisateur de domaine ou locaux correspondant aux informations d'identification du client.<br />-   **Windows**: l’authentification intégrée Windows. Windows Communication Foundation négocie l'authentification Kerberos ou NTLM, la première ayant sa préférence si un domaine est présent. Pour utiliser l'authentification Kerberos, le client doit identifier le service ayant un nom principal de service (SPN, Service Principal Name). Vous devez créer les comptes d'utilisateur de domaine ou locaux correspondant aux informations d'identification du client.<br />-   **Certificat**: l’authentification du Client à l’aide du certificat client. La chaîne du certificat d'Autorité de certification des certificats X.509 du client doit être installée dans le magasin de certificats des autorités de certification racines de confiance de cet ordinateur afin que les clients puissent être authentifiés pour cet emplacement de réception. **Remarque :** le **type d’informations d’identification du client du Transport** propriété doit correspondre au schéma d’authentification de l’IIS virtual directory hébergeant cet emplacement de réception. Par exemple, si la propriété est définie sur **Windows**, vous devez également activer **Authentification Windows intégrée** pour le répertoire virtuel qui l'héberge. De même, si la propriété est définie sur **Aucun**, vous devez autoriser l'accès anonyme au répertoire virtuel qui héberge cet emplacement de réception. <br /><br /> La valeur par défaut est **Windows**.|  
    |**Certificat client - empreinte**|Spécifier l’empreinte du certificat X.509 pour l’authentification de ce port d’envoi auprès du point de terminaison. Vous pouvez sélectionner l’empreinte numérique en accédant à la **mon** stocker dans le **utilisateur actuel** emplacement avec le **Parcourir** bouton. **Remarque :** vous devez installer le certificat client dans le **utilisateur actuel** emplacement du compte d’utilisateur pour le Gestionnaire d’envoi hébergeant ce port d’envoi. <br /><br /> Longueur minimale : 0<br /><br /> Longueur maximale : 40<br /><br /> La valeur par défaut est une chaîne vide.|  
    |**Certificat de service - empreinte**|Spécifier l’empreinte du certificat X.509 pour l’authentification du service auquel ce port d’envoi envoie des messages. Vous pouvez sélectionner l’empreinte, accédez à la **autres personnes** stocker dans le **ordinateur Local** emplacement avec le **Parcourir** bouton.<br /><br /> Longueur minimale : 0<br /><br /> Longueur maximale : 40<br /><br /> La valeur par défaut est une chaîne vide.|  
    |**Informations d’identification utilisateur**|Spécifiez les informations d'identification pour l'envoi des messages. Vous pouvez spécifier la propriété en cliquant sur le **modifier** bouton. Vous devez définir les informations d’identification si vous avez sélectionné le **nom d’utilisateur** est définie sur **type d’informations d’identification de client de Message**.<br /><br /> La valeur par défaut est **n’utilisez pas l’authentification unique sur**.|  
    |**Utiliser l’identité du service ACS**|S’applique aux [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)] et BizTalk Server 2013. <br /><br />Activez cette case à cocher et cliquez sur **modifier** et fournir les valeurs suivantes pour s’authentifier auprès du Service Bus. Cela est nécessaire uniquement lorsque appeler un reste d'interface Bus des services d’entités associées.<br /><br /> -   **Uri STS du Service de contrôle d’accès** – définissez cette propriété sur `https://<Namespace>-sb.accesscontrol.windows.net/`, où \<espace de noms\> est votre espace de noms Service Bus.<br />-   **Nom de l’émetteur** – spécifiez le nom de l’émetteur. Généralement, il s'agit du propriétaire.<br />-   **Clé de l’émetteur** – spécifiez la clé de l’émetteur.|  
    |**Informations de connexion de service Bus** | Nouveau commençant par [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].<br/><br/>Choisir d’utiliser la Signature d’accès partagé (SAS) ou le Service Access Control (ACS) de l’espace de noms Service Bus. <br/><br/>Sélectionnez une option, puis **modifier** pour entrer les informations de clé :<br/><br/> - **Signature d’accès partagé** : entrez le nom de clé d’accès et la clé d’accès. Les deux valeurs sont répertoriées dans le [portail Azure](https://portal.azure.com).<br/> - **Le Service de contrôle d’accès** : entrez l’URI STS (`https://<yourNamespace>-sb.accesscontrol.windows.net/`), nom de l’émetteur et la clé de l’émetteur. Utilisation de Windows PowerShell pour extraire ces valeurs, comme décrit dans [adaptateur SB-Messaging](../core/sb-messaging-adapter.md). |
  
6.  Dans le **comportement** onglet, configurez le comportement de point de terminaison pour ce port d’envoi. 

    |Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    | EndpointBehavior | Étendre la fonctionnalité de la façon dont les demandes sont envoyées au niveau du point de terminaison. Vous pouvez ajouter des extensions de faire différentes choses, telles que définissant le comportement de traitement SOAP, spécifient un intervalle de temps sur les transactions, contrôle la fonctionnalité de découverte et utilisent d’autres classes .NET. <br/><br/>Sélection de droite **EndpointBehavior**, et **ajouter une Extension**. La liste affiche les classes .NET qui peuvent être utilisés. |
    
    (configuration semblable à celle du comportement du point de terminaison pour un port d’envoi personnalisé WCF). Consultez le **boîte boîte de dialogue de propriétés du Transport WCF-Custom, envoi, comportement** onglet [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].
  
7.  Dans le **Proxy** , onglet de configurer le paramètres du proxy pour le port d’envoi WCF-WebHttp. 
  
    |Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    |**Paramètres proxy du Gestionnaire d’envoi**|Spécifier si ce port d'envoi utilise les paramètres de proxy du gestionnaire d'envoi l'hébergeant.<br /><br /> Il s'agit du paramètre par défaut.|  
    |**N’utilisez pas de proxy**|Indiquer si ce port d’envoi fait appel ou non à un serveur proxy.<br /><br /> Par défaut, cette case à cocher est désactivée.|  
    |**Utiliser le proxy**|Indiquer si ce port d’envoi utilise le serveur proxy spécifié dans le **adresse** propriété.<br /><br /> Par défaut, cette case à cocher est désactivée.|  
    |**Adresse**|Indiquer l’adresse du serveur proxy. Utilisez le **https** ou **http** schéma selon la configuration de sécurité. Cette adresse peut être suivie d'un deux-points et du numéro de port. Par exemple, http://127.0.0.1:8080.<br /><br /> Cette propriété requiert une valeur uniquement si **utiliser le proxy** est sélectionnée.<br /><br /> Type : Chaîne<br /><br /> Longueur maximale : 256<br /><br /> La valeur par défaut est une chaîne vide.|  
    |**Nom d'utilisateur**|Indiquer le nom d’utilisateur nécessaire à l’authentification. Si l'authentification intégrée est utilisée, ce nom comprend le domaine, c'est-à-dire domaine\nom_utilisateur. Si l’authentification de base ou Digest est utilisée, le nom d’utilisateur n’inclut pas le domaine\\. Cette propriété requiert une valeur uniquement si **utiliser le proxy** est sélectionnée. **Remarque :** le WCF-WebHttp adaptateur d’envoi utilise l’authentification de base pour le proxy. <br /><br /> Type : Chaîne<br /><br /> Longueur minimale : 0<br /><br /> Longueur maximale : 256<br /><br /> La valeur par défaut est une chaîne vide.|  
    |**Mot de passe**|Indiquer le mot de passe nécessaire à l’authentification.<br /><br /> Cette propriété requiert une valeur uniquement si **utiliser le proxy** est sélectionnée.<br /><br /> Type : Chaîne<br /><br /> Longueur minimale : 0<br /><br /> Longueur maximale : 256<br /><br /> La valeur par défaut est une chaîne vide.|  
  
8.  Dans le **Messages** onglet, spécifiez la façon dont le message est envoyé à l’interface REST.  
  
    |Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    |**En-têtes HTTP sortants**|Spécifie les en-têtes HTTP indiqués sur le message de réponse, le cas échéant.|  
    |**Supprimer le corps de fonction de verbes**|En fonction du verbe que vous utilisez pour appeler un point de terminaison REST, vous aurez (ou n’aurez pas) besoin de charge de message. Par exemple, vous n’aurez pas besoin de charge de message si vous utilisez les verbes GET ou DELETE. En revanche, pour déclencher un appel au point de terminaison REST à l’aide du port d’envoi, vous pouvez utiliser un message factice qui comporte une charge de message. Avant d’envoyer le message au point de terminaison REST, la charge du message factice doit être supprimée. Vous pouvez spécifier les verbes pour lesquels la charge utile de message doit être supprimée à l’aide de la **supprimer le corps en fonction de verbes** propriété.<br /><br /> Par exemple, si vous souhaitez supprimer la charge utile de message lors de l’utilisation d’un verbe GET, spécifiez la valeur de cette propriété en tant que `GET`.|  
  
9. Cliquez sur **OK** et **OK** pour enregistrer les paramètres.  

## <a name="import-wcf-extensions"></a>Extensions d’importation de WCF

Extensions WCF d’importation dans le Gestionnaire de réception ou le Gestionnaire d’envoi :

1.  Dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration, développez [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration, développez **groupe BizTalk**, développez **paramètres de plateforme**, puis développez **cartes** .  

2.  Sélectionnez **WCF-WebHttp**, puis double-sélectionnez la réception ou gestionnaire d’envoi.  

3. Dans l’onglet Général, sélectionnez **propriétés**. 

4. Dans **Extensions WCF**, sélectionnez **importation**, puis accédez au fichier de configuration d’extension WCF. 

  
## <a name="add-a-proxy-to-the-send-handler"></a>Ajouter un serveur proxy pour le Gestionnaire d’envoi

Vous pouvez ajouter un proxy pour le port d’envoi ou le Gestionnaire d’envoi. Si vous ajoutez un serveur proxy au niveau du port d’envoi, ignorez cette section.

1.  Dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration de la console, développez [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration, développez **groupe BizTalk**, développez **paramètres de plateforme**, puis développez **cartes**.  
  
2.  Sélectionnez **WCF-WebHttp**, puis sélectionnez le Gestionnaire d’envoi.  
  
3.  Dans **propriétés du Gestionnaire d’adaptateur**, dans le **général** onglet, sélectionnez **propriétés**.  
  
4.  Dans le **Proxy** onglet, procédez comme suit.  
  
    |Utiliser|Pour effectuer cette opération|  
    |--------------|----------------|  
    |**Utiliser le proxy**|Indiquez si ce gestionnaire d’envoi utilise un serveur proxy.<br /><br /> Par défaut, cette case à cocher est désactivée.|  
    |**Adresse**|Indiquer l’adresse du serveur proxy. Utilisez le **https** ou **http** schéma selon la configuration de sécurité. Cette adresse peut être suivie d'un deux-points et du numéro de port. Par exemple, http://127.0.0.1:8080.<br /><br /> Cette propriété requiert une valeur uniquement si **utiliser le proxy** est sélectionnée.<br /><br /> Type : Chaîne<br /><br /> Longueur maximale : 256<br /><br /> La valeur par défaut est une chaîne vide.|  
    |**Nom d'utilisateur**|Indiquer le nom d’utilisateur nécessaire à l’authentification. Si l'authentification intégrée ou de base est utilisée, ce nom comprend le domaine, c'est-à-dire domaine\nom_utilisateur. Si l’authentification Digest est utilisée, le nom d’utilisateur n’inclut pas le domaine\\.<br /><br /> Cette propriété requiert une valeur uniquement si **utiliser le proxy** est sélectionnée.<br /><br /> Type : Chaîne<br /><br /> Longueur minimale : 0<br /><br /> Longueur maximale : 256<br /><br /> La valeur par défaut est une chaîne vide.|  
    |**Mot de passe**|Indiquer le mot de passe nécessaire à l’authentification.<br /><br /> Cette propriété requiert une valeur uniquement si **utiliser le proxy** est sélectionnée.<br /><br /> Type : Chaîne<br /><br /> Longueur minimale : 0<br /><br /> Longueur maximale : 256<br /><br /> La valeur par défaut est une chaîne vide.|  
  
5.  Cliquez sur **OK** jusqu'à ce que vous quittiez toutes les boîtes de dialogue.  
   
## <a name="see-also"></a>Voir aussi  
[Adaptateur SB-Messaging](../core/sb-messaging-adapter.md)

[Utilisation des adaptateurs](../core/using-adapters.md)

[Présentation des adaptateurs WCF](../core/what-are-the-wcf-adapters.md)
