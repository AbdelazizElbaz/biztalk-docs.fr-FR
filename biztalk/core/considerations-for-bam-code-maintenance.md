---
title: "Considérations pour l’analyse BAM Code Maintenance | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- BAM, code maintenance
- BAMInterceptor class
ms.assetid: e1f1d8e0-207c-47e1-b9bd-a473c86922ce
caps.latest.revision: "19"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0f7cfdb75a32c23ef5c8dedec3b6a4c783bf089a
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="considerations-for-bam-code-maintenance"></a><span data-ttu-id="128f9-102">Considérations relatives à la maintenance du code BAM</span><span class="sxs-lookup"><span data-stu-id="128f9-102">Considerations for BAM Code Maintenance</span></span>
<span data-ttu-id="128f9-103">Lorsque vous choisissez la manière dont votre application utilise l'analyse BAM, vous devez prendre en considération le fait que les exigences en la matière risquent de changer.</span><span class="sxs-lookup"><span data-stu-id="128f9-103">When you decide how to instrument your application to use BAM, you should consider the likelihood that requirements will change.</span></span> <span data-ttu-id="128f9-104">Si vous appelez des méthodes sur l'une des classes [Microsoft.BizTalk.Bam.EventObservation.EventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.eventstream.aspx) pour écrire les données surveillées, cela correspond à un codage effectué de manière irréversible du modèle d'observation dans l'application.</span><span class="sxs-lookup"><span data-stu-id="128f9-104">If you call methods on one of the [Microsoft.BizTalk.Bam.EventObservation.EventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.eventstream.aspx) classes to write the data that is being monitored, you are essentially “hard-coding” the observation model into the application.</span></span> <span data-ttu-id="128f9-105">Si vous devez modifier les données surveillées, vous devez déconnecter l'application, changer le code, procéder à une recompilation de l'application, puis la redéployer une fois celle-ci mise à jour.</span><span class="sxs-lookup"><span data-stu-id="128f9-105">If you need to change which data is being monitored, you will have to take the application offline, change the code, recompile the application, and then redeploy the updated application.</span></span>  
  
 <span data-ttu-id="128f9-106">Vous pouvez également instrumenter votre application en appelant des méthodes sur la classe [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) .</span><span class="sxs-lookup"><span data-stu-id="128f9-106">Alternatively, you can instrument your application by calling methods on the [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) class.</span></span> <span data-ttu-id="128f9-107">La classe [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) fait référence à un fichier de configuration pour déterminer les événements et les données à surveiller.</span><span class="sxs-lookup"><span data-stu-id="128f9-107">The [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) class refers to a configuration file to determine which events and data to monitor.</span></span> <span data-ttu-id="128f9-108">À l'aide de la classe [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) , vous pouvez instrumenter votre code, puis changer les données surveillées en mettant à jour les métadonnées, sans déconnecter l'application.</span><span class="sxs-lookup"><span data-stu-id="128f9-108">By using the [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx) class, you can instrument your code once, and then change the data that is being monitored by updating the metadata, without having to take the application offline.</span></span>  
  
## <a name="instrumenting-your-application-by-using-the-eventstream-object"></a><span data-ttu-id="128f9-109">Instrumentation de votre application à l'aide de l'objet EventStream</span><span class="sxs-lookup"><span data-stu-id="128f9-109">Instrumenting Your Application by Using the EventStream Object</span></span>  
 <span data-ttu-id="128f9-110">Cette approche est plus simple et s'applique aux situations dans lesquelles vous générez une application dédiée en tenant compte de spécifications de surveillance connues et spécifiques.</span><span class="sxs-lookup"><span data-stu-id="128f9-110">This approach is simpler and applies when you are building a dedicated application with specific, well-known monitoring requirements.</span></span> <span data-ttu-id="128f9-111">Avant d'opter pour cette approche, vous devez pouvoir répondre aux questions suivantes :</span><span class="sxs-lookup"><span data-stu-id="128f9-111">Before deciding to use this approach, you need to know the answers to the following questions:</span></span>  
  
-   <span data-ttu-id="128f9-112">Quelles sont les étapes majeures de l'analyse BAM et à quel emplacement dans le code surviennent-elles ?</span><span class="sxs-lookup"><span data-stu-id="128f9-112">What are the BAM milestones, and where in the code do they occur?</span></span>  
  
-   <span data-ttu-id="128f9-113">Quelles données seront surveillées ? À quel moment et à quel emplacement dans le code ces données sont-elles disponibles ?</span><span class="sxs-lookup"><span data-stu-id="128f9-113">What data will be monitored, and when and where in the code is that data available?</span></span>  
  
 <span data-ttu-id="128f9-114">Si la réponse à l'une de ces questions risque de changer, vous devez envisager d'instrumenter votre application à l'aide de l'objet [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx), à la place.</span><span class="sxs-lookup"><span data-stu-id="128f9-114">If the answer to either of these questions is likely to change, you should consider instrumenting your application by using the [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx)object instead.</span></span>  
  
 <span data-ttu-id="128f9-115">Quand vous suivez cette approche du codage effectué de manière irréversible, il suffit d'appeler les méthodes sur les classes [Microsoft.BizTalk.Bam.EventObservation.DirectEventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.directeventstream.aspx), [Microsoft.BizTalk.Bam.EventObservation.BufferedEventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.bufferedeventstream.aspx), **MessagingEventStream** (à partir des implémentations de pipeline) ou **OrchestrationEventStream** (à partir des implémentations d'orchestration), en fonction de vos besoins.</span><span class="sxs-lookup"><span data-stu-id="128f9-115">When you follow this “hard-coded” approach, you simply call methods on the [Microsoft.BizTalk.Bam.EventObservation.DirectEventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.directeventstream.aspx), [Microsoft.BizTalk.Bam.EventObservation.BufferedEventStream](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.bufferedeventstream.aspx), **MessagingEventStream** (from pipeline implementations) or **OrchestrationEventStream** (from orchestration implementations) class, depending on your requirements.</span></span>  
  
## <a name="instrumenting-your-application-by-using-the-baminterceptor-object"></a><span data-ttu-id="128f9-116">Instrumentation de votre application à l'aide de l'objet BAMInterceptor</span><span class="sxs-lookup"><span data-stu-id="128f9-116">Instrumenting Your Application by Using the BAMInterceptor Object</span></span>  
 <span data-ttu-id="128f9-117">Cette approche est à privilégier quand :</span><span class="sxs-lookup"><span data-stu-id="128f9-117">This approach is better when:</span></span>  
  
-   <span data-ttu-id="128f9-118">Vous devez trouver un juste équilibre entre la visibilité des données et les performances de l'application. Vous devez également être en mesure de contrôler les données surveillées au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="128f9-118">You need to balance visibility of data with performance of the application, and you want to be able to control the data that is monitored at run time.</span></span>  
  
-   <span data-ttu-id="128f9-119">L'application traite des messages XML volumineux dans lesquels des données peuvent s'avérer cruciales pour la surveillance.</span><span class="sxs-lookup"><span data-stu-id="128f9-119">The application processes large XML messages, in which any data may eventually become important for monitoring.</span></span>  
  
-   <span data-ttu-id="128f9-120">Il est interdit d'arrêter l'application et de modifier le code pour surveiller d'autres données.</span><span class="sxs-lookup"><span data-stu-id="128f9-120">It is unacceptable to stop the application and change the code to monitor different data.</span></span>  
  
 <span data-ttu-id="128f9-121">Avec cette approche, vous instrumentez l'application de façon générique à l'aide des méthodes de la classe [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx).</span><span class="sxs-lookup"><span data-stu-id="128f9-121">In this approach, you instrument the application in a generic way by using the methods of the [Microsoft.BizTalk.Bam.EventObservation.BAMInterceptor](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.baminterceptor.aspx)class.</span></span> <span data-ttu-id="128f9-122">En transmettant diverses configurations à l'intercepteur, vous pouvez modifier les données surveillées par l'analyse BAM.</span><span class="sxs-lookup"><span data-stu-id="128f9-122">By passing different configurations to the interceptor, you can change the data that BAM monitors.</span></span>  
  
 <span data-ttu-id="128f9-123">L'Éditeur de modèle de suivi permet de modifier les données que l'analyse BAM collecte à partir d'une orchestration BizTalk.</span><span class="sxs-lookup"><span data-stu-id="128f9-123">You can use the Tracking Profile Editor (TPE) to change the data that BAM collects from a BizTalk orchestration.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="128f9-124">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="128f9-124">See Also</span></span>  
 <span data-ttu-id="128f9-125">[À l’aide d’une activité](../core/using-an-activity.md) </span><span class="sxs-lookup"><span data-stu-id="128f9-125">[Using an Activity](../core/using-an-activity.md) </span></span>  
 <span data-ttu-id="128f9-126">[Quelle est l’intercepteur BAM ?](../core/what-is-the-bam-interceptor.md) </span><span class="sxs-lookup"><span data-stu-id="128f9-126">[What Is the BAM Interceptor?](../core/what-is-the-bam-interceptor.md) </span></span>  
 [<span data-ttu-id="128f9-127">API BAM (exemple BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="128f9-127">BAM API (BizTalk Server Sample)</span></span>](../core/bam-api-biztalk-server-sample.md)