---
title: "Procédure pas à pas : Publication de Services WCF avec l’adaptateur WCF-BasicHttp | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- tutorials, publishing
- WCF adapters, tutorials
- publishing, WCF services
- WCF-BasicHttp adapters, tutorials
- publishing, tutorials
- WCF services, publishing
- tutorials, WCF adapters
ms.assetid: 43b76215-9cb0-47ab-a085-c4cf265410f9
caps.latest.revision: "72"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8915c298160f53ea21c62bc6f44d51aec36cdf94
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="walkthrough-publishing-wcf-services-with-the-wcf-basichttp-adapter"></a><span data-ttu-id="ffa8a-102">Procédure pas à pas : Publication de Services WCF avec l’adaptateur WCF-BasicHttp</span><span class="sxs-lookup"><span data-stu-id="ffa8a-102">Walkthrough: Publishing WCF Services with the WCF-BasicHttp Adapter</span></span>
## <a name="introduction"></a><span data-ttu-id="ffa8a-103">Introduction</span><span class="sxs-lookup"><span data-stu-id="ffa8a-103">Introduction</span></span>  
 <span data-ttu-id="ffa8a-104">Cette procédure pas à pas consiste à publier un service [!INCLUDE[firstref_btsWinCommFoundation](../includes/firstref-btswincommfoundation-md.md)] en tant qu'orchestration BizTalk à l'aide de l'Assistant Publication de services WCF BizTalk et de l'adaptateur WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-104">This walkthrough publishes a [!INCLUDE[firstref_btsWinCommFoundation](../includes/firstref-btswincommfoundation-md.md)] service as a BizTalk orchestration by using the BizTalk WCF Service Publishing Wizard and the WCF-BasicHttp adapter.</span></span> <span data-ttu-id="ffa8a-105">Une orchestration BizTalk s'affiche pour un client externe, tel qu'un autre service Web ou une application [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)], en tant que service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] en exposant un point de terminaison [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] à l'aide de l'adaptateur WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-105">A BizTalk orchestration appears to an external client, such as another Web service or [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] application, as a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service by exposing a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] endpoint using the WCF-BasicHttp adapter.</span></span> <span data-ttu-id="ffa8a-106">L'adaptateur WCF-BasicHttp consiste en un adaptateur d'envoi et un adaptateur de réception.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-106">The WCF-BasicHttp adapter consists of both a send adapter and a receive adapter.</span></span> <span data-ttu-id="ffa8a-107">Dans cet exemple, vous allez utiliser uniquement le côté réception de cet adaptateur pour recevoir des demandes de service WCF en provenance d'applications clientes [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] via le protocole HTTP ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-107">In this sample you will use only the receive side of this adapter to receive WCF service requests through the HTTP or HTTPS protocol from [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] client applications.</span></span>  
  
 <span data-ttu-id="ffa8a-108">L’adaptateur WCF-BasicHttp utilise le **BasicHttpBinding** liaison pour fournir une implémentation de pile de transport/protocole compatible avec la version initiale des services Web pour faire Office de pont entre [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)]fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-108">The WCF-BasicHttp adapter uses the **BasicHttpBinding** binding to provide a transport/protocol stack implementation compatible with the initial release of Web services to serve as a bridge between [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] functionality.</span></span> <span data-ttu-id="ffa8a-109">Il assure la communication avec des clients et services Web basés sur des fichiers ASMX conformes à WS-I Basic Profile 1.1, en utilisant le transport HTTP ou HTTPS avec codage de texte.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-109">It provides communication with legacy ASMX-based Web services and clients that conform to the WS-I Basic Profile 1.1, using either the HTTP or HTTPS transport with text encoding.</span></span> <span data-ttu-id="ffa8a-110">Si vous utilisez l'adaptateur WCF-BasicHttp, vous ne pouvez pas tirer parti des fonctionnalités de communication Web avancées prises en charge par les protocoles WS-*.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-110">Using the WCF-BasicHttp adapter you will not be able to take advantage of advanced Web communication features that are supported by WS-* protocols.</span></span> <span data-ttu-id="ffa8a-111">Pour ce faire, utilisez l'adaptateur WCF-WSHttp.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-111">If you need to do that, use the WCF-WSHttp adapter.</span></span>  
  
 <span data-ttu-id="ffa8a-112">Cette procédure pas à pas montre comment créer un emplacement de réception WCF-BasicHttp pour publier une orchestration en tant que service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-112">This walkthrough shows you how to create a WCF-BasicHttp receive location to publish an orchestration as a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span>  <span data-ttu-id="ffa8a-113">Vous allez configurer les Services Internet (IIS) pour fournir un hébergement isolé de ce service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-113">You will configure Internet Information Services (IIS) to provide isolated hosting of that [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span>  <span data-ttu-id="ffa8a-114">Une application cliente appelle l'orchestration [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] publiée pour montrer la manière dont un client externe peut appeler le service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] publié sur Internet pour utiliser ses fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-114">A client application calls the published [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] orchestration as an example of how an external client might call the published [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service over the Internet to use its functionality.</span></span>  
  
 <span data-ttu-id="ffa8a-115">Une fois cette procédure pas à pas terminée, vous saurez comment effectuer les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="ffa8a-115">After completing this walkthrough, you will understand how to perform the following tasks:</span></span>  
  
-   <span data-ttu-id="ffa8a-116">Depuis Visual Studio, utilisez le **déployer** commande pour déployer le [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service sous la forme d’une orchestration BizTalk à l’intérieur d’un assembly BizTalk à une instance locale de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-116">From within Visual Studio, use the **Deploy** command to deploy the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service in the form of a BizTalk orchestration inside a BizTalk assembly to a local instance of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="ffa8a-117">Le déploiement à partir de Visual Studio crée une application BizTalk qui est renseignée avec les assemblys contenant des ressources telles que des orchestrations, des pipelines, des schémas et des mappages à utiliser dans la solution BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-117">Deployment from Visual Studio creates a BizTalk application that is populated with the assemblies containing resources such as orchestrations, pipelines, schemas, and maps to be used in the BizTalk solution.</span></span>  
  
-   <span data-ttu-id="ffa8a-118">Une fois déployée, l'orchestration BizTalk est disponible pour la configuration et le contrôle via la console Administration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-118">After it is deployed, the BizTalk orchestration is available for configuration and control through the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="ffa8a-119">Dans cette procédure pas à pas, vous allez configurer l'emplacement de réception WCF-BasicHttp pour accepter les messages entrants envoyés au service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] que crée l'Assistant Publication de services [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-119">In this walkthrough you will configure the WCF-BasicHttp receive location to accept incoming messages sent to the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service that the BizTalk [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Service Publishing Wizard creates.</span></span> <span data-ttu-id="ffa8a-120">L'emplacement de réception est hébergé par l'hôte BizTalk isolé dans les services Internet (IIS). Il agit en tant que service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] pour obtenir les demandes entrantes.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-120">The receive location is hosted by the BizTalk isolated host in IIS, and acts as a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service to get to the incoming requests.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ffa8a-121">Dans cette procédure pas à pas, vous allez utiliser l'Assistant Publication de services WCF BizTalk et/ou l'Assistant Publication de services Web BizTalk pour publier des orchestrations et des schémas BizTalk en tant que services [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] avec les adaptateurs [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-121">In this walkthrough, you will use the BizTalk WCF Publishing Wizard and/or BizTalk Web Service Publishing Wizard to publish BizTalk orchestrations and schemas as [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] services with the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] adapters.</span></span> <span data-ttu-id="ffa8a-122">Pour publier des orchestrations et des schémas en tant que services Web avec l’adaptateur SOAP, vous utilisez la **Assistant de publication WCF BizTalk** et/ou **Assistant Publication des Services Web BizTalk**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-122">To publish orchestrations and schemas as Web services with the SOAP adapter, you use the **BizTalk WCF Publish Wizard** and/or **BizTalk Web Services Publishing Wizard**.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="ffa8a-123">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="ffa8a-123">Prerequisites</span></span>  
 <span data-ttu-id="ffa8a-124">Pour exécuter la procédure décrite dans cet exemple, assurez-vous que votre environnement est conforme à la configuration requise décrite ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="ffa8a-124">To perform the steps in this sample ensure that your environment installs the following prerequisites:</span></span>  
  
-   <span data-ttu-id="ffa8a-125">L’ordinateur qui génère les assemblys et exécute le processus de déploiement et nécessitent tous deux l’ordinateur qui exécute l’exemple, Microsoft Windows Server 2008 SP2 ou Windows Server 2008 R2, Microsoft .NET Framework 4 et Microsoft [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-125">Both the computer that builds the assemblies and runs the deployment process, and the computer that runs the sample, require Microsoft Windows Server 2008 SP2 and/or Windows Server 2008 R2, Microsoft .NET Framework 4, and Microsoft [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)].</span></span>  
  
-   <span data-ttu-id="ffa8a-126">L’ordinateur utilisé pour générer les assemblys et exécuter le processus de déploiement requiert Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-126">The computer used to build the assemblies and run the deployment process requires Microsoft Visual Studio.</span></span>  
  
-   <span data-ttu-id="ffa8a-127">L'ordinateur qui exécute l'exemple requiert les adaptateurs [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] et les outils d'administration de [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-127">The computer that runs the sample requires the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Adapters and the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Administration Tools.</span></span> <span data-ttu-id="ffa8a-128">Il s'agit d'options à installer lors de l'installation de Microsoft [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-128">These are options to install during setup of Microsoft [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)].</span></span>  
  
-   <span data-ttu-id="ffa8a-129">Sur les ordinateurs utilisés pour effectuer des tâches d'administration, vous devez exécuter un compte d'utilisateur membre du groupe Administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour configurer les paramètres d'application de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] à l'intérieur de la console Administration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-129">On the computers that you use to perform administrative tasks, you must run as a user account that is a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group to configure the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] application settings within the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="ffa8a-130">Ce compte d'utilisateur doit également être membre du groupe Administrateurs local pour le déploiement d'application, la gestion d'instances de l'hôte et d'autres tâches éventuellement requises.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-130">This user account must also be a member of the local Administrators group for application deployment, managing host instances, and other tasks that may be required.</span></span>  
  
-   <span data-ttu-id="ffa8a-131">Sur n’importe quel ordinateur qui nécessite [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] fonctionnalité, effectuez la procédure d’installation unique pour le [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] exemples [http://go.microsoft.com/fwlink/?LinkId=135510](http://go.microsoft.com/fwlink/?LinkId=135510).</span><span class="sxs-lookup"><span data-stu-id="ffa8a-131">On any computer that requires [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] capability, complete the one-time setup procedure for the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] samples at [http://go.microsoft.com/fwlink/?LinkId=135510](http://go.microsoft.com/fwlink/?LinkId=135510).</span></span>  
  
-   <span data-ttu-id="ffa8a-132">Sur l'ordinateur qui exécute l'exemple et importe une liaison ou un fichier .msi dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], assurez-vous que l'hôte n'est pas un hôte approuvé, sans quoi l'importation échoue.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-132">On the computer that runs the sample and imports a binding or an .msi file into [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], ensure the host is not a trusted host or the import will fail.</span></span>  
  
-   <span data-ttu-id="ffa8a-133">Vous devez télécharger le code de procédure pas à pas et l’extraire sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-133">You must download the walkthrough code and extract it to your computer.</span></span> <span data-ttu-id="ffa8a-134">Cette procédure pas à pas est une partie de l’ensemble du [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] package de la procédure pas à pas de carte.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-134">This walkthrough is a part of the entire [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Adapter Walkthrough package.</span></span> <span data-ttu-id="ffa8a-135">Vous pouvez télécharger le fichier **WCFAdapterWalkthroughs.exe** à partir de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] centre de développement sur [http://go.microsoft.com/fwlink/?LinkId=194140](http://go.microsoft.com/fwlink/?LinkId=194140).</span><span class="sxs-lookup"><span data-stu-id="ffa8a-135">You can download the file **WCFAdapterWalkthroughs.exe** from the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Developer Center at [http://go.microsoft.com/fwlink/?LinkId=194140](http://go.microsoft.com/fwlink/?LinkId=194140).</span></span>  
  
### <a name="to-deploy-the-sample-biztalk-solution-biztalkapp"></a><span data-ttu-id="ffa8a-136">Pour déployer l'exemple de solution BizTalk (BizTalkApp)</span><span class="sxs-lookup"><span data-stu-id="ffa8a-136">To deploy the sample BizTalk solution, BizTalkApp</span></span>  
  
1.  <span data-ttu-id="ffa8a-137">Exécutez le fichier auto-extractible **WCFBasicHttpReceiveAdapter.exe** de fichiers et d’extraire les fichiers dans le **C:\WCFBasicHttpReceiveAdapter** dossier.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-137">Run the self-extracting **WCFBasicHttpReceiveAdapter.exe** file and extract the files into the **C:\WCFBasicHttpReceiveAdapter** folder.</span></span>  
  
2.  <span data-ttu-id="ffa8a-138">Dans Microsoft Visual Studio, ouvrez le **C:\WCFBasicHttpReceiveAdapter\WCFBasicHttpReceiveAdapter.sln** fichier.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-138">In Microsoft Visual Studio, open the **C:\WCFBasicHttpReceiveAdapter\WCFBasicHttpReceiveAdapter.sln** file.</span></span>  
  
3.  <span data-ttu-id="ffa8a-139">Le **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp** assembly contient un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] orchestration, une carte et deux schémas.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-139">The **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp** assembly contains a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] orchestration, a map, and two schemas.</span></span> <span data-ttu-id="ffa8a-140">Il doit être installé dans le GAC et sera peut-être une clé de nom fort de fichiers pour ce faire.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-140">It must be installed in the GAC and will need a strong name key file for this to occur.</span></span> <span data-ttu-id="ffa8a-141">Cliquez sur le **BizTalkApp** de projet, puis cliquez sur **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-141">Right-click the **BizTalkApp** project and then click **Properties**.</span></span> <span data-ttu-id="ffa8a-142">Sur le **propriétés** , cliquez sur **signature**, puis sélectionnez **signer l’assembly**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-142">On the **Properties** page, click **Signing**, and select **Sign the assembly**.</span></span> <span data-ttu-id="ffa8a-143">Cliquez sur la flèche vers le bas dans la **choisir un fichier de clé de nom fort** la liste déroulante, cliquez sur  **\<Nouveau >**et entrez `keyfile.snk` dans les **nom de fichier de clé** zone de texte .</span><span class="sxs-lookup"><span data-stu-id="ffa8a-143">Click the down arrow in the **Choose a strong name key file** drop-down list, click **\<New>**, and enter `keyfile.snk` in the **key file name** textbox.</span></span> <span data-ttu-id="ffa8a-144">Décochez la case **protéger mon fichier de clé avec un mot de passe**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-144">Uncheck **Protect my key file with a password**, and then click **OK**.</span></span>  
  
4.  <span data-ttu-id="ffa8a-145">Dans l’Explorateur de solutions, cliquez sur le **BizTalkApp** de projet, puis cliquez sur **reconstruire**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-145">In Solution Explorer, right-click the **BizTalkApp** project, and then click **Rebuild**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="ffa8a-146">N’essayez pas une **générer la Solution**, ou pour créer le **WCFClient** application à ce stade.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-146">Do not attempt a **Build Solution**, or to build the **WCFClient** application at this point.</span></span> <span data-ttu-id="ffa8a-147">Le **WCFClient** n’est pas prêt à être générée à ce stade dans l’exemple.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-147">The **WCFClient** is not ready to be built at this point in the sample.</span></span>  
  
5.  <span data-ttu-id="ffa8a-148">Développez **BizTalkApp**, puis ouvrez **DeliveryProcess.odx** pour passer en revue.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-148">Expand **BizTalkApp**, and then open **DeliveryProcess.odx** to review.</span></span> <span data-ttu-id="ffa8a-149">L'orchestration prend une demande [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] sur HTTP en utilisant l'adaptateur WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-149">The orchestration takes in a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] request over HTTP using the WCF-BasicHttp adapter.</span></span> <span data-ttu-id="ffa8a-150">Il modifie la demande à l'aide d'un mappage de transformation, puis renvoie la réponse en utilisant le même adaptateur [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-150">It modifies the request by using a transformation map and sends out the response again using the same [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] adapter.</span></span>  
  
    1.  <span data-ttu-id="ffa8a-151">Cette orchestration dispose d'un port requête-réponse logique qui sera publié avec l'adaptateur WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-151">This orchestration has a logical request-response port that will be published with the WCF-BasicHttp adapter.</span></span> <span data-ttu-id="ffa8a-152">Il sera lié à un port physique ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-152">It will be bound to a physical port in a later step.</span></span>  
  
    2.  <span data-ttu-id="ffa8a-153">Cliquez sur le nœud supérieur de **DeliveryProcess.odx** dans la fenêtre du concepteur, puis sélectionnez **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-153">Right-click the top node of **DeliveryProcess.odx** in the designer window, and then select **Properties**.</span></span> <span data-ttu-id="ffa8a-154">Assurez-vous que le **modificateur de Type** propriété du type de port est **Public**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-154">Make sure that the **Type Modifier** property of the port type is **Public**.</span></span>  
  
6.  <span data-ttu-id="ffa8a-155">Dans l’Explorateur de solutions, cliquez sur **BizTalkApp**, puis cliquez sur **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-155">In Solution Explorer, right-click **BizTalkApp**, and then click **Properties**.</span></span>  
  
    1.  <span data-ttu-id="ffa8a-156">Si la base de données de gestion BizTalk n’est pas hébergé localement, modifiez le **Server** propriété si vous utilisez un serveur de base de données différente.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-156">If the BizTalk Management database is not hosted locally, modify the **Server** property if you use a different database server.</span></span> <span data-ttu-id="ffa8a-157">Cliquez sur le **déploiement** onglet et modifiez le **Server** propriété pour pointer vers le serveur de base de données.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-157">Click the **Deployment** tab, and then modify the **Server** property to point to the database server.</span></span>  
  
    2.  <span data-ttu-id="ffa8a-158">Assurez-vous que le **nom de l’Application** est définie sur **WCFBasicHttpReceiveAdapter**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-158">Make sure that the **Application Name** property is set to **WCFBasicHttpReceiveAdapter**.</span></span> <span data-ttu-id="ffa8a-159">Il s'agit du nom de l'application BizTalk où la solution BizTalk sera déployée.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-159">This is name of the BizTalk application where the BizTalk solution will be deployed.</span></span>  
  
    3.  <span data-ttu-id="ffa8a-160">Dans l’Explorateur de solutions, cliquez sur **BizTalkApp**, puis cliquez sur **déployer**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-160">In Solution Explorer, right-click **BizTalkApp**, and then click **Deploy**.</span></span> <span data-ttu-id="ffa8a-161">Si vous ne déployez pas localement, vous devez peut-être configurer SQL Server pour autoriser les connexions à distance.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-161">If not deploying locally you may need to configure SQL Server to allow remote connections.</span></span> <span data-ttu-id="ffa8a-162">Pour plus d’informations, consultez [http://go.microsoft.com/fwlink/?LinkId=194141](http://go.microsoft.com/fwlink/?LinkId=194141).</span><span class="sxs-lookup"><span data-stu-id="ffa8a-162">For more information, see [http://go.microsoft.com/fwlink/?LinkId=194141](http://go.microsoft.com/fwlink/?LinkId=194141).</span></span>  
  
### <a name="to-publish-the-sample-orchestration-by-using-the-biztalk-wcf-service-publishing-wizard"></a><span data-ttu-id="ffa8a-163">Pour publier l'exemple d'orchestration à l'aide de l'Assistant Publication de services WCF BizTalk</span><span class="sxs-lookup"><span data-stu-id="ffa8a-163">To publish the sample orchestration by using the BizTalk WCF Service Publishing Wizard</span></span>  
  
1.  <span data-ttu-id="ffa8a-164">Au cours de cette étape, vous allez prendre l'assembly d'orchestration qui vient d'être déployé et le publier en tant que service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-164">In this step you will take the newly deployed orchestration assembly and publish it as a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span> <span data-ttu-id="ffa8a-165">Pour ce faire, cliquez sur **Démarrer**, pointez sur **tous les programmes**, pointez sur **Microsoft** [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)], puis cliquez sur **Assistant Publication du Service WCF BizTalk** .</span><span class="sxs-lookup"><span data-stu-id="ffa8a-165">To do this, click **Start**, point to **All Programs**, point to **Microsoft** [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)], and then click **BizTalk WCF Service Publishing Wizard**.</span></span>  
  
2.  <span data-ttu-id="ffa8a-166">Sur le **Bienvenue dans l’Assistant de publication des services WCF BizTalk** , cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-166">On the **Welcome to the BizTalk WCF Service Publishing Wizard** page, click **Next**.</span></span>  
  
3.  <span data-ttu-id="ffa8a-167">Sur le **Type de Service WCF** page, procédez comme suit pour spécifier le type de [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service à publier et les points de terminaison BizTalk pour la réception [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] messages, puis cliquez sur **suivant**:</span><span class="sxs-lookup"><span data-stu-id="ffa8a-167">On the **WCF Service Type** page, perform the following actions to specify the type of [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service to publish, and the BizTalk endpoints for receiving [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] messages, and then click **Next**:</span></span>  
  
    1.  <span data-ttu-id="ffa8a-168">Sélectionnez le **point de terminaison de Service** option, qui stipule que vous allez publier une [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service à partir d’une orchestration dans un assembly.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-168">Select the **Service endpoint** option, which states you will publish a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service from an orchestration in an assembly.</span></span> <span data-ttu-id="ffa8a-169">Sélectionnez **WCF-BasicHttp** à partir de la **nom de l’adaptateur (type de Transport)** liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-169">Select **WCF-BasicHttp** from the **Adapter name (Transport type)** drop-down list.</span></span>  
  
    2.  <span data-ttu-id="ffa8a-170">Sélectionnez le **activer le point de terminaison de métadonnées** case à cocher pour rendre le [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] emplacement de réception hébergé par IIS publier son [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] des métadonnées de service.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-170">Select the **Enable metadata endpoint** check box to make the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] receive location hosted by IIS publish its [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service metadata.</span></span> <span data-ttu-id="ffa8a-171">Sélectionner cette case à cocher définit le **httpGetEnabled** attribut de la \< **serviceMetadata**> élément `true` dans le fichier Web.Config. Ces métadonnées sont récupérées lors de la demande une requête HTTP/GET.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-171">Selecting this check box sets the **httpGetEnabled** attribute of the \<**serviceMetadata**> element to `true` in Web.Config. This metadata is retrieved when an HTTP/GET request asks for it.</span></span> <span data-ttu-id="ffa8a-172">Plus tard, vous utiliserez l'outil SvcUtil.exe pour obtenir ces données afin de générer une classe de proxy que le code client utilisera pour appeler le service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-172">Later you will use the SvcUtil.exe tool to obtain this data to generate a proxy class for the client code to use to call the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span>  
  
    3.  <span data-ttu-id="ffa8a-173">Sélectionnez le **BizTalk de créer des emplacements de réception dans l’application suivante** option permettant de créer les ports de réception et emplacements correspondant à chaque fichier .svc généré pour l’adaptateur WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-173">Select the **Create BizTalk receive locations in the following application** option to create the receive ports and locations corresponding to each generated .svc file for the WCF-BasicHttp adapter.</span></span> <span data-ttu-id="ffa8a-174">Choisissez le nom de l’application BizTalk **WCFBasicHttpReceiveAdapter**, où les ports de réception et les emplacements sera générés, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-174">Choose the BizTalk application name, **WCFBasicHttpReceiveAdapter**, where the receive ports and locations will be generated, and then click **Next**.</span></span>  
  
         <span data-ttu-id="ffa8a-175">L'Assistant crée un fichier de liaison, Binding.XML, pour représenter les emplacements de réception associés.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-175">The wizard creates a binding file, Binding.XML, to represent associated receive locations.</span></span> <span data-ttu-id="ffa8a-176">Ce fichier se trouve dans le répertoire Web. Ultérieurement, vous pourrez l'importer manuellement via la console Administration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-176">This file is located in the Web directory and later can be manually imported through the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="ffa8a-177">Si vous ne sélectionnez pas ici d'application BizTalk déployée, l'application par défaut est sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-177">If you do not select a deployed BizTalk application here the default application will be selected.</span></span>  
  
4.  <span data-ttu-id="ffa8a-178">Sur le **créer un Service WCF** page, sélectionnez **publier des orchestrations BizTalk en tant que service WCF**, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-178">On the **Create WCF Service** page, select **Publish BizTalk orchestrations as WCF service**, and then click **Next**.</span></span> <span data-ttu-id="ffa8a-179">Cette opération publie l'orchestration spécifiée dans l'étape suivante en tant que service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-179">This will publish the orchestration specified in the next step as a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span>  
  
5.  <span data-ttu-id="ffa8a-180">Sélectionnez l'assembly contenant l'orchestration à publier.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-180">Select the assembly containing the orchestration to be published.</span></span> <span data-ttu-id="ffa8a-181">Sur le **BizTalk Assembly** page, dans le **fichier d’assembly BizTalk (\*.dll)** zone de texte, cliquez sur **Parcourir** pour accéder à la **C:\ WCFBasicHttpReceiveAdapter\BizTalkApp\bin\Development** dossier, double-cliquez sur le **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp** assembly contenant l’exemple l’orchestration à publier, cliquez sur **ouvrir**, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-181">On the **BizTalk Assembly** page, in the **BizTalk assembly file (\*.dll)** text box, click **Browse** to browse to the **C:\WCFBasicHttpReceiveAdapter\BizTalkApp\bin\Development** folder, double-click the **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp** assembly containing the sample orchestration to publish, click **Open**, and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="ffa8a-182">Sur le **Orchestrations et Ports** , assurez-vous que le **Port : DeliveryRequestPort** nœud est sélectionné dans la page, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-182">On the **Orchestrations and Ports** page, make sure that the **Port: DeliveryRequestPort** node is selected on the page, and then click **Next**.</span></span> <span data-ttu-id="ffa8a-183">La sélection de ce nœud signifie que les nœuds de niveau supérieur correspondants sont également sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-183">Selecting this node means that its corresponding higher-level nodes are selected as well.</span></span> <span data-ttu-id="ffa8a-184">Le port sera publié avec un emplacement de réception de requête-réponse hébergeant l'adaptateur WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-184">The port will be published with a request-response receive location hosting the WCF-BasicHttp adapter.</span></span>  
  
7.  <span data-ttu-id="ffa8a-185">Sur le **propriétés du Service WCF** page, dans le **cible** espace de noms de la **service WCF** zone de texte, tapez l’URI que vous souhaitez que cette publication [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service à utiliser, et puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-185">On the **WCF Service Properties** page, in the **Target** namespace of the **WCF service** text box, type a URI that you want this published [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service to use, and then click **Next**.</span></span> <span data-ttu-id="ffa8a-186">Pour cette procédure pas à pas, laissez l’URI, par défaut «**http://tempuri.org/ »** dans l’espace de noms cible du [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] zone de texte de service.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-186">For this walkthrough, leave the default URI, "**http://tempuri.org/"** in the Target namespace of the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service text box.</span></span>  
  
8.  <span data-ttu-id="ffa8a-187">Sur le **l’emplacement du Service WCF** page, procédez comme suit pour spécifier l’emplacement de la [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] services à créer, puis cliquez sur **suivant**:</span><span class="sxs-lookup"><span data-stu-id="ffa8a-187">On the **WCF Service Location** page, perform the following actions to specify the location of the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] services to create, and then click **Next**:</span></span>  
  
    1.  <span data-ttu-id="ffa8a-188">Dans le **emplacement** zone de texte, tapez nom du répertoire Web où le [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] de service s’exécute, ou cliquez sur **Parcourir** et sélectionnez le répertoire Web.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-188">In the **Location** text box, type the Web directory name where the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service runs, or click **Browse** and select the Web directory.</span></span> <span data-ttu-id="ffa8a-189">Pour cette procédure pas à pas, car le nom de l’assembly est le même que le répertoire virtuel, conservez l’emplacement par défaut (**http://localhost/Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp**) dans le  **Emplacement** zone de texte.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-189">For this walkthrough, since the assembly name is the same as the virtual directory, leave the default location (**http://localhost/Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp**) in the **Location** text box.</span></span>  
  
    2.  <span data-ttu-id="ffa8a-190">Sélectionnez le **autorise l’accès anonyme au service WCF** option, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-190">Select the **Allow anonymous access to WCF service** option, and then click **Next**.</span></span> <span data-ttu-id="ffa8a-191">Cette option autorise un accès anonyme au répertoire virtuel créé.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-191">This option allows anonymous access to the created virtual directory.</span></span> <span data-ttu-id="ffa8a-192">Comme cette procédure pas à pas utilise le mode de sécurité Transport sans authentification, vous devez sélectionner cette option afin d'autoriser une authentification anonyme pour l'application Web que cet Assistant va créer.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-192">Because this walkthrough uses the Transport security mode with no authentication, this option needs to be selected to allow anonymous authentication for the Web application that this wizard will create.</span></span>  
  
9. <span data-ttu-id="ffa8a-193">Sur le **récapitulatif du Service WCF** , cliquez sur **créer** pour créer le [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-193">On the **WCF Service Summary** page, click **Create** to create the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span> <span data-ttu-id="ffa8a-194">Cet étape crée pour l'orchestration spécifiée un port de réception disponible via le répertoire Web spécifié.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-194">This step creates a receive port for the specified orchestration available through the specified Web directory.</span></span>  
  
10. <span data-ttu-id="ffa8a-195">Sur le **fin Service Assistant Publication WCF BizTalk** , cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-195">On the **Completing BizTalk WCF Service Publishing Wizard** page, click **Finish**.</span></span>  
  
### <a name="to-enable-the-sample-biztalk-application"></a><span data-ttu-id="ffa8a-196">Pour activer l'exemple d'application BizTalk</span><span class="sxs-lookup"><span data-stu-id="ffa8a-196">To enable the sample BizTalk application</span></span>  
  
1.  <span data-ttu-id="ffa8a-197">Cliquez sur **Démarrer**, pointez sur **tous les programmes**, pointez sur **Microsoft** [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)], puis cliquez sur **Administration de BizTalk Server**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-197">Click **Start**, point to **All Programs**, point to **Microsoft** [!INCLUDE[btsBizTalkServer2006r3ui](../includes/btsbiztalkserver2006r3ui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="ffa8a-198">Dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration de la console, développez **Applications**, développez **WCFBasicHttpReceiveAdapter**, développez **Orchestrations**, avec le bouton droit de la  **DeliveryProcess** orchestration, cliquez sur **propriétés**, puis configurez les informations de liaison comme suit :</span><span class="sxs-lookup"><span data-stu-id="ffa8a-198">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, expand **Applications**, expand **WCFBasicHttpReceiveAdapter**, expand **Orchestrations**, right-click the **DeliveryProcess** orchestration, click **Properties**, and then configure the binding information as follows:</span></span>  
  
    1.  <span data-ttu-id="ffa8a-199">Dans le **propriétés d’Orchestration** boîte de dialogue, cliquez sur **liaisons**, puis définissez **hôte** à **BizTalkServerApplication**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-199">In the **Orchestration Properties** dialog box, click **Bindings**, and then set **Host** to **BizTalkServerApplication**.</span></span>  
  
    2.  <span data-ttu-id="ffa8a-200">Dans le **propriétés d’Orchestration** boîte de dialogue, sélectionnez un port de réception le **DeliveryRequestPort** à lier.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-200">In the **Orchestration Properties** dialog box, select a receive port for the **DeliveryRequestPort** to bind.</span></span> <span data-ttu-id="ffa8a-201">Pour cette procédure pas à pas, sélectionnez la réception du port qui BizTalk [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Assistant Publication de services créé dans la procédure précédente, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-201">For this walkthrough, select the receive port that the BizTalk [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] Service Publishing Wizard created in the previous procedure, and then click **OK**.</span></span>  
  
3.  <span data-ttu-id="ffa8a-202">Dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] console d’Administration, avec le bouton droit **WCFBasicHttpReceiveAdapter**, cliquez sur **Démarrer**, puis cliquez sur **Démarrer** dans le **Démarrer Application** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-202">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click **WCFBasicHttpReceiveAdapter**, click **Start**, and then click **Start** in the **Start Application** dialog box.</span></span>  
  
### <a name="to-configure-the-web-application-hosting-the-published-wcf-service"></a><span data-ttu-id="ffa8a-203">Pour configurer l'application Web hébergeant le service WCF publié</span><span class="sxs-lookup"><span data-stu-id="ffa8a-203">To configure the Web application hosting the published WCF service</span></span>  
  
1.  <span data-ttu-id="ffa8a-204">Cliquez sur **Démarrer**, pointez sur **outils d’administration**, puis cliquez sur **Internet Information Services (IIS) 7.0 Manager**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-204">Click **Start**, point to **Administrator Tools**, and then click **Internet Information Services (IIS) 7.0 Manager**.</span></span>  
  
2.  <span data-ttu-id="ffa8a-205">Dans le Gestionnaire IIS, développez **Sites**, développez **Site Web par défaut**, puis développez l’application Web **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp**qui le **Assistant Publication du Service WCF BizTalk** créé.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-205">In IIS Manager, expand **Sites**, expand **Default Web Site**, and then expand the Web application **Microsoft.Samples.BizTalk.WCFBasicHttpReceiveAdapter.BizTalkApp** that the **BizTalk WCF Service Publishing Wizard** created.</span></span>  
  
3.  <span data-ttu-id="ffa8a-206">Créer un pool d'applications dans lequel ce service s'exécutera.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-206">Create an application pool within which this service will run.</span></span> <span data-ttu-id="ffa8a-207">Avec le bouton droit **Pools d’applications**, cliquez sur **ajouter un Pool d’applications**, entrez un nom pour le pool d’applications, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-207">Right-click **Application Pools**, click **Add Application Pool**, enter a name for the application pool, and then click **OK**.</span></span>  
  
4.  <span data-ttu-id="ffa8a-208">Développez **Pools d’applications**, cliquez sur le pool d’applications que vous venez de créée, puis sélectionnez **paramètres avancés**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-208">Expand **Application Pools**, right-click the application pool you just created, and then select **Advanced Settings**.</span></span> <span data-ttu-id="ffa8a-209">Sous **modèle de processus** section, entrez le compte a accès à la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] des bases de données sous le **identité** champ.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-209">Under **Process Model** section, enter the account which has access to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases under the **Identity** field.</span></span>  
  
5.  <span data-ttu-id="ffa8a-210">Dans le Gestionnaire des services Internet, cliquez sur **affichage du contenu**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-210">In IIS Manager, click **Content View**.</span></span>  <span data-ttu-id="ffa8a-211">Dans le volet droit, cliquez sur le [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] fichier .svc du service qui le **Assistant Publication du Service WCF BizTalk** créé, puis cliquez sur **Parcourir**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-211">In the right pane, right-click the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service .svc file that the **BizTalk WCF Service Publishing Wizard** created, and then click **Browse**.</span></span> <span data-ttu-id="ffa8a-212">Cette action ouvre Internet Explorer qui affiche une page indiquant que vous avez correctement créé un service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] opérationnel.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-212">This opens Internet Explorer to display a page that indicates you have successfully created a running [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span> <span data-ttu-id="ffa8a-213">Cette page inclut également une adresse WSDL complète, que vous pouvez copier et utiliser avec l'outil de métadonnées de service (svcutil.exe) pour extraire un code proxy et un fichier de configuration utilisables pour créer une application cliente pour le service.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-213">The page also includes a full WSDL address that you can copy and use with the Service Metadata Tool (svcutil.exe) to retrieve proxy code and a configuration file that can be used to create a client application for the service.</span></span>  
  
6.  <span data-ttu-id="ffa8a-214">Copiez dans le Presse-papiers la ligne de commande SvcUtil.exe avec l'adresse WSDL complète de la page affichée par Internet Explorer à l'étape précédente.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-214">Copy to the Clipboard the SvcUtil.exe command line with the full WSDL address on the page that Internet Explorer displayed in the previous step.</span></span>  
  
### <a name="to-create-the-proxy-class-for-the-sample-wcf-client-application-wcfclient"></a><span data-ttu-id="ffa8a-215">Pour créer la classe de proxy pour l'exemple d'application cliente WCF, WCFClient</span><span class="sxs-lookup"><span data-stu-id="ffa8a-215">To create the proxy class for the sample WCF client application, WCFClient</span></span>  
  
1.  <span data-ttu-id="ffa8a-216">Créez une classe de proxy pour permettre à l'exemple d'application cliente [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] d'appeler le service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ffa8a-216">Create a proxy class so the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] client sample application can call into the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span> <span data-ttu-id="ffa8a-217">Bien qu'un proxy ne soit pas obligatoire, l'écriture manuelle du code est très complexe. Il est donc recommandé de créer un proxy.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-217">While a proxy is not required, to manually write the code is very complex so creating a proxy is recommended.</span></span> <span data-ttu-id="ffa8a-218">Ouvrir un **invite de commandes Visual Studio** et accédez à la **C:\WCFBasicHttpReceiveAdapter\WCFClient** dossier dans lequel vous placerez le fichier de configuration des applications et de la classe proxy.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-218">Open a **Visual Studio Command Prompt** and go to the **C:\WCFBasicHttpReceiveAdapter\WCFClient** folder where you will place the proxy class and application configuration file.</span></span>  
  
2.  <span data-ttu-id="ffa8a-219">Coller le **svcutil.exe** ligne de commande avec l’adresse WSDL complète que vous avez copié dans la procédure précédente, puis appuyez sur **entrée** pour créer le fichier de configuration des applications et de la classe proxy.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-219">Paste the **svcutil.exe** command line with the full WSDL address that you copied in the previous procedure, and then hit **Enter** to create the proxy class and application configuration file.</span></span> <span data-ttu-id="ffa8a-220">Cette ligne de commande crée **BizTalkServiceInstance.cs** pour la classe de proxy et **output.config** pour le fichier de configuration d’application.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-220">This command line creates **BizTalkServiceInstance.cs** for the proxy class and **output.config** for the application configuration file.</span></span>  
  
3.  <span data-ttu-id="ffa8a-221">Dans Visual Studio, dans l’Explorateur de solutions, cliquez sur **WCFClient**, pointez sur **ajouter**, puis cliquez sur **élément existant**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-221">In Visual Studio, in Solution Explorer, right-click **WCFClient**, point to **Add**, and then click **Existing Item**.</span></span>  
  
4.  <span data-ttu-id="ffa8a-222">Dans le **ajouter un élément existant** boîte de dialogue, cliquez sur Parcourir pour le **WCFClient** dossier, sélectionnez **tous les fichiers (\*.\*)**  dans les **types de fichiers** la liste déroulante, sélectionnez le **BizTalkServiceInstance.cs** et **output.config** fichiers, puis cliquez sur  **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-222">In the **Add Existing Item** dialog box, browse to the **WCFClient** folder, select **All Files (\*.\*)** in the **Files of type** drop-down list, select the **BizTalkServiceInstance.cs** and **output.config** files, and then click **Add**.</span></span>  
  
5.  <span data-ttu-id="ffa8a-223">Pour le **WCFClient** de projet, développez **références**et assurez-vous que le **WCFClient** projet a **System.ServiceModel** en tant que une de ses références.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-223">For the **WCFClient** project, expand **References**, and then make sure that the **WCFClient** project has **System.ServiceModel** as one of its references.</span></span>  
  
6.  <span data-ttu-id="ffa8a-224">Développez le **WCFClient** de projet, cliquez sur **output.config**, cliquez sur **renommer**, puis tapez **App.config** pour le nouveau nom.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-224">Expand the **WCFClient** project, right-click **output.config**, click **Rename**, and then type **App.config** for the new name.</span></span>  
  
7.  <span data-ttu-id="ffa8a-225">Double-cliquez sur **Program.cs** pour voir comment appeler publié [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service à l’aide de la classe proxy générée par **Svcutil.exe**.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-225">Double-click **Program.cs** to review how to call the published [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service using the proxy class generated by **Svcutil.exe**.</span></span> <span data-ttu-id="ffa8a-226">Les appels pour instancier et appeler un [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service semble être appels locaux dans la simplicité du codage à l’aide de la **Microsoft_Samples_BizTalk_WCFBasicHttpReceiveAdapter_BizTalkApp_DeliveryProcess_DeliveryRequestPortClient** classe.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-226">Calls to instantiate and invoke a [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service appear to be local calls in the simplicity of coding using the **Microsoft_Samples_BizTalk_WCFBasicHttpReceiveAdapter_BizTalkApp_DeliveryProcess_DeliveryRequestPortClient** class.</span></span> <span data-ttu-id="ffa8a-227">Aucun code supplémentaire n'est nécessaire pour appeler un service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] distant.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-227">There is no additional code needed to make a call to a remote [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service.</span></span>  
  
8.  <span data-ttu-id="ffa8a-228">Dans Visual Studio, sur le **déboguer** menu, cliquez sur **démarrer sans débogage** pour exécuter WCFClient.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-228">In Visual Studio, on the **Debug** menu, click **Start Without Debugging** to run WCFClient.</span></span> <span data-ttu-id="ffa8a-229">Le code client crée un message DeliveryItem et appelle le service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] en transmettant les valeurs Address, ProductID et Amount.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-229">The client code creates a DeliveryItem message and makes a call to the [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service, passing in the Address, ProductID, and Amount.</span></span>  
  
    ```  
    DeliveryItem deliveryRequestItem = new DeliveryItem();  
    deliveryRequestItem.Address = "One Microsoft Way";  
    deliveryRequestItem.ProductID = "00A120c";  
    deliveryRequestItem.Amount = "300";  
    DeliveryRequestPortClient deliveryProcessClient = new DeliveryRequestPortClient("BasicHttpBinding_ITwoWayAsync");  
    DeliveryItem1 deliveryConfirmation = deliveryProcessClient.Submit(deliveryRequestItem);  
    ```  
  
     <span data-ttu-id="ffa8a-230">Si le client reçoit correctement le message de réponse du service [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] publié, il indique le numéro de confirmation de remise (concaténation des valeurs de ProductID et Address) dans le message de réponse.</span><span class="sxs-lookup"><span data-stu-id="ffa8a-230">If the client successfully receives the response message back from the published [!INCLUDE[nextref_btsWinCommFoundation](../includes/nextref-btswincommfoundation-md.md)] service, it displays the delivery confirmation number (a concatenation of the ProductID and Address) in the response message.</span></span>  
  
     <span data-ttu-id="ffa8a-231">**Opération d’envoi appelée avec deliveryRequestItem**</span><span class="sxs-lookup"><span data-stu-id="ffa8a-231">**Submit operation called with deliveryRequestItem**</span></span>  
  
     <span data-ttu-id="ffa8a-232">**Numéro de confirmation de remise renvoyé : 00A120c300One Microsoft Way**</span><span class="sxs-lookup"><span data-stu-id="ffa8a-232">**Delivery confirmation number sent back: 00A120c300One Microsoft Way**</span></span>  
  
     <span data-ttu-id="ffa8a-233">**Appuyez sur n’importe quelle touche pour continuer...**</span><span class="sxs-lookup"><span data-stu-id="ffa8a-233">**Press any key to continue . . .**</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ffa8a-234">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ffa8a-234">See Also</span></span>  
 [<span data-ttu-id="ffa8a-235">Comment utiliser l’Assistant Publication de services WCF BizTalk pour publier des Orchestrations en tant que Services WCF</span><span class="sxs-lookup"><span data-stu-id="ffa8a-235">How to Use the BizTalk WCF Service Publishing Wizard to Publish Orchestrations as WCF Services</span></span>](../core/publish-orchestrations-as-wcf-services--biztalk-wcf-service-publishing-wizard.md)