---
title: "Considérations sur la sécurité des messages et le suivi des instances de données | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- permissions, HAT
- MessageBox database, HAT
- Tracking database, HAT
- security, HAT
- HAT, permissions
- HAT, security
- Management database, HAT
ms.assetid: 83e47dc2-c8e2-42a2-9c85-d511e7dae83f
caps.latest.revision: "21"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7c342a62470fa26365f439cda242eeb119689737
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="security-considerations-for-message-and-instance-data-tracking"></a><span data-ttu-id="89440-102">Considérations de sécurité pour le suivi des données de message et d'instance</span><span class="sxs-lookup"><span data-stu-id="89440-102">Security Considerations for Message and Instance Data Tracking</span></span>
<span data-ttu-id="89440-103">Pour des raisons de sécurité, le suivi des messages et des instances de service n'utilise pas de navigateurs ou d'URL, comme dans les versions précédentes de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="89440-103">For security reasons, message and service instance tracking does not use browsers or URLs as in previous releases of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="89440-104">Cette option de surveillance est incluse en tant que page Présentation du groupe dans la console Administration de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="89440-104">This monitoring option is included as a part of the Group Overview page in the BizTalk Server Administration Console.</span></span>  <span data-ttu-id="89440-105">Pour la compatibilité avec des versions antérieures, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] héberge toujours Microsoft Internet Explorer dans un shell pour des raisons de sécurité.</span><span class="sxs-lookup"><span data-stu-id="89440-105">For backward compatibility, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] still hosts Microsoft Internet Explorer inside a shell for security reasons.</span></span>  
  
 <span data-ttu-id="89440-106">À l'aide des données de suivi des messages et des instances de service, vous pouvez accéder aux détails techniques nécessaires pour dépanner et optimiser votre environnement [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="89440-106">By tracking message and service instance data, you can access the technical details necessary to troubleshoot and optimize your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span> <span data-ttu-id="89440-107">L'outil de données de suivi étant très puissant, nous vous conseillons d'en restreindre l'accès dans votre environnement de production pour éviter que des utilisateurs malveillants ou non autorisés causent des dommages.</span><span class="sxs-lookup"><span data-stu-id="89440-107">Because this tracking data is powerful, you should limit access to it in your production environment so that malicious or unauthorized users do not cause damage.</span></span> <span data-ttu-id="89440-108">Il est conseillé de suivre les recommandations suivantes pour sécuriser et utiliser la console Administration de BizTalk Server dans votre environnement.</span><span class="sxs-lookup"><span data-stu-id="89440-108">It is recommended you follow these guidelines for securing and using the BizTalk Server Administration Console in your environment.</span></span>  
  
-   <span data-ttu-id="89440-109">Pour afficher des données à l'aide de la console Administration de BizTalk Server, vous devez ouvrir une session en tant que membre du groupe Opérateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="89440-109">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators group to view data using the BizTalk Server Administration Console.</span></span> <span data-ttu-id="89440-110">Pour pouvoir accéder aux corps des messages dans la section Présentation du groupe de la console Administration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], vous devez ouvrir une session en tant que membre du groupe Administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="89440-110">To access message bodies in the Group Overview section of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, you must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
     <span data-ttu-id="89440-111">Lorsque vous utilisez le suivi des messages et des instances de service, vous pouvez accéder aux bases de données suivantes :</span><span class="sxs-lookup"><span data-stu-id="89440-111">When you use message and service instance tracking, you can access the following databases:</span></span>  
  
    |<span data-ttu-id="89440-112">Base de données</span><span class="sxs-lookup"><span data-stu-id="89440-112">Database</span></span>|<span data-ttu-id="89440-113">Groupe d'utilisateurs/Autorisations</span><span class="sxs-lookup"><span data-stu-id="89440-113">User Group/Permissions</span></span>|  
    |--------------|-----------------------------|  
    |<span data-ttu-id="89440-114">gestion BizTalk (BizTalkMgmtDb) ;</span><span class="sxs-lookup"><span data-stu-id="89440-114">BizTalk Management (BizTalkMgmtDb)</span></span>|<span data-ttu-id="89440-115">Administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], Opérateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="89440-115">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators</span></span>|  
    |<span data-ttu-id="89440-116">MessageBox BizTalk (BizTalkMsgBoxDb)</span><span class="sxs-lookup"><span data-stu-id="89440-116">BizTalk MessageBox (BizTalkMsgBoxDb)</span></span>|<span data-ttu-id="89440-117">Administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], Opérateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ou autorisations de lecture/écriture</span><span class="sxs-lookup"><span data-stu-id="89440-117">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators, or read-write permissions</span></span>|  
    |<span data-ttu-id="89440-118">Suivi BizTalk (BizTalkDTADb)</span><span class="sxs-lookup"><span data-stu-id="89440-118">BizTalk Tracking (BizTalkDTADb)</span></span>|<span data-ttu-id="89440-119">Administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], Opérateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ou autorisations de lecture seule</span><span class="sxs-lookup"><span data-stu-id="89440-119">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators, or read-only permissions</span></span>|  
  
-   <span data-ttu-id="89440-120">Le suivi des messages et des instances de service génère des rapports sur tous les hôtes de l'environnement [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] en se basant sur les paramètres d'une requête.</span><span class="sxs-lookup"><span data-stu-id="89440-120">Message and service instance tracking generates reports about all hosts in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment based on the parameters of a query.</span></span> <span data-ttu-id="89440-121">Pour minimiser les risques de divulgation d'informations, seuls les membres du groupe Administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] peuvent utiliser la console Administrateur de BizTalk Server pour exécuter ces requêtes.</span><span class="sxs-lookup"><span data-stu-id="89440-121">To minimize the potential of information disclosure, only members of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group can use the BizTalk Server Administration Console to execute these querries.</span></span> <span data-ttu-id="89440-122">Toutefois, si vous ne voulez pas que tous les Administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] aient accès aux données produites par ce processus de suivi, vous pouvez limiter leur accès aux données en ajoutant/supprimant des utilisateurs dans les rôles du serveur SQL Server HM_EVENT_WRITER et BAM_EVENT_WRITER dans la base de données des suivis BizTalk (BizTalkDTADb).</span><span class="sxs-lookup"><span data-stu-id="89440-122">However, if you do not want all [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators to have access to the data this tracking process produces, you can limit their access to the data by adding/removing users from the HM_EVENT_WRITER and BAM_EVENT_WRITER SQL Server roles in the BizTalk Tracking (BizTalkDTADb) database.</span></span>  
  
-   <span data-ttu-id="89440-123">BizTalk utilise ces rôles pour accorder ou refuser à leurs membres l'accès en écriture et en lecture aux données de suivi dans la base de données correspondante, sans l'aide de l'appartenance au rôle.</span><span class="sxs-lookup"><span data-stu-id="89440-123">BizTalk uses the BAM_EVENT_WRITER and HM_EVENT_WRITER SQL Server roles to grant/deny their members permissions to read/write the tracking data in the Tracking database, but not through role membership.</span></span> <span data-ttu-id="89440-124">Ne supprimez pas ces rôles du serveur SQL Server.</span><span class="sxs-lookup"><span data-stu-id="89440-124">Do not remove these SQL Server roles.</span></span> <span data-ttu-id="89440-125">Lorsqu'un hôte qui héberge le suivi ne l'héberge plus (ou inversement), la procédure stockée adm_ChangeHostTrackingPrivilege est appelée.</span><span class="sxs-lookup"><span data-stu-id="89440-125">When you change a host from hosting to not hosting tracking (or vice versa), the adm_ChangeHostTrackingPrivilege stored procedure is called.</span></span> <span data-ttu-id="89440-126">Cette procédure lit la définition des rôles de serveur SQL Server BAM_EVENT_WRITER et HM_EVENT_WRITER et applique l'instruction d'autorisation ou de refus correspondante au groupe Windows de l'hôte.</span><span class="sxs-lookup"><span data-stu-id="89440-126">This stored procedure reads the definition of the BAM_EVENT_WRITER and HM_EVENT_WRITER SQL Server roles and apply the corresponding GRANT/DENY statements to the Host Windows group.</span></span> <span data-ttu-id="89440-127">Cela revient à ajouter le groupe Windows de l'hôte à ces rôles SQL.</span><span class="sxs-lookup"><span data-stu-id="89440-127">This achieves the same effect as adding the Host Windows group to these SQL roles.</span></span>  
  
-   <span data-ttu-id="89440-128">Lorsque vous configurez les préférences de la console Administration de BizTalk Server pour afficher les données d'une base de données archivée, les requêtes de suivi se connectent aux bases de données qui contiennent les données archivées, et pas à la base de données des suivis BizTalk (BizTalkDTADb) active.</span><span class="sxs-lookup"><span data-stu-id="89440-128">When you configure the BizTalk Server Administration Console preferences to view data from an archived database, In this case the tracking queries connect to the databases that hold the archived data, not to the currently active BizTalk Tracking (BizTalkDTADb) database.</span></span>  
  
-   <span data-ttu-id="89440-129">Le débogage des orchestrations actives ne peut pas être effectué dans les pare-feu de traduction d'adresse réseau (NAT, &lt;localizedText&gt;Network Address Translation&lt;/localizedText&gt;).</span><span class="sxs-lookup"><span data-stu-id="89440-129">You cannot debug live orchestrations across Network Address Translation (NAT) firewalls.</span></span> <span data-ttu-id="89440-130">Pour effectuer cette opération, vous devez disposer d'un ordinateur d'administration dans le domaine de traitement.</span><span class="sxs-lookup"><span data-stu-id="89440-130">You must have an administration computer on the Processing domain in order to debug live orchestrations.</span></span>  
  
-   <span data-ttu-id="89440-131">Suivant la façon dont vous configurez le suivi ainsi que les pipelines, il se peut que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] stocke des informations personnelles contenues dans le contexte du message.</span><span class="sxs-lookup"><span data-stu-id="89440-131">Depending on how you configure tracking and the pipelines, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] may store sensitive information contained in the message context.</span></span> <span data-ttu-id="89440-132">Si vous utilisez WMI ou le suivi pour enregistrer les corps de messages à l'emplacement d'un fichier, assurez-vous que l'emplacement est associé à une liste de contrôle d'accès discrétionnaire renforcée autorisant les seuls administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] à lire ces corps de messages.</span><span class="sxs-lookup"><span data-stu-id="89440-132">If you use WMI or tracking to save message bodies to a file location, ensure that the location has a strong discretionary access control list (DACL) so that only [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators have read permissions to these message bodies.</span></span> <span data-ttu-id="89440-133">Appliquez la même liste de contrôle d'accès discrétionnaire à tous les emplacements où vous enregistrez les corps de messages, y compris les bases de données autres que BizTalk dans lesquelles vous pouvez archiver et restaurer ces corps de messages.</span><span class="sxs-lookup"><span data-stu-id="89440-133">Apply the same DACL to any location you save the message bodies, including non-BizTalk databases where you may archive and restore them.</span></span>  
  
-   <span data-ttu-id="89440-134">Vous devez accorder des autorisations manuellement au groupe Administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour l'accès à la base de données du serveur d'analyse des suivis (BizTalkAnalysisDb) ; par défaut, seuls les administrateurs OLAP disposent d'autorisations sur cette base.</span><span class="sxs-lookup"><span data-stu-id="89440-134">You must manually grant permissions to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group to access the Tracking Analysis Server (BizTalkAnalysisDb) database; by default, only OLAP administrators have permissions to it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="89440-135">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="89440-135">See Also</span></span>  
 <span data-ttu-id="89440-136">[Planification de Message et le suivi des instances](../core/planning-for-message-and-instance-tracking.md) </span><span class="sxs-lookup"><span data-stu-id="89440-136">[Planning for Message and Instance Tracking](../core/planning-for-message-and-instance-tracking.md) </span></span>  
 [<span data-ttu-id="89440-137">Affichage des messages suivis et les données d’Instance</span><span class="sxs-lookup"><span data-stu-id="89440-137">Viewing Tracked Message and Instance Data</span></span>](../core/viewing-tracked-message-and-instance-data.md)