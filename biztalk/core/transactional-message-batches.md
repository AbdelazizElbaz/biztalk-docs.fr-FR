---
title: Lots de messages transactionnels | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: b1790c05-e3f7-4667-8a9e-f6f208e55e40
caps.latest.revision: "9"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 28be423aa500ba8950b5b2100ce68dba7743bd79
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="transactional-message-batches"></a><span data-ttu-id="273db-102">Lots de messages transactionnels</span><span class="sxs-lookup"><span data-stu-id="273db-102">Transactional Message Batches</span></span>
<span data-ttu-id="273db-103">Certains adaptateurs doivent coordonner une transaction externe avec une transaction [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] interne.</span><span class="sxs-lookup"><span data-stu-id="273db-103">Some adapters must coordinate an external transaction with an internal [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] transaction.</span></span> <span data-ttu-id="273db-104">Par exemple, l'adaptateur SQL fourni avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] doit coordonner une transaction [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] avec une transaction [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="273db-104">For example, the SQL adapter supplied with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] must coordinate a [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] transaction with a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] transaction.</span></span> <span data-ttu-id="273db-105">Pour ce faire, il doit accéder à l'objet de transaction [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="273db-105">To do this, the adapter needs access to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] transaction object.</span></span> <span data-ttu-id="273db-106">Un objet de transaction est explicitement créé et associé avec le lot avant l'envoi de celui-ci à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="273db-106">A transaction object is explicitly created and associated with the batch before the batch is submitted to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="273db-107">Un lot auquel est associé un objet de transaction est appelé « lot transactionnel ».</span><span class="sxs-lookup"><span data-stu-id="273db-107">A batch that has an associated transaction object is called a transactional batch.</span></span> <span data-ttu-id="273db-108">En fournissant votre propre objet de transaction MSDTC (Microsoft Distributed Transaction Coordinator), vous pouvez obtenir la livraison « garantie unique » des données dans et hors de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="273db-108">By supplying your own Microsoft Distributed Transaction Coordinator (MSDTC) transaction object, you can achieve the "guaranteed, once and once only", delivery of data into and out of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
 <span data-ttu-id="273db-109">Les adaptateurs de base de données transactionnels tels que l'adaptateur SQL peuvent être sujets à des blocages dans la base de données externes en raison de la transaction unique utilisée pour le lot.</span><span class="sxs-lookup"><span data-stu-id="273db-109">Transactional database adapters like the SQL adapter have the potential for deadlocks in the external database because of the single transaction used for the batch.</span></span> <span data-ttu-id="273db-110">C'est pour cette raison que la taille de lot pour l'adaptateur SQL est codée en dur à la valeur un.</span><span class="sxs-lookup"><span data-stu-id="273db-110">This is why the batch size for the SQL adapter is hard-coded to one.</span></span>  
  
 <span data-ttu-id="273db-111">Si l'adaptateur doit inscrire des gestionnaires de ressources supplémentaires, tels qu'une autre base de données ou MSMQ, au sein de l'étendue de cette transaction, il doit créer une transaction externe explicite et la transmettre au moteur de messagerie.</span><span class="sxs-lookup"><span data-stu-id="273db-111">Should the adapter need to enlist additional resource managers, such as another database or MSMQ, within the scope of that transaction, it must create and pass to the Messaging Engine an explicit external transaction.</span></span> <span data-ttu-id="273db-112">Une transaction externe créée et associée à un lot est appelée « lot transactionnel ».</span><span class="sxs-lookup"><span data-stu-id="273db-112">Creating an external transaction and associating it with a batch is a called a transactional batch.</span></span> <span data-ttu-id="273db-113">Un adaptateur transactionnel est un adaptateur qui utilise des lots transactionnels en créant explicitement une transaction  MSDTC (Microsoft Distributed Transaction Coordinator) externe.</span><span class="sxs-lookup"><span data-stu-id="273db-113">A transactional adapter is an adapter that makes use of transactional batches by explicitly creating an external Microsoft Distributed Transaction Coordinator (MSDTC) transaction.</span></span>  
  
 <span data-ttu-id="273db-114">L'une des raisons pour lesquelles un adaptateur fournit une transaction à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] est de s'assurer que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ou le système externe dispose d'un enregistrement des données.</span><span class="sxs-lookup"><span data-stu-id="273db-114">One of the reasons an adapter provides [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with a transaction is to ensure that either [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] or the external system has a record of the data.</span></span> <span data-ttu-id="273db-115">Cet enregistrement garantit la livraison unique du message.</span><span class="sxs-lookup"><span data-stu-id="273db-115">This record ensures the message is delivered once and only once.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="273db-116">Pour plus d’informations sur MSDTC, consultez la documentation de Distributed Transaction Coordinator à : [http://go.microsoft.com/fwlink/?LinkId=44297](http://go.microsoft.com/fwlink/?LinkId=44297).</span><span class="sxs-lookup"><span data-stu-id="273db-116">For more information about MSDTC, see the documentation for the Distributed Transaction Coordinator at: [http://go.microsoft.com/fwlink/?LinkId=44297](http://go.microsoft.com/fwlink/?LinkId=44297).</span></span>  
  
 <span data-ttu-id="273db-117">FILE est un exemple d'adaptateur qui n'exige pas d'accès à la transaction car les opérations de fichier externes qu'il gère ne sont pas transactionnelles.</span><span class="sxs-lookup"><span data-stu-id="273db-117">The File adapter is an example of an adapter that does not require access to the transaction because the external file operations it manages are not transactional.</span></span> <span data-ttu-id="273db-118">Dans ce cas, l'adaptateur ne fournit pas d'objet de transaction à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="273db-118">In this case, the adapter does not provide a transaction object to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="273db-119">D'autre part, l'adaptateur SQL interagit avec une base de données SQL et peut avoir d'autres opérations en dehors de ses interactions de message [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="273db-119">The SQL adapter, on the other hand, interacts with an SQL database and may have additional operations outside of its [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message interactions.</span></span> <span data-ttu-id="273db-120">L'adaptateur peut dans ce cas transmettre une transaction MSDTC externe à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="273db-120">An external MSDTC transaction in this case may make sense for the adapter to pass to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="273db-121">Dans cette section</span><span class="sxs-lookup"><span data-stu-id="273db-121">In This Section</span></span>  
  
-   [<span data-ttu-id="273db-122">La gestion des Transactions</span><span class="sxs-lookup"><span data-stu-id="273db-122">Handling Transactions</span></span>](../core/handling-transactions.md)