---
title: "À l’aide de liens de rôle dans les Orchestrations | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- role links
- roles, links
- roles
- roles, about roles
- role links, about role links
- role links, properties
- role links, initializing
ms.assetid: 0cf85544-12c9-4541-8925-61a6e946cce0
caps.latest.revision: "20"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0e3c4e4a4c3a99fb6e1962299d440717eaa8d51b
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="using-role-links-in-orchestrations"></a><span data-ttu-id="1f013-102">Utilisation des liens de rôle dans des orchestrations</span><span class="sxs-lookup"><span data-stu-id="1f013-102">Using Role Links in Orchestrations</span></span>
<span data-ttu-id="1f013-103">Les liens de rôle correspondent à des abstractions pour les interactions entre votre orchestration et vos partenaires commerciaux.</span><span class="sxs-lookup"><span data-stu-id="1f013-103">Role links are a form of abstraction for the interactions between your orchestration and your trading partners.</span></span> <span data-ttu-id="1f013-104">Les liens de rôle vous permettent de choisir dynamiquement avec quel partenaire commercial interagir, en fonction de la résolution du partenaire commercial, du contenu du message ou des résultats d'une recherche dans une base de données, tout en maintenant intact votre processus d'entreprise global.</span><span class="sxs-lookup"><span data-stu-id="1f013-104">Role links enable you to dynamically choose which trading partner to interact with based on trading partner resolution, message content, or the results of a database lookup while maintaining your overall business process intact.</span></span>  
  
 <span data-ttu-id="1f013-105">Imaginons un scénario interentreprises dans lequel sont impliqués plusieurs acheteurs, un seul fournisseur et plusieurs agences d'expédition pour le fournisseur.</span><span class="sxs-lookup"><span data-stu-id="1f013-105">For example, in a business-to-business scenario, there are multiple buyers, a single supplier, and multiple shipping agencies for the supplier.</span></span> <span data-ttu-id="1f013-106">Lorsqu'un acheteur envoie une bon de commande au fournisseur, celui-ci sait, grâce à la résolution de tiers, quel acheteur lui envoie le bon de commande, et lui applique la remise appropriée.</span><span class="sxs-lookup"><span data-stu-id="1f013-106">When a buyer sends a purchase order to the supplier, the supplier knows through party resolution which buyer is sending the purchase order and can apply the appropriate discount.</span></span> <span data-ttu-id="1f013-107">De plus, en fonction des marchandises commandées, le fournisseur peut déterminer au moment de l'exécution quelle agence d'expédition se chargera de la livraison.</span><span class="sxs-lookup"><span data-stu-id="1f013-107">Moreover, based on the goods ordered, the supplier determines at run time which shipping agency will be in charge of the delivery.</span></span> <span data-ttu-id="1f013-108">Chaque agence d'expédition peut utiliser un protocole de transport qui lui est propre, cependant le fournisseur peut utiliser le même processus d'entreprise au moment de l'exécution pour gérer toutes les agences d'expédition et déterminer avec quelle agence interagir.</span><span class="sxs-lookup"><span data-stu-id="1f013-108">Although each shipping agency may have its own transport protocol, the supplier can use the same business process at run time to handle all the shipping agencies and determine which agency to interact with.</span></span> <span data-ttu-id="1f013-109">Si une agence d'expédition met à jour son protocole de transport ultérieurement (de FTP à HTTP, par exemple), le fournisseur a seulement besoin d'utiliser l'Explorateur BizTalk ou la console Administration de BizTalk Server pour mettre à jour le porte d'envoi associé à cette agence d'expédition spécifique.</span><span class="sxs-lookup"><span data-stu-id="1f013-109">At a later stage, if a shipping agency updates its transport protocol—for example, from FTP to HTTP—the supplier only needs to use BizTalk Explorer or the BizTalk Server Administration console to update the send port associated with that particular shipping agency.</span></span> <span data-ttu-id="1f013-110">Le fournisseur n'a pas besoin de modifier son processus d'entreprise, qui réside dans l'orchestration.</span><span class="sxs-lookup"><span data-stu-id="1f013-110">The supplier does not need to change its business process, which resides in the orchestration.</span></span>  
  
## <a name="roles"></a><span data-ttu-id="1f013-111">Rôles</span><span class="sxs-lookup"><span data-stu-id="1f013-111">Roles</span></span>  
 <span data-ttu-id="1f013-112">Il existe deux rôles dans une orchestration :</span><span class="sxs-lookup"><span data-stu-id="1f013-112">There are two roles in an orchestration:</span></span>  
  
-   <span data-ttu-id="1f013-113">un rôle "implémentations" pour recevoir et traiter des messages</span><span class="sxs-lookup"><span data-stu-id="1f013-113">An "implements" role to receive and process messages.</span></span> <span data-ttu-id="1f013-114">(ce rôle est également connu sous le nom de fournisseur) ;</span><span class="sxs-lookup"><span data-stu-id="1f013-114">This role is also known as the provider.</span></span>  
  
-   <span data-ttu-id="1f013-115">un rôle "utilisations" pour envoyer des messages</span><span class="sxs-lookup"><span data-stu-id="1f013-115">A "uses" role to send messages.</span></span> <span data-ttu-id="1f013-116">(ce rôle est également connu sous le nom de consommateur).</span><span class="sxs-lookup"><span data-stu-id="1f013-116">This role is also known as the consumer.</span></span>  
  
## <a name="role-links"></a><span data-ttu-id="1f013-117">Liens de rôle</span><span class="sxs-lookup"><span data-stu-id="1f013-117">Role Links</span></span>  
 <span data-ttu-id="1f013-118">Un lien de rôle peut inclure un rôle consommateur ou fournisseur, ou un de chaque.</span><span class="sxs-lookup"><span data-stu-id="1f013-118">A role link can include either a consumer or a provider role, or one of each.</span></span> <span data-ttu-id="1f013-119">Le rôle consommateur utilise les services fournis par le rôle fournisseur.</span><span class="sxs-lookup"><span data-stu-id="1f013-119">A consumer role consumes the services provided by the provider role.</span></span> <span data-ttu-id="1f013-120">Lorsque vous définissez un lien de rôle avec l'un de ces rôles ou les deux, le rôle complémentaire est supposé être rempli par le partenaire avec lequel vous établissez un lien.</span><span class="sxs-lookup"><span data-stu-id="1f013-120">When you define a role link with one or both of these roles, it is assumed that the complementary role is being fulfilled by the partner with whom you are linking.</span></span>  
  
 <span data-ttu-id="1f013-121">Un lien de rôle a un **SourceParty** propriété, un **DestinationParty** propriété et un rôle initiateur.</span><span class="sxs-lookup"><span data-stu-id="1f013-121">A role link has a **SourceParty** property, a **DestinationParty** property, and an initiating role.</span></span> <span data-ttu-id="1f013-122">Rôle initiateur est le rôle sur lequel la première communication se produit, et par conséquent, qui déclenche le lien de rôle en définissant la valeur de la **DestinationParty** propriété.</span><span class="sxs-lookup"><span data-stu-id="1f013-122">An initiating role is the role on which the first communication occurs, and which therefore initiates the role link by setting the value of the **DestinationParty** property.</span></span>  
  
 <span data-ttu-id="1f013-123">Si le rôle initiateur est un consommateur pour envoyer des messages, vous définissez explicitement la **DestinationParty** , propriété (une fois et une seule fois) dans votre orchestration.</span><span class="sxs-lookup"><span data-stu-id="1f013-123">If the initiating role is a consumer for sending messages, you explicitly set the **DestinationParty** property (once and only once) in your orchestration.</span></span> <span data-ttu-id="1f013-124">Pour ce faire, vous définissez la valeur de la **DestinationParty** dans les **Expression** forme, comme dans l’exemple suivant, où ConfirmOrder est le nom d’un lien de rôle et PartnerName et OrganizationName sont paramètres d’un tiers :</span><span class="sxs-lookup"><span data-stu-id="1f013-124">To do so, you set the value of the **DestinationParty** in the **Expression** shape, as in the following example, where ConfirmOrder is the name of a role link, and PartnerName and OrganizationName are parameters of a party:</span></span>  
  
```  
ConfirmOrder(Microsoft.XLANGs.BaseTypes.DestinationParty) = new Microsoft.XLANGs.BaseTypes.Party("PartnerName", "OrganizationName");  
```  
  
 <span data-ttu-id="1f013-125">Si le rôle initiateur est un fournisseur pour la réception des messages, le **DestinationParty** propriété est automatiquement initialisée par le récepteur.</span><span class="sxs-lookup"><span data-stu-id="1f013-125">If the initiating role is a provider for receiving messages, the **DestinationParty** property is initialized automatically by the receiver.</span></span> <span data-ttu-id="1f013-126">Le **DestinationParty** est défini sur le fournisseur lui-même.</span><span class="sxs-lookup"><span data-stu-id="1f013-126">The **DestinationParty** is set to the provider itself.</span></span> <span data-ttu-id="1f013-127">Le **SourceParty** propriété est en lecture seule et est fournie via un composant de pipeline approuvé pour résoudre le nom du tiers en fonction de l’identificateur de sécurité (SID) de l’expéditeur ou sur un certificat associé au tiers.</span><span class="sxs-lookup"><span data-stu-id="1f013-127">The **SourceParty** property is read-only, and is supplied through a trusted pipeline component to resolve the party name based on the security identifier (SID) of the sender or on a certificate associated with the party.</span></span> <span data-ttu-id="1f013-128">L’hôte qui exécute le composant de pipeline doit être marquée comme **approuvé par authentification**.</span><span class="sxs-lookup"><span data-stu-id="1f013-128">The host running the pipeline component must be marked as **Authentication Trusted**.</span></span> <span data-ttu-id="1f013-129">Vous pouvez obtenir la valeur de la **SourceParty** dans les **Expression** forme à l’aide de l’exemple de code suivant :</span><span class="sxs-lookup"><span data-stu-id="1f013-129">You can get the value of the **SourceParty** in the **Expression** shape by using the following sample code:</span></span>  
  
 `PartyName = Buyer_Supplier(Microsoft.XLANGs.BaseTypes.SourceParty);`  
  
## <a name="role-link-types"></a><span data-ttu-id="1f013-130">Types de liens de rôle</span><span class="sxs-lookup"><span data-stu-id="1f013-130">Role Link Types</span></span>  
 <span data-ttu-id="1f013-131">Un lien de rôle est une instance d'un type de lien de rôle, composée d'un ou de deux rôles.</span><span class="sxs-lookup"><span data-stu-id="1f013-131">A role link is an instance of a role link type, which consists of either one or two roles.</span></span> <span data-ttu-id="1f013-132">Lorsque vous utilisez un type de lien de rôle, tenez compte des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="1f013-132">When working with a role link type, consider the following:</span></span>  
  
-   <span data-ttu-id="1f013-133">Vous ne pouvez faire référence à un type de port donné qu’une seule fois au sein d'un type de lien de rôle unique.</span><span class="sxs-lookup"><span data-stu-id="1f013-133">You can refer only once to any given port type within a single role link type.</span></span>  
  
-   <span data-ttu-id="1f013-134">Dans la mesure où une définition de type de lien de rôle comprend des types de ports, l'étendue du type de port doit englober celle de tous les types de liens de rôle qui l'utilisent.</span><span class="sxs-lookup"><span data-stu-id="1f013-134">Because a role link type definition includes port types, the scope of a port type must encompass that of any role link type that uses it.</span></span>  
  
-   <span data-ttu-id="1f013-135">Lorsque vous utilisez les services BAS (Business Activity Services), le schéma de paramètres structurés doit être défini dans le même assembly BizTalk assembly que le type de lien de rôle auquel il est associé.</span><span class="sxs-lookup"><span data-stu-id="1f013-135">When working with Business Activity Services (BAS), the structured parameter schema must be defined in the same BizTalk assembly as the role link type it is associated with.</span></span> <span data-ttu-id="1f013-136">Dans la mesure où le schéma est associé au type de lien de rôle et non aux rôles individuels qui composent ce type de lien de rôle, si les tiers qui jouent les différents rôles partagent l'assembly contenant le type de lien de rôle, les deux tiers verront les mêmes schémas de paramètres structurés.</span><span class="sxs-lookup"><span data-stu-id="1f013-136">Because the schema is associated with the role link type and not with the individual roles that make up that role link type, if the parties that play the different roles share the assembly containing the role link type, both parties will see the same structured parameter schemas.</span></span> <span data-ttu-id="1f013-137">Si les deux tiers utilisent le même type de lien de rôle mais doivent avoir des schémas de paramètres différents, un assembly distinct doit être créé pour chaque tiers.</span><span class="sxs-lookup"><span data-stu-id="1f013-137">If the two parties use the same role link type but must have different parameter schemas, a different assembly should be created for each party.</span></span> <span data-ttu-id="1f013-138">Le type de lien de rôle doit alors être dupliqué dans chaque assembly.</span><span class="sxs-lookup"><span data-stu-id="1f013-138">The role link type should be duplicated in each assembly.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="1f013-139">Dans cette section</span><span class="sxs-lookup"><span data-stu-id="1f013-139">In This Section</span></span>  
  
-   [<span data-ttu-id="1f013-140">Comment créer des liens de rôle dans les Orchestrations</span><span class="sxs-lookup"><span data-stu-id="1f013-140">How to Create Role Links in Orchestrations</span></span>](../core/how-to-create-role-links-in-orchestrations.md)  
  
-   [<span data-ttu-id="1f013-141">L’utilisation de la forme de lien de rôle</span><span class="sxs-lookup"><span data-stu-id="1f013-141">How to Use the Role Link Shape</span></span>](../core/how-to-use-the-role-link-shape.md)  
  
-   [<span data-ttu-id="1f013-142">Comment utiliser l’Assistant lien de rôle</span><span class="sxs-lookup"><span data-stu-id="1f013-142">How to Use the Role Link Wizard</span></span>](../core/how-to-use-the-role-link-wizard.md)  
  
## <a name="see-also"></a><span data-ttu-id="1f013-143">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1f013-143">See Also</span></span>  
 <span data-ttu-id="1f013-144">[Comment configurer le composant de Pipeline résolution du tiers](../core/how-to-configure-the-party-resolution-pipeline-component.md) </span><span class="sxs-lookup"><span data-stu-id="1f013-144">[How to Configure the Party Resolution Pipeline Component](../core/how-to-configure-the-party-resolution-pipeline-component.md) </span></span>  
 [<span data-ttu-id="1f013-145">L’utilisation de Ports dans les Orchestrations</span><span class="sxs-lookup"><span data-stu-id="1f013-145">Using Ports in Orchestrations</span></span>](../core/using-ports-in-orchestrations.md)