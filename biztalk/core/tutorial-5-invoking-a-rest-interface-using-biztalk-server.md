---
title: "Didacticiel de 5 : Appeler une Interface REST à l’aide de BizTalk Server | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 73871ca3-abd0-45ae-b379-6df76a967a80
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fce915ec277b1f73f93a9508a5dd6c92fb0a5c9d
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="tutorial-5-invoking-a-rest-interface-using-biztalk-server"></a><span data-ttu-id="73b79-102">Didacticiel de 5 : Appeler une Interface REST à l’aide de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="73b79-102">Tutorial 5: Invoking a REST Interface Using BizTalk Server</span></span>
<span data-ttu-id="73b79-103">Cette section décrit une procédure pas à pas d'appel d'un point de terminaison REST à l'aide de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="73b79-103">This section provides a step-by-step walkthrough on how to invoke a REST endpoint using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="73b79-104">Au cours de ce didacticiel, vous allez appeler un point de terminaison REST disponible dans la Place de marché [!INCLUDE[winazure](../includes/winazure-md.md)] qui renvoie les retards des vols des transporteurs aériens américains.</span><span class="sxs-lookup"><span data-stu-id="73b79-104">In this tutorial you invoke a REST endpoint available from the [!INCLUDE[winazure](../includes/winazure-md.md)] Marketplace that returns the delays in flights of US air carriers.</span></span> <span data-ttu-id="73b79-105">Le didacticiel utilise le nouveau **WCF-WebHttp** carte introduite dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour appeler le point de terminaison REST.</span><span class="sxs-lookup"><span data-stu-id="73b79-105">The tutorial uses the new **WCF-WebHttp** adapter introduced in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to invoke the REST endpoint.</span></span>  
  
##  <span data-ttu-id="73b79-106"><a name="BKMK_Scenario"></a>Scénario utilisé dans ce didacticiel</span><span class="sxs-lookup"><span data-stu-id="73b79-106"><a name="BKMK_Scenario"></a> Scenario Used in This Tutorial</span></span>  
 <span data-ttu-id="73b79-107">La Place de marché [!INCLUDE[winazure](../includes/winazure-md.md)] fournit l'URL de ressource REST pour extraire les retards des vols des transporteurs aériens américains :</span><span class="sxs-lookup"><span data-stu-id="73b79-107">[!INCLUDE[winazure](../includes/winazure-md.md)] Marketplace provides the following the REST resource URL to retrieve flight delays of US air carriers:</span></span>  
  
```  
https://api.datamarket.azure.com/oakleaf/US_Air_Carrier_Flight_Delays_Incr/On_Time_Performance  
```  
  
 <span data-ttu-id="73b79-108">Si vous entrez cette URL dans la barre d'adresses d'un navigateur Web, vous êtes invité à entrer des informations d'identification afin d'accéder à la ressource.</span><span class="sxs-lookup"><span data-stu-id="73b79-108">If you enter this URL in the address bar of a Web browser, you are prompted for credentials to access the resource.</span></span> <span data-ttu-id="73b79-109">Après vous être connecté à la [Windows Azure Marketplace](http://go.microsoft.com/fwlink/p/?LinkId=257913), vous pouvez obtenir les informations d’identification à partir de la **mon compte** onglet de la page web.</span><span class="sxs-lookup"><span data-stu-id="73b79-109">After you have logged into the [Windows Azure Marketplace](http://go.microsoft.com/fwlink/p/?LinkId=257913), you can get the credentials from the **My Account** tab of the web page.</span></span> <span data-ttu-id="73b79-110">Les informations d’identification sont répertoriées par rapport à la **ID de client** (nom d’utilisateur) et **clé de compte primaire** les étiquettes (mot de passe).</span><span class="sxs-lookup"><span data-stu-id="73b79-110">The credentials are listed against the **Customer ID** (user name) and **Primary Account Key** (password) labels.</span></span>  
  
 <span data-ttu-id="73b79-111">Dans ce didacticiel, vous utilisez l’URL de ressource et les informations d’identification pour configurer un bidirectionnelle **WCF-WebHttp** port d’envoi.</span><span class="sxs-lookup"><span data-stu-id="73b79-111">In this tutorial, you use the resource URL and the credentials to configure a two-way **WCF-WebHttp** send port.</span></span> <span data-ttu-id="73b79-112">Le pipeline de réception du port d'envoi bidirectionnel reçoit le message de réponse contenant les détails des vols et publie le message dans la base de données MessageBox [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="73b79-112">The receive pipeline of the two-way send port receives the response message with the flight details and publishes the message to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message box database.</span></span> <span data-ttu-id="73b79-113">Vous configurez un port d'envoi FILE qui s'abonne à tous les messages publiés par le port d'envoi WCF-WebHttp.</span><span class="sxs-lookup"><span data-stu-id="73b79-113">You configure a FILE send port that subscribes to all the messages published by the WCF-WebHttp send port.</span></span> <span data-ttu-id="73b79-114">Le port d'envoi FILE consomme le message en provenance du serveur [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et le copie dans un emplacement de fichier.</span><span class="sxs-lookup"><span data-stu-id="73b79-114">The FILE send port consumes the message from the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and copies it to a file location.</span></span>  
  
 <span data-ttu-id="73b79-115">Dans un scénario d'entreprise réel, le port d'envoi WCF-WebHttp peut être déclenché en l'associant à un processus d'entreprise plus important, par exemple, quand un emplacement de réception récupère un message en provenance d'une application professionnelle.</span><span class="sxs-lookup"><span data-stu-id="73b79-115">In a real-world business scenario, the WCF-WebHttp send port can be triggered by associating it with a larger business process such as a receive location that gets a message from a business application.</span></span> <span data-ttu-id="73b79-116">Toutefois, dans le cadre de ce didacticiel, étant donné que l'objectif est de présenter la manière d'appeler une interface REST, vous pouvez utiliser un emplacement FILE classique qui reçoit un message factice afin de déclencher le port d'envoi.</span><span class="sxs-lookup"><span data-stu-id="73b79-116">However, in this tutorial, because the focus is on demonstrating how to invoke a REST interface, you can use a simple FILE location that receives a dummy message to trigger the send port.</span></span>  
  
 <span data-ttu-id="73b79-117">En résumé, vous devez réaliser les étapes suivantes pour configurer cette solution :</span><span class="sxs-lookup"><span data-stu-id="73b79-117">So, to summarize, you must perform the following steps to configure this solution:</span></span>  
  
1.  <span data-ttu-id="73b79-118">configuration d'un emplacement de réception FILE afin de récupérer un message de requête factice ;</span><span class="sxs-lookup"><span data-stu-id="73b79-118">Configure a FILE receive location to pick a dummy request message.</span></span>  
  
2.  <span data-ttu-id="73b79-119">configuration d'un port d'envoi WCF-WebHttp bidirectionnel afin d'appeler l'URL de la ressource REST et de recevoir une réponse ;</span><span class="sxs-lookup"><span data-stu-id="73b79-119">Configure a two-way WCF-WebHttp send port to invoke the REST resource URL and receive a response.</span></span>  
  
3.  <span data-ttu-id="73b79-120">configuration d'un port d'envoi FILE unidirectionnel pour consommer le message de réponse contenant les détails des vols et le copier dans un emplacement de fichier.</span><span class="sxs-lookup"><span data-stu-id="73b79-120">Configure a one-way FILE send port to consume the response message with the flight details and copy it to a file location.</span></span>  
  
## <a name="set-up-your-includewinazureincludeswinazure-mdmd-marketplace-account"></a><span data-ttu-id="73b79-121">Configuration de votre compte sur la Place de marché [!INCLUDE[winazure](../includes/winazure-md.md)]</span><span class="sxs-lookup"><span data-stu-id="73b79-121">Set up Your [!INCLUDE[winazure](../includes/winazure-md.md)] Marketplace Account</span></span>  
 <span data-ttu-id="73b79-122">Pour accéder aux données concernant les retards des vols qui sont exposées via le point de terminaison REST, vous devez d'abord vous abonner au flux de données de l'exemple relatif aux retards des vols des transporteurs aériens américains.</span><span class="sxs-lookup"><span data-stu-id="73b79-122">To access the flight delay data exposed through the REST endpoint, you must first subscribe to the US Air Carrier Flight Delays sample data feed.</span></span> <span data-ttu-id="73b79-123">Effectuez les étapes suivantes pour ce faire :</span><span class="sxs-lookup"><span data-stu-id="73b79-123">Perform the following steps to do so:</span></span>  
  
#### <a name="to-subscribe-to-the-data-feed"></a><span data-ttu-id="73b79-124">Pour vous abonner au flux de données</span><span class="sxs-lookup"><span data-stu-id="73b79-124">To subscribe to the data feed</span></span>  
  
1.  <span data-ttu-id="73b79-125">Connectez-vous à la Place de marché [!INCLUDE[winazure](../includes/winazure-md.md)] en utilisant votre compte Microsoft.</span><span class="sxs-lookup"><span data-stu-id="73b79-125">Log in to the [!INCLUDE[winazure](../includes/winazure-md.md)] Marketplace using your Microsoft account.</span></span>  
  
2.  <span data-ttu-id="73b79-126">Dans le **données** onglet, recherchez et cliquez sur le **nous Air transporteur retards des vols des** service.</span><span class="sxs-lookup"><span data-stu-id="73b79-126">In the **Data** tab, locate and click the **US Air Carrier Flight Delays** service.</span></span>  
  
3.  <span data-ttu-id="73b79-127">Dans la page de service de données, cliquez sur **s’inscrire**.</span><span class="sxs-lookup"><span data-stu-id="73b79-127">On the data service page, click **Sign Up**.</span></span> <span data-ttu-id="73b79-128">Dans la page d’abonnement, acceptez les termes du contrat, puis sur **inscrire** à nouveau.</span><span class="sxs-lookup"><span data-stu-id="73b79-128">On the Sign Up page, accept the terms of agreement and then click **Sign up** again.</span></span>  
  
4.  <span data-ttu-id="73b79-129">Dans le **mon compte** , onglet de récupérer les informations d’identification pour accéder au service de données.</span><span class="sxs-lookup"><span data-stu-id="73b79-129">In the **My Account** tab, retrieve the credentials to access the data service.</span></span> <span data-ttu-id="73b79-130">Les informations d’identification sont répertoriées par rapport à la **ID de client** (nom d’utilisateur) et **clé de compte primaire** les étiquettes (mot de passe).</span><span class="sxs-lookup"><span data-stu-id="73b79-130">The credentials are listed against the **Customer ID** (user name) and **Primary Account Key** (password) labels.</span></span> <span data-ttu-id="73b79-131">Vous devez ces informations d’identification lors de la configuration du **WCF-WebHttp** port d’envoi.</span><span class="sxs-lookup"><span data-stu-id="73b79-131">You will need these credentials while configuring the **WCF-WebHttp** send port.</span></span>  
  
## <a name="set-up-your-computer"></a><span data-ttu-id="73b79-132">Configuration de votre ordinateur</span><span class="sxs-lookup"><span data-stu-id="73b79-132">Set up Your Computer</span></span>  
 <span data-ttu-id="73b79-133">Pour configurer le scénario de ce didacticiel, vous devez avoir installé et configuré [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="73b79-133">To configure the scenario used in this tutorial you must have [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] installed and configured on your computer.</span></span> <span data-ttu-id="73b79-134">Si vous voulez configurer un [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ordinateur sur un ordinateur virtuel Windows Azure, suivez les instructions à [configuration de BizTalk Server sur une machine virtuelle Azure](http://msdn.microsoft.com/library/azure/jj248689.aspx).</span><span class="sxs-lookup"><span data-stu-id="73b79-134">If you want to provision a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer on a Windows Azure VM, follow the instructions at [Configuring BizTalk Server on an Azure VM](http://msdn.microsoft.com/library/azure/jj248689.aspx).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="73b79-135">Dans cette section</span><span class="sxs-lookup"><span data-stu-id="73b79-135">In This Section</span></span>  
  
-   [<span data-ttu-id="73b79-136">Étape 1 : Configurer un fichier de l’emplacement de réception</span><span class="sxs-lookup"><span data-stu-id="73b79-136">Step 1: Configure a FILE Receive Location</span></span>](../core/step-1-configure-a-file-receive-location.md)  
  
-   [<span data-ttu-id="73b79-137">Étape 2 : Configurer un Port d’envoi WCF-WebHttp bidirectionnel</span><span class="sxs-lookup"><span data-stu-id="73b79-137">Step 2: Configure a Two-way WCF-WebHttp Send Port</span></span>](../core/step-2-configure-a-two-way-wcf-webhttp-send-port.md)  
  
-   [<span data-ttu-id="73b79-138">Étape 3 : Configurer un Port d’envoi FILE unidirectionnel</span><span class="sxs-lookup"><span data-stu-id="73b79-138">Step 3: Configure a One-way FILE Send Port</span></span>](../core/step-3-configure-a-one-way-file-send-port.md)  
  
-   [<span data-ttu-id="73b79-139">Étape 4 : Tester la Solution</span><span class="sxs-lookup"><span data-stu-id="73b79-139">Step 4: Test the Solution</span></span>](../core/step-4-test-the-solution.md)