---
title: "Problèmes connus avec le traitement par lot EDI | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 510ac82b-8a02-4135-87b7-0a5f288f5317
caps.latest.revision: "38"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 537a0591ba45a209fd3f22c0a993a99baac58d7f
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/01/2017
---
# <a name="known-issues-with-edi-batching"></a><span data-ttu-id="86daf-102">Problèmes connus avec le traitement par lot EDI</span><span class="sxs-lookup"><span data-stu-id="86daf-102">Known Issues with EDI Batching</span></span>
<span data-ttu-id="86daf-103">Cette rubrique décrit les problèmes connus relatifs au traitement par lot dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="86daf-103">This topic describes known issues with batching in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
## <a name="subdocument-splitting-was-not-performed-even-though-the-subdocument-annotation-was-set-to-yes"></a><span data-ttu-id="86daf-104">Le fractionnement en sous-documents n'a pas été exécuté même si l'annotation de sous-document était définie sur Oui</span><span class="sxs-lookup"><span data-stu-id="86daf-104">Subdocument Splitting Was Not Performed Even Though the Subdocument Annotation Was Set to Yes</span></span>  
 <span data-ttu-id="86daf-105">**Symptôme**</span><span class="sxs-lookup"><span data-stu-id="86daf-105">**Symptom**</span></span>  
  
 <span data-ttu-id="86daf-106">Un échange HIPAA n'a pas été fractionné en sous-documents même si l'annotation subdocument_creation_break dans le schéma HIPAA pour cet échange était définie sur « Oui ».</span><span class="sxs-lookup"><span data-stu-id="86daf-106">A HIPAA interchange was not split into subdocuments even though the subdocument_creation_break annotation within the HIPAA schema for that interchange was set to "Yes."</span></span>  
  
 <span data-ttu-id="86daf-107">**Cause possible**</span><span class="sxs-lookup"><span data-stu-id="86daf-107">**Possible Cause**</span></span>  
  
-   <span data-ttu-id="86daf-108">L'option de traitement par lot entrant pour le tiers expéditeur a été définie sur « Conserver l'échange ».</span><span class="sxs-lookup"><span data-stu-id="86daf-108">The Inbound batch processing option for the sending party was set to "Preserve Interchange."</span></span> <span data-ttu-id="86daf-109">Dans ce cas, un document HIPAA n'est pas fractionné en sous-documents, même si l'annotation subdocument_creation_break dans le schéma HIPAA est définie sur « Oui ».</span><span class="sxs-lookup"><span data-stu-id="86daf-109">A HIPAA document will not be split into subdocuments if this is the case, even though the subdocument_creation_break annotation within the HIPAA schema is set to "Yes."</span></span>  
  
-   <span data-ttu-id="86daf-110">L'annotation subdocument_break a été définie sur « Oui », contrairement à l'annotation subdocument_creation_break.</span><span class="sxs-lookup"><span data-stu-id="86daf-110">The subdocument_break annotation was set to “Yes”, but the subdocument_creation_break annotation was not set to “Yes”.</span></span>  
  
 <span data-ttu-id="86daf-111">**Résolution**</span><span class="sxs-lookup"><span data-stu-id="86daf-111">**Resolution**</span></span>  
  
-   <span data-ttu-id="86daf-112">Dans le **Validation et les paramètres de génération de l’accusé de réception** page de la **propriétés EDI** boîte de dialogue pour le tiers expéditeur, définir le **entrant de traitement par lots** option de propriété soit **fractionner l’échange en documents informatisés : suspendre les documents informatisés en cas d’erreur** ou **fractionner l’échange en documents informatisés : suspendre échange en cas d’erreur**.</span><span class="sxs-lookup"><span data-stu-id="86daf-112">In the **Validation and ACK Generation Settings** page of the **EDI Properties** dialog box for the sending party, set the **Inbound batch processing** option property to either **Split Interchange as Transaction Sets – suspend Transaction Sets on Error** or **Split Interchange as Transaction Sets – suspend Interchange on Error**.</span></span>  
  
-   <span data-ttu-id="86daf-113">Un document HIPAA n'est pas fractionné en sous-documents si l'annotation subdocument_creation_break n'est pas définie sur « Oui ».</span><span class="sxs-lookup"><span data-stu-id="86daf-113">A HIPAA document will not be split into subdocuments unless the subdocument_creation_break annotation is set to “Yes.”</span></span>  
  
## <a name="validation-of-a-batch-may-fail-if-batch-configuration-settings-are-changed-while-the-batch-orchestration-is-activated"></a><span data-ttu-id="86daf-114">La validation d'un lot peut échouer si les paramètres de configuration du lot sont modifiés alors que l'orchestration de traitement par lot est activée</span><span class="sxs-lookup"><span data-stu-id="86daf-114">Validation of a Batch May Fail if Batch Configuration Settings Are Changed While the Batch Orchestration Is Activated</span></span>  
 <span data-ttu-id="86daf-115">Si vous modifiez des paramètres de configuration pendant que l'orchestration traite un lot, ils ne seront pas sélectionnés pour ce lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-115">If you change batch configuration settings while the batching orchestration is processing a batch, the new configuration settings will not be picked up for that batch.</span></span> <span data-ttu-id="86daf-116">Cela peut donner lieu à des erreurs de validation dans le pipeline d'envoi.</span><span class="sxs-lookup"><span data-stu-id="86daf-116">This can result in validation errors in the send pipeline.</span></span>  
  
 <span data-ttu-id="86daf-117">Ces paramètres figurent dans la page Lots de la boîte de dialogue Propriétés EDI.</span><span class="sxs-lookup"><span data-stu-id="86daf-117">These settings are in the Batches page of the EDI Properties dialog box.</span></span>  
  
 <span data-ttu-id="86daf-118">Pour résoudre ce problème, redémarrez la ou les instances d'hôte associées à la ou les orchestrations de traitement par lots.</span><span class="sxs-lookup"><span data-stu-id="86daf-118">To resolve this issue, restart the host instance(s) associated with the batching orchestration(s).</span></span> <span data-ttu-id="86daf-119">La modification des paramètres de configuration du lot est immédiatement appliquée.</span><span class="sxs-lookup"><span data-stu-id="86daf-119">This will cause the change to the batch configuration settings to take place immediately.</span></span>  
  
## <a name="the-batchcontrolmessagerecvloc-receive-location-can-only-run-on-a-32-bit-computer-or-in-wow-on-a-64-bit-computer"></a><span data-ttu-id="86daf-120">L'emplacement de réception BatchControlMessageRecvLoc peut uniquement être exécuté sur un ordinateur 32 bits ou en mode WOW sur un ordinateur 64 bits</span><span class="sxs-lookup"><span data-stu-id="86daf-120">The BatchControlMessageRecvLoc Receive Location Can Only Run on a 32-Bit Computer or in WOW on a 64-Bit Computer</span></span>  
 <span data-ttu-id="86daf-121">Les adaptateurs SQL ne fonctionnent que sur les ordinateurs 32 bits ou lorsqu'ils sont exécutés sous l'émulateur WOW64 sur des ordinateurs 64 bits.</span><span class="sxs-lookup"><span data-stu-id="86daf-121">SQL adapters only work on 32-bit computers or when running under the WOW64 emulator on 64-bit computers.</span></span> <span data-ttu-id="86daf-122">Par conséquent, l'emplacement de réception BatchControlMessageRecvLoc (qui est installé par le programme d'installation et utilise l'adaptateur SQL) ne fonctionne que sur un ordinateur 32 bits ou lorsqu'il est exécuté en mode WOW sur un ordinateur 64 bits.</span><span class="sxs-lookup"><span data-stu-id="86daf-122">As a result, the BatchControlMessageRecvLoc receive location, which is installed by the setup program and uses the SQL adapter, will only work on a 32-bit computer or when running under WOW on a 64-bit computer.</span></span> <span data-ttu-id="86daf-123">Cet emplacement de réception est requis pour le traitement par lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-123">This receive location is required for batch processing.</span></span>  
  
 <span data-ttu-id="86daf-124">Lors de l'exécution de l'emplacement de réception BatchControlMessageRecvLoc en mode WOW sur un ordinateur 64 bits, vous devez exécuter les orchestrations de traitement par lot sur un autre hôte.</span><span class="sxs-lookup"><span data-stu-id="86daf-124">When running the BatchControlMessageRecvLoc receive location under WOW on a 64-bit computer, you should run the batching orchestrations in a different host.</span></span> <span data-ttu-id="86daf-125">Si celles-ci sont exécutées sur le même hôte que l'emplacement de réception, les orchestrations de traitement par lot sont également exécutées en mode WOW et vous perdez les avantages liés à l'utilisation d'un ordinateur 64 bits.</span><span class="sxs-lookup"><span data-stu-id="86daf-125">If they are run on the same host as the receive location, the batching orchestrations would also run under WOW, and you would lose the advantages of running on a 64-bit computer.</span></span>  
  
## <a name="a-batch-can-be-picked-up-by-an-unintended-send-port"></a><span data-ttu-id="86daf-126">Un lot peut être récupéré par un port d'envoi inattendu</span><span class="sxs-lookup"><span data-stu-id="86daf-126">A Batch Can Be Picked Up By an Unintended Send Port</span></span>  
 <span data-ttu-id="86daf-127">Lorsque l’orchestration de traitement par lot publie un échange, elle promeut deux propriétés : ToBeBatched = False et DestinationPartyName = \< *Nom_tiers*\>.</span><span class="sxs-lookup"><span data-stu-id="86daf-127">When the batching orchestration publishes an interchange, it promotes two properties: ToBeBatched = False and DestinationPartyName = \<*PartyName*\>.</span></span> <span data-ttu-id="86daf-128">Un port d'envoi qui s'abonne à l'une ou l'autre de ces propriétés peut récupérer ces échanges traités par lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-128">A send port subscribing to either or both of these properties can pick up these batched interchanges.</span></span> <span data-ttu-id="86daf-129">Assurez-vous que les filtres d’un port d’envoi sont configurés pour que le port d’envoi récupère celles traitées par lot des échanges qu’elle est destinée à récupérer.</span><span class="sxs-lookup"><span data-stu-id="86daf-129">Make sure that a send port's filters are configured such that the send port picks up those batched interchanges that it is intended to pick up.</span></span>  
  
## <a name="a-batch-element-count-greater-than-the-required-number-of-transaction-sets-for-a-batch-may-not-prompt-batch-release"></a><span data-ttu-id="86daf-130">Il se peut qu'un nombre d'éléments dans un lot supérieur au nombre de documents informatisés requis pour un lot ne provoque pas le déclenchement du lot</span><span class="sxs-lookup"><span data-stu-id="86daf-130">A Batch Element Count Greater Than the Required Number of Transaction Sets for a Batch May Not Prompt Batch Release</span></span>  
 <span data-ttu-id="86daf-131">Si les critères de déclenchement d'un lot reposent sur le nombre de documents informatisés par groupe ou échange, il se peut que le lot ne soit pas déclenché, même si le nombre d'éléments dans le lot est supérieur au nombre de documents informatisés requis pour le déclenchement du lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-131">If the batch release criteria is based upon the number of transaction sets per group or interchange, a batch may not be released even though the batch element count is greater than the number of transaction sets required for a batch to be released.</span></span> <span data-ttu-id="86daf-132">Ce problème peut survenir si vous activez les accusés de réception et définissez les critères de filtre du lot de façon à ajouter ces accusés de réception au lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-132">This can happen if you enable acknowledgments, and set the batch filter criteria to add those acknowledgments to the batch.</span></span> <span data-ttu-id="86daf-133">Dans ce cas, le nombre d'éléments de lot dans le groupe (ou l'échange) est supérieur au nombre de documents informatisés par groupe (ou échange).</span><span class="sxs-lookup"><span data-stu-id="86daf-133">In this instance, the number of batch elements in the group (or interchange) will be greater than the number of transaction sets per group (or interchange).</span></span> <span data-ttu-id="86daf-134">Un lot n'est pas déclenché si le nombre de documents informatisés par groupe (ou échange) est inférieur au nombre requis pour le déclenchement du lot. Le nombre d'éléments dans le lot peut toutefois être supérieur au nombre de documents informatisés requis pour le déclenchement du lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-134">In that instance, a batch will not be released if the number of transaction sets per group (or interchange) is smaller than the number required for batch release, but at the same time the number of batch elements could be greater than the number of transaction sets required for batch release.</span></span>  
  
## <a name="no-batch-elements-were-saved-when-start-was-clicked"></a><span data-ttu-id="86daf-135">Aucun élément de lot n'est enregistré après la sélection de l'option Démarrer</span><span class="sxs-lookup"><span data-stu-id="86daf-135">No Batch Elements Were Saved When Start Was Clicked</span></span>  
 <span data-ttu-id="86daf-136">**Symptôme**</span><span class="sxs-lookup"><span data-stu-id="86daf-136">**Symptom**</span></span>  
  
 <span data-ttu-id="86daf-137">Lorsque **Démarrer** l’utilisateur a cliqué dans la page lots pour un tiers, aucun message ont été collectés pour le lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-137">When **Start** was clicked in the Batches page for a party, no messages were collected for the batch.</span></span>  
  
 <span data-ttu-id="86daf-138">**Cause possible**</span><span class="sxs-lookup"><span data-stu-id="86daf-138">**Possible Cause**</span></span>  
  
 <span data-ttu-id="86daf-139">Date et heure à laquelle **Démarrer** l’utilisateur a cliqué est antérieure à la date/heure entrées dans le **Activation** section.</span><span class="sxs-lookup"><span data-stu-id="86daf-139">The datetime at which **Start** was clicked was earlier than the datetime entered in the **Activation** section.</span></span> <span data-ttu-id="86daf-140">L'instance d'orchestration a été activée, mais aucun message n'a été collecté pour le lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-140">As a result, the orchestration instance was activated, but no messages were collected for the batch.</span></span> <span data-ttu-id="86daf-141">Pour plus d’informations, consultez [configuration d’un lot sortant](../core/configuring-an-outgoing-batch.md).</span><span class="sxs-lookup"><span data-stu-id="86daf-141">For more information, see [Configuring an Outgoing Batch](../core/configuring-an-outgoing-batch.md).</span></span>  
  
 <span data-ttu-id="86daf-142">**Résolution**</span><span class="sxs-lookup"><span data-stu-id="86daf-142">**Resolution**</span></span>  
  
 <span data-ttu-id="86daf-143">Cliquez sur **arrêter** dans la page lots de la configuration du lot affecté par ce problème.</span><span class="sxs-lookup"><span data-stu-id="86daf-143">Click **Stop** in the Batches page for the batch configuration experiencing this problem.</span></span> <span data-ttu-id="86daf-144">Définir le **Activation** soit **démarrer immédiatement** ou entrez une date/heure antérieure à l’heure actuelle, puis cliquez sur **Démarrer**.</span><span class="sxs-lookup"><span data-stu-id="86daf-144">Set the **Activation** to either **Start immediately** or enter a datetime earlier than the current time, and then click **Start**.</span></span> <span data-ttu-id="86daf-145">Lorsque vous êtes invité à réinitialiser le **Démarrer** datetime à l’heure actuelle, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="86daf-145">When you are prompted to reset the **Start** datetime to the current time, click **OK**.</span></span> <span data-ttu-id="86daf-146">BizTalk Server démarre la collecte des messages pour un lot à ce moment.</span><span class="sxs-lookup"><span data-stu-id="86daf-146">BizTalk Server will start to collect messages for a batch at that point.</span></span>  
  
## <a name="the-number-of-bytes-in-an-edifact-batch-may-depend-upon-the-character-set-used"></a><span data-ttu-id="86daf-147">Le nombre d'octets dans un lot EDIFACT peut dépendre du jeu de caractères utilisé</span><span class="sxs-lookup"><span data-stu-id="86daf-147">The Number of Bytes in an EDIFACT Batch May Depend Upon the Character Set Used</span></span>  
 <span data-ttu-id="86daf-148">Les caractères des jeux de caractères EDIFACT peuvent être codés sur deux octets ou sur un octet.</span><span class="sxs-lookup"><span data-stu-id="86daf-148">Characters in some EDIFACT character sets may be double-byte characters, whereas in other EDIFACT character sets they may be single-byte characters.</span></span> <span data-ttu-id="86daf-149">Pour cette raison, lorsque vous définissez les critères de déclenchement des lots sur la base du nombre de caractères dans l'échange, le nombre d'octets dans l'échange peut varier selon le jeu de caractères utilisé.</span><span class="sxs-lookup"><span data-stu-id="86daf-149">Because of this, when you set the release criteria for batches based upon the number of characters in the interchange, the number of bytes in the interchange may differ depending on the character set used.</span></span>  
  
## <a name="the-characters--and--must-be-represented-in-their-encoded-form-in-the-envelope-of-a-batch"></a><span data-ttu-id="86daf-150">Les caractères « < » et « & » doivent être représentés dans leur forme codée dans l'enveloppe d'un lot</span><span class="sxs-lookup"><span data-stu-id="86daf-150">The Characters "<" and "&" Must be Represented in Their Encoded Form in the Envelope of a Batch</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="86daf-151">ne prend pas en charge les caractères suivants dans leur forme littérale lors de la création de champs d’enveloppe d’un échange EDI par lot : « < » et « & ».</span><span class="sxs-lookup"><span data-stu-id="86daf-151"> does not support the following characters in their literal form when creating the envelope fields of a batched EDI interchange: "<" and "&".</span></span>  
  
 <span data-ttu-id="86daf-152">L'utilisation de l'un de ces caractères dans sa forme littérale dans les champs d'enveloppe d'un échange traité par lot sortant provoque la suspension d'un message si le pipeline EdiSend est utilisé pour sérialiser l'échange.</span><span class="sxs-lookup"><span data-stu-id="86daf-152">Using either of these characters literally in the envelope fields of an outgoing batched interchange will result in a suspended message if the EdiSend pipeline is used to serialize the interchange.</span></span>  
  
 <span data-ttu-id="86daf-153">Si vous devez utiliser l'un de ces caractères dans le champ d'enveloppe d'un lot, vous pouvez utiliser la valeur codée appropriée dans le tableau suivant lors de la configuration du champ d'enveloppe dans l'Administrateur BizTalk :</span><span class="sxs-lookup"><span data-stu-id="86daf-153">If you need to use one of these characters in an envelope field of a batch, you can use the appropriate encoded value in the following table when you configure the envelope field in the BizTalk Administrator:</span></span>  
  
|<span data-ttu-id="86daf-154">Caractère</span><span class="sxs-lookup"><span data-stu-id="86daf-154">Character</span></span>|<span data-ttu-id="86daf-155">Encodage</span><span class="sxs-lookup"><span data-stu-id="86daf-155">Encoding</span></span>|  
|---------------|--------------|  
|<|&lt;|  
|&|&amp;|  
  
 <span data-ttu-id="86daf-156">Lorsque vous utilisez une de ces formes codées, chaque caractère est compté comme caractère individuel au moment de la validation de la longueur du champ dans les écrans du Gestionnaire d'accords partenaires dans la console Administration de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="86daf-156">When you use one of these encoded forms, each character in the encoded form will be counted as an individual character when BizTalk Server validates the field for its length restriction in the Partner Agreement Manager (PAM) screens in the BizTalk Server Administration console.</span></span> <span data-ttu-id="86daf-157">Par exemple, même si l’encodage «&lt;« représente un caractère unique »\<» dans l’échange EDI par lot, BizTalk Server compte quatre caractères lors de la validation par rapport à la restriction de longueur du champ .</span><span class="sxs-lookup"><span data-stu-id="86daf-157">For example, even though the encoding "&lt;" would represent a single character "\<" in the batched EDI interchange, BizTalk Server would count this as four characters when validating against the length restriction of the particular field.</span></span> <span data-ttu-id="86daf-158">Ce problème concerne uniquement le Gestionnaire d'accords partenaires, pas l'Assembleur EDI.</span><span class="sxs-lookup"><span data-stu-id="86daf-158">This is an issue for PAM only, not for the EDI Assembler.</span></span>  
  
## <a name="an-exeption-occurs-during-the-execution-of-the-upgrade-batch-orchestration"></a><span data-ttu-id="86daf-159">Une exception est générée lors de l'exécution de l'orchestration de traitement par lot de mise à niveau</span><span class="sxs-lookup"><span data-stu-id="86daf-159">An Exeption Occurs During the Execution of the Upgrade Batch Orchestration</span></span>  
 <span data-ttu-id="86daf-160">**Symptôme**</span><span class="sxs-lookup"><span data-stu-id="86daf-160">**Symptom**</span></span>  
  
 <span data-ttu-id="86daf-161">Dans le cadre de l'utilisation d'un composant de pipeline personnalisé qui définit la propriété EDI.DestinationPartyId sur les documents entrants, une erreur peut être consignée dans le journal des événements de l'application indiquant qu'une exception s'est produite lors de l'exécution de l'orchestration de traitement par lot de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="86daf-161">When using a custom pipeline component that sets the EDI.DestinationPartyId property on incoming documents, you may receive an error in the Application event log stating that an exception has occurred during the execution of the upgrade batch orchestration.</span></span>  
  
 <span data-ttu-id="86daf-162">**Cause possible**</span><span class="sxs-lookup"><span data-stu-id="86daf-162">**Possible Cause**</span></span>  
  
 <span data-ttu-id="86daf-163">Le message « Lot introuvable » indique que l'orchestration de traitement par lot de mise à niveau n'a pas pu identifier de lot pour le document entrant.</span><span class="sxs-lookup"><span data-stu-id="86daf-163">If ErrorMessage = “The batch was not found”, this error indicates that the upgrade batch orchestration was not able to successfully identify a batch for the incoming document.</span></span>  
  
 <span data-ttu-id="86daf-164">**Résolution**</span><span class="sxs-lookup"><span data-stu-id="86daf-164">**Resolution**</span></span>  
  
 <span data-ttu-id="86daf-165">L'orchestration de traitement par lot de mise à niveau utilise la propriété EDI.DestinationPartyId pour rechercher le nom du tiers.</span><span class="sxs-lookup"><span data-stu-id="86daf-165">The upgrade batch orchestration uses the EDI.DestinationPartyId to look up the party name.</span></span> <span data-ttu-id="86daf-166">Elle crée ensuite une chaîne à l'aide du nom du tiers, de la propriété EDI.EncodingType et de la chaîne « Default », puis recherche une configuration de lot dont le nom de lot correspond.</span><span class="sxs-lookup"><span data-stu-id="86daf-166">The orchestration then constructs a string using the party name, EDI.EncodingType and the string “Default”, and then looks for a batch configuration with a matching batch name.</span></span> <span data-ttu-id="86daf-167">Si aucune configuration de lot n'existe sous ce nom, cette erreur est consignée dans le journal des événements de l'application et l'instance d'orchestration est suspendue.</span><span class="sxs-lookup"><span data-stu-id="86daf-167">If no batch configuration exists with this name, this error is logged to the Application event log and the orchestration instance is suspended.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="86daf-168">Par exemple, si le nom du tiers est Contoso et que la propriété EDI.EncodingType a la valeur X12, l'orchestration recherche le lot « ContosoX12Default ».</span><span class="sxs-lookup"><span data-stu-id="86daf-168">For example, if the party name is Contoso and the EDI.EncodingType is X12, the orchestration will look for a batch named ‘ContosoX12Default’.</span></span>  
  
 <span data-ttu-id="86daf-169">Pour résoudre ce problème, vérifiez qu'un lot dont le nom correspond à la chaîne créée par l'orchestration de traitement par lot de mise à niveau existe.</span><span class="sxs-lookup"><span data-stu-id="86daf-169">To resolve this problem, ensure that a batch exists with a name that will match the string constructed by the upgrade batch orchestration.</span></span>  
  
## <a name="messages-marked-with-editobebatched--true-and-edidestinationparties-are-suspended"></a><span data-ttu-id="86daf-170">Les messages marqués avec les propriétés EDI.ToBeBatched = True et EDI.DestinationParties sont suspendus</span><span class="sxs-lookup"><span data-stu-id="86daf-170">Messages Marked with EDI.ToBeBatched = True and EDI.DestinationParties are Suspended</span></span>  
 <span data-ttu-id="86daf-171">**Symptômes**</span><span class="sxs-lookup"><span data-stu-id="86daf-171">**Symptoms**</span></span>  
  
 <span data-ttu-id="86daf-172">Lorsqu'un composant de pipeline personnalisé est utilisé pour marquer les messages en vue de leur traitement par lot via l'ajout des propriétés EDI.ToBeBatched = True et EDI.DestinationParties à la liste d'ID de tiers, le message est suspendu avec un échec de routage indiquant qu'il n'y a pas d'abonnés.</span><span class="sxs-lookup"><span data-stu-id="86daf-172">When using a custom pipeline component to mark messages for batching by setting EDI.ToBeBatched = True and EDI.DestinationParties to a list of party IDs, the message will be suspended with a routing failure stating that there are no subscribers.</span></span>  
  
 <span data-ttu-id="86daf-173">**Cause possible**</span><span class="sxs-lookup"><span data-stu-id="86daf-173">**Possible Cause**</span></span>  
  
 <span data-ttu-id="86daf-174">Dans les versions précédentes de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], lorsqu'un message devait être traité par plusieurs configurations de lot, vous deviez définir la propriété EDI.DestinationParties sur une liste d'ID de tiers délimités par des espaces.</span><span class="sxs-lookup"><span data-stu-id="86daf-174">In previous versions of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], when a message should be processed by multiple batch configurations you would set the EDI.DestinationParties property to a space delimited list of party IDs.</span></span> <span data-ttu-id="86daf-175">L'orchestration de routage est abonnée aux messages possédant les propriétés EDI.ToBeBatched = True et EDI.DestinationParties ; elle devrait utiliser la liste d'ID de tiers contenue dans la propriété EDI.DestinationParties afin de créer un message pour chaque ID et transmettre les messages à l'orchestration de traitement par lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-175">The routing orchestration is subscribed to messages with the EDI.ToBeBatched = True and EDI.DestinationParties properties, and would use the list of party IDs contained in the EDI.DestinationParties property to create a message for each ID, and pass the messages to the batching orchestration.</span></span>  <span data-ttu-id="86daf-176">L'identification du lot à l'aide de l'ID du tiers était utilisée car chaque configuration de tiers ne pouvait avoir qu'une seule configuration de lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-176">Determining the batch by using the party ID was used because each party configuration could have only one batch configuration.</span></span>  
  
 <span data-ttu-id="86daf-177">Dans BizTalk Server, chaque tiers peut avoir plusieurs configurations de lot, donc il n’est plus suffisante pour utiliser uniquement l’ID suffit pour déterminer la configuration du lot à utiliser.</span><span class="sxs-lookup"><span data-stu-id="86daf-177">In BizTalk Server, each party can have multiple batch configurations, so it is no longer sufficient to use only the pary ID to determine the batch configuration to use.</span></span>  <span data-ttu-id="86daf-178">Pour indiquer qu'un message doit être traité par plusieurs configurations de lot, la propriété EDI.BatchIDs du message doit être définie sur une liste d'ID de lot délimités par des espaces auxquels le message doit être envoyé.</span><span class="sxs-lookup"><span data-stu-id="86daf-178">To indicate that a message must be processed by multiple batch configurations, the message must have the EDI.BatchIDs property set to a space delimited list of batch IDs that the message should be sent to.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="86daf-179">Lors du traitement des messages marqués avec un seul ID de tiers à l'aide de la propriété EDI.DestinationPartyId, le message est traité par l'orchestration de traitement par lot de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="86daf-179">When processing messages marked with only a single party ID using the EDI.DestinationPartyId property, the message will be processed by the upgrade batching orchestration.</span></span> <span data-ttu-id="86daf-180">Pour plus d’informations, consultez [assembler un échange EDI par lot](../core/assembling-a-batched-edi-interchange.md).</span><span class="sxs-lookup"><span data-stu-id="86daf-180">For more information, see [Assembling a Batched EDI Interchange](../core/assembling-a-batched-edi-interchange.md).</span></span>  
  
 <span data-ttu-id="86daf-181">**Résolution**</span><span class="sxs-lookup"><span data-stu-id="86daf-181">**Resolution**</span></span>  
  
 <span data-ttu-id="86daf-182">Mettez à niveau le composant de pipeline personnalisé afin qu'il définisse la propriété EDI.BatchIDs plutôt que la propriété EDI.DestinationParties.</span><span class="sxs-lookup"><span data-stu-id="86daf-182">Upgrade the custom pipeline component so that it sets the EDI.BatchIDs property instead of EDI.DestinationParties.</span></span>  <span data-ttu-id="86daf-183">L'ID d'un lot spécifique figure dans la page de paramètres Lots des propriétés EDI de chaque tiers.</span><span class="sxs-lookup"><span data-stu-id="86daf-183">The batch ID for a specific batch can be found on the Batches settings page of EDI properties for each party.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="86daf-184">Ce problème ne survient pas si le composant de pipeline BatchMarker est utilisé pour marquer le message en vue de son traitement par lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-184">This problem does not occur if the BatchMarker pipeline component is used to mark the message for batching.</span></span>  
  
## <a name="batch-filter-refresh-timeout-is-hardcoded-to-fifteen-minutes"></a><span data-ttu-id="86daf-185">Le délai d'actualisation des filtres du lot est codé en dur sur quinze minutes</span><span class="sxs-lookup"><span data-stu-id="86daf-185">Batch Filter Refresh Timeout is Hardcoded to Fifteen Minutes</span></span>  
 <span data-ttu-id="86daf-186">Il faut attendre 15 minutes avant que la modification des critères de filtre du lot ne prenne effet.</span><span class="sxs-lookup"><span data-stu-id="86daf-186">When modifying the batch filter criteria, it will take 15 minutes before the changes take effect.</span></span> <span data-ttu-id="86daf-187">Cet intervalle d’actualisation ne peut pas être modifié.</span><span class="sxs-lookup"><span data-stu-id="86daf-187">This refresh interval cannot be modified.</span></span> <span data-ttu-id="86daf-188">Pour que le filtre prenne effet immédiatement, vous devez redémarrer le processus hôte BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="86daf-188">To have the filter take effect immediately, restart the BizTalk Server host process.</span></span>  
  
## <a name="the-routingorchestration-suspends-after-reporting-an-uncaught-exception"></a><span data-ttu-id="86daf-189">L'orchestration de routage est suspendue après la génération d'une exception non interceptée</span><span class="sxs-lookup"><span data-stu-id="86daf-189">The RoutingOrchestration Suspends After Reporting an Uncaught Exception</span></span>  
 <span data-ttu-id="86daf-190">**Symptômes**</span><span class="sxs-lookup"><span data-stu-id="86daf-190">**Symptoms**</span></span>  
  
 <span data-ttu-id="86daf-191">Dans le cadre du traitement de documents destinés à plusieurs configurations de lot, une erreur peut être consignée dans le journal des événements de l'application de XLANG/s indiquant que Microsoft.BizTalk.Edi.RoutingOrchestration.BatchRoutingService a échoué en raison d'une exception non interceptée.</span><span class="sxs-lookup"><span data-stu-id="86daf-191">When processing documents that are destined for multiple batch configurations, you may receive an error in the Application Event Log from XLANG/s starting that the Microsoft.BizTalk.Edi.RoutingOrchestration.BatchRoutingService failed due to an uncaught exception.</span></span>  
  
 <span data-ttu-id="86daf-192">**Cause possible**</span><span class="sxs-lookup"><span data-stu-id="86daf-192">**Possible Cause**</span></span>  
  
 <span data-ttu-id="86daf-193">Cette erreur peut survenir lorsque l'orchestration de routage tente d'envoyer un message à l'orchestration de traitement par lot qui n'est pas démarrée.</span><span class="sxs-lookup"><span data-stu-id="86daf-193">This error can occur when the RoutingOrchestration attempts to send a message to the BatchingOrchestration and the BatchingOrchestration instance is not started.</span></span>  
  
 <span data-ttu-id="86daf-194">**Résolution**</span><span class="sxs-lookup"><span data-stu-id="86daf-194">**Resolution**</span></span>  
  
 <span data-ttu-id="86daf-195">Vérifiez que les instances de l'orchestration de traitement par lot sont exécutées avant d'envoyer des documents en vue de leur traitement par lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-195">Ensure that the BatchingOrchestration instances are running before submitting documents to be batched.</span></span>  
  
## <a name="many-active-batches-may-cause-the-biztalkmsgboxdb-logfile-to-grow-large"></a><span data-ttu-id="86daf-196">Plusieurs lots actifs peuvent augmenter la taille du fichier journal BizTalkMsgBoxDb</span><span class="sxs-lookup"><span data-stu-id="86daf-196">Many Active Batches May Cause the BizTalkMsgBoxDb Logfile to Grow Large</span></span>  
 <span data-ttu-id="86daf-197">**Symptômes**</span><span class="sxs-lookup"><span data-stu-id="86daf-197">**Symptoms**</span></span>  
  
 <span data-ttu-id="86daf-198">Après le démarrage de plusieurs lots, vous pouvez remarquer que la taille du journal des transactions pour la base de données MessageBox de BizTalk (BizTalkMsgBoxDb) a augmenté de façon importante.</span><span class="sxs-lookup"><span data-stu-id="86daf-198">After starting several batches, you may notice that the transaction log for the BizTalk message box database (BizTalkMsgBoxDb) has grown to a large size.</span></span>  
  
 <span data-ttu-id="86daf-199">**Cause possible**</span><span class="sxs-lookup"><span data-stu-id="86daf-199">**Possible Cause**</span></span>  
  
 <span data-ttu-id="86daf-200">Ce problème peut survenir si de nombreux lots sont démarrés avec des critères de déclenchement qui provoquent un intervalle bref entre les déclenchements (par exemple, lot dont le déclenchement est programmé toutes les minutes).</span><span class="sxs-lookup"><span data-stu-id="86daf-200">This problem can occur if you have a large number of batches started with release criteria that causes a short interval between batch releases (for example, a batch that is scheduled to release every minute).</span></span>  
  
 <span data-ttu-id="86daf-201">L'instance d'orchestration de traitement par lot créée lors du démarrage d'un lot est un processus à long terme rendu persistant dans la base de données après le déclenchement d'un lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-201">The batching orchestration instance that is created when you start a batch is a long running process that persists to the database after releasing a batch.</span></span> <span data-ttu-id="86daf-202">Chaque fois que l'orchestration est rendue persistante, la taille du journal des transactions augmente en raison des transactions impliquées dans la persistance.</span><span class="sxs-lookup"><span data-stu-id="86daf-202">Each time the orchestration persists, the transaction log will grow due to the transactions involved in persistence.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="86daf-203">L'orchestration de traitement par lot augmente la taille du journal des transactions d'environ 30 Ko lors de la persistance.</span><span class="sxs-lookup"><span data-stu-id="86daf-203">The batching orchestration will grow the transaction log by approximately 30kb during persistence.</span></span>  
  
 <span data-ttu-id="86daf-204">**Résolution**</span><span class="sxs-lookup"><span data-stu-id="86daf-204">**Resolution**</span></span>  
  
 <span data-ttu-id="86daf-205">Pour résoudre ce problème, modifiez les critères de déclenchement pour augmenter le délai entre les déclenchements de lot.</span><span class="sxs-lookup"><span data-stu-id="86daf-205">To resolve this problem, modify the release criteria to increase the time between batch releases.</span></span> <span data-ttu-id="86daf-206">Pour plus d’informations, consultez [configurer le traitement par lot (X12)](../core/configuring-batching-x12.md).</span><span class="sxs-lookup"><span data-stu-id="86daf-206">For more information, see [Configuring Batching (X12)](../core/configuring-batching-x12.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="86daf-207">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="86daf-207">See Also</span></span>  
 <span data-ttu-id="86daf-208">[Configuration des accusés de réception EDI](../core/configuring-edi-acknowledgments.md) </span><span class="sxs-lookup"><span data-stu-id="86daf-208">[Configuring EDI Acknowledgments](../core/configuring-edi-acknowledgments.md) </span></span>  
 <span data-ttu-id="86daf-209">[Traitement des lots entrants](../core/processing-incoming-batches.md) </span><span class="sxs-lookup"><span data-stu-id="86daf-209">[Processing Incoming Batches](../core/processing-incoming-batches.md) </span></span>  
 <span data-ttu-id="86daf-210">[Le traitement par lot des Messages EDI sortants](../core/batching-outgoing-edi-messages.md) </span><span class="sxs-lookup"><span data-stu-id="86daf-210">[Batching Outgoing EDI Messages](../core/batching-outgoing-edi-messages.md) </span></span>  
 [<span data-ttu-id="86daf-211">Configuration des lots EDI</span><span class="sxs-lookup"><span data-stu-id="86daf-211">Configuring EDI Batches</span></span>](../core/configuring-edi-batches.md)