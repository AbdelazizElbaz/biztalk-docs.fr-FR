---
title: "Problèmes connus avec le traitement AS2 | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 941111d8-b394-4648-a675-e4a8f118a84b
caps.latest.revision: "40"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 64899c184f8cbe405684387b8f1c2a6230204624
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="known-issues-with-as2-processing"></a><span data-ttu-id="0f43d-102">Problèmes connus avec le traitement AS2</span><span class="sxs-lookup"><span data-stu-id="0f43d-102">Known Issues with AS2 Processing</span></span>
<span data-ttu-id="0f43d-103">Cette section contient des rubriques qui décrivent les problèmes connus avec les solutions AS2 [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0f43d-103">This section contains topics that describe known issues with [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] AS2 solutions.</span></span>  
  
## <a name="as2-processing-not-supported-on-64-bit-computers"></a><span data-ttu-id="0f43d-104">Le traitement AS2 n'est pas pris en charge sur les ordinateurs 64 bits</span><span class="sxs-lookup"><span data-stu-id="0f43d-104">AS2 Processing Not Supported on 64-Bit Computers</span></span>  
 <span data-ttu-id="0f43d-105">La solution AS2 [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] n'est pas prise en charge sur les ordinateurs 64 bits.</span><span class="sxs-lookup"><span data-stu-id="0f43d-105">The [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] AS2 solution is not supported on 64-bit computers.</span></span> <span data-ttu-id="0f43d-106">Le traitement AS2 ne fonctionne que sur les ordinateurs 32 bits ou lorsqu'il est exécuté sous l'émulateur WOW64 sur des ordinateurs 64 bits.</span><span class="sxs-lookup"><span data-stu-id="0f43d-106">AS2 processing only works on 32-bit computers or when running under the WOW64 emulator on 64-bit computers.</span></span>  
  
## <a name="the-as2-receive-pipelines-require-the-account-that-the-biztalk-isolated-host-instance-process-is-running-under-to-be-part-of-the-biztalk-application-users-group"></a><span data-ttu-id="0f43d-107">Les pipelines de réception AS2 requièrent que le compte sous lequel le processus d'instance de l'hôte BizTalk isolé est exécuté fasse partie du groupe Utilisateurs d'applications BizTalk</span><span class="sxs-lookup"><span data-stu-id="0f43d-107">The AS2 Receive Pipelines Require the Account that the BizTalk Isolated Host Instance Process is Running Under to Be Part of the BizTalk Application Users Group</span></span>  
 <span data-ttu-id="0f43d-108">Si vous utilisez le pipeline AS2EdiReceive ou AS2Receive, vous devez ajouter le compte d'utilisateur que le processus d'instance de l'hôte BizTalk isolé exécute sous le groupe Utilisateurs d'applications BizTalk.</span><span class="sxs-lookup"><span data-stu-id="0f43d-108">If you are using the AS2EdiReceive or AS2Receive pipeline, you must add the user account that the BizTalk Isolated Host Instance process is running under to the BizTalk Application Users group.</span></span> <span data-ttu-id="0f43d-109">Les pipelines AS2EdiReceive et AS2Receive sont exécutés dans le processus d'instance de l'hôte BizTalk isolé.</span><span class="sxs-lookup"><span data-stu-id="0f43d-109">The AS2EdiReceive and AS2Receive pipelines execute in the BizTalk Isolated Host Instance process.</span></span>  
  
## <a name="an-empty-receipt-delivery-option-header-will-cause-an-mdn-to-be-sent-synchronously"></a><span data-ttu-id="0f43d-110">Un en-tête Receipt-Delivery-Option vide provoque l'envoi d'un MDN de façon synchrone</span><span class="sxs-lookup"><span data-stu-id="0f43d-110">An Empty Receipt-Delivery-Option Header Will Cause an MDN to Be Sent Synchronously</span></span>  
 <span data-ttu-id="0f43d-111">Si le pipeline AS2Receive reçoit un message avec un en-tête Receipt-Delivery-Option vide et qu'un MDN asynchrone est demandé, le pipeline ignore la demande de MDN asynchrone.</span><span class="sxs-lookup"><span data-stu-id="0f43d-111">If the AS2Receive pipeline receives a message with an empty receipt-delivery-option header, and an asynchronous MDN is requested, the pipeline will ignore the asynchronous MDN request.</span></span> <span data-ttu-id="0f43d-112">Il renvoie un MDN synchrone et consigne une erreur dans le journal des événements et le rapport d'état AS2 (le cas échéant).</span><span class="sxs-lookup"><span data-stu-id="0f43d-112">It will send back a synchronous MDN instead, and post an error in the event log and in AS2 status reporting (if it is enabled).</span></span> <span data-ttu-id="0f43d-113">Ce problème survient si la propriété « Remplacer les propriétés du message entrant » n'est pas activée.</span><span class="sxs-lookup"><span data-stu-id="0f43d-113">This occurs if the "Override inbound message properties" property is not selected.</span></span> <span data-ttu-id="0f43d-114">Si cette propriété est activée, elle remplace l'en-tête Receipt-Delivery-Option dans le message avec la valeur de la propriété Receipt-Delivery-Option dans la page Tiers considéré comme expéditeur des messages AS2 de la boîte de dialogue Propriétés AS2.</span><span class="sxs-lookup"><span data-stu-id="0f43d-114">If that property were selected, it would override the Receipt-Delivery-Option header in the message with the value of the Receipt-Delivery-Option property in the Party as AS2 Message Sender page of the AS2 Properties dialog box.</span></span>  
  
 <span data-ttu-id="0f43d-115">Dans ce cas, comme l'en-tête Receipt-Delivery-Option est vide, le pipeline AS2Receive n'a pas d'adresse vers laquelle envoyer la réponse MDN via une connexion asynchrone.</span><span class="sxs-lookup"><span data-stu-id="0f43d-115">In this instance, because the receipt-delivery-option header is empty, the AS2Receive pipeline does not have an address to send the MDN response to over an asynchronous connection.</span></span> <span data-ttu-id="0f43d-116">Toutefois, le pipeline dispose toujours d'une connexion synchrone ouverte, de sorte qu'il renvoie le MDN via cette connexion.</span><span class="sxs-lookup"><span data-stu-id="0f43d-116">However, the pipeline still has an open synchronous connection, so it will send the MDN back over that connection.</span></span> <span data-ttu-id="0f43d-117">S'il s'agit d'un port de réception unidirectionnel, BizTalk Server ferme la connexion après avoir envoyé le message HTTP 200OK.</span><span class="sxs-lookup"><span data-stu-id="0f43d-117">If it is a one-way receive port, BizTalk Server will close the connection after sending the HTTP 200OK message.</span></span>  
  
## <a name="use-of-unfolded-and-folded-http-line-headers"></a><span data-ttu-id="0f43d-118">Utilisation des en-têtes de ligne HTTP déroulés et non déroulés</span><span class="sxs-lookup"><span data-stu-id="0f43d-118">Use of Unfolded and Folded HTTP Line Headers</span></span>  
 <span data-ttu-id="0f43d-119">Pour garantir une interopérabilité maximale, vous devez utiliser des en-têtes de ligne HTTP déroulés pour les messages AS2.</span><span class="sxs-lookup"><span data-stu-id="0f43d-119">For maximum interoperability, you should use unfolded HTTP line headers for AS2 messages.</span></span> <span data-ttu-id="0f43d-120">Information Services (IIS) 7.0 ne prend en charge que les en-têtes HTTP déroulés.</span><span class="sxs-lookup"><span data-stu-id="0f43d-120">Information Services (IIS) 7.0 supports only unfolded HTTP headers.</span></span> <span data-ttu-id="0f43d-121">IIS 6.0 prend en charge les en-têtes déroulés et non déroulés.</span><span class="sxs-lookup"><span data-stu-id="0f43d-121">IIS 6.0 supports folded and unfolded headers.</span></span> <span data-ttu-id="0f43d-122">En revanche, certains systèmes ne prennent pas en charge les en-têtes incluant plus de 80 caractères par ligne, de sorte que des lignes non déroulées doivent être utilisées.</span><span class="sxs-lookup"><span data-stu-id="0f43d-122">However, not all systems can support headers with more than 80 characters per line, so for such systems folded lines should be used.</span></span>  
  
 <span data-ttu-id="0f43d-123">Par défaut, AS2 dans [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] utilise des en-têtes de ligne HTTP déroulés.</span><span class="sxs-lookup"><span data-stu-id="0f43d-123">The default for AS2 in [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] is unfolded HTTP line headers.</span></span>  
  
## <a name="party-resolution-can-be-affected-by-a-localized-name"></a><span data-ttu-id="0f43d-124">La résolution du tiers peut être affectée par un nom localisé</span><span class="sxs-lookup"><span data-stu-id="0f43d-124">Party Resolution Can Be Affected by a Localized Name</span></span>  
 <span data-ttu-id="0f43d-125">Lorsque BizTalk Server effectue une résolution de tiers sur un message AS2 sortant, cette opération peut être affectée par une valeur localisée dans les en-têtes de message.</span><span class="sxs-lookup"><span data-stu-id="0f43d-125">When BizTalk Server performs party resolution on an outbound AS2 message, the party resolution can be affected by a localized value in the message headers.</span></span> <span data-ttu-id="0f43d-126">Si la propriété de tiers AS2-To dans la page Tiers considéré comme récepteur des messages AS2 de la boîte de dialogue Propriétés est définie par défaut sur un nom de tiers anglais et que la valeur dans l'en-tête AS2-To du message AS2 est définie sur un nom non anglais, la correspondance n'est pas trouvée.</span><span class="sxs-lookup"><span data-stu-id="0f43d-126">If the AS2-To party property in the Party as AS2 Message Receiver page of the AS2 Properties dialog box is set by default to an English party name, and the value in the AS2-To header of the AS2 message is set to a non-English name, then the match will not be found.</span></span>  
  
## <a name="as2-message-size-limitation"></a><span data-ttu-id="0f43d-127">Limitation de la taille des messages AS2</span><span class="sxs-lookup"><span data-stu-id="0f43d-127">AS2 Message Size Limitation</span></span>  
 <span data-ttu-id="0f43d-128">La taille des messages AS2 chiffrés doit être inférieure à 96 mégaoctets pour que ceux-ci soient traités.</span><span class="sxs-lookup"><span data-stu-id="0f43d-128">Encrypted AS2 messages should be smaller than 96 megabytes in order to be processed.</span></span> <span data-ttu-id="0f43d-129">Cette limitation est imposée par le Décodeur AS2, qui fait partie des pipelines AS2Receive et AS2EdiReceive.</span><span class="sxs-lookup"><span data-stu-id="0f43d-129">This limitation is imposed by the AS2 Decoder, which is the part of the AS2Receive and AS2EdiReceive pipelines.</span></span>  
  
 <span data-ttu-id="0f43d-130">Pour contourner cette limitation, vous pouvez utiliser la compression car un message AS2 est compressé avant d'être chiffré.</span><span class="sxs-lookup"><span data-stu-id="0f43d-130">One way to work around this size limitation is to use compression, because an AS2 message is compressed before it is encrypted.</span></span>  
  
## <a name="biztalk-edi-application-must-not-be-modified"></a><span data-ttu-id="0f43d-131">L'application EDI BizTalk ne doit pas être modifiée</span><span class="sxs-lookup"><span data-stu-id="0f43d-131">BizTalk EDI Application Must Not Be Modified</span></span>  
 <span data-ttu-id="0f43d-132">Les artefacts de l'application EDI BizTalk ne doivent pas être modifiés ou supprimés.</span><span class="sxs-lookup"><span data-stu-id="0f43d-132">Artifacts in the BizTalk EDI Application must not be modified or deleted.</span></span> <span data-ttu-id="0f43d-133">Si cette application est modifiée, vous ne pouvez pas revenir à l'application d'origine en annulant la configuration et en reconfigurant les fonctionnalités EDI et AS2.</span><span class="sxs-lookup"><span data-stu-id="0f43d-133">If this application is modified, there is no way for you to revert to the original application by unconfiguring and reconfiguring the EDI and AS2 features.</span></span>  
  
## <a name="partner-may-reject-multipart-messages"></a><span data-ttu-id="0f43d-134">Le partenaire peut rejeter les messages à parties multiples</span><span class="sxs-lookup"><span data-stu-id="0f43d-134">Partner May Reject Multipart Messages</span></span>  
 <span data-ttu-id="0f43d-135">**Symptôme**</span><span class="sxs-lookup"><span data-stu-id="0f43d-135">**Symptom**</span></span>  
  
 <span data-ttu-id="0f43d-136">Lors de l'envoi de messages à parties multiples à l'aide du pipeline d'envoi AS2, votre partenaire peut rejeter le message en raison de l'absence d'un en-tête MIME de type de contenu.</span><span class="sxs-lookup"><span data-stu-id="0f43d-136">When sending multipart messages using the AS2 send pipeline, your partner may reject the message due to a missing Content-Type MIME header.</span></span>  
  
 <span data-ttu-id="0f43d-137">**Cause possible**</span><span class="sxs-lookup"><span data-stu-id="0f43d-137">**Possible Cause**</span></span>  
  
 <span data-ttu-id="0f43d-138">Cet en-tête facultatif peut être présent pour chaque partie du corps dans un message à parties multiples.</span><span class="sxs-lookup"><span data-stu-id="0f43d-138">Content-Type is an optional header that can be present for each body part in a multipart message.</span></span> <span data-ttu-id="0f43d-139">Certains partenaires requièrent que cet en-tête soit présent pour chaque partie du corps et défini sur un en-tête de type de contenu spécifique.</span><span class="sxs-lookup"><span data-stu-id="0f43d-139">Some partners require that this header is present for each body part, and set to a specific content-type.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0f43d-140">La propriété de type de contenu du corps du message est définie par le pipeline d'envoi AS2, contrairement à celle des pièces jointes.</span><span class="sxs-lookup"><span data-stu-id="0f43d-140">The body of the message will have the Content-Type property set by the AS2 send pipeline, however any attachments will not have the Content-Type property set.</span></span>  
  
 <span data-ttu-id="0f43d-141">**Résolution**</span><span class="sxs-lookup"><span data-stu-id="0f43d-141">**Resolution**</span></span>  
  
 <span data-ttu-id="0f43d-142">Si votre partenaire requiert la valeur de l'en-tête de type de contenu pour chaque corps, vous devez créer un composant de pipeline personnalisé qui définit cette propriété et utiliser le composant dans le pipeline d'envoi.</span><span class="sxs-lookup"><span data-stu-id="0f43d-142">If your partner requires the Content-Type header value for each body part, you must create a custom pipeline component that sets this property and use the component in the send pipeline.</span></span>  
  
## <a name="when-receiving-multipart-messages-the-first-part-is-considered-the-body"></a><span data-ttu-id="0f43d-143">Dans le cadre de la réception de messages à parties multiples, la première partie est considérée comme étant le corps</span><span class="sxs-lookup"><span data-stu-id="0f43d-143">When Receiving Multipart Messages, the First Part is Considered the Body</span></span>  
 <span data-ttu-id="0f43d-144">**Symptôme**</span><span class="sxs-lookup"><span data-stu-id="0f43d-144">**Symptom**</span></span>  
  
 <span data-ttu-id="0f43d-145">Lors de la réception d'un message AS2 à parties multiples, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] peut identifier de manière incorrecte l'une des pièces jointes comme étant le corps du message.</span><span class="sxs-lookup"><span data-stu-id="0f43d-145">When receiving a multipart AS2 message, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] may incorrectly identify one of the attachments as the message body.</span></span>  
  
 <span data-ttu-id="0f43d-146">**Cause possible**</span><span class="sxs-lookup"><span data-stu-id="0f43d-146">**Possible Cause**</span></span>  
  
 <span data-ttu-id="0f43d-147">L'en-tête MIME d'un message à parties multiples/associé peut contenir un paramètre facultatif de début indiquant les parties devant être traitées comme corps du message en spécifiant l'ID de contenu de la partie.</span><span class="sxs-lookup"><span data-stu-id="0f43d-147">The MIME header of a multipart/related message may contain an optional ‘start’ parameter that indicates which of the parts should be treated as the body of the message by specifying the Content-ID of the part.</span></span> <span data-ttu-id="0f43d-148">Si le paramètre de début n’est pas présent, la première partie doit être considéré comme le corps du message.</span><span class="sxs-lookup"><span data-stu-id="0f43d-148">If the start parameter is not present, the first part should be considered the body of the message.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="0f43d-149">ne respecte pas le paramètre de début s’il est présent et traite toujours la première partie comme corps du message.</span><span class="sxs-lookup"><span data-stu-id="0f43d-149"> does not honor the start parameter if it is present, and will always treat the first part as the body of the message.</span></span>  
  
 <span data-ttu-id="0f43d-150">**Résolution**</span><span class="sxs-lookup"><span data-stu-id="0f43d-150">**Resolution**</span></span>  
  
 <span data-ttu-id="0f43d-151">Si votre partenaire ne peut pas envoyer le corps comme étant la première partie du message à parties multiples/associé, vous devez créer un composant de pipeline qui identifie correctement le corps du message.</span><span class="sxs-lookup"><span data-stu-id="0f43d-151">If your partner is unable to send the body as the first part of the multipart/related message, you must create a pipeline component that correctly identifies the body of the message.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0f43d-152">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="0f43d-152">See Also</span></span>  
 <span data-ttu-id="0f43d-153">[Dépannage des Solutions EDI et AS2](../core/troubleshooting-edi-and-as2-solutions.md) </span><span class="sxs-lookup"><span data-stu-id="0f43d-153">[Troubleshooting EDI and AS2 Solutions](../core/troubleshooting-edi-and-as2-solutions.md) </span></span>  
 <span data-ttu-id="0f43d-154">[AS2 Architecture de la Solution](../core/as2-solution-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="0f43d-154">[AS2 Solution Architecture](../core/as2-solution-architecture.md) </span></span>  
 [<span data-ttu-id="0f43d-155">Développement et la configuration des Solutions AS2 BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="0f43d-155">Developing and Configuring BizTalk Server AS2 Solutions</span></span>](../core/developing-and-configuring-biztalk-server-as2-solutions.md)