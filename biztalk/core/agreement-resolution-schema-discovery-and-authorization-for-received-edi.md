---
title: "Résolution de l’accord, détection de schéma et l’autorisation des Messages EDI reçus | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 503e307c-4cb0-49b5-8751-82dcea203151
caps.latest.revision: "45"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: de5f7fd9b022daf2d123de1c971797b53df202d5
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="agreement-resolution-schema-discovery-and-authorization-for-received-edi-messages"></a><span data-ttu-id="23eee-102">Résolution de l'accord, détection du schéma et autorisation des messages EDI reçus</span><span class="sxs-lookup"><span data-stu-id="23eee-102">Agreement Resolution, Schema Discovery, and Authorization for Received EDI Messages</span></span>
<span data-ttu-id="23eee-103">Lorsque [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] reçoit un message EDI, le pipeline de réception EDI effectue une recherche d'accord de partenariat commercial, une détection de schéma et des processus d'autorisation pour déterminer comment traiter le message.</span><span class="sxs-lookup"><span data-stu-id="23eee-103">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receives an EDI message, the EDI receive pipeline performs trading partner agreement lookup, schema discovery, and authorization processes to determine how to process the message.</span></span>  
  
## <a name="agreement-resolution"></a><span data-ttu-id="23eee-104">Résolution de l'accord</span><span class="sxs-lookup"><span data-stu-id="23eee-104">Agreement Resolution</span></span>  
 <span data-ttu-id="23eee-105">Le pipeline de réception EDI effectue une résolution d'accord de partenariat commercial par le biais d'une série d'étapes pour déterminer s'il existe une correspondance entre les champs d'en-tête dans le message et les propriétés dans la définition de l'accord.</span><span class="sxs-lookup"><span data-stu-id="23eee-105">The EDI receive pipeline performs a trading partner agreement resolution by performing a series of steps to determine whether there is a match between header fields in the message and properties in the agreement definition.</span></span> <span data-ttu-id="23eee-106">Une fois que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] a déterminé l'accord, il identifie le schéma de document qui s'applique à l'échange (voir ci-après).</span><span class="sxs-lookup"><span data-stu-id="23eee-106">Once [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] has determined the agreement, it determines the document schema that applies to the interchange (see below).</span></span> <span data-ttu-id="23eee-107">Il utilise les propriétés associées à l'accord correspondant et le schéma pertinent pour valider et traiter le message reçu.</span><span class="sxs-lookup"><span data-stu-id="23eee-107">It uses the properties associated with the matching agreement and the relevant schema to validate and process the received message.</span></span>  
  
 <span data-ttu-id="23eee-108">Pour effectuer la résolution de l'accord, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] procède comme suit :</span><span class="sxs-lookup"><span data-stu-id="23eee-108">To perform agreement resolution, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] proceeds as follows:</span></span>  
  
1.  <span data-ttu-id="23eee-109">Résoudre l'accord en mettant en correspondance les qualificateurs et identificateurs du récepteur et de l'expéditeur présents dans l'en-tête de l'échange avec ceux présents dans les propriétés d'un accord.</span><span class="sxs-lookup"><span data-stu-id="23eee-109">Resolve the agreement by matching the sender qualifier and identifier, and the receiver qualifier and identifier, in the interchange header with those in the properties of an agreement.</span></span>  
  
2.  <span data-ttu-id="23eee-110">Si l'étape 1 échoue, résoudre l'accord en mettant en correspondance uniquement les qualificateur et identificateur de l'expéditeur présents dans l'en-tête de l'échange avec ceux présents dans les propriétés d'un accord.</span><span class="sxs-lookup"><span data-stu-id="23eee-110">If step 1 does not succeed, resolve the agreement by matching just the sender qualifier and identifier in the interchange header with those in the properties of an agreement.</span></span> <span data-ttu-id="23eee-111">Par ailleurs, comme l'étape 1 n'a pas réussi, on peut supposer que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] recevra le message.</span><span class="sxs-lookup"><span data-stu-id="23eee-111">Also, because the first step did not succeed, it is safe to assume that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will be receiving the message.</span></span> <span data-ttu-id="23eee-112">Par conséquent, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] essaie de mettre en correspondance les qualificateur et identificateur du récepteur avec :</span><span class="sxs-lookup"><span data-stu-id="23eee-112">Hence, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tries to match the receiver qualifier and identifier with the following:</span></span>  
  
    -   <span data-ttu-id="23eee-113">les valeurs « BT » et « HostX12Recvr » (pour les messages X12) et</span><span class="sxs-lookup"><span data-stu-id="23eee-113">Values “BT” and “HostX12Recvr” (for X12-encoded messages) and</span></span>  
  
    -   <span data-ttu-id="23eee-114">les valeurs « BT » et « HostEdifactRecvr » (pour les messages EDIFACT)</span><span class="sxs-lookup"><span data-stu-id="23eee-114">Values “BT” and “HostEdifactRecvr” (for EDIFACT-encoded messages)</span></span>  
  
    > [!IMPORTANT]
    >  -   <span data-ttu-id="23eee-115">**BizTalk Server 2013 R2, 2013 et 2010**: les champs de The ISA5, ISA6, ISA7, ISA8, UNB2.1, UNB2.2, UNB3.1 et UNB3.2 sont obligatoires dans les paramètres d’accord.</span><span class="sxs-lookup"><span data-stu-id="23eee-115">**BizTalk Server 2013 R2, 2013, and 2010**: The ISA5, ISA6, ISA7, ISA8, UNB2.1, UNB2.2, UNB3.1, and UNB3.2 fields are mandatory in the agreement settings.</span></span>  
    > -   <span data-ttu-id="23eee-116">**BizTalk Server 2009 et 2006 R2**: champs de The ISA7, ISA8, UNB3.1 et UNB3.2 ne sont pas obligatoires dans les paramètres de tiers.</span><span class="sxs-lookup"><span data-stu-id="23eee-116">**BizTalk Server 2009 and 2006 R2**: The ISA7, ISA8, UNB3.1, and UNB3.2 fields are not mandatory in the party settings.</span></span> <span data-ttu-id="23eee-117">Si les champs sont vides, le moteur EDI fournit une résolution basée sur les valeurs de ISA5, ISA6, UNB2.1 et UNB2.2.</span><span class="sxs-lookup"><span data-stu-id="23eee-117">If the fields are left blank, the EDI engine gives a resolution based on the values of ISA5, ISA6, UNB2.1, and UNB2.2.</span></span>  
    > -   <span data-ttu-id="23eee-118">Pour prendre en charge les résolutions allant de BizTalk Server 2009 et BizTalk Server 2006 R2 aux versions les plus récentes de BizTalk Server, des ID (HostX12Recvr et HostEdifactRecvr) et qualificateurs (BT) codés en dur sont introduits.</span><span class="sxs-lookup"><span data-stu-id="23eee-118">To support the resolutions from BizTalk Server 2009 and 2006 R2 to newer versions of BizTalk Server, the hard coded IDs (HostX12Recvr and HostEdifactRecvr) and qualifiers (BT) are introduced.</span></span>  
    > -   <span data-ttu-id="23eee-119">Vos messages EDIFACT doivent suivre la [les directives UNECE](http://www.unece.org/tradewelcome/areas-of-work/un-centre-for-trade-facilitation-and-e-business-uncefact/outputs/standards/unedifact/tradeedifactrules.html) pour la syntaxe de message et les règles.</span><span class="sxs-lookup"><span data-stu-id="23eee-119">Your EDIFACT messages should follow the [UNECE guidelines](http://www.unece.org/tradewelcome/areas-of-work/un-centre-for-trade-facilitation-and-e-business-uncefact/outputs/standards/unedifact/tradeedifactrules.html) for message syntax and rules.</span></span>  
  
3.  <span data-ttu-id="23eee-120">Si l'étape 2 échoue, utiliser les propriétés de l'accord de secours.</span><span class="sxs-lookup"><span data-stu-id="23eee-120">If step 2 does not succeed, use the fallback agreement properties.</span></span>  
  
 <span data-ttu-id="23eee-121">Dans la première étape, pour X12, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] utilise les valeurs suivantes pour la mise en correspondance :</span><span class="sxs-lookup"><span data-stu-id="23eee-121">In the first step, for X12, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will use the following values to make the match:</span></span>  
  
-   <span data-ttu-id="23eee-122">ISA05 (qualificateur de l'expéditeur)</span><span class="sxs-lookup"><span data-stu-id="23eee-122">ISA05 (sender qualifier)</span></span>  
  
-   <span data-ttu-id="23eee-123">ISA06 (identificateur de l'expéditeur)</span><span class="sxs-lookup"><span data-stu-id="23eee-123">ISA06 (sender identifier)</span></span>  
  
-   <span data-ttu-id="23eee-124">ISA07 (qualificateur du récepteur)</span><span class="sxs-lookup"><span data-stu-id="23eee-124">ISA07 (receiver qualifier)</span></span>  
  
-   <span data-ttu-id="23eee-125">ISA08 (identificateur du récepteur)</span><span class="sxs-lookup"><span data-stu-id="23eee-125">ISA08 (receiver identifier)</span></span>  
  
 <span data-ttu-id="23eee-126">Pour EDIFACT, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] utilise les valeurs suivantes pour la mise en correspondance :</span><span class="sxs-lookup"><span data-stu-id="23eee-126">For EDIFACT, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will use the following values to make the match:</span></span>  
  
-   <span data-ttu-id="23eee-127">UNB2.1 (identificateur de l'expéditeur)</span><span class="sxs-lookup"><span data-stu-id="23eee-127">UNB2.1 (sender identifier)</span></span>  
  
-   <span data-ttu-id="23eee-128">UNB2.2 (qualificateur de l'expéditeur)</span><span class="sxs-lookup"><span data-stu-id="23eee-128">UNB2.2 (sender qualifier)</span></span>  
  
-   <span data-ttu-id="23eee-129">UNB3.1 (identificateur du récepteur)</span><span class="sxs-lookup"><span data-stu-id="23eee-129">UNB3.1 (receiver identifier)</span></span>  
  
-   <span data-ttu-id="23eee-130">UNB3.2 (qualificateur du récepteur)</span><span class="sxs-lookup"><span data-stu-id="23eee-130">UNB3.2 (receiver qualifier)</span></span>  
  
 <span data-ttu-id="23eee-131">Utilisé pour la correspondance des propriétés de l’accord sont définies dans le **identificateurs** page des onglets d’accord spécifique à la direction de la **propriétés de l’accord** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="23eee-131">The agreement properties used for the match are defined in the **Identifiers** page of the direction-specific agreement tabs of the **Agreement Properties** dialog box.</span></span>  
  
 <span data-ttu-id="23eee-132">Ces quatre propriétés côté envoi et côté réception identifient de manière unique l'accord de partenariat commercial.</span><span class="sxs-lookup"><span data-stu-id="23eee-132">These four receive-side and send-side properties uniquely identify the trading partner agreement.</span></span> <span data-ttu-id="23eee-133">L'utilisation des quatre propriétés vous offre plus de souplesse dans le traitement côté réception.</span><span class="sxs-lookup"><span data-stu-id="23eee-133">Using the four properties gives you more flexibility in receive-side processing.</span></span> <span data-ttu-id="23eee-134">Par exemple, cette méthode de résolution d'accord peut vous permettre d'envoyer des accusés de réception à plusieurs tiers sans créer plusieurs ports d'envoi.</span><span class="sxs-lookup"><span data-stu-id="23eee-134">For example, this method of agreement resolution may enable you to send acknowledgments to multiple parties without creating multiple send ports.</span></span>  
  
 <span data-ttu-id="23eee-135">Si [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ne peut pas résoudre l'accord à l'aide des quatre qualificateurs et identificateurs de l'expéditeur et du récepteur, il tente de résoudre l'accord en utilisant simplement les qualificateur et identificateur de l'expéditeur.</span><span class="sxs-lookup"><span data-stu-id="23eee-135">If [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] cannot resolve the agreement using all four sender and receiver qualifiers and identifiers, it will attempt to resolve the agreement using just the sender qualifier and identifier.</span></span> <span data-ttu-id="23eee-136">Pour X12, ces champs sont ISA05 et ISA06 ; pour EDIFACT, il s'agit de UNB2.1 et UNB2.2.</span><span class="sxs-lookup"><span data-stu-id="23eee-136">For X12, these fields are ISA05 and ISA06; for EDIFACT, these fields are UNB2.1 and UNB2.2.</span></span> <span data-ttu-id="23eee-137">Comme avec une correspondance de propriétés de l’expéditeur et récepteur, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] correspond aux valeurs dans l’en-tête d’échange de l’accord définies dans le **identificateurs** page d’onglets de l’accord spécifique à la direction de la **Propriétés de l’accord** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="23eee-137">As with a match of sender and receiver properties, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] matches the values in the interchange header with the agreement properties defined in the **Identifiers** page of the direction-specific agreement tabs of the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="23eee-138">Si seul le qualificateur de l’expéditeur et l’identificateur sont utilisés pour résoudre l’accord, le qualificateur du récepteur et l’identificateur doivent être non définis dans l’onglet d’accord bidirectionnel de la **propriétés de l’accord** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="23eee-138">If only the sender qualifier and identifier are used to resolve the agreement, the receiver qualifier and identifier should be undefined in the bi-directional agreement tab of the **Agreement Properties** dialog box.</span></span>  
  
 <span data-ttu-id="23eee-139">Si aucun accord n'est trouvé, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] utilise l'accord de partenariat commercial de secours, à moins que les paramètres du port requièrent l'authentification.</span><span class="sxs-lookup"><span data-stu-id="23eee-139">If no agreement is found, then [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] uses the fallback trading partner agreement, unless the port setting requires authentication.</span></span> <span data-ttu-id="23eee-140">Si le paramètre de port requiert une authentification (si le paramètre **supprimer les messages si l’authentification échoue** ou **conserver les messages si l’authentification échoue** est sélectionné dans le **général** page de la **propriétés du Port de réception**), un accord est obligatoire pour chaque échange reçu par le port de réception.</span><span class="sxs-lookup"><span data-stu-id="23eee-140">If the port setting requires authentication (if either **Drop messages if authentication fails** or **Keep messages if authentication fails** is selected on the **General** page of the **Receive Port Properties**), an agreement is required for any interchange received by the receive port.</span></span> <span data-ttu-id="23eee-141">Alors, si l'accord n'est pas résolu par la mise en correspondance de l'en-tête de l'échange avec les propriétés de l'accord, l'utilisation des propriétés de l'accord de secours pour déterminer l'accord n'est pas autorisée.</span><span class="sxs-lookup"><span data-stu-id="23eee-141">In this case, if the agreement is not resolved by matching the interchange header with agreement properties, using the fallback agreement properties to determine the agreement is not allowed.</span></span> <span data-ttu-id="23eee-142">L'échange est traité comme si l'authentification avait échoué si aucun accord n'est trouvé, et est interrompu.</span><span class="sxs-lookup"><span data-stu-id="23eee-142">The interchange will be treated as though authentication had failed if no agreement is found, and will be suspended.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="23eee-143">Un message du pipeline EDI est transmis à l'étape réussie de la résolution d'accord jusqu'à ce qu'il soit résolu et que l'accord soit activé dans l'étape.</span><span class="sxs-lookup"><span data-stu-id="23eee-143">A message in the EDI pipeline goes to the succeeding step in Agreement Resolution till the message gets resolved with the step having Agreement in enable state.</span></span> <span data-ttu-id="23eee-144">Par exemple, si le message est résolu dans la première étape de la résolution d'accord mais que l'accord est désactivé, le message est transmis à l'étape réussie à des fins de résolution.</span><span class="sxs-lookup"><span data-stu-id="23eee-144">For example, if the message gets resolved in the first step of Agreement Resolution but the Agreement is in a disabled state then the message goes to the succeeding step for resolution.</span></span>  
  
## <a name="schema-discovery"></a><span data-ttu-id="23eee-145">Détection de schéma</span><span class="sxs-lookup"><span data-stu-id="23eee-145">Schema Discovery</span></span>  
 <span data-ttu-id="23eee-146">Une fois que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] a déterminé l'accord qui correspond au message, il doit déterminer le schéma à utiliser pour valider et traiter le message.</span><span class="sxs-lookup"><span data-stu-id="23eee-146">After [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] has determined the agreement that resolves to the message, it must determine the schema that it should use to validate and process the message.</span></span> <span data-ttu-id="23eee-147">Il utilise les propriétés identifiées dans le **paramètres d’hôte Local** page d’unidirectionnel (côté envoi) onglet d’accord de la **propriétés de l’accord** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="23eee-147">It does so using the properties identified in the **Local Host Settings** page of the one-way (send side) agreement tab of the **Agreement Properties** dialog box.</span></span>  
  
 <span data-ttu-id="23eee-148">Pour déterminer le schéma, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] doit d'abord déterminer l'espace de noms de schéma.</span><span class="sxs-lookup"><span data-stu-id="23eee-148">To determine the schema, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] must first determine the schema namespace.</span></span> <span data-ttu-id="23eee-149">Le Désassembleur EDI utilise un espace de noms par défaut pour les schémas standard fournis avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ou détermine l'espace de noms à utiliser pour un schéma personnalisé.</span><span class="sxs-lookup"><span data-stu-id="23eee-149">The EDI Disassembler will either use a default namespace for the standard schemas shipped with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], or it will determine the namespace to be used for a custom schema.</span></span>  
  
 <span data-ttu-id="23eee-150">Le **paramètres d’hôte Local** page de l’onglet d’accord unidirectionnel de la **propriétés de l’accord** boîte de dialogue vous permet de configurer une grille de valeurs d’un espace de noms personnalisé.</span><span class="sxs-lookup"><span data-stu-id="23eee-150">The **Local Host Settings** page of the one-way agreement tab of the **Agreement Properties** dialog box enables you to set up a grid of values to determine a custom namespace.</span></span> <span data-ttu-id="23eee-151">Si aucune correspondance n’est trouvée dans la grille, le désassembleur EDI utilise l’espace de noms par défaut dans le **espace de noms cible** champ marqué pour la ligne par défaut.</span><span class="sxs-lookup"><span data-stu-id="23eee-151">If no match is found in that grid, the EDI Disassembler uses the default namespace in the **Target namespace** field marked for the default row.</span></span>  
  
### <a name="x12-schema-discovery"></a><span data-ttu-id="23eee-152">Détection de schéma X12</span><span class="sxs-lookup"><span data-stu-id="23eee-152">X12 Schema Discovery</span></span>  
 <span data-ttu-id="23eee-153">Pour les messages X12, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] détermine un espace de noms personnalisé à l'aide de l'identificateur de l'expéditeur de l'application (GS02) et l'ID de document informatisé (ST01) à partir de l'en-tête de l'échange entrant.</span><span class="sxs-lookup"><span data-stu-id="23eee-153">For X12-encoded messages, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determines a custom namespace using the application sender identifier (GS02) and the transaction set ID (ST01) from the header of the incoming interchange.</span></span> <span data-ttu-id="23eee-154">Il tente de trouver une correspondance entre ces valeurs et les valeurs des propriétés GS02 et ST01 dans les **personnaliser l’espace de noms cible** grille dans le **paramètres d’hôte Local** page (sous **Transaction Définissez les paramètres**) de l’onglet d’accord bidirectionnel de la **propriétés de l’accord** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="23eee-154">It attempts to find a match between these values and the values for the GS02 and ST01 properties in the **Customize target namespace** grid in the **Local Host Settings** page (under **Transaction Set Settings**) of the bi-directional agreement tab of the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="23eee-155">S’il trouve une correspondance, il utilisera l’espace de noms cible identifié dans la même ligne de la grille pour déterminer le schéma pour valider et traiter le message.</span><span class="sxs-lookup"><span data-stu-id="23eee-155">If it finds a match, it will use the target namespace identified in the same row of the grid to determine which schema to us to validate and process the message.</span></span> <span data-ttu-id="23eee-156">Si l'espace de noms cible n'est pas déterminé, l'espace de noms cible par défaut est utilisé.</span><span class="sxs-lookup"><span data-stu-id="23eee-156">If the target namespace is not determined, then the default target namespace will be used.</span></span> <span data-ttu-id="23eee-157">Si aucun espace de noms n’est identifié dans le **espace de noms cible** champ marqué pour la ligne par défaut, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] utilisera l’espace de noms cible identifié dans les propriétés de l’accord de secours pour les messages encodés en X12, qui par défaut est `http://schemas.microsoft.com/BizTalk/Edi/X12/2006`.</span><span class="sxs-lookup"><span data-stu-id="23eee-157">If no namespace is identified in the **Target namespace** field marked for the default row, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will use the target namespace identified in the fallback agreement properties for X12-encoded messages, which by default is `http://schemas.microsoft.com/BizTalk/Edi/X12/2006`.</span></span>  
  
 <span data-ttu-id="23eee-158">Pour les échanges X12, après la détection de l'espace de noms cible, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] détermine le schéma à l'aide des informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="23eee-158">For X12 interchanges, after the target namespace is discovered, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determines the schema using the following information:</span></span>  
  
-   <span data-ttu-id="23eee-159">L'espace de noms cible venant d'être détecté.</span><span class="sxs-lookup"><span data-stu-id="23eee-159">The target namespace just discovered</span></span>  
  
-   <span data-ttu-id="23eee-160">La version d'origine/version finale dans les cinq premiers caractères de ST03 (si GS07 == X - Accredited Standards Committee X12).</span><span class="sxs-lookup"><span data-stu-id="23eee-160">The version/release in the first five characters of ST03 (if GS07 == X - Accredited Standards Committee X12).</span></span> <span data-ttu-id="23eee-161">Si ST03 n'est pas présent/valide ou ne donne pas la résolution de schéma, la version est déterminée par les cinq premiers caractères de GS08 ou de ISA12 (si GS07 != X).</span><span class="sxs-lookup"><span data-stu-id="23eee-161">If ST03 is not present/invalid or does not result in the schema resolution, then the version is determined by the first five characters of GS08 or of ISA12 (if GS07 != X).</span></span>  
  
-   <span data-ttu-id="23eee-162">Le DocType dans ST01.</span><span class="sxs-lookup"><span data-stu-id="23eee-162">The DocType in ST01.</span></span>  
  
 <span data-ttu-id="23eee-163">Le Désassembleur EDI concatène le type de codage, la version d'origine/version finale et le DocType pour déterminer le nom de schéma, par exemple, « X12_00401_864 ».</span><span class="sxs-lookup"><span data-stu-id="23eee-163">The EDI Disassembler concatenates the encoding type, version/release, and DocType to determine the schema name, for example, "X12_00401_864".</span></span> <span data-ttu-id="23eee-164">Il concatène ensuite l'espace de noms cible avec le nom de schéma, par exemple, `http://schemas.microsoft.com/BizTalk/Edi/X12/2006/X12#X12_00401_864`.</span><span class="sxs-lookup"><span data-stu-id="23eee-164">It then concatenates the target namespace with the schema name, for example, `http://schemas.microsoft.com/BizTalk/Edi/X12/2006/X12#X12_00401_864`.</span></span>  
  
 <span data-ttu-id="23eee-165">Pour un échange HIPAA 837 entrant, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] prend en charge les trois schémas HIPAA 837 :</span><span class="sxs-lookup"><span data-stu-id="23eee-165">For an incoming HIPAA 837 interchange, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] supports three HIPAA 837 schemas:</span></span>  
  
|<span data-ttu-id="23eee-166">Schéma 837</span><span class="sxs-lookup"><span data-stu-id="23eee-166">837 Schema</span></span>|<span data-ttu-id="23eee-167">Valeur GS08 dans la version 4010</span><span class="sxs-lookup"><span data-stu-id="23eee-167">GS08 Value in version 4010</span></span>|<span data-ttu-id="23eee-168">Valeur GS08/ST03 dans la version 5010</span><span class="sxs-lookup"><span data-stu-id="23eee-168">GS08/ST03 Value in version 5010</span></span>|  
|----------------|--------------------------------|--------------------------------------|  
|<span data-ttu-id="23eee-169">Claim-Dental_837D</span><span class="sxs-lookup"><span data-stu-id="23eee-169">Claim-Dental_837D</span></span>|<span data-ttu-id="23eee-170">004010X097A1</span><span class="sxs-lookup"><span data-stu-id="23eee-170">004010X097A1</span></span>|<span data-ttu-id="23eee-171">005010X224A1</span><span class="sxs-lookup"><span data-stu-id="23eee-171">005010X224A1</span></span>|  
|<span data-ttu-id="23eee-172">Claim-Institutional_837I</span><span class="sxs-lookup"><span data-stu-id="23eee-172">Claim-Institutional_837I</span></span>|<span data-ttu-id="23eee-173">004010X096A1</span><span class="sxs-lookup"><span data-stu-id="23eee-173">004010X096A1</span></span>|<span data-ttu-id="23eee-174">005010X223A1</span><span class="sxs-lookup"><span data-stu-id="23eee-174">005010X223A1</span></span>|  
|<span data-ttu-id="23eee-175">Claim-Professional_837P</span><span class="sxs-lookup"><span data-stu-id="23eee-175">Claim-Professional_837P</span></span>|<span data-ttu-id="23eee-176">004010X098A1</span><span class="sxs-lookup"><span data-stu-id="23eee-176">004010X098A1</span></span>|<span data-ttu-id="23eee-177">005010X222</span><span class="sxs-lookup"><span data-stu-id="23eee-177">005010X222</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="23eee-178">Dans les versions HIPAA, pour le document informatisé 278 (Health Care Services Review), les paires de requête et réponse partagent la même valeur pour GS08 et ST01.</span><span class="sxs-lookup"><span data-stu-id="23eee-178">In HIPAA versions, for the transaction set 278 (Health Care Services Review), both the request and response pairs share the same value for GS08 and ST01.</span></span> <span data-ttu-id="23eee-179">En fonction des valeurs de déclenchement dans le champ BHT02, vous pouvez différencier une requête et une réponse 278 dans la version 5010 :</span><span class="sxs-lookup"><span data-stu-id="23eee-179">Depending on the trigger values in BHT02 field you may differentiate between a 278 Request/ Response in version 5010:</span></span>  
>   
>  1.  <span data-ttu-id="23eee-180">L'une des valeurs 01, 13 et 36 dans BHT02 indique un Health Care Services Review Request.</span><span class="sxs-lookup"><span data-stu-id="23eee-180">Any of the values 01, 13 and 36 in BHT02 indicates a Health Care Services Review Request</span></span>  
> 2.  <span data-ttu-id="23eee-181">11 dans BHT02 indique un Health Care Services Review Response.</span><span class="sxs-lookup"><span data-stu-id="23eee-181">11 in BHT02 indicates Health Care Services Review Response</span></span>  
  
### <a name="edifact-schema-discovery"></a><span data-ttu-id="23eee-182">Détection de schéma EDIFACT</span><span class="sxs-lookup"><span data-stu-id="23eee-182">EDIFACT Schema Discovery</span></span>  
 <span data-ttu-id="23eee-183">Pour les messages EDIFACT, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] détermine un espace de noms personnalisé à l'aide du type de message (UNH2.1), du numéro de version du message (UNH2.2), du numéro de version finale du message (UNH2.3), du code assigné (UNH2.5), de l'ID du groupe fonctionnel (UNG2.1) et du qualificateur de code de l'expéditeur de l'application (UNG2.2) à partir de l'en-tête de l'échange entrant.</span><span class="sxs-lookup"><span data-stu-id="23eee-183">For EDIFACT-encoded messages, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determines a custom namespace using the message type (UNH2.1), message version number (UNH2.2), message release number (UNH2.3), assigned code (UNH2.5), functional group ID (UNG2.1), and application send code qualifier (UNG2.2) from the header of the incoming interchange.</span></span> <span data-ttu-id="23eee-184">Il essaie alors de trouver une correspondance entre ces valeurs et les valeurs pour les propriétés UNH2.1, UNH2.2, UNH2.3, UNH2.5, UNG2.1 et UNG2.2 dans les **personnaliser l’espace de noms cible** grille (sous **paramètres des documents informatisés**) onglet d’accord bidirectionnel de la **propriétés de l’accord** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="23eee-184">It then attempts to find a match between these values and the values for the UNH2.1, UNH2.2, UNH2.3, UNH2.5, UNG2.1, and UNG2.2 properties in the **Customize target namespace** grid (under **Transaction Set Settings**) of the bi-directional agreement tab of the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="23eee-185">S'il trouve une correspondance, il utilise l'espace de noms cible identifié dans la même ligne de la grille pour déterminer le schéma à utiliser pour valider et traiter le message.</span><span class="sxs-lookup"><span data-stu-id="23eee-185">If it finds a match, it will use the target namespace identified in the same row of the grid to determine which schema to use to validate and process the message.</span></span> <span data-ttu-id="23eee-186">Si l'espace de noms cible n'est pas déterminé, l'espace de noms cible par défaut est utilisé.</span><span class="sxs-lookup"><span data-stu-id="23eee-186">If the target namespace is not determined, then the default target namespace will be used.</span></span> <span data-ttu-id="23eee-187">Si aucun espace de noms n’est identifié dans le **espace de noms cible** champ marqué pour la ligne par défaut, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] utilisera l’espace de noms cible identifié dans les propriétés de l’accord de secours pour les messages encodés en EDIFACT, qui est par défaut `http://schemas.microsoft.com/BizTalk/Edi/EDIFACT/2006`.</span><span class="sxs-lookup"><span data-stu-id="23eee-187">If no namespace is identified in the **Target namespace** field marked for the default row, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will use the target namespace identified in the fallback agreement properties for EDIFACT-encoded messages, which by default is `http://schemas.microsoft.com/BizTalk/Edi/EDIFACT/2006`.</span></span>  
  
 <span data-ttu-id="23eee-188">Pour les échanges EDIFACT, après la détection de l'espace de noms cible, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] détermine le schéma à l'aide des informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="23eee-188">For EDIFACT interchanges, once the target namespace is discovered, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] determines the schema using the following information:</span></span>  
  
-   <span data-ttu-id="23eee-189">L’espace de noms cible venant d’être détecté.</span><span class="sxs-lookup"><span data-stu-id="23eee-189">The target namespace just discovered.</span></span>  
  
-   <span data-ttu-id="23eee-190">Le numéro de version du message dans UNH2.2.</span><span class="sxs-lookup"><span data-stu-id="23eee-190">The message version number in UNH2.2.</span></span>  
  
-   <span data-ttu-id="23eee-191">Le numéro de version finale du message dans UNH2.3.</span><span class="sxs-lookup"><span data-stu-id="23eee-191">The message release number in UNH2.3.</span></span>  
  
-   <span data-ttu-id="23eee-192">Le type de message dans UNH2.1.</span><span class="sxs-lookup"><span data-stu-id="23eee-192">The message type in UNH2.1.</span></span>  
  
-   <span data-ttu-id="23eee-193">Le code assigné dans UNH2.5.</span><span class="sxs-lookup"><span data-stu-id="23eee-193">The assigned code in UNH2.5.</span></span>  
  
 <span data-ttu-id="23eee-194">Le Désassembleur EDI concatène le type de codage, la version, la version finale et le type de message pour déterminer le nom de schéma, par exemple, « EFACT_D94A_CONTEN ».</span><span class="sxs-lookup"><span data-stu-id="23eee-194">The EDI Disassembler concatenates the encoding type, the version, the release, and the message type to determine the schema name, for example, " EFACT_D94A_CONTEN".</span></span> <span data-ttu-id="23eee-195">Il concatène ensuite l'espace de noms cible avec le nom de schéma, par exemple, `http://schemas.microsoft.com/BizTalk/Edi/Edifact/2006/EFACT#EFACT_D94A_CONTEN`.</span><span class="sxs-lookup"><span data-stu-id="23eee-195">It then concatenates the target namespace with the schema name, for example, `http://schemas.microsoft.com/BizTalk/Edi/Edifact/2006/EFACT#EFACT_D94A_CONTEN`.</span></span>  
  
 <span data-ttu-id="23eee-196">Si UNH2.5 est présent dans le message, le Désassembleur EDI tente d'abord de trouver un schéma correspondant à l'aide de la valeur de UNH2.5 dans le nom de schéma, par exemple « EFACT_D94A_CONTEN_TEST ».</span><span class="sxs-lookup"><span data-stu-id="23eee-196">If UNH2.5 is present in the message, the EDI Disassembler will first attempt to find a matching schema by using the value of UNH2.5 as part of the schema name, for example “EFACT_D94A_CONTEN_TEST”.</span></span> <span data-ttu-id="23eee-197">Si aucun schéma correspondant n'est trouvé, le Désassembleur EDI bascule pour trouver le schéma sans la valeur UNH2.5.</span><span class="sxs-lookup"><span data-stu-id="23eee-197">If no matching schema is found, the EDI Disassembler will fall back to finding the schema without the UNH2.5 value.</span></span>  
  
## <a name="authorization"></a><span data-ttu-id="23eee-198">Autorisation</span><span class="sxs-lookup"><span data-stu-id="23eee-198">Authorization</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="23eee-199"> vérifie les valeurs des champs d'autorisation et de sécurité définis pour l'accord avec les champs dans le message.</span><span class="sxs-lookup"><span data-stu-id="23eee-199"> checks the values of the authorization and security fields defined for the agreement with the fields in the message.</span></span> <span data-ttu-id="23eee-200">En cas d'incohérence, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] interrompt l'échange.</span><span class="sxs-lookup"><span data-stu-id="23eee-200">If there is a mismatch, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will suspend the interchange.</span></span> <span data-ttu-id="23eee-201">Pour les messages EDIFACT, ces champs sont Mot de passe du destinataire (UNB6.1 et UNB6.2).</span><span class="sxs-lookup"><span data-stu-id="23eee-201">For EDIFACT-encoded messages, these fields are the recipient reference password (UNB6.1 and UNB6.2).</span></span> <span data-ttu-id="23eee-202">Pour les messages X12, ces champs sont Qualificateur et informations d'autorisation (ISA1-2) et Qualificateur et informations de sécurité (ISA3-4).</span><span class="sxs-lookup"><span data-stu-id="23eee-202">For X12-encoded messages, these fields are the Authorization qualifier and information (ISA1-2) and Security qualifier and information (ISA3-4).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="23eee-203">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="23eee-203">See Also</span></span>  
 [<span data-ttu-id="23eee-204">Réception des Messages EDI dans BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="23eee-204">How BizTalk Server Receives EDI Messages</span></span>](../core/how-biztalk-server-receives-edi-messages.md)