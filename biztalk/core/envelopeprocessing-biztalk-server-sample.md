---
title: EnvelopeProcessing (exemple BizTalk Server) | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- messages, envelopes
- flat files, processing
- examples, flat files
- examples, messages
- examples, envelopes
- envelopes, messages
- flat files, examples
- envelopes, examples
ms.assetid: b4cd979b-c7b4-446c-be29-c9f3169afa1f
caps.latest.revision: "17"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: aee15dc6fffefd550a5b12c662d4df76ca09c1fa
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="envelopeprocessing-biztalk-server-sample"></a><span data-ttu-id="587cf-102">EnvelopeProcessing (exemple BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="587cf-102">EnvelopeProcessing (BizTalk Server Sample)</span></span>
<span data-ttu-id="587cf-103">L'exemple EnvelopeProcessing illustre le traitement des messages et des enveloppes de message dans les pipelines [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="587cf-103">The EnvelopeProcessing sample demonstrates how to process messages and message envelopes in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pipelines.</span></span> <span data-ttu-id="587cf-104">En outre, il indique comment traiter les messages de fichier plat dans des messages XML.</span><span class="sxs-lookup"><span data-stu-id="587cf-104">Further, it shows how to process flat file messages into XML messages.</span></span>  
  
## <a name="what-this-sample-does"></a><span data-ttu-id="587cf-105">Fonctions de l'exemple</span><span class="sxs-lookup"><span data-stu-id="587cf-105">What This Sample Does</span></span>  
 <span data-ttu-id="587cf-106">Cet exemple configure le dossier EnvInput en tant qu'emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="587cf-106">This sample configures the folder EnvInput as a receive location.</span></span> <span data-ttu-id="587cf-107">Lorsque vous placez un fichier (tel que le fichier d'exemple EnvelopeProcessing_in.txt) dans ce dossier, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] traite les messages de ce fichier en procédant comme suit :</span><span class="sxs-lookup"><span data-stu-id="587cf-107">When you place a file, such as the sample file EnvelopeProcessing_in.txt, in this folder, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] processes the messages in this file using the following steps:</span></span>  
  
1.  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="587cf-108"> récupère le fichier de message du dossier EnvInput de l'emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="587cf-108"> retrieves the message file from the receive location folder EnvInput.</span></span>  
  
2.  <span data-ttu-id="587cf-109">Dans le pipeline de réception, le composant de pipeline Désassembleur de fichier plat supprime l'en-tête et le code de fin des messages de fichier plat et les convertit en messages individuels.</span><span class="sxs-lookup"><span data-stu-id="587cf-109">In the receive pipeline, the Flat File Disassembler pipeline component removes the header and trailer from the flat file messages, and parses them into individual messages.</span></span>  
  
3.  <span data-ttu-id="587cf-110">Dans la base de données MessageBox, les messages sont routés vers le port d'envoi à l'aide de filtres d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="587cf-110">In the MessageBox database, the messages are routed to the send port using subscription filters.</span></span>  
  
4.  <span data-ttu-id="587cf-111">Dans le pipeline d'envoi du port d'envoi, le composant de pipeline Assembleur XML encapsule les messages dans des enveloppes XML, puis les place dans le dossier EnvOutput de l'adaptateur d'envoi.</span><span class="sxs-lookup"><span data-stu-id="587cf-111">In the send pipeline of the send port, XML Assembler pipeline component wraps the messages in XML envelopes and then places them into the send adapter folder EnvOutput.</span></span>  
  
## <a name="how-this-sample-is-designed-and-why"></a><span data-ttu-id="587cf-112">Cet exemple est conçu et pourquoi</span><span class="sxs-lookup"><span data-stu-id="587cf-112">How This Sample is Designed and Why</span></span>  
 <span data-ttu-id="587cf-113">La conception de cet exemple devait répondre à deux exigences de base :</span><span class="sxs-lookup"><span data-stu-id="587cf-113">The design of this sample had to accommodate two basic requirements:</span></span>  
  
-   <span data-ttu-id="587cf-114">Recevoir et traiter un message de fichier plat contenant un ou plusieurs bons de commande.</span><span class="sxs-lookup"><span data-stu-id="587cf-114">Receive and process a flat file message containing one or more purchase orders.</span></span>  
  
-   <span data-ttu-id="587cf-115">Envoyer un message XML contenant un bon de commande et les informations d'expéditeur à un répertoire pour récupération par un système de traitement principal.</span><span class="sxs-lookup"><span data-stu-id="587cf-115">Send one XML message containing one purchase order and sender information to a directory for pickup by a back-end processing system.</span></span>  
  
 <span data-ttu-id="587cf-116">Pour répondre à ces exigences, une combinaison de schémas fichier plat/XML et de pipelines personnalisés a été utilisée.</span><span class="sxs-lookup"><span data-stu-id="587cf-116">To meet these requirements, a combination of flat file/XML schemas and custom pipelines were used.</span></span> <span data-ttu-id="587cf-117">Ces critères de conception sont récapitulés dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="587cf-117">These and other design elements are summarized in the following table.</span></span>  
  
|<span data-ttu-id="587cf-118">Élément de conception</span><span class="sxs-lookup"><span data-stu-id="587cf-118">Design element</span></span>|<span data-ttu-id="587cf-119">Raison(s) sélectionnée(s)</span><span class="sxs-lookup"><span data-stu-id="587cf-119">Reason(s) selected</span></span>|  
|--------------------|--------------------------|  
|<span data-ttu-id="587cf-120">Pipeline de réception personnalisé</span><span class="sxs-lookup"><span data-stu-id="587cf-120">Custom receive pipeline</span></span>|<span data-ttu-id="587cf-121">-Utilise le désassembleur de fichier plat et les schémas de fichier plat pour convertir des messages de commande d’achat entrant.</span><span class="sxs-lookup"><span data-stu-id="587cf-121">-   Uses the Flat File Disassembler and flat file schemas to translate inbound purchase order messages.</span></span>|  
|<span data-ttu-id="587cf-122">Schémas de fichier plat pour l'en-tête, le corps et le code de fin du message</span><span class="sxs-lookup"><span data-stu-id="587cf-122">Flat file schemas for message header, body, and trailer</span></span>|<span data-ttu-id="587cf-123">-Définit toutes les même caractéristiques d’enregistrement et champ (dont la structure) que les schémas XML et fournissent un mécanisme permettant de définir l’ensemble des caractéristiques de fichier plat requis pour convertir un message d’instance de fichier plat dans une instance XML équivalente message (ou vice versa).</span><span class="sxs-lookup"><span data-stu-id="587cf-123">-   Defines all of the same record and field characteristics (including structure) as XML schemas and provide a mechanism for defining all of the flat file characteristics that are required to translate a flat file instance message into an equivalent XML instance message (or vice versa).</span></span><br /><span data-ttu-id="587cf-124">-Schémas d’en-tête, corps et code de fin sont utilisés pour fractionner le corps en blocs discrets pour le traitement.</span><span class="sxs-lookup"><span data-stu-id="587cf-124">-   Header, body, and trailer schemas are used to split the body into discrete chunks for processing.</span></span>|  
|<span data-ttu-id="587cf-125">Schéma d'enveloppe</span><span class="sxs-lookup"><span data-stu-id="587cf-125">Envelope schema</span></span>|<span data-ttu-id="587cf-126">-Utilisé pour encapsuler des bons de commande individuels avec les informations de l’en-tête.</span><span class="sxs-lookup"><span data-stu-id="587cf-126">-   Used to wrap individual purchase orders with information from the header.</span></span>|  
|<span data-ttu-id="587cf-127">Filtre d'abonnement</span><span class="sxs-lookup"><span data-stu-id="587cf-127">Subscription filter</span></span>|<span data-ttu-id="587cf-128">-Le filtre d’abonnement réalise l’acheminement réel en capturant les messages qui répondent aux critères d’un ou plusieurs en fonction des champs de propriété.</span><span class="sxs-lookup"><span data-stu-id="587cf-128">-   The subscription filter performs the actual routing by capturing messages that meet one or more criteria based on property fields.</span></span>|  
|<span data-ttu-id="587cf-129">Pipeline d'envoi personnalisé</span><span class="sxs-lookup"><span data-stu-id="587cf-129">Custom send pipeline</span></span>|<span data-ttu-id="587cf-130">-Utilise l’assembleur XML et une combinaison de schémas d’enveloppe et le corps pour convertir les messages de l’instance au format XML.</span><span class="sxs-lookup"><span data-stu-id="587cf-130">-   Uses the XML Assembler and a combination of envelope and body schemas to translate the instance messages into XML format.</span></span>|  
  
 <span data-ttu-id="587cf-131">Les points suivants s'appliquent à la conception de cet exemple :</span><span class="sxs-lookup"><span data-stu-id="587cf-131">The following considerations apply to the design of this sample.</span></span>  
  
-   <span data-ttu-id="587cf-132">Le schéma de fichier plat (PO.xsd) contient des annotations étendues décrivant la structure du fichier plat de bon de commande.</span><span class="sxs-lookup"><span data-stu-id="587cf-132">The flat file schema (PO.xsd) contains extended annotations describing the structure of the purchase order flat file.</span></span> <span data-ttu-id="587cf-133">Ces fichiers peuvent être créés manuellement, mais un grand nombre peut être généré à l'aide de l'Assistant Fichier plat.</span><span class="sxs-lookup"><span data-stu-id="587cf-133">These files can be created by hand, but many can be generated by using the Flat File Wizard.</span></span>  
  
-   <span data-ttu-id="587cf-134">Le schéma de fichier plat du bon de commande (PO.xsd) utilise la valeur Unqualified d'elementFormDefault.</span><span class="sxs-lookup"><span data-stu-id="587cf-134">The purchase order (PO.xsd) flat file schema uses an elementFormDefault value of Unqualified.</span></span> <span data-ttu-id="587cf-135">Cela produit des résultats corrects, mais avec des qualifications xmlns supplémentaires et inattendues.</span><span class="sxs-lookup"><span data-stu-id="587cf-135">This produces correct results but with additional and unexpected xmlns qualifications.</span></span> <span data-ttu-id="587cf-136">Pour éviter ce problème, utilisez la valeur Qualified d'elementFormDefault.</span><span class="sxs-lookup"><span data-stu-id="587cf-136">Use an elementFormDefault of Qualified to avoid this issue.</span></span>  
  
-   <span data-ttu-id="587cf-137">Les schémas de fichier plat d'en-tête et de code de fin sont utilisés pour séparer les données d'en-tête et de code de fin du message.</span><span class="sxs-lookup"><span data-stu-id="587cf-137">Header and trailer flat file schemas are used to separate heading and trailing data from the message.</span></span> <span data-ttu-id="587cf-138">Les propriétés du schéma d'en-tête, de document et de code de fin du Désassembleur de fichier plat sont définies respectivement sur le schéma d'en-tête, le bon de commande et le schéma de code de fin.</span><span class="sxs-lookup"><span data-stu-id="587cf-138">The Flat File Disassembler header, document, and trailer schema properties were set to the header, purchase order, and trailer schema respectively.</span></span>  
  
-   <span data-ttu-id="587cf-139">Le schéma d'enveloppe XML combine des éléments de l'en-tête et du bon de commande pour produire un message XML unique.</span><span class="sxs-lookup"><span data-stu-id="587cf-139">The XML envelope schema combines elements from the header and purchase order to produce a single XML message.</span></span> <span data-ttu-id="587cf-140">Le schéma d’en-tête promeut le champ Source dans le champ SourceParty dans le **BTS.bts_system_properties** espace de noms ; le schéma d’enveloppe promeut cette même valeur, à l’origine de sa rétrogradation dans le message sortant.</span><span class="sxs-lookup"><span data-stu-id="587cf-140">The header schema promotes the Source field into the SourceParty field in the **BTS.bts_system_properties** namespace; the envelope schema promotes this same value, causing it to be demoted into the outbound message.</span></span>  
  
## <a name="where-to-find-this-sample"></a><span data-ttu-id="587cf-141">Accès à l'exemple</span><span class="sxs-lookup"><span data-stu-id="587cf-141">Where to Find This Sample</span></span>  
 <span data-ttu-id="587cf-142">`<Samples Path>`\Pipelines\AssemblerDisassembler\EnvelopeProcessing\\</span><span class="sxs-lookup"><span data-stu-id="587cf-142">`<Samples Path>`\Pipelines\AssemblerDisassembler\EnvelopeProcessing\\</span></span>  
  
 <span data-ttu-id="587cf-143">Le tableau suivant présente les fichiers de cet exemple et décrit leur fonction.</span><span class="sxs-lookup"><span data-stu-id="587cf-143">The following table shows the files in this sample and describes their purpose.</span></span>  
  
|<span data-ttu-id="587cf-144">Fichier(s)</span><span class="sxs-lookup"><span data-stu-id="587cf-144">File(s)</span></span>|<span data-ttu-id="587cf-145"> Description</span><span class="sxs-lookup"><span data-stu-id="587cf-145">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="587cf-146">Cleanup.bat</span><span class="sxs-lookup"><span data-stu-id="587cf-146">Cleanup.bat</span></span>|<span data-ttu-id="587cf-147">Permet d'annuler le déploiement des assemblys et de supprimer ceux-ci du Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="587cf-147">Used to undeploy assemblies and remove them from the global assembly cache.</span></span> <span data-ttu-id="587cf-148">Supprime les ports d'envoi et de réception.</span><span class="sxs-lookup"><span data-stu-id="587cf-148">Removes send and receive ports.</span></span> <span data-ttu-id="587cf-149">Supprime les répertoires virtuels Microsoft Internet Information Services (IIS) le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="587cf-149">Removes Microsoft Internet Information Services (IIS) virtual directories as needed.</span></span>|  
|<span data-ttu-id="587cf-150">EnvelopeProcessing.btproj, EnvelopeProcessing.sln</span><span class="sxs-lookup"><span data-stu-id="587cf-150">EnvelopeProcessing.btproj, EnvelopeProcessing.sln</span></span>|<span data-ttu-id="587cf-151">Fichiers projet et solution de l'exemple.</span><span class="sxs-lookup"><span data-stu-id="587cf-151">Project and solution files for this sample.</span></span>|  
|<span data-ttu-id="587cf-152">EnvelopeProcessing_in.txt</span><span class="sxs-lookup"><span data-stu-id="587cf-152">EnvelopeProcessing_in.txt</span></span>|<span data-ttu-id="587cf-153">Exemple de fichier d'entrée.</span><span class="sxs-lookup"><span data-stu-id="587cf-153">Sample input file.</span></span>|  
|<span data-ttu-id="587cf-154">Header.xsd, PO.xsd, Trailer.xsd</span><span class="sxs-lookup"><span data-stu-id="587cf-154">Header.xsd, PO.xsd, Trailer.xsd</span></span>|<span data-ttu-id="587cf-155">Schéma pour l'en-tête, le corps et le code de fin du fichier plat, respectivement.</span><span class="sxs-lookup"><span data-stu-id="587cf-155">Schema for flat file header, body, and trailer, respectively.</span></span>|  
|<span data-ttu-id="587cf-156">XmlEnvelope.xsd</span><span class="sxs-lookup"><span data-stu-id="587cf-156">XmlEnvelope.xsd</span></span>|<span data-ttu-id="587cf-157">Schéma de l'enveloppe XML sortante.</span><span class="sxs-lookup"><span data-stu-id="587cf-157">Schema for outbound XML envelope.</span></span>|  
|<span data-ttu-id="587cf-158">EnvReceivePipeline.btp, EnvSendPipeline.btp</span><span class="sxs-lookup"><span data-stu-id="587cf-158">EnvReceivePipeline.btp, EnvSendPipeline.btp</span></span>|<span data-ttu-id="587cf-159">Fichiers de pipeline de réception et d'envoi de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] avec respectivement les composants de pipeline Désassembleur de fichier plat et Assembleur XML.</span><span class="sxs-lookup"><span data-stu-id="587cf-159">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receive and send pipeline files with the Flat File Disassembler and XML Assembler pipeline components, respectively.</span></span>|  
|<span data-ttu-id="587cf-160">EnvelopeProcessingBinding.xml</span><span class="sxs-lookup"><span data-stu-id="587cf-160">EnvelopeProcessingBinding.xml</span></span>|<span data-ttu-id="587cf-161">Utilisé pour l’installation automatique, notamment la liaison de port.</span><span class="sxs-lookup"><span data-stu-id="587cf-161">Used for automated setup such as port binding.</span></span>|  
|<span data-ttu-id="587cf-162">Setup.bat</span><span class="sxs-lookup"><span data-stu-id="587cf-162">Setup.bat</span></span>|<span data-ttu-id="587cf-163">Utilisé pour créer et initialiser cet exemple.</span><span class="sxs-lookup"><span data-stu-id="587cf-163">Used to build and initialize this sample.</span></span>|  
  
## <a name="how-to-use-this-sample"></a><span data-ttu-id="587cf-164">L’utilisation de cet exemple</span><span class="sxs-lookup"><span data-stu-id="587cf-164">How to Use This Sample</span></span>  
 <span data-ttu-id="587cf-165">Utilisez cet exemple comme base de votre propre solution de traitement de fichier plat.</span><span class="sxs-lookup"><span data-stu-id="587cf-165">Use this sample as the basis for your own flat file processing solution.</span></span> <span data-ttu-id="587cf-166">Vous pouvez étendre un grand nombre des éléments de conception utilisés dans le cadre de cet exemple pour répondre à vos besoins spécifiques.</span><span class="sxs-lookup"><span data-stu-id="587cf-166">You can extend many of the design elements used in this sample to fit your own requirements.</span></span> <span data-ttu-id="587cf-167">Voici quelques exemples :</span><span class="sxs-lookup"><span data-stu-id="587cf-167">Some examples are as follows:</span></span>  
  
-   <span data-ttu-id="587cf-168">Améliorer l'exemple pour écrire une version de fichier plat de chaque bon de commande en plus de la version XML.</span><span class="sxs-lookup"><span data-stu-id="587cf-168">Enhance the sample to write a flat file version of each purchase order in addition to the XML version.</span></span> <span data-ttu-id="587cf-169">Pour ce faire, créez un pipeline d'envoi personnalisé et utilisez l'Assembleur de fichier plat.</span><span class="sxs-lookup"><span data-stu-id="587cf-169">You can do this by creating a new custom send pipeline and using the Flat File Assembler.</span></span> <span data-ttu-id="587cf-170">Sur l'Assembleur de fichier plat, spécifiez les schémas d'en-tête, de bon de commande et de code de fin de fichier plat.</span><span class="sxs-lookup"><span data-stu-id="587cf-170">On the Flat File Assembler, specify the flat file header, purchase order, and trailer schemas.</span></span> <span data-ttu-id="587cf-171">Lorsqu'il est utilisé dans un port d'envoi, il génère des bons de commande individuels avec les informations d'en-tête et de code de fin.</span><span class="sxs-lookup"><span data-stu-id="587cf-171">When used in a send port, it produces individual purchase orders with header/trailer information.</span></span>  
  
-   <span data-ttu-id="587cf-172">Améliorer l'enveloppe avec davantage d'informations du bon de commande.</span><span class="sxs-lookup"><span data-stu-id="587cf-172">Enhance the envelope with more information from the purchase order.</span></span> <span data-ttu-id="587cf-173">Pour écrire des informations supplémentaires dans le message sortant, vous devez promouvoir le nom « expédier à » ou d'autres champs à l'aide de Promotion rapide, ajouter des champs à l'enveloppe, puis promouvoir les champs d'enveloppe dans le même champ.</span><span class="sxs-lookup"><span data-stu-id="587cf-173">To write additional information into the outbound message, promote the "ship to" name or other fields using Quick Promote, add fields to the envelope, and then promote the envelope fields to the same field.</span></span> <span data-ttu-id="587cf-174">Lorsque le message est traité par l'assembleur, les propriétés promues sont rétrogradées et copiées dans le message sortant.</span><span class="sxs-lookup"><span data-stu-id="587cf-174">When the message is processed through the assembler, promoted properties are demoted and copied into the outbound message.</span></span>  
  
## <a name="building-and-initializing-this-sample"></a><span data-ttu-id="587cf-175">Création et initialisation de cet exemple</span><span class="sxs-lookup"><span data-stu-id="587cf-175">Building and Initializing This Sample</span></span>  
  
#### <a name="to-build-and-initialize-the-envelopeprocessing-sample"></a><span data-ttu-id="587cf-176">Pour créer et initialiser l'exemple EnvelopeProcessing</span><span class="sxs-lookup"><span data-stu-id="587cf-176">To build and initialize the EnvelopeProcessing sample</span></span>  
  
1.  <span data-ttu-id="587cf-177">Dans une fenêtre de commande, accédez au dossier suivant :</span><span class="sxs-lookup"><span data-stu-id="587cf-177">In a command window, navigate to the following folder:</span></span>  
  
     <span data-ttu-id="587cf-178">*\<Exemples de chemin d’accès >*\Pipelines\AssemblerDisassembler\EnvelopeProcessing</span><span class="sxs-lookup"><span data-stu-id="587cf-178">*\<Samples Path>*\Pipelines\AssemblerDisassembler\EnvelopeProcessing</span></span>  
  
2.  <span data-ttu-id="587cf-179">Exécutez le fichier Setup.bat, qui effectue les actions suivantes :</span><span class="sxs-lookup"><span data-stu-id="587cf-179">Run the file Setup.bat, which performs the following actions:</span></span>  
  
    -   <span data-ttu-id="587cf-180">Création des dossiers d'entrée (EnvInput) et de sortie (EnvOutput) associés à cet exemple dans le dossier :</span><span class="sxs-lookup"><span data-stu-id="587cf-180">Creates the input (EnvInput) and output (EnvOutput) folders for this sample in the folder:</span></span>  
  
         <span data-ttu-id="587cf-181">*\<Exemples de chemin d’accès >*\Pipelines\AssemblerDisassembler\EnvelopeProcessing\\</span><span class="sxs-lookup"><span data-stu-id="587cf-181">*\<Samples Path>*\Pipelines\AssemblerDisassembler\EnvelopeProcessing\\</span></span>  
  
    -   <span data-ttu-id="587cf-182">Compilation et déploiement du projet Visual Studio pour cet exemple.</span><span class="sxs-lookup"><span data-stu-id="587cf-182">Compiles and deploys the Visual Studio project for this sample.</span></span>  
  
    -   <span data-ttu-id="587cf-183">crée et lie l'emplacement de réception de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], ainsi que les ports d'envoi et de réception :</span><span class="sxs-lookup"><span data-stu-id="587cf-183">Creates and binds the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receive location, and the send and receive ports.</span></span>  
  
         <span data-ttu-id="587cf-184">Cet exemple affiche les avertissements suivants lors de la création et liaison des ports :</span><span class="sxs-lookup"><span data-stu-id="587cf-184">This sample displays the following warnings when creating and binding ports:</span></span>  
  
        ```  
        Warning: Receive handler not specified for receive location "EnvelopeProcessing_RL"; updating with first receive handler with matching transport type.  
        Warning: Host not specified for orchestration "EnvelopeProcessing"; updating with first available host.  
        ```  
  
         <span data-ttu-id="587cf-185">Vous pouvez ignorer ces avertissements sans problème.</span><span class="sxs-lookup"><span data-stu-id="587cf-185">You can safely ignore these warnings.</span></span> <span data-ttu-id="587cf-186">(Pour s'adapter aux éventuelles différences d'attribution de noms dans les installations utilisateur, le nom d'hôte et le gestionnaire de réception ont été omis dans le fichier de liaison.)</span><span class="sxs-lookup"><span data-stu-id="587cf-186">(To accommodate for possible naming differences in user installations, the host name and receive handler have been omitted from the binding file.)</span></span>  
  
    -   <span data-ttu-id="587cf-187">Active l'emplacement de réception, et démarre le port d'envoi.</span><span class="sxs-lookup"><span data-stu-id="587cf-187">Enables the receive location, and starts the send port.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="587cf-188">Vous devez confirmer que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] n'a pas signalé d'erreur pendant le processus de création et d'initialisation, avant d'essayer de faire fonctionner cet exemple.</span><span class="sxs-lookup"><span data-stu-id="587cf-188">You should confirm that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] did not report any errors during the build and initialization process before attempting to run this sample.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="587cf-189">Si vous décidez d'ouvrir et de créer le projet de cet exemple sans exécuter Setup.bat, vous devez commencer par créer une paire de clés de nom fort à l'aide de .NET Framework Strong Name Utility (sn.exe).</span><span class="sxs-lookup"><span data-stu-id="587cf-189">If you choose to open and build the project in this sample without running Setup.bat, you must first create a strong name key pair using the .NET Framework Strong Name utility (sn.exe).</span></span> <span data-ttu-id="587cf-190">Utilisez cette paire de clés pour signer l'assembly obtenu.</span><span class="sxs-lookup"><span data-stu-id="587cf-190">Use this key pair to sign the resulting assembly.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="587cf-191">Pour annuler les modifications effectuées par Setup.bat, exécutez Cleanup.bat.</span><span class="sxs-lookup"><span data-stu-id="587cf-191">To undo changes made by Setup.bat, run Cleanup.bat.</span></span> <span data-ttu-id="587cf-192">Vous devez exécuter Cleanup.bat avant d'exécuter Cleanup.bat une seconde fois.</span><span class="sxs-lookup"><span data-stu-id="587cf-192">You must run Cleanup.bat before running Setup.bat a second time.</span></span>  
  
## <a name="running-this-sample"></a><span data-ttu-id="587cf-193">Cet exemple en cours d’exécution</span><span class="sxs-lookup"><span data-stu-id="587cf-193">Running This Sample</span></span>  
  
#### <a name="to-run-the-envelopeprocessing-sample"></a><span data-ttu-id="587cf-194">Pour exécuter l'exemple EnvelopeProcessing</span><span class="sxs-lookup"><span data-stu-id="587cf-194">To run the EnvelopeProcessing sample</span></span>  
  
1.  <span data-ttu-id="587cf-195">Placez une copie du fichier EnvelopeProcessing_in.txt dans le dossier EnvInput.</span><span class="sxs-lookup"><span data-stu-id="587cf-195">Put a copy of the file EnvelopeProcessing_in.txt into the folder EnvInput.</span></span>  
  
2.  <span data-ttu-id="587cf-196">Observez les trois fichiers .xml créés dans le dossier EnvOutput.</span><span class="sxs-lookup"><span data-stu-id="587cf-196">Observe the three .xml files created in the folder EnvOutput.</span></span> <span data-ttu-id="587cf-197">Les noms de ces fichiers .xml sont basés sur le GUID de l'ID de message.</span><span class="sxs-lookup"><span data-stu-id="587cf-197">The names of these .xml files are based on their message ID GUIDs.</span></span> <span data-ttu-id="587cf-198">Ils contiennent les messages extraits du fichier d'entrée et encapsulés dans des enveloppes.</span><span class="sxs-lookup"><span data-stu-id="587cf-198">They contain the messages extracted from the input file and wrapped in envelopes.</span></span>  
  
## <a name="classes-or-methods-used-in-this-sample"></a><span data-ttu-id="587cf-199">Classes ou méthodes utilisées dans l'exemple</span><span class="sxs-lookup"><span data-stu-id="587cf-199">Classes or Methods Used in This Sample</span></span>  
 <span data-ttu-id="587cf-200">Les scripts de configuration Setup.bat et Cleanup.bat dépendent des scripts Windows Management Instrumentation (WMI) d'administration suivants :</span><span class="sxs-lookup"><span data-stu-id="587cf-200">The configuration scripts Setup.bat and Cleanup.bat rely on the following administrative Windows Management Instrumentation (WMI) scripts:</span></span>  
  
-   <span data-ttu-id="587cf-201">Démarrage du port d'envoi\StartSendPort.vbs</span><span class="sxs-lookup"><span data-stu-id="587cf-201">Start Send Port\StartSendPort.vbs</span></span>  
  
-   <span data-ttu-id="587cf-202">Activation de l'emplacement de réception\EnableRecLoc</span><span class="sxs-lookup"><span data-stu-id="587cf-202">Enable Receive Location\EnableRecLoc</span></span>  
  
-   <span data-ttu-id="587cf-203">Suppression du port d'envoi\RemoveSendPort</span><span class="sxs-lookup"><span data-stu-id="587cf-203">Remove Send Port\RemoveSendPort</span></span>  
  
 <span data-ttu-id="587cf-204">Les fichiers de commandes d'installation et de désinstallation utilisent BTSTask comme suit :</span><span class="sxs-lookup"><span data-stu-id="587cf-204">The setup and cleanup batch files use BTSTask as follows:</span></span>  
  
-   <span data-ttu-id="587cf-205">**BTSTask ImportBindings** pour appliquer le fichier de liaison et de créer l’application, les ports et les liaisons</span><span class="sxs-lookup"><span data-stu-id="587cf-205">**BTSTask ImportBindings** to apply the binding file and create the application, ports, and bindings</span></span>  
  
-   <span data-ttu-id="587cf-206">**BTSTask RemoveApp** à supprimer flatfilereceiveapplication.</span><span class="sxs-lookup"><span data-stu-id="587cf-206">**BTSTask RemoveApp** to remove the FlatFileReceiveApplication</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="587cf-207">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="587cf-207">See Also</span></span>  
 [<span data-ttu-id="587cf-208">Pipelines-AssemblerDisassembler (dossier d’exemples BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="587cf-208">Pipelines-AssemblerDisassembler (BizTalk Server Samples Folder)</span></span>](../core/pipelines-assemblerdisassembler-biztalk-server-samples-folder.md)