---
title: "Réglage des seuils de limitation : Quand et pourquoi | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 9afb26c8-e5f4-4b78-9a45-a1263e3cb6ab
caps.latest.revision: "5"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3b49ae78d4b2d0cf2dabfc69af9023b1e8676dea
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="adjusting-throttling-thresholds-when-and-why"></a><span data-ttu-id="32fdc-102">Réglage des seuils de limitation : Quand et pourquoi</span><span class="sxs-lookup"><span data-stu-id="32fdc-102">Adjusting Throttling Thresholds: When and Why</span></span>
<span data-ttu-id="32fdc-103">En matière de limitation, une seule taille ne convient pas nécessairement pour tous les cas de figure.</span><span class="sxs-lookup"><span data-stu-id="32fdc-103">When it comes to throttling, one size does not fit all.</span></span> <span data-ttu-id="32fdc-104">Un grand nombre de facteurs déterminent les paramètres optimaux.</span><span class="sxs-lookup"><span data-stu-id="32fdc-104">There are a range of factors that will determine what the optimal settings should be.</span></span> <span data-ttu-id="32fdc-105">Prêt à l'emploi, BizTalk Server fournit des valeurs par défaut qui ont été éprouvées par test afin de protéger efficacement un système contre l'accumulation des messages notamment.</span><span class="sxs-lookup"><span data-stu-id="32fdc-105">Out of the box, BizTalk Server provides default values that have been proven through testing to effectively protect a system from things like backlog overages.</span></span> <span data-ttu-id="32fdc-106">Toutefois, cela peut s'avérer trop agressif pour certains scénarios.</span><span class="sxs-lookup"><span data-stu-id="32fdc-106">However, for some scenarios, this may be too aggressive.</span></span> <span data-ttu-id="32fdc-107">Les exemples suivants illustrent cet aspect :</span><span class="sxs-lookup"><span data-stu-id="32fdc-107">The following examples illustrate this point.</span></span>  
  
## <a name="example-1-peak-loads-and-database-size"></a><span data-ttu-id="32fdc-108">Exemple 1 : Pics et taille de la base de données</span><span class="sxs-lookup"><span data-stu-id="32fdc-108">Example 1: Peak Loads and Database Size</span></span>  
 <span data-ttu-id="32fdc-109">Chaque solution basée sur BizTalk Server a un débit maximal acceptable.</span><span class="sxs-lookup"><span data-stu-id="32fdc-109">Each solution built on BizTalk Server has a maximum sustainable throughput (MST).</span></span> <span data-ttu-id="32fdc-110">Tant que la charge est inférieure à ce niveau, le système la traite indéfiniment, par définition.</span><span class="sxs-lookup"><span data-stu-id="32fdc-110">As long as load stays below this level, the system can sustain that load indefinitely, by definition.</span></span> <span data-ttu-id="32fdc-111">En pratique, cependant, il est plus fréquent d'avoir des pics et des creux dans le profil de charge qu'une charge stable qui ne varie pas sur le temps.</span><span class="sxs-lookup"><span data-stu-id="32fdc-111">In practice, however, it is more common to have peaks and valleys in the load profile than it is to have a steady load that doesn’t vary over time.</span></span>  
  
 <span data-ttu-id="32fdc-112">Plutôt que de concevoir un système capable de traiter les pics les plus élevés indéfiniment, il est plus rentable d'en développer un qui peut traiter les messages accumulés en phase de pic, et récupérer en phase de creux.</span><span class="sxs-lookup"><span data-stu-id="32fdc-112">Rather than build a system that is capable of sustaining the highest peak loads indefinitely, it is more cost effective to build a system that can handle some backlog under peak load, and recover during the valleys.</span></span> <span data-ttu-id="32fdc-113">Cependant, si le nombre attendu de messages accumulés pendant les pics est supérieur à la valeur de limitation par défaut de la taille de base de données, le système bloque l'accumulation en limitant les entrées.</span><span class="sxs-lookup"><span data-stu-id="32fdc-113">However, if the backlog expected during the peak loads is higher than the default throttling value for database size, then the system will block the backlog by throttling the input.</span></span> <span data-ttu-id="32fdc-114">Si cela n'est pas souhaitable, parce que vous devez, par exemple, utiliser l'ensemble des fichiers d'entrée le plus rapidement possible, la solution consiste à augmenter le seuil de taille de base de données afin d'accepter le nombre attendu de messages accumulés avant la limitation.</span><span class="sxs-lookup"><span data-stu-id="32fdc-114">If this is not desirable, for example, because you need all of the input files to be consumed as quickly as possible, then the solution is to raise the database size threshold to accept the expected backlog before throttling.</span></span>  
  
## <a name="example-2-memory-usage-optimization"></a><span data-ttu-id="32fdc-115">Exemple 2 : Optimisation de l’utilisation de mémoire</span><span class="sxs-lookup"><span data-stu-id="32fdc-115">Example 2: Memory Usage Optimization</span></span>  
 <span data-ttu-id="32fdc-116">Une autre ressource utilisée par la limitation pour évaluer la vitesse de traitement consiste à mesurer la disponibilité de la mémoire pour les processus hôtes.</span><span class="sxs-lookup"><span data-stu-id="32fdc-116">Another resource that throttling uses in order to gauge processing speed is how much memory is available to host processes.</span></span> <span data-ttu-id="32fdc-117">Si la mémoire disponible est trop faible par rapport au seuil, la limitation ralentit le nombre de messages que le moteur extrait des files d'attente hôtes à traiter.</span><span class="sxs-lookup"><span data-stu-id="32fdc-117">If the available memory gets too small compared to the threshold, throttling will slow down the number of messages the engine retrieves from the host queues to be worked on.</span></span> <span data-ttu-id="32fdc-118">En raison de la variabilité de la quantité et de la disponibilité de mémoire des serveurs d'entreprise actuels, en particulier avec la prise en charge x64 dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], il peut s'avérer nécessaire d'augmenter ou d'abaisser ce seuil afin d'optimiser l'utilisation de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="32fdc-118">Given the variability in the amount and availability of memory on today’s enterprise class servers, especially with x64 support in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], the threshold may very well need to be raised or lowered to optimize memory usage.</span></span>  
  
## <a name="recommendation"></a><span data-ttu-id="32fdc-119">Recommandation</span><span class="sxs-lookup"><span data-stu-id="32fdc-119">Recommendation</span></span>  
 <span data-ttu-id="32fdc-120">La limitation dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] est configurée par défaut pour fournir une protection intégrée satisfaisante du système.</span><span class="sxs-lookup"><span data-stu-id="32fdc-120">Throttling in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is configured by default to provide good protection for the system out of the box.</span></span> <span data-ttu-id="32fdc-121">Cependant, les paramètres par défaut ne doivent pas être considérés comme optimaux.</span><span class="sxs-lookup"><span data-stu-id="32fdc-121">The default settings should not, however, be taken for granted as optimal.</span></span> <span data-ttu-id="32fdc-122">Analysez les états de limitation sur les compteurs de performance afin de vérifier si la limitation a lieu, puis évaluez si la ressource sur laquelle la limitation est basée (par exemple, taille de base de données ou utilisation de la mémoire) est sous ou surutilisée, puis ajustez les seuils de limitation en fonction.</span><span class="sxs-lookup"><span data-stu-id="32fdc-122">Monitor the performance counters for throttling states to see if throttling is taking place, then gauge for yourself if the resource on which throttling is based (for example, database size or memory usage) is under or over utilized, then adjust the throttling thresholds up or down accordingly.</span></span>