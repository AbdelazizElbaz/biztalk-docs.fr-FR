---
title: "Le rôle des accords dans le traitement EDI | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: d81b0449-6656-49f7-a781-5fd60031b3d5
caps.latest.revision: "25"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9986f22108382f1b1128079b8ff8c31902ca2979
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="the-role-of-agreements-in-edi-processing"></a><span data-ttu-id="92f57-102">Rôle des accords dans le traitement EDI</span><span class="sxs-lookup"><span data-stu-id="92f57-102">The Role of Agreements in EDI Processing</span></span>
<span data-ttu-id="92f57-103">Une organisation utilise [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour le transfert (réception et envoi) des messages EDI vers un ou plusieurs partenaires commerciaux.</span><span class="sxs-lookup"><span data-stu-id="92f57-103">An organization uses [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to receive EDI messages from, and send EDI messages to, one or more trading partners.</span></span> <span data-ttu-id="92f57-104">Ceux-ci définissent ensuite des entités de profils d'entreprise au sein d'une organisation.</span><span class="sxs-lookup"><span data-stu-id="92f57-104">The trading partners, in turn define business profiles that are business entities within an organization.</span></span> <span data-ttu-id="92f57-105">La méthode d'échange des messages utilisée par les profils d'entreprise est définie dans le cadre des accords de partenariat commercial entre deux profils d'entreprise.</span><span class="sxs-lookup"><span data-stu-id="92f57-105">How business profiles exchange messages is defined as part of trading partner agreements between two business profiles.</span></span> <span data-ttu-id="92f57-106">Pour plus d’informations, consultez [blocs de construction d’une Solution de gestion des partenaires commerciaux](../core/building-blocks-of-a-trading-partner-management-solution.md).</span><span class="sxs-lookup"><span data-stu-id="92f57-106">For more information, see [Building Blocks of a Trading Partner Management Solution](../core/building-blocks-of-a-trading-partner-management-solution.md).</span></span>  
  
 <span data-ttu-id="92f57-107">Créez un accord de partenariat commercial dans l'interface utilisateur de gestion des partenaires commerciaux (GPC).</span><span class="sxs-lookup"><span data-stu-id="92f57-107">You create a trading partner agreement in the Trading Partner Management (TPM) user interface.</span></span> <span data-ttu-id="92f57-108">Les écrans du module de plateforme sécurisée se trouvent dans le **Parties** nœud de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Console d’Administration.</span><span class="sxs-lookup"><span data-stu-id="92f57-108">The TPM screens are in the **Parties** node of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span>  
  
## <a name="configuring-an-agreement-for-edi-processing"></a><span data-ttu-id="92f57-109">Configuration d'un accord pour le traitement EDI</span><span class="sxs-lookup"><span data-stu-id="92f57-109">Configuring an Agreement for EDI Processing</span></span>  
 <span data-ttu-id="92f57-110">Tous les partenaires commerciaux qui échangent des messages EDI à l'aide de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] doivent s'accorder sur les paramètres de communication.</span><span class="sxs-lookup"><span data-stu-id="92f57-110">All trading partners that will be exchanging EDI messages using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] must agree upon communication parameters.</span></span> <span data-ttu-id="92f57-111">Une fois l'accord effectif, l'organisation hébergeant [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] doit créer les partenaires commerciaux dans l'interface utilisateur GPC (en se comptant parmi ces partenaires commerciaux), créer les profils d'entreprise et l'accord de partenariat commercial entre ceux-ci.</span><span class="sxs-lookup"><span data-stu-id="92f57-111">After they have done this, the organization hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] must create the trading partners in TPM (including a trading partner for itself), create the business profiles, and the trading partner agreement between the business profiles.</span></span> <span data-ttu-id="92f57-112">Dans le cadre de l'accord de partenariat commercial, définissez les propriétés indiquant la fréquence de réception et d'envoi de messages EDI entre [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et le profil d'entreprise du partenaire commercial.</span><span class="sxs-lookup"><span data-stu-id="92f57-112">As part of the trading partner agreement, you set the properties for how [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receives an EDI message from, and send an EDI message to, the trading partner’s business profile.</span></span> <span data-ttu-id="92f57-113">De leur côté, les autres partenaires commerciaux doivent faire de même et les configurations de l'échange des messages doivent être compatibles.</span><span class="sxs-lookup"><span data-stu-id="92f57-113">On their end, the other trading partners must do the same, and to exchange messages, the configurations must be compatible.</span></span>  
  
 <span data-ttu-id="92f57-114">Vous devez définir les jeux de propriétés suivants pour les communications EDI.</span><span class="sxs-lookup"><span data-stu-id="92f57-114">You must define the following sets of properties for EDI communications.</span></span>  
  
-   <span data-ttu-id="92f57-115">Les propriétés des partenaires commerciaux qui définissent les aspects généraux du partenaire commercial (nom, ports d'envoi, certificat de signature).</span><span class="sxs-lookup"><span data-stu-id="92f57-115">Trading partner properties that define general aspects of the trading partner, such as name, send ports, and the signing certificate.</span></span>  
  
-   <span data-ttu-id="92f57-116">Les propriétés des profils d'entreprise qui définissent les identités de l'entreprise.</span><span class="sxs-lookup"><span data-stu-id="92f57-116">Business profile properties that define the business identities.</span></span>  
  
-   <span data-ttu-id="92f57-117">Les propriétés EDI de l'accord de partenariat commercial, qui définissent la manière dont [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] va traiter un message provenant d'un partenaire commercial et dont il va générer un message sortant lié à un partenaire commercial.</span><span class="sxs-lookup"><span data-stu-id="92f57-117">EDI properties, as part of the trading partner agreement, that defines how [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will process an incoming message from a trading partner and how it will generate an outgoing message bound to the trading partner.</span></span>  
  
-   <span data-ttu-id="92f57-118">Les propriétés AS2 de l'accord de partenariat commercial, qui définissent la manière dont [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] va traiter les communications AS2 entrantes et sortantes.</span><span class="sxs-lookup"><span data-stu-id="92f57-118">AS2 properties, as part of the trading partner agreement, that defines how [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will perform AS2 communications, both incoming and outgoing.</span></span> <span data-ttu-id="92f57-119">Ces propriétés affectent les communications EDI uniquement lorsqu'un message EDI est envoyé via AS2.</span><span class="sxs-lookup"><span data-stu-id="92f57-119">These properties affect EDI communications only when an EDI message is sent over AS2.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="92f57-120">L'accord AS2 et l'accord de messagerie EDI entre les mêmes profils d'entreprise sont spécifiés séparément.</span><span class="sxs-lookup"><span data-stu-id="92f57-120">The AS2 agreement and the EDI messaging agreement between the same business profiles are specified separately.</span></span> <span data-ttu-id="92f57-121">Ensemble, les deux accords forment un partenariat.</span><span class="sxs-lookup"><span data-stu-id="92f57-121">The two agreements together form a partnership.</span></span>  
  
 <span data-ttu-id="92f57-122">Les propriétés de l'accord de partenariat commercial déterminent les traitements spécifiques suivants :</span><span class="sxs-lookup"><span data-stu-id="92f57-122">Trading partner agreement properties determine the following specific processing:</span></span>  
  
-   <span data-ttu-id="92f57-123">génération et traitement de l'enveloppe EDI ;</span><span class="sxs-lookup"><span data-stu-id="92f57-123">EDI envelope processing and generation</span></span>  
  
-   <span data-ttu-id="92f57-124">génération et traitement des accusés de réception (ACK) ;</span><span class="sxs-lookup"><span data-stu-id="92f57-124">ACK processing and generation</span></span>  
  
-   <span data-ttu-id="92f57-125">validation des messages EDI entrants et sortants ;</span><span class="sxs-lookup"><span data-stu-id="92f57-125">Validation of incoming and outgoing EDI messages</span></span>  
  
-   <span data-ttu-id="92f57-126">création de lot ;</span><span class="sxs-lookup"><span data-stu-id="92f57-126">Batch creation</span></span>  
  
-   <span data-ttu-id="92f57-127">rapport d'état.</span><span class="sxs-lookup"><span data-stu-id="92f57-127">Status reporting</span></span>  
  
 <span data-ttu-id="92f57-128">Pour les identités d’entreprise, il peut y avoir des valeurs spécifiques, telles que **D-U-N-S (DUN and Bradstreet)**.</span><span class="sxs-lookup"><span data-stu-id="92f57-128">For business identities, there can be specific values, such as **D-U-N-S (Dun & Bradstreet)**.</span></span> <span data-ttu-id="92f57-129">Les noms spécifiques ont des qualificateurs spécifiques, comme « 01 » pour Duns.</span><span class="sxs-lookup"><span data-stu-id="92f57-129">Specific names have specific qualifiers, such as "01" for Duns.</span></span> <span data-ttu-id="92f57-130">Lorsqu'un nom d'identité d'entreprise n'est pas spécifique, « ZZ » est utilisé pour les messages X12 et « ZZZ » est utilisé pour les messages EDIFACT, ce qui indique un nom mutuellement défini par des entités distinctes.</span><span class="sxs-lookup"><span data-stu-id="92f57-130">When a business identity name is not specific, "ZZ" is used for X12-encoded messages and "ZZZ" is used for EDIFACT-encoded messages, indicating a name mutually defined by separate entities.</span></span> <span data-ttu-id="92f57-131">La valeur et le qualificateur identifient ensuite le profil d'entreprise.</span><span class="sxs-lookup"><span data-stu-id="92f57-131">The value and qualifier then identifies the business profile.</span></span> <span data-ttu-id="92f57-132">Le nom de l'identité d'entreprise existe uniquement à titre indicatif ; il n'est pas utilisé par le composant d'exécution BizTalk pour le traitement.</span><span class="sxs-lookup"><span data-stu-id="92f57-132">The name of the business identity is for informational purposes only; it is not used by the BizTalk runtime for processing.</span></span>  
  
## <a name="determining-an-agreement-for-edi-processing"></a><span data-ttu-id="92f57-133">Détermination d'un accord pour le traitement EDI</span><span class="sxs-lookup"><span data-stu-id="92f57-133">Determining an Agreement for EDI Processing</span></span>  
 <span data-ttu-id="92f57-134">À chaque fois que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] reçoit un message EDI, il tente de déterminer l'accord de partenariat commercial correspondant au message.</span><span class="sxs-lookup"><span data-stu-id="92f57-134">Any time [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receives an EDI message, it attempts to determine the trading partner agreement that the message resolves to.</span></span> <span data-ttu-id="92f57-135">Il recherche l'accord de partenariat commercial associé en faisant correspondre le message, ainsi que les qualificateurs et identificateurs du récepteur et de l'expéditeur définis dans le cadre de l'accord.</span><span class="sxs-lookup"><span data-stu-id="92f57-135">It attempts to resolve the trading partner agreement by making a match between the message and the sender qualifier, sender identifier, receiver qualifier, and receiver identifier defined as part of the agreement.</span></span> <span data-ttu-id="92f57-136">Pour plus d’informations sur ce processus, consultez [résolution de l’accord, détection de schéma et l’autorisation pour les Messages EDI reçus](../core/agreement-resolution-schema-discovery-and-authorization-for-received-edi.md).</span><span class="sxs-lookup"><span data-stu-id="92f57-136">For more details on this process, see [Agreement Resolution, Schema Discovery, and Authorization for Received EDI Messages](../core/agreement-resolution-schema-discovery-and-authorization-for-received-edi.md).</span></span>  
  
 <span data-ttu-id="92f57-137">À chaque fois que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] génère un message EDI à envoyer, il recherche l'accord associé avec le profil d'entreprise destinataire du message.</span><span class="sxs-lookup"><span data-stu-id="92f57-137">Any time [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] generates an EDI message to send, it attempts to determine the agreement that associates with the business profile to which the message will be sent.</span></span> <span data-ttu-id="92f57-138">Il recherche l'accord en faisant correspondre le message et l'accord à l'aide des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="92f57-138">It attempts to resolve the agreement by making a match between the message and the agreement using any of the following:</span></span>  
  
-   <span data-ttu-id="92f57-139">la propriété de contexte AgreementPartIdForSend ;</span><span class="sxs-lookup"><span data-stu-id="92f57-139">Context property AgreementPartIdForSend</span></span>  
  
-   <span data-ttu-id="92f57-140">les propriétés de contexte AgreementNameForSend, SenderPartyNameForSend et ReceiverPartyNameForSend ;</span><span class="sxs-lookup"><span data-stu-id="92f57-140">Context properties AgreementNameForSend, SenderPartyNameForSend, and ReceiverPartyNameForSend</span></span>  
  
-   <span data-ttu-id="92f57-141">les qualificateurs et identificateurs de l'expéditeur et du récepteur ;</span><span class="sxs-lookup"><span data-stu-id="92f57-141">Sender qualifiers and identifiers, and receiver qualifiers and identifiers</span></span>  
  
-   <span data-ttu-id="92f57-142">le nom du port d'envoi.</span><span class="sxs-lookup"><span data-stu-id="92f57-142">Send port name</span></span>  
  
 <span data-ttu-id="92f57-143">Pour plus d’informations sur ce processus, consultez [résolution de l’accord et détermination du schéma pour les Messages EDI sortants](../core/agreement-resolution-and-schema-determination-for-outgoing-edi-messages.md).</span><span class="sxs-lookup"><span data-stu-id="92f57-143">For more details on this process, see [Agreement Resolution and Schema Determination for Outgoing EDI Messages](../core/agreement-resolution-and-schema-determination-for-outgoing-edi-messages.md).</span></span>  
  
## <a name="using-edi-global-properties"></a><span data-ttu-id="92f57-144">Utilisation des propriétés globales EDI</span><span class="sxs-lookup"><span data-stu-id="92f57-144">Using EDI Global Properties</span></span>  
 <span data-ttu-id="92f57-145">Si [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ne peut pas déterminer l'accord pour un message entrant ou sortant, il utilise l'accord de secours pour traiter l'échange entrant ou générer l'échange sortant.</span><span class="sxs-lookup"><span data-stu-id="92f57-145">If [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] cannot determine the agreement for either an incoming or outgoing message, it will use the fallback agreement to process the incoming interchange or generate the outgoing interchange.</span></span> <span data-ttu-id="92f57-146">Les accords de secours sont définies en cliquant sur le **Parties** nœud dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Console d’Administration et en cliquant sur **X12 paramètres de secours** (pour les messages encodés en X12) ou **Paramètres de secours EDIFACT** (messages encodé en EDIFACT).</span><span class="sxs-lookup"><span data-stu-id="92f57-146">The fallback agreements are set by right-clicking the **Parties** node in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console and clicking **X12 Fallback Settings** (for X12-encoded messages) or **EDIFACT Fallback Settings** (EDIFACT-encoded messages).</span></span> <span data-ttu-id="92f57-147">Pour plus d’informations sur les propriétés globales, consultez [configuration globale ou propriétés de l’accord de secours](../core/configuring-global-or-fallback-agreement-properties.md).</span><span class="sxs-lookup"><span data-stu-id="92f57-147">For more information on global properties, see [Configuring Global or Fallback Agreement Properties](../core/configuring-global-or-fallback-agreement-properties.md).</span></span>  
  
> [!NOTE]
>  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="92f57-148"> utilise l'accord de secours uniquement s'il ne peut pas déterminer l'accord d'un échange.</span><span class="sxs-lookup"><span data-stu-id="92f57-148"> will use fallback agreement only if it cannot determine the agreement for an interchange.</span></span> <span data-ttu-id="92f57-149">Si un accord a été déterminé, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] n'utilise pas de valeur de propriété issue de l'accord de secours pour une propriété qui n'a pas été définie pour l'accord entre les deux partenaires commerciaux.</span><span class="sxs-lookup"><span data-stu-id="92f57-149">If an agreement has been determined, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will not use a property value from the fallback agreement for a property that has not been defined for the agreement between two trading partners.</span></span>  
  
 <span data-ttu-id="92f57-150">Les accords de secours ne sont pas utilisés si les paramètres du port requièrent une authentification.</span><span class="sxs-lookup"><span data-stu-id="92f57-150">Fallback agreements will not be used if port settings require authentication.</span></span> <span data-ttu-id="92f57-151">Si les paramètres de port pour un port de réception requièrent l’authentification (si le paramètre **supprimer les messages si l’authentification échoue** ou **conserver les messages si l’authentification échoue** est sélectionné dans le **général**  page de la **propriétés du Port de réception** boîte de dialogue), un accord est obligatoire pour chaque échange reçu par le port de réception.</span><span class="sxs-lookup"><span data-stu-id="92f57-151">If the port settings for a receive port require authentication (if either **Drop messages if authentication fails** or **Keep messages if authentication fails** is selected on the **General** page of the **Receive Port Properties** dialog box), an agreement is required for any interchange received by the receive port.</span></span> <span data-ttu-id="92f57-152">Dans ce cas, les accords de secours ne sont pas utilisés.</span><span class="sxs-lookup"><span data-stu-id="92f57-152">In this case, fallback agreements are not used.</span></span> <span data-ttu-id="92f57-153">Si aucun accord n'a été déterminé pour un échange, celui-ci est traité comme si l'authentification avait échoué : il est donc interrompu.</span><span class="sxs-lookup"><span data-stu-id="92f57-153">If no agreement is determined for an interchange, the interchange will be treated as though authentication had failed, and will be suspended.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="92f57-154">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="92f57-154">See Also</span></span>  
 <span data-ttu-id="92f57-155">[Résolution de l’accord, détection de schéma et l’autorisation des Messages EDI reçus](../core/agreement-resolution-schema-discovery-and-authorization-for-received-edi.md) </span><span class="sxs-lookup"><span data-stu-id="92f57-155">[Agreement Resolution, Schema Discovery, and Authorization for Received EDI Messages](../core/agreement-resolution-schema-discovery-and-authorization-for-received-edi.md) </span></span>  
 <span data-ttu-id="92f57-156">[Résolution de l’accord et détermination du schéma pour les Messages EDI sortants](../core/agreement-resolution-and-schema-determination-for-outgoing-edi-messages.md) </span><span class="sxs-lookup"><span data-stu-id="92f57-156">[Agreement Resolution and Schema Determination for Outgoing EDI Messages](../core/agreement-resolution-and-schema-determination-for-outgoing-edi-messages.md) </span></span>  
 <span data-ttu-id="92f57-157">[Configuration des propriétés EDI](../core/configuring-edi-properties.md) </span><span class="sxs-lookup"><span data-stu-id="92f57-157">[Configuring EDI Properties](../core/configuring-edi-properties.md) </span></span>  
 <span data-ttu-id="92f57-158">[Configuration des propriétés de l’accord Global ou de secours](../core/configuring-global-or-fallback-agreement-properties.md) </span><span class="sxs-lookup"><span data-stu-id="92f57-158">[Configuring Global or Fallback Agreement Properties](../core/configuring-global-or-fallback-agreement-properties.md) </span></span>  
 [<span data-ttu-id="92f57-159">Problèmes connus avec les tiers EDI</span><span class="sxs-lookup"><span data-stu-id="92f57-159">Known Issues with EDI Parties</span></span>](../core/known-issues-with-edi-parties.md)