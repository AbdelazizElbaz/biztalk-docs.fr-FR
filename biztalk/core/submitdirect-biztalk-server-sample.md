---
title: SubmitDirect (exemple BizTalk Server) | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- adapters, receive adapters
- receive adapters, examples
- examples, receive adapters
ms.assetid: 3540368b-cf46-4c83-a87b-94aec9cd1b36
caps.latest.revision: "23"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c4941cb95e180b7075b7e113fb89f7734a9abd82
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="submitdirect-biztalk-server-sample"></a><span data-ttu-id="1898c-102">SubmitDirect (exemple BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="1898c-102">SubmitDirect (BizTalk Server Sample)</span></span>
<span data-ttu-id="1898c-103">L'exemple SubmitDirect présente l'envoi par programme des messages unidirectionnels et de type requête/réponse à Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] à partir d'applications basées sur .NET.</span><span class="sxs-lookup"><span data-stu-id="1898c-103">The SubmitDirect sample demonstrates how to programmatically submit one-way and request/response messages to Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] from .NET-based applications.</span></span> <span data-ttu-id="1898c-104">L'exemple illustre l'utilisation des API [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour les adaptateurs.</span><span class="sxs-lookup"><span data-stu-id="1898c-104">The sample demonstrates the use of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] APIs for adapters.</span></span> <span data-ttu-id="1898c-105">Il fournit également un adaptateur de réception, nommé Submit, qui peut être utilisé pour envoyer des messages à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-105">It also provides a receive adapter, named Submit, that can be used to submit messages to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="1898c-106">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="1898c-106">Prerequisites</span></span>  
 <span data-ttu-id="1898c-107">Avant d'exécuter cet exemple, assurez-vous que vous avez ouvert une session en tant qu'utilisateur membre du groupe Utilisateurs d'hôtes BizTalk isolés.</span><span class="sxs-lookup"><span data-stu-id="1898c-107">Before running this sample, ensure you are logged on as a user who belongs to BizTalk Isolated Host Users group.</span></span>  
  
## <a name="what-this-sample-does"></a><span data-ttu-id="1898c-108">Fonctions de l'exemple</span><span class="sxs-lookup"><span data-stu-id="1898c-108">What This Sample Does</span></span>  
 <span data-ttu-id="1898c-109">Cet exemple montre comment effectuer diverses tâches liées aux adaptateurs BizTalk.</span><span class="sxs-lookup"><span data-stu-id="1898c-109">This sample shows how to perform various tasks related to BizTalk adapters.</span></span> <span data-ttu-id="1898c-110">Plus précisément, il montre comment :</span><span class="sxs-lookup"><span data-stu-id="1898c-110">Specifically, it shows how to:</span></span>  
  
-   <span data-ttu-id="1898c-111">Travailler avec des adaptateurs isolés qui s'exécutent en dehors du processus de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-111">Work with isolated adapters that run outside of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] process.</span></span> <span data-ttu-id="1898c-112">L'adaptateur Submit est un adaptateur isolé car il est créé par un processus externe au processus de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] (vous le démarrez en tant qu'application .NET).</span><span class="sxs-lookup"><span data-stu-id="1898c-112">The Submit adapter is an isolated adapter because it is created by a process external to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] process (you start it as a .NET application).</span></span>  
  
-   <span data-ttu-id="1898c-113">Envoyer des lots de messages à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-113">Submit batches of messages to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="1898c-114">L'adaptateur Submit utilise la fonctionnalité d'envoi de messages par lot pour envoyer plusieurs messages à la fois.</span><span class="sxs-lookup"><span data-stu-id="1898c-114">The Submit adapter uses batch message submittal functionality to submit several messages at once.</span></span>  
  
-   <span data-ttu-id="1898c-115">Envoyer des messages de façon synchrone à l'aide d'un paradigme de requête/réponse, ainsi que de façon asynchrone à l'aide d'un paradigme unidirectionnel.</span><span class="sxs-lookup"><span data-stu-id="1898c-115">Submit messages synchronously using a request/response paradigm, as well as asynchronously using a one-way paradigm.</span></span>  
  
-   <span data-ttu-id="1898c-116">Enregistrer un adaptateur avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-116">Register an adapter with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="1898c-117">Cet exemple montre comment enregistrer un adaptateur et fournit un exécutable d'enregistrement qui automatise l'enregistrement d'un adaptateur.</span><span class="sxs-lookup"><span data-stu-id="1898c-117">This sample shows how to register an adapter and provides a registration executable that automates the registration of an adapter.</span></span>  
  
 <span data-ttu-id="1898c-118">Cet exemple est en fait deux exemples dans un, comme suit :</span><span class="sxs-lookup"><span data-stu-id="1898c-118">This sample is actually two samples in one, as follows:</span></span>  
  
-   <span data-ttu-id="1898c-119">**Envoi d’un lot de messages unidirectionnels.**</span><span class="sxs-lookup"><span data-stu-id="1898c-119">**Submission of a batch of one-way messages.**</span></span> <span data-ttu-id="1898c-120">L’application console SubmitMessages.exe prend les chaînes de sa ligne de commande et envoie chacune d’elles en tant qu’un message distinct pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-120">The console application SubmitMessages.exe takes the strings from its command line and submits each one as a separate message to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="1898c-121">Chaque message envoyé est récupéré à l'emplacement de réception par [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], envoyé par des pipelines de réception et d'envoi PassThrough, puis écrit dans un fichier texte.</span><span class="sxs-lookup"><span data-stu-id="1898c-121">Each of these submitted messages is picked up at the receive location by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], sent through pass-through receive and send pipelines, and then written to a text file.</span></span>  
  
-   <span data-ttu-id="1898c-122">**Envoi du message de demande/réponse.**</span><span class="sxs-lookup"><span data-stu-id="1898c-122">**Submission of request/response message.**</span></span> <span data-ttu-id="1898c-123">L’application console SubmitRequest.exe prend le fichier .xml spécifié sur sa ligne de commande et l’envoie à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-123">The console application SubmitRequest.exe takes the .xml file specified on its command line and submits it to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="1898c-124">Le schéma de ce fichier .xml définit les éléments qui contiennent deux champs d'entier.</span><span class="sxs-lookup"><span data-stu-id="1898c-124">The schema of this .xml file defines elements that contain two integer fields.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="1898c-125"> récupère le fichier .xml et le traite avec une orchestration (avec un port de requête/réponse).</span><span class="sxs-lookup"><span data-stu-id="1898c-125"> picks up the .xml file and processes it with an orchestration (with one request/response port).</span></span> <span data-ttu-id="1898c-126">Il utilise un mappage pour produire un message de réponse XML qui renvoie un entier, produit des deux entiers dans la requête.</span><span class="sxs-lookup"><span data-stu-id="1898c-126">It uses a map to produce an XML response message that returns an integer that is the product of the two integers in the request.</span></span> <span data-ttu-id="1898c-127">Lorsque la console reçoit la réponse, elle affiche le résultat.</span><span class="sxs-lookup"><span data-stu-id="1898c-127">When the console application receives the response, it displays the result.</span></span>  
  
## <a name="where-to-find-this-sample"></a><span data-ttu-id="1898c-128">Accès à l'exemple</span><span class="sxs-lookup"><span data-stu-id="1898c-128">Where to Find This Sample</span></span>  
 <span data-ttu-id="1898c-129">\<*Exemples de chemin d’accès*\>\AdaptersDevelopment\SubmitDirect\\</span><span class="sxs-lookup"><span data-stu-id="1898c-129">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\\</span></span>  
  
 <span data-ttu-id="1898c-130">Le tableau suivant présente les fichiers de cet exemple et décrit leur fonction.</span><span class="sxs-lookup"><span data-stu-id="1898c-130">The following table lists the files in this sample and describes their purpose.</span></span>  
  
|<span data-ttu-id="1898c-131">Fichier(s)</span><span class="sxs-lookup"><span data-stu-id="1898c-131">File(s)</span></span>|<span data-ttu-id="1898c-132"> Description</span><span class="sxs-lookup"><span data-stu-id="1898c-132">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="1898c-133">Cleanup.bat</span><span class="sxs-lookup"><span data-stu-id="1898c-133">Cleanup.bat</span></span>|<span data-ttu-id="1898c-134">Annule le déploiement des assemblys et les supprime du GAC, supprime les ports d'envoi et de réception, ainsi que les répertoires virtuels Microsoft Internet Information Services.</span><span class="sxs-lookup"><span data-stu-id="1898c-134">Undeploys assemblies and removes them from the global assembly cache (GAC); removes send and receive ports; removes Microsoft Internet Information Services (IIS) virtual directories as needed.</span></span>|  
|<span data-ttu-id="1898c-135">Setup.bat</span><span class="sxs-lookup"><span data-stu-id="1898c-135">Setup.bat</span></span>|<span data-ttu-id="1898c-136">Crée et initialise l'exemple.</span><span class="sxs-lookup"><span data-stu-id="1898c-136">Builds and initializes this sample.</span></span>|  
|<span data-ttu-id="1898c-137">SubmitDirect.sln</span><span class="sxs-lookup"><span data-stu-id="1898c-137">SubmitDirect.sln</span></span>|<span data-ttu-id="1898c-138">Fichier de solution qui inclut le projet BizTalk dans le dossier ProcessRequest et les projets Microsoft Visual C# dans les autres dossiers.</span><span class="sxs-lookup"><span data-stu-id="1898c-138">Solution file that includes the BizTalk project in the ProcessRequest folder and the Microsoft Visual C# projects in the other folders.</span></span>|  
|<span data-ttu-id="1898c-139">SubmitMessagesBinding.xml, SubmitRequestBinding.xml</span><span class="sxs-lookup"><span data-stu-id="1898c-139">SubmitMessagesBinding.xml, SubmitRequestBinding.xml</span></span>|<span data-ttu-id="1898c-140">Utilisé pour l’installation automatique, notamment la liaison de port.</span><span class="sxs-lookup"><span data-stu-id="1898c-140">Used for automated setup such as port binding.</span></span>|  
|<span data-ttu-id="1898c-141">Dans le dossier \ProcessRequest :</span><span class="sxs-lookup"><span data-stu-id="1898c-141">In the \ProcessRequest folder:</span></span><br /><br /> <span data-ttu-id="1898c-142">DocIn.xsd, DocOut.xsd, Multiplier.odx, Multiply.btm, ProcessRequest.btproj</span><span class="sxs-lookup"><span data-stu-id="1898c-142">DocIn.xsd, DocOut.xsd, Multiplier.odx, Multiply.btm, ProcessRequest.btproj</span></span>|<span data-ttu-id="1898c-143">Fournit un projet BizTalk qui effectue la multiplication des entiers dans le scénario de requête/réponse.</span><span class="sxs-lookup"><span data-stu-id="1898c-143">Provides a BizTalk project that performs the multiplication of integers in the request/response scenario.</span></span>|  
|<span data-ttu-id="1898c-144">Dans le dossier \SubmitMessages :</span><span class="sxs-lookup"><span data-stu-id="1898c-144">In the \SubmitMessages folder:</span></span><br /><br /> <span data-ttu-id="1898c-145">AssemblyInfo.cs, SubmitMessages.cs, SubmitMessages.csproj</span><span class="sxs-lookup"><span data-stu-id="1898c-145">AssemblyInfo.cs, SubmitMessages.cs, SubmitMessages.csproj</span></span>|<span data-ttu-id="1898c-146">Fournit un projet Visual C# pour la console qui transmet ses paramètres de chaîne de ligne de commande en tant que lot de messages séparés.</span><span class="sxs-lookup"><span data-stu-id="1898c-146">Provides a Visual C# project for the console application that passes its command line string parameters as a batch of separate messages.</span></span>|  
|<span data-ttu-id="1898c-147">Dans le dossier \SubmitRequest :</span><span class="sxs-lookup"><span data-stu-id="1898c-147">In the \SubmitRequest folder:</span></span><br /><br /> <span data-ttu-id="1898c-148">AssemblyInfo.cs, DocInstance.xml, SubmitRequest.cs, SubmitRequest.csproj</span><span class="sxs-lookup"><span data-stu-id="1898c-148">AssemblyInfo.cs, DocInstance.xml, SubmitRequest.cs, SubmitRequest.csproj</span></span>|<span data-ttu-id="1898c-149">Fournit un projet C# pour la console qui transmet un fichier .xml (DocInstance.xml) contenant deux entiers à multiplier.</span><span class="sxs-lookup"><span data-stu-id="1898c-149">Provides a C# project for the console application that passes an .xml file (DocInstance.xml) containing two integers to be multiplied.</span></span>|  
|<span data-ttu-id="1898c-150">Dans le dossier \TransportProxyUtils :</span><span class="sxs-lookup"><span data-stu-id="1898c-150">In the \TransportProxyUtils folder:</span></span><br /><br /> <span data-ttu-id="1898c-151">AssemblyInfo.cs, MessageHelper.cs, MessagingAPIInterface.cs, MessagingAPIs.cs, ResponseCallBack.cs, TpBatchAsyncCallback.cs, TpBatchAsyncResult.cs, TpBatchStatus.cs, TransportProxyUtils.csproj</span><span class="sxs-lookup"><span data-stu-id="1898c-151">AssemblyInfo.cs, MessageHelper.cs, MessagingAPIInterface.cs, MessagingAPIs.cs, ResponseCallBack.cs, TpBatchAsyncCallback.cs, TpBatchAsyncResult.cs, TpBatchStatus.cs, TransportProxyUtils.csproj</span></span>|<span data-ttu-id="1898c-152">Fournit un projet C# pour la partie exécution de l'adaptateur Submit qui implémente des méthodes d'envoi de messages synchrone et asynchrone, et d'envoi de lot et de message de requête simple.</span><span class="sxs-lookup"><span data-stu-id="1898c-152">Provides a C# project for the run-time portion of the Submit adapter that implements methods for synchronous and asynchronous message submission, and for batch and single request message submission.</span></span>|  
|<span data-ttu-id="1898c-153">Dans le dossier \TransportProxyUtilsReg :</span><span class="sxs-lookup"><span data-stu-id="1898c-153">In the \TransportProxyUtilsReg folder:</span></span><br /><br /> <span data-ttu-id="1898c-154">AssemblyInfo.cs, RegisterAdapter.cs, TransportProxyUtilsReg.csproj</span><span class="sxs-lookup"><span data-stu-id="1898c-154">AssemblyInfo.cs, RegisterAdapter.cs, TransportProxyUtilsReg.csproj</span></span>|<span data-ttu-id="1898c-155">Fournit un projet Visual C# qui montre le code que vous pouvez utiliser pour enregistrer les adaptateurs avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-155">Provides a Visual C# project that demonstrates code that you can use to register adapters with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>|  
|<span data-ttu-id="1898c-156">Dans le dossier \TransportProxyUtilsUI :</span><span class="sxs-lookup"><span data-stu-id="1898c-156">In the \TransportProxyUtilsUI folder:</span></span><br /><br /> <span data-ttu-id="1898c-157">AssemblyInfo.cs, TransportProxyUtilsMgmt.cs, TransportProxyUtilsUI.csproj</span><span class="sxs-lookup"><span data-stu-id="1898c-157">AssemblyInfo.cs, TransportProxyUtilsMgmt.cs, TransportProxyUtilsUI.csproj</span></span>|<span data-ttu-id="1898c-158">Fournit un projet Visual C# pour la partie interface utilisateur de l'adaptateur Submit.</span><span class="sxs-lookup"><span data-stu-id="1898c-158">Provides a Visual C# project for the user interface portion of the Submit adapter.</span></span>|  
  
## <a name="building-and-initializing-the-sample"></a><span data-ttu-id="1898c-159">Création et initialisation de l'exemple</span><span class="sxs-lookup"><span data-stu-id="1898c-159">Building and Initializing the Sample</span></span>  
  
#### <a name="to-build-and-initialize-the-submitdirect-sample"></a><span data-ttu-id="1898c-160">Pour créer et initialiser l'exemple SubmitDirect</span><span class="sxs-lookup"><span data-stu-id="1898c-160">To build and initialize the SubmitDirect sample</span></span>  
  
1.  <span data-ttu-id="1898c-161">Dans une fenêtre de commande, accédez au dossier suivant :</span><span class="sxs-lookup"><span data-stu-id="1898c-161">In a command window, navigate to the following folder:</span></span>  
  
     <span data-ttu-id="1898c-162">\<*Exemples de chemin d’accès*\>\AdaptersDevelopment\SubmitDirect</span><span class="sxs-lookup"><span data-stu-id="1898c-162">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect</span></span>  
  
2.  <span data-ttu-id="1898c-163">Exécutez le fichier Setup.bat, qui effectue les actions suivantes :</span><span class="sxs-lookup"><span data-stu-id="1898c-163">Run the file Setup.bat, which performs the following actions:</span></span>  
  
    -   <span data-ttu-id="1898c-164">Crée le dossier de sortie suivant pour la partie envoi de lot de cet exemple.</span><span class="sxs-lookup"><span data-stu-id="1898c-164">Creates the following output folder for the batch submission portion of this sample.</span></span>  
  
         <span data-ttu-id="1898c-165">\<*Exemples de chemin d’accès*\>\AdaptersDevelopment\SubmitDirect\Out</span><span class="sxs-lookup"><span data-stu-id="1898c-165">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\Out</span></span>  
  
    -   <span data-ttu-id="1898c-166">Compile les divers projets [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] de cet exemple.</span><span class="sxs-lookup"><span data-stu-id="1898c-166">Compiles the various [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] projects for this sample.</span></span>  
  
    -   <span data-ttu-id="1898c-167">Enregistre l'adaptateur Submit avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-167">Registers the Submit adapter with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
    -   <span data-ttu-id="1898c-168">Création et liaison des emplacements de réception de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], ainsi que des ports d'envoi et de réception.</span><span class="sxs-lookup"><span data-stu-id="1898c-168">Creates and binds the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receive locations, and the send and receive ports.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="1898c-169">Cet exemple affiche les avertissements suivants lors de la création et de la liaison des ports :</span><span class="sxs-lookup"><span data-stu-id="1898c-169">This sample displays the following warnings when creating and binding the ports:</span></span>  
        >   
        >  `Warning: Receive handler not specified for receive location "SubmitDirectRL"; updating with first receive handler with matching transport type.`  
        >   
        >  `Warning: Host not specified for orchestration "Microsoft.Samples.BizTalk.ProcessRequest.Multiplier"; updating with first available host.`  
        >   
        >  <span data-ttu-id="1898c-170">Vous pouvez ignorer ces avertissements sans problème.</span><span class="sxs-lookup"><span data-stu-id="1898c-170">You can safely ignore these warnings.</span></span> <span data-ttu-id="1898c-171">(Pour s'adapter aux éventuelles différences d'attribution de noms dans les installations utilisateur, le nom d'hôte et le gestionnaire de réception ont été omis dans le fichier de liaison.)</span><span class="sxs-lookup"><span data-stu-id="1898c-171">(To accommodate for possible naming differences in user installations, the host name and receive handler have been omitted from the binding file.)</span></span>  
  
    -   <span data-ttu-id="1898c-172">Active les emplacements de réception et démarre les ports d'envoi et l'orchestration.</span><span class="sxs-lookup"><span data-stu-id="1898c-172">Enables the receive locations, and starts the send ports and orchestration.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="1898c-173">Vous devez confirmer que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] n'a pas signalé d'erreur pendant le processus de création et d'initialisation, avant d'essayer de faire fonctionner cet exemple.</span><span class="sxs-lookup"><span data-stu-id="1898c-173">You should confirm that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] did not report any errors during the build and initialization process before attempting to run this sample.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="1898c-174">Si vous décidez d'ouvrir et de créer les projets de cet exemple sans exécuter le fichier Setup.bat, vous devez commencer par créer une paire de clés de nom fort à l'aide de .NET Framework Strong Name Utility (sn.exe).</span><span class="sxs-lookup"><span data-stu-id="1898c-174">If you choose to open and build the projects in this sample without running the file Setup.bat, you must first create a strong name key pair using the .NET Framework Strong Name Utility (sn.exe).</span></span> <span data-ttu-id="1898c-175">Celle-ci permet de signer les assemblys obtenus.</span><span class="sxs-lookup"><span data-stu-id="1898c-175">Use this key pair to sign the resulting assemblies.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="1898c-176">Pour annuler les modifications effectuées par Setup.bat, exécutez Cleanup.bat.</span><span class="sxs-lookup"><span data-stu-id="1898c-176">To undo changes made by Setup.bat, run Cleanup.bat.</span></span> <span data-ttu-id="1898c-177">Vous devez exécuter Cleanup.bat avant d'exécuter Cleanup.bat une seconde fois.</span><span class="sxs-lookup"><span data-stu-id="1898c-177">You must run Cleanup.bat before running Setup.bat a second time.</span></span>  
  
## <a name="running-the-sample"></a><span data-ttu-id="1898c-178">Exécution de l’exemple</span><span class="sxs-lookup"><span data-stu-id="1898c-178">Running the Sample</span></span>  
 <span data-ttu-id="1898c-179">Puisque cet exemple utilise l'adaptateur FILE, l'hôte BizTalk (BizTalkServerApplication) doit être en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="1898c-179">Because this sample uses File adapter, the BizTalk host (BizTalkServerApplication) must be running.</span></span> <span data-ttu-id="1898c-180">Les procédures suivantes permettent d'exécuter l'exemple SubmitDirect.</span><span class="sxs-lookup"><span data-stu-id="1898c-180">Use the following procedures to run the SubmitDirect sample.</span></span>  
  
#### <a name="to-run-the-batch-submission-portion-of-the-submitdirect-sample"></a><span data-ttu-id="1898c-181">Pour exécuter la partie envoi de lot de l'exemple SubmitDirect</span><span class="sxs-lookup"><span data-stu-id="1898c-181">To run the batch submission portion of the SubmitDirect sample</span></span>  
  
1.  <span data-ttu-id="1898c-182">Dans une fenêtre de commande, accédez au dossier suivant :</span><span class="sxs-lookup"><span data-stu-id="1898c-182">In a command window, navigate to the following folder:</span></span>  
  
     <span data-ttu-id="1898c-183">\<*Exemples de chemin d’accès*\>\AdaptersDevelopment\SubmitDirect\SubmitMessages\bin\Debug</span><span class="sxs-lookup"><span data-stu-id="1898c-183">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\SubmitMessages\bin\Debug</span></span>  
  
2.  <span data-ttu-id="1898c-184">Exécutez le fichier SubmitMessages.exe, en transmettant plusieurs chaînes sur la ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="1898c-184">Run the file SubmitMessages.exe, passing multiple strings on the command line.</span></span>  
  
     <span data-ttu-id="1898c-185">Exemple : SubmitMessages msg1 msg2 msg3</span><span class="sxs-lookup"><span data-stu-id="1898c-185">Example: SubmitMessages msg1 msg2 msg3</span></span>  
  
3.  <span data-ttu-id="1898c-186">Observez les différents fichiers texte créés dans le dossier de sortie Out. Ces fichiers contiennent les chaînes transmises sur la ligne de commande, une par fichier.</span><span class="sxs-lookup"><span data-stu-id="1898c-186">Observe the multiple text files created in the output folder Out. These files contain the strings passed on the command line, one per file.</span></span>  
  
#### <a name="to-run-the-requestresponse-portion-of-the-submitdirect-sample"></a><span data-ttu-id="1898c-187">Pour exécuter la partie requête/réponse de l'exemple SubmitDirect</span><span class="sxs-lookup"><span data-stu-id="1898c-187">To run the request/response portion of the SubmitDirect sample</span></span>  
  
1.  <span data-ttu-id="1898c-188">Dans une fenêtre de commande, accédez au dossier suivant :</span><span class="sxs-lookup"><span data-stu-id="1898c-188">In a command window, navigate to the following folder:</span></span>  
  
     <span data-ttu-id="1898c-189">\<*Exemples de chemin d’accès*\>\AdaptersDevelopment\SubmitDirect\SubmitRequest\bin\Debug</span><span class="sxs-lookup"><span data-stu-id="1898c-189">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\SubmitRequest\bin\Debug</span></span>  
  
2.  <span data-ttu-id="1898c-190">Exécutez le fichier SubmitRequest.exe, en transmettant un nom de fichier .xml approprié sur la ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="1898c-190">Run the file SubmitRequest.exe, passing an appropriate .xml file name on the command line.</span></span>  
  
     <span data-ttu-id="1898c-191">Exemple : SubmitRequest... \\.. \DocInstance.Xml</span><span class="sxs-lookup"><span data-stu-id="1898c-191">Example: SubmitRequest ..\\..\DocInstance.xml</span></span>  
  
3.  <span data-ttu-id="1898c-192">Observez le message de réponse XML, contenant le résultat de la multiplication, affiché dans la console.</span><span class="sxs-lookup"><span data-stu-id="1898c-192">Observe the response XML message, containing the result of the multiplication operation, displayed to the console.</span></span>  
  
## <a name="comments"></a><span data-ttu-id="1898c-193">Commentaires</span><span class="sxs-lookup"><span data-stu-id="1898c-193">Comments</span></span>  
 <span data-ttu-id="1898c-194">Vous pouvez utiliser l'adaptateur Submit dans d'autres applications.</span><span class="sxs-lookup"><span data-stu-id="1898c-194">You can use the Submit adapter in other applications.</span></span> <span data-ttu-id="1898c-195">Vous pouvez l'utiliser à partir de n'importe quel code basé sur .NET pour envoyer des messages à votre [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] par programme.</span><span class="sxs-lookup"><span data-stu-id="1898c-195">You can use it from any .NET-based code to submit messages to your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] programmatically.</span></span> <span data-ttu-id="1898c-196">Pour utiliser cet adaptateur avec votre code, respectez la procédure suivante.</span><span class="sxs-lookup"><span data-stu-id="1898c-196">To use this adapter with your code, use the following procedure.</span></span>  
  
#### <a name="to-use-the-sample-adapter-with-your-code"></a><span data-ttu-id="1898c-197">Pour utiliser l'exemple d'adaptateur avec votre code</span><span class="sxs-lookup"><span data-stu-id="1898c-197">To use the sample adapter with your code</span></span>  
  
1.  <span data-ttu-id="1898c-198">Enregistrez l'adaptateur Submit avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-198">Register the Submit adapter with your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="1898c-199">Si vous avez exécuté le fichier Setup.bat fourni avec cet exemple, l'adaptateur doit être enregistré et prêt à l'emploi.</span><span class="sxs-lookup"><span data-stu-id="1898c-199">If you have run the file Setup.bat provided with this sample, the adapter should be registered and ready to use.</span></span> <span data-ttu-id="1898c-200">Sinon, vous pouvez l'enregistrer en créant les projets TransportProxyUtils.csproj, TransportProxyUtilsUI.csproj et TransportProxyUtilsReg.csproj, puis en exécutant l'exécutable produit par le projet RegisterAdapter.exe.</span><span class="sxs-lookup"><span data-stu-id="1898c-200">Otherwise, you can register it by building the projects TransportProxyUtils.csproj, TransportProxyUtilsUI.csproj, and TransportProxyUtilsReg.csproj, and then running the executable produced by the latter project, RegisterAdapter.exe.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="1898c-201">Si vous installez BizTalk sur un ordinateur 64 bits, modifiez toutes les instances de l’entrée de Registre HKEY_CLASSES_ROOT\CLSID\ à HKEY_CLASSES_ROOT\Wow6432Node\CLSID\ dans le **RegisterAdapter.cs** fichier.</span><span class="sxs-lookup"><span data-stu-id="1898c-201">If you install BizTalk on a 64 bit machine, change all instances of the HKEY_CLASSES_ROOT\CLSID\ registry entry to HKEY_CLASSES_ROOT\Wow6432Node\CLSID\ in the **RegisterAdapter.cs** file.</span></span>  
  
2.  <span data-ttu-id="1898c-202">Créez un port de réception avec un emplacement de réception qui utilise l'adaptateur Submit.</span><span class="sxs-lookup"><span data-stu-id="1898c-202">Create a receive port with a receive location that uses the Submit adapter.</span></span> <span data-ttu-id="1898c-203">Spécifiez l'adresse de l'emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="1898c-203">Specify the address of the receive location.</span></span> <span data-ttu-id="1898c-204">L'adresse peut être toute chaîne unique parmi les emplacements de réception qui utilisent cet adaptateur.</span><span class="sxs-lookup"><span data-stu-id="1898c-204">The address can be any string that is unique within the receive locations that use this adapter.</span></span>  
  
3.  <span data-ttu-id="1898c-205">Référencez l'assembly Microsoft.BizTalk.SDKSamples.AdaptersDevelopment.TransportProxyUtils.dll dans votre projet [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-205">Reference the assembly Microsoft.BizTalk.SDKSamples.AdaptersDevelopment.TransportProxyUtils.dll in your [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] project.</span></span>  
  
4.  <span data-ttu-id="1898c-206">Envoyez des messages à votre [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] à l'aide d'une des méthodes suivantes fournies par cet assembly.</span><span class="sxs-lookup"><span data-stu-id="1898c-206">Submit messages to your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] by using one or more of the following methods provided by this assembly.</span></span>  
  
    |<span data-ttu-id="1898c-207">Méthode(s)</span><span class="sxs-lookup"><span data-stu-id="1898c-207">Method(s)</span></span>|<span data-ttu-id="1898c-208"> Description</span><span class="sxs-lookup"><span data-stu-id="1898c-208">Description</span></span>|  
    |-----------------|-----------------|  
    |<span data-ttu-id="1898c-209">**SubmitMessage()**</span><span class="sxs-lookup"><span data-stu-id="1898c-209">**SubmitMessage()**</span></span><br /><br /> <span data-ttu-id="1898c-210">**BeginSubmitMessage()**</span><span class="sxs-lookup"><span data-stu-id="1898c-210">**BeginSubmitMessage()**</span></span><br /><br /> <span data-ttu-id="1898c-211">**EndSubmitMessage()**</span><span class="sxs-lookup"><span data-stu-id="1898c-211">**EndSubmitMessage()**</span></span>|<span data-ttu-id="1898c-212">Méthodes synchrones et asynchrones pour envoyer un message unidirectionnel à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-212">Synchronous and asynchronous methods to submit a one-way message to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="1898c-213">L’adresse de l’emplacement de réception où le message est envoyé doit être définie dans le contexte du message.</span><span class="sxs-lookup"><span data-stu-id="1898c-213">The address of the receive location where the message is submitted must be set on the message context.</span></span><br /><br /> <span data-ttu-id="1898c-214">Une valeur booléenne indiquant l'état de l'envoi (réussite/échec) est renvoyée.</span><span class="sxs-lookup"><span data-stu-id="1898c-214">A Boolean value indicating the status of submission (success/failure) is returned.</span></span>|  
    |<span data-ttu-id="1898c-215">**SubmitMessages()**</span><span class="sxs-lookup"><span data-stu-id="1898c-215">**SubmitMessages()**</span></span><br /><br /> <span data-ttu-id="1898c-216">**BeginSubmitMessages()**</span><span class="sxs-lookup"><span data-stu-id="1898c-216">**BeginSubmitMessages()**</span></span><br /><br /> <span data-ttu-id="1898c-217">**EndSubmitMessages()**</span><span class="sxs-lookup"><span data-stu-id="1898c-217">**EndSubmitMessages()**</span></span>|<span data-ttu-id="1898c-218">Méthodes synchrones et asynchrones pour envoyer un tableau de messages unidirectionnels à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-218">Synchronous and asynchronous methods to submit an array of one-way messages to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="1898c-219">Les adresses des emplacements de réception où les messages sont envoyés doivent être définies dans le contexte des messages.</span><span class="sxs-lookup"><span data-stu-id="1898c-219">The addresses of the receive locations where the messages are submitted should be set on the context of the messages.</span></span><br /><br /> <span data-ttu-id="1898c-220">Une valeur booléenne indiquant l'état de l'envoi (réussite/échec) est renvoyée.</span><span class="sxs-lookup"><span data-stu-id="1898c-220">A Boolean value indicating the status of submission (success/failure) is returned.</span></span>|  
    |<span data-ttu-id="1898c-221">**SubmitSyncMessage()**</span><span class="sxs-lookup"><span data-stu-id="1898c-221">**SubmitSyncMessage()**</span></span><br /><br /> <span data-ttu-id="1898c-222">**BeginSubmitSyncMessage()**</span><span class="sxs-lookup"><span data-stu-id="1898c-222">**BeginSubmitSyncMessage()**</span></span><br /><br /> <span data-ttu-id="1898c-223">**EndSubmitSyncMessage()**</span><span class="sxs-lookup"><span data-stu-id="1898c-223">**EndSubmitSyncMessage()**</span></span>|<span data-ttu-id="1898c-224">Méthodes synchrones et asynchrones pour envoyer un message de requête à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-224">Synchronous and asynchronous methods to submit a request message to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="1898c-225">L'adresse de l'emplacement de réception où le message est envoyé doit être définie dans le contexte du message.</span><span class="sxs-lookup"><span data-stu-id="1898c-225">The address of the receive location where the message is submitted should be set on the message context.</span></span><br /><br /> <span data-ttu-id="1898c-226">Le message de réponse est renvoyé.</span><span class="sxs-lookup"><span data-stu-id="1898c-226">The response message is returned.</span></span>|  
    |<span data-ttu-id="1898c-227">**CreateMessageFromString()**</span><span class="sxs-lookup"><span data-stu-id="1898c-227">**CreateMessageFromString()**</span></span>|<span data-ttu-id="1898c-228">Crée un objet de message [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] à partir d'une chaîne et définit la propriété de l'adresse de l'emplacement de réception dans le contexte du message.</span><span class="sxs-lookup"><span data-stu-id="1898c-228">Creates a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message object from a string and sets the receive location address property on the message context.</span></span><br /><br /> <span data-ttu-id="1898c-229">Renvoie un objet de message BizTalk.</span><span class="sxs-lookup"><span data-stu-id="1898c-229">Returns a BizTalk message object.</span></span>|  
    |<span data-ttu-id="1898c-230">**CreateMessageFromStream()**</span><span class="sxs-lookup"><span data-stu-id="1898c-230">**CreateMessageFromStream()**</span></span>|<span data-ttu-id="1898c-231">Crée un objet de message [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] à partir d'un flux et définit la propriété de l'adresse de l'emplacement de réception dans le contexte du message.</span><span class="sxs-lookup"><span data-stu-id="1898c-231">Creates a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message object from a stream and sets the receive location address property on the message context.</span></span><br /><br /> <span data-ttu-id="1898c-232">Renvoie un objet de message [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1898c-232">Returns a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message object.</span></span>|  
  
     <span data-ttu-id="1898c-233">Pour plus de détails sur les paramètres et les types de retours pour ces méthodes, consultez le fichier MessagingAPIInterface.cs dans le dossier TransportProxyUtils.</span><span class="sxs-lookup"><span data-stu-id="1898c-233">For details about the parameter and return types for these methods, see the file MessagingAPIInterface.cs in the TransportProxyUtils folder.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1898c-234">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1898c-234">See Also</span></span>  
 <span data-ttu-id="1898c-235">[Exemples d’adaptateurs - développement](../core/adapter-samples-development.md) </span><span class="sxs-lookup"><span data-stu-id="1898c-235">[Adapter Samples - Development](../core/adapter-samples-development.md) </span></span>  
 [<span data-ttu-id="1898c-236">Inscription d’un adaptateur</span><span class="sxs-lookup"><span data-stu-id="1898c-236">Registering an Adapter</span></span>](../core/registering-an-adapter.md)