---
title: "Utilisation de l’adaptateur de concentrateurs d’événements | Documents Microsoft"
description: "Envoyer et recevoir des messages à l’aide de l’adaptateur Azure Event Hubs dans BizTalk Server"
ms.custom: 
ms.date: 11/16/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
author: MandiOhlinger
ms.author: plarsen
manager: anneta
ms.openlocfilehash: f394665a40b0a786ef6411b68ff8871e1a683614
ms.sourcegitcommit: f65e8ed2b8c18cded26b9d60868fb6a56bcc1205
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/21/2017
---
# <a name="event-hub-adapter-in-biztalk"></a><span data-ttu-id="c0c94-103">Adaptateur de concentrateur d’événements dans BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="c0c94-103">Event Hub adapter in BizTalk</span></span>

## <a name="overview"></a><span data-ttu-id="c0c94-104">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="c0c94-104">Overview</span></span>
<span data-ttu-id="c0c94-105">**En commençant par [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] Feature Pack 2**, vous pouvez envoyer et recevoir des messages entre BizTalk Server et Azure Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="c0c94-105">**Starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] Feature Pack 2**, you can send and receive messages between BizTalk Server and Azure Event Hubs.</span></span> 

<span data-ttu-id="c0c94-106">Concentrateurs d’événements Azure est une plateforme, de diffusion en continu de données hautement évolutives et peut recevoir et traiter des millions d’événements par seconde.</span><span class="sxs-lookup"><span data-stu-id="c0c94-106">Azure Event Hubs is a highly scalable data streaming platform, and can receive and process millions of events per second.</span></span> <span data-ttu-id="c0c94-107">[Quel est le service Event Hubs ? ](https://docs.microsoft.com/azure/event-hubs/event-hubs-what-is-event-hubs) fournit plus de détails.</span><span class="sxs-lookup"><span data-stu-id="c0c94-107">[What is Event Hubs?](https://docs.microsoft.com/azure/event-hubs/event-hubs-what-is-event-hubs) provides more details.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="c0c94-108">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="c0c94-108">Prerequisites</span></span>

* <span data-ttu-id="c0c94-109">Créer un [espace de noms Azure événement concentrateurs et concentrateur d’événements](https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-create)</span><span class="sxs-lookup"><span data-stu-id="c0c94-109">Create an [Azure event hubs namespace and event hub](https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-create)</span></span>
* <span data-ttu-id="c0c94-110">Créer un [compte de stockage d’objets blob Azure avec un conteneur](https://docs.microsoft.com/azure/storage/common/storage-create-storage-account)</span><span class="sxs-lookup"><span data-stu-id="c0c94-110">Create an [Azure blob storage account with a container](https://docs.microsoft.com/azure/storage/common/storage-create-storage-account)</span></span>
* <span data-ttu-id="c0c94-111">Installer [Feature Pack 2](https://aka.ms/bts2016fp2) sur votre serveur BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="c0c94-111">Install [Feature Pack 2](https://aka.ms/bts2016fp2) on your BizTalk Server</span></span>

<span data-ttu-id="c0c94-112">Votre concentrateur d’événements est créée, et que les chaînes de connexion que vous avez besoin pour envoyer et recevoir des événements.</span><span class="sxs-lookup"><span data-stu-id="c0c94-112">Your event hub is now created, and you have the connection strings you need to send and receive events.</span></span>

## <a name="send-messages-to-event-hubs"></a><span data-ttu-id="c0c94-113">Envoyer des messages à des concentrateurs d’événements</span><span class="sxs-lookup"><span data-stu-id="c0c94-113">Send messages to Event Hubs</span></span>

1.  <span data-ttu-id="c0c94-114">Dans la console Administration de BizTalk Server, cliquez sur **Ports d’envoi**, sélectionnez **nouveau**, puis sélectionnez **port d’envoi unidirectionnel statique**.</span><span class="sxs-lookup"><span data-stu-id="c0c94-114">In the BizTalk Server Administration console, right-click **Send Ports**, select **New**, and select **Static One-way send port**.</span></span>

    <span data-ttu-id="c0c94-115">[Créer un Port d’envoi](../core/how-to-create-a-send-port2.md) fournit quelques conseils.</span><span class="sxs-lookup"><span data-stu-id="c0c94-115">[Create a Send Port](../core/how-to-create-a-send-port2.md) provides some guidance.</span></span>

2. <span data-ttu-id="c0c94-116">Entrez un **nom**.</span><span class="sxs-lookup"><span data-stu-id="c0c94-116">Enter a **Name**.</span></span> <span data-ttu-id="c0c94-117">Dans **Transport**, définissez le **Type** à **EventHub**, puis sélectionnez **configurer**.</span><span class="sxs-lookup"><span data-stu-id="c0c94-117">In **Transport**, set the **Type** to **EventHub**, and select **Configure**.</span></span> 

3. <span data-ttu-id="c0c94-118">Configurer le **compte Azure** propriétés :</span><span class="sxs-lookup"><span data-stu-id="c0c94-118">Configure the **Azure Account** properties:</span></span> 

    |<span data-ttu-id="c0c94-119">Utiliser</span><span class="sxs-lookup"><span data-stu-id="c0c94-119">Use this</span></span>|<span data-ttu-id="c0c94-120">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="c0c94-120">To do this</span></span>|  
    |---|---|  
    | <span data-ttu-id="c0c94-121">**Ouverture de session**</span><span class="sxs-lookup"><span data-stu-id="c0c94-121">**Sign-in**</span></span> | <span data-ttu-id="c0c94-122">Connectez-vous à votre compte Azure</span><span class="sxs-lookup"><span data-stu-id="c0c94-122">Sign into your Azure account</span></span> |
    | <span data-ttu-id="c0c94-123">**Abonnement**</span><span class="sxs-lookup"><span data-stu-id="c0c94-123">**Subscription**</span></span> | <span data-ttu-id="c0c94-124">Sélectionnez l’abonnement qui a votre espace de noms EventHubs</span><span class="sxs-lookup"><span data-stu-id="c0c94-124">Select the subscription that has your EventHubs namespace</span></span> |
    | <span data-ttu-id="c0c94-125">**Groupe de ressources**</span><span class="sxs-lookup"><span data-stu-id="c0c94-125">**Resource Group**</span></span> | <span data-ttu-id="c0c94-126">Sélectionnez votre groupe de ressources dont votre espace de noms EventHubs</span><span class="sxs-lookup"><span data-stu-id="c0c94-126">Select your resource group that has your EventHubs namespace</span></span> |

4. <span data-ttu-id="c0c94-127">Configurer le **point de terminaison** propriétés :</span><span class="sxs-lookup"><span data-stu-id="c0c94-127">Configure the **Endpoint** properties:</span></span> 

    |<span data-ttu-id="c0c94-128">Utiliser</span><span class="sxs-lookup"><span data-stu-id="c0c94-128">Use this</span></span>|<span data-ttu-id="c0c94-129">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="c0c94-129">To do this</span></span>|  
    |---|---|  
    | <span data-ttu-id="c0c94-130">**Espace de noms**</span><span class="sxs-lookup"><span data-stu-id="c0c94-130">**Namespace**</span></span> | <span data-ttu-id="c0c94-131">Sélectionnez votre espace de noms de concentrateurs d’événements, qui ressemble à sb : / /*youreventhubnamespace*.servicebus.windows.net/</span><span class="sxs-lookup"><span data-stu-id="c0c94-131">Select your Event Hubs namespace, which is something like sb://*youreventhubnamespace*.servicebus.windows.net/</span></span> |
    | <span data-ttu-id="c0c94-132">**Nom**</span><span class="sxs-lookup"><span data-stu-id="c0c94-132">**Name**</span></span> | <span data-ttu-id="c0c94-133">Sélectionnez le nom de votre Hub d’événements (qui a été créé dans votre espace de noms de concentrateurs d’événements)</span><span class="sxs-lookup"><span data-stu-id="c0c94-133">Select the name of your Event Hub (which was created within your Event Hubs namespace)</span></span> |
    | <span data-ttu-id="c0c94-134">**Clé de Partition par défaut**</span><span class="sxs-lookup"><span data-stu-id="c0c94-134">**Default Partition Key**</span></span> | <span data-ttu-id="c0c94-135">Ce paramètre est facultatif.</span><span class="sxs-lookup"><span data-stu-id="c0c94-135">Optional.</span></span> <span data-ttu-id="c0c94-136">[Guide de programmation de concentrateurs d’événements](https://docs.microsoft.com/azure/event-hubs/event-hubs-programming-guide) fournit plus de détails sur cette clé.</span><span class="sxs-lookup"><span data-stu-id="c0c94-136">[Event Hubs programming guide](https://docs.microsoft.com/azure/event-hubs/event-hubs-programming-guide) provides more details on this key.</span></span> |
    | <span data-ttu-id="c0c94-137">**Authentification**</span><span class="sxs-lookup"><span data-stu-id="c0c94-137">**Authentication**</span></span> | <span data-ttu-id="c0c94-138">**Signature d’accès Namespace** est la valeur par défaut et utilise automatiquement le RootManageSharedAccessKey qui est créé lorsque vous créez un espace de noms de concentrateurs d’événements.</span><span class="sxs-lookup"><span data-stu-id="c0c94-138">**Namespace Access Signature** is the default, and automatically uses the RootManageSharedAccessKey that's created when you create an Event Hubs namespace.</span></span><br/><br/><span data-ttu-id="c0c94-139">**Signature d’accès entité** est la stratégie SAP que vous pouvez créer à l’événement Hub niveau (pas les concentrateurs d’événements espace de noms).</span><span class="sxs-lookup"><span data-stu-id="c0c94-139">**Entity Access Signature** is the SAS policy you can create at the Event Hub-level (not the Event Hubs namespace-level).</span></span> <br/><br/><span data-ttu-id="c0c94-140">[Vue d’ensemble des fonctionnalités de concentrateurs événements](https://docs.microsoft.com/azure/event-hubs/event-hubs-features) explique plus.</span><span class="sxs-lookup"><span data-stu-id="c0c94-140">[Event Hubs features overview](https://docs.microsoft.com/azure/event-hubs/event-hubs-features) explains more.</span></span> |

    <span data-ttu-id="c0c94-141">Lorsque vous avez terminé, les propriétés ressembler à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="c0c94-141">When finished, your properties look similar to the following:</span></span> 

    ![Propriétés du point de terminaison](../core/media/event-hub-endpoint-properties.png)


5. <span data-ttu-id="c0c94-143">Ce paramètre est facultatif.</span><span class="sxs-lookup"><span data-stu-id="c0c94-143">Optional.</span></span> <span data-ttu-id="c0c94-144">Configurer le **Message** propriétés.</span><span class="sxs-lookup"><span data-stu-id="c0c94-144">Configure the **Message** properties.</span></span> <span data-ttu-id="c0c94-145">Le **Namespace pour les propriétés de Message définies par l’utilisateur** valeur représente un schéma de message BizTalk mappé à des propriétés de message de concentrateurs d’événements.</span><span class="sxs-lookup"><span data-stu-id="c0c94-145">The **Namespace for User Defined Message Properties** value represents a BizTalk message schema mapped to Event Hubs message properties.</span></span>

6. <span data-ttu-id="c0c94-146">Sélectionnez **Ok** pour enregistrer vos modifications.</span><span class="sxs-lookup"><span data-stu-id="c0c94-146">Select **Ok** to save your changes.</span></span> 


### <a name="test-your-send-port"></a><span data-ttu-id="c0c94-147">Tester votre port d’envoi</span><span class="sxs-lookup"><span data-stu-id="c0c94-147">Test your send port</span></span>

<span data-ttu-id="c0c94-148">Vous pouvez utiliser un simple fichier port de réception et emplacement pour envoyer des messages à votre concentrateur d’événements Azure.</span><span class="sxs-lookup"><span data-stu-id="c0c94-148">You can use a simple File receive port and location to send messages to your Azure Event Hub.</span></span> 

1. <span data-ttu-id="c0c94-149">Créer un port de réception à l’aide de l’adaptateur File.</span><span class="sxs-lookup"><span data-stu-id="c0c94-149">Create a receive port using the File adapter.</span></span> <span data-ttu-id="c0c94-150">Au sein de votre emplacement de réception, définissez la **dossier de réception** à **C:\Temp\In\**et le masque de fichier  **\*.xml**.</span><span class="sxs-lookup"><span data-stu-id="c0c94-150">Within your receive location,  set the **Receive folder** to **C:\Temp\In\**, and set the file mask to **\*.xml**.</span></span>
2. <span data-ttu-id="c0c94-151">Propriétés du port d’envoi dans votre concentrateur d’événements, définissez la **filtres** à `BTS.ReceivePortName == FileReceivePort`.</span><span class="sxs-lookup"><span data-stu-id="c0c94-151">In your Event Hub send port properties, set the **Filters** to `BTS.ReceivePortName == FileReceivePort`.</span></span>
3. <span data-ttu-id="c0c94-152">Collez le texte suivant dans un éditeur de texte et enregistrez le fichier sous **EventHubMessage.xml**.</span><span class="sxs-lookup"><span data-stu-id="c0c94-152">Paste the following into a text editor, and save the file as **EventHubMessage.xml**.</span></span> <span data-ttu-id="c0c94-153">Il s’agit de votre exemple de message.</span><span class="sxs-lookup"><span data-stu-id="c0c94-153">This is your sample message.</span></span> 

    ```xml
    <Data>
      <DataID>DataID_0</DataID>
      <DataDetails>DataDetails_0</DataDetails>
    </Data>
    ```

4. <span data-ttu-id="c0c94-154">Démarrer le fichier emplacement de réception et le port d’envoi de concentrateur d’événements.</span><span class="sxs-lookup"><span data-stu-id="c0c94-154">Start the File receive location and the Event Hub send port.</span></span>
5. <span data-ttu-id="c0c94-155">Copie **EventHubMessage.xml** exemple de message dans le dossier de réception (C:\Temp\In\).</span><span class="sxs-lookup"><span data-stu-id="c0c94-155">Copy **EventHubMessage.xml** sample message into the receive folder (C:\Temp\In\).</span></span> <span data-ttu-id="c0c94-156">Le port d’envoi envoie le fichier XML au concentrateur d’événements.</span><span class="sxs-lookup"><span data-stu-id="c0c94-156">The send port sends the XML file to the event hub.</span></span>

## <a name="receive-messages-from-event-hubs"></a><span data-ttu-id="c0c94-157">Recevoir des messages de concentrateurs d’événements</span><span class="sxs-lookup"><span data-stu-id="c0c94-157">Receive messages from Event Hubs</span></span>

1. <span data-ttu-id="c0c94-158">Dans la console Administration de BizTalk Server, cliquez sur **Ports de réception**, sélectionnez **nouveau**, puis sélectionnez **unidirectionnel port de réception**.</span><span class="sxs-lookup"><span data-stu-id="c0c94-158">In the BizTalk Server Administration console, right-click **Receive Ports**, select **New**, and select **One-Way receive port**.</span></span> 

    <span data-ttu-id="c0c94-159">[Créer un port de réception](../core/how-to-create-a-receive-port.md) fournit quelques conseils.</span><span class="sxs-lookup"><span data-stu-id="c0c94-159">[Create a receive port](../core/how-to-create-a-receive-port.md) provides some guidance.</span></span>

2. <span data-ttu-id="c0c94-160">Entrez un nom, puis sélectionnez **emplacements de réception**.</span><span class="sxs-lookup"><span data-stu-id="c0c94-160">Enter a name, and select **Receive Locations**.</span></span> 

3. <span data-ttu-id="c0c94-161">Sélectionnez **nouveau**, et **nom** l’emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="c0c94-161">Select **New**, and **Name** the receive location.</span></span> <span data-ttu-id="c0c94-162">Dans **Transport**, sélectionnez **EventHub** à partir de la **Type** liste déroulante et sélectionnez **configurer**.</span><span class="sxs-lookup"><span data-stu-id="c0c94-162">In **Transport**, select **EventHub** from the **Type** drop-down list, and then select **Configure**.</span></span> 

4. <span data-ttu-id="c0c94-163">Configurer le **compte Azure** propriétés :</span><span class="sxs-lookup"><span data-stu-id="c0c94-163">Configure the **Azure Account** properties:</span></span> 

    |<span data-ttu-id="c0c94-164">Utiliser</span><span class="sxs-lookup"><span data-stu-id="c0c94-164">Use this</span></span>|<span data-ttu-id="c0c94-165">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="c0c94-165">To do this</span></span>|  
    |---|---|  
    | <span data-ttu-id="c0c94-166">**Ouverture de session**</span><span class="sxs-lookup"><span data-stu-id="c0c94-166">**Sign-in**</span></span> | <span data-ttu-id="c0c94-167">Connectez-vous à votre compte Azure</span><span class="sxs-lookup"><span data-stu-id="c0c94-167">Sign into your Azure account</span></span> |
    | <span data-ttu-id="c0c94-168">**Abonnement**</span><span class="sxs-lookup"><span data-stu-id="c0c94-168">**Subscription**</span></span> | <span data-ttu-id="c0c94-169">Sélectionnez l’abonnement qui a votre espace de noms EventHubs</span><span class="sxs-lookup"><span data-stu-id="c0c94-169">Select the subscription that has your EventHubs namespace</span></span> |
    | <span data-ttu-id="c0c94-170">**Groupe de ressources**</span><span class="sxs-lookup"><span data-stu-id="c0c94-170">**Resource Group**</span></span> | <span data-ttu-id="c0c94-171">Sélectionnez votre groupe de ressources dont votre espace de noms EventHubs</span><span class="sxs-lookup"><span data-stu-id="c0c94-171">Select your resource group that has your EventHubs namespace</span></span> |

4. <span data-ttu-id="c0c94-172">Configurer le **point de terminaison** propriétés :</span><span class="sxs-lookup"><span data-stu-id="c0c94-172">Configure the **Endpoint** properties:</span></span> 

    |<span data-ttu-id="c0c94-173">Utiliser</span><span class="sxs-lookup"><span data-stu-id="c0c94-173">Use this</span></span>|<span data-ttu-id="c0c94-174">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="c0c94-174">To do this</span></span>|  
    |---|---|  
    | <span data-ttu-id="c0c94-175">**Espace de noms**</span><span class="sxs-lookup"><span data-stu-id="c0c94-175">**Namespace**</span></span> | <span data-ttu-id="c0c94-176">Sélectionnez votre espace de noms de concentrateurs d’événements, qui ressemble à sb : / /*youreventhubnamespace*.servicebus.windows.net/</span><span class="sxs-lookup"><span data-stu-id="c0c94-176">Select your Event Hubs namespace, which is something like sb://*youreventhubnamespace*.servicebus.windows.net/</span></span> |
    | <span data-ttu-id="c0c94-177">**Nom**</span><span class="sxs-lookup"><span data-stu-id="c0c94-177">**Name**</span></span> | <span data-ttu-id="c0c94-178">Sélectionnez le nom de votre Hub d’événements (qui a été créé dans votre espace de noms de concentrateurs d’événements)</span><span class="sxs-lookup"><span data-stu-id="c0c94-178">Select the name of your Event Hub (which was created within your Event Hubs namespace)</span></span> |
    | <span data-ttu-id="c0c94-179">**Groupe de consommateurs**</span><span class="sxs-lookup"><span data-stu-id="c0c94-179">**Consumer Group**</span></span> | <span data-ttu-id="c0c94-180">Sélectionnez le groupe de consommateurs au sein de votre Hub d’événements.</span><span class="sxs-lookup"><span data-stu-id="c0c94-180">Select the Consumer group within your Event Hub.</span></span> <span data-ttu-id="c0c94-181">Un groupe par défaut est créé automatiquement.</span><span class="sxs-lookup"><span data-stu-id="c0c94-181">A default group is created automatically.</span></span> <br/><br/><span data-ttu-id="c0c94-182">[Vue d’ensemble des fonctionnalités de concentrateurs événements](https://docs.microsoft.com/azure/event-hubs/event-hubs-features) fournit plus de détails.</span><span class="sxs-lookup"><span data-stu-id="c0c94-182">[Event Hubs features overview](https://docs.microsoft.com/azure/event-hubs/event-hubs-features) provides more details.</span></span> |
    | <span data-ttu-id="c0c94-183">**Authentification**</span><span class="sxs-lookup"><span data-stu-id="c0c94-183">**Authentication**</span></span> | <span data-ttu-id="c0c94-184">**Signature d’accès Namespace** est la valeur par défaut et utilise automatiquement le RootManageSharedAccessKey qui est créé lorsque vous créez un espace de noms de concentrateurs d’événements.</span><span class="sxs-lookup"><span data-stu-id="c0c94-184">**Namespace Access Signature** is the default, and automatically uses the RootManageSharedAccessKey that's created when you create an Event Hubs namespace.</span></span><br/><br/><span data-ttu-id="c0c94-185">**Signature d’accès entité** est la stratégie SAP que vous pouvez créer à l’événement Hub niveau (pas les concentrateurs d’événements espace de noms).</span><span class="sxs-lookup"><span data-stu-id="c0c94-185">**Entity Access Signature** is the SAS policy you can create at the Event Hub-level (not the Event Hubs namespace-level).</span></span> <br/><br/><span data-ttu-id="c0c94-186">[Vue d’ensemble des fonctionnalités de concentrateurs événements](https://docs.microsoft.com/azure/event-hubs/event-hubs-features) explique plus.</span><span class="sxs-lookup"><span data-stu-id="c0c94-186">[Event Hubs features overview](https://docs.microsoft.com/azure/event-hubs/event-hubs-features) explains more.</span></span> |

    <span data-ttu-id="c0c94-187">Lorsque vous avez terminé, les propriétés ressembler à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="c0c94-187">When finished, your properties look similar to the following:</span></span> 

    ![Propriétés du point de terminaison](../core/media/event-hub-endpoint-receive-properties.png)

5. <span data-ttu-id="c0c94-189">Configurer le **point de contrôle** propriétés.</span><span class="sxs-lookup"><span data-stu-id="c0c94-189">Configure the **Checkpoint** properties.</span></span> <span data-ttu-id="c0c94-190">Cet adaptateur utilise un compte de stockage d’objets blob Azure pour lire les événements à l’aide d’un point de contrôle et de manière fiable reprendre à partir d’un redémarrage.</span><span class="sxs-lookup"><span data-stu-id="c0c94-190">This adapter uses an Azure blob storage account to reliably read events using a checkpoint, and resume from a restart.</span></span> 

    <span data-ttu-id="c0c94-191">**Authentification du stockage** </span><span class="sxs-lookup"><span data-stu-id="c0c94-191">**Storage Authentication** </span></span>  
    <span data-ttu-id="c0c94-192">Sélectionnez une méthode d’authentification.</span><span class="sxs-lookup"><span data-stu-id="c0c94-192">Select an authentication method.</span></span> <span data-ttu-id="c0c94-193">En règle générale, il est recommandé d’utiliser une Signature d’accès partagé.</span><span class="sxs-lookup"><span data-stu-id="c0c94-193">Typically, it's recommended to use a Shared Access Signature.</span></span> <span data-ttu-id="c0c94-194">Les liens suivants constituent de bonnes ressources pour vous aider à déterminer celle qui convient pour votre scénario :</span><span class="sxs-lookup"><span data-stu-id="c0c94-194">The following links are good resources to help you decide which is right for your scenario:</span></span><br/><br/>[<span data-ttu-id="c0c94-195">À propos des comptes de stockage Azure</span><span class="sxs-lookup"><span data-stu-id="c0c94-195">About Azure storage accounts</span></span>](https://docs.microsoft.com/azure/storage/common/storage-create-storage-account)<br/>[<span data-ttu-id="c0c94-196">À l’aide de signatures d’accès partagé (SAS)</span><span class="sxs-lookup"><span data-stu-id="c0c94-196">Using shared access signatures (SAS)</span></span>](https://docs.microsoft.com/azure/storage/common/storage-dotnet-shared-access-signature-part-1)

    <span data-ttu-id="c0c94-197">Lorsque vous avez terminé, les propriétés ressembler à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="c0c94-197">When finished, your properties look similar to the following:</span></span> 

    ![Propriétés du point de contrôle](../core/media/event-hub-receive-checkpoint.png)

6. <span data-ttu-id="c0c94-199">Configurer le **Message** propriétés :</span><span class="sxs-lookup"><span data-stu-id="c0c94-199">Configure the **Message** properties:</span></span> 

    |<span data-ttu-id="c0c94-200">Utiliser</span><span class="sxs-lookup"><span data-stu-id="c0c94-200">Use this</span></span>|<span data-ttu-id="c0c94-201">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="c0c94-201">To do this</span></span>|  
    |---|---|  
    | <span data-ttu-id="c0c94-202">**Namespace pour l’utilisateur défini les propriétés de Message**</span><span class="sxs-lookup"><span data-stu-id="c0c94-202">**Namespace for User Defined Message Properties**</span></span> | <span data-ttu-id="c0c94-203">http://schemas.Microsoft.com/BizTalk/EventHubAdapter/EventData/User est le schéma par défaut, mais vous pouvez entrer un autre schéma.</span><span class="sxs-lookup"><span data-stu-id="c0c94-203">http://schemas.microsoft.com/BizTalk/EventHubAdapter/EventData/User is the default schema, but you can enter another schema.</span></span> <span data-ttu-id="c0c94-204">Cette valeur représente un schéma de message BizTalk mappé à des propriétés de message de concentrateurs d’événements.</span><span class="sxs-lookup"><span data-stu-id="c0c94-204">This value represents a BizTalk message schema mapped to Event Hubs message properties.</span></span> |
    | <span data-ttu-id="c0c94-205">**Promouvoir les propriétés définies par l’utilisateur**</span><span class="sxs-lookup"><span data-stu-id="c0c94-205">**Promote user defined properties**</span></span> | <span data-ttu-id="c0c94-206">Ce paramètre est facultatif.</span><span class="sxs-lookup"><span data-stu-id="c0c94-206">Optional.</span></span> <span data-ttu-id="c0c94-207">Vous pouvez promouvoir ces propriétés si vous préférez.</span><span class="sxs-lookup"><span data-stu-id="c0c94-207">You can promote these properties if you prefer.</span></span> <br/><br/><span data-ttu-id="c0c94-208">**REMARQUE**</span><span class="sxs-lookup"><span data-stu-id="c0c94-208">**NOTE**</span></span><br/><span data-ttu-id="c0c94-209">Les propriétés qui doivent être promues doivent avoir un schéma porperty déployé *avant* recevoir des événements.</span><span class="sxs-lookup"><span data-stu-id="c0c94-209">The properties that need to be promoted should have a porperty schema deployed *before* receiving events.</span></span>|

7. <span data-ttu-id="c0c94-210">Sélectionnez **Ok** pour enregistrer vos modifications.</span><span class="sxs-lookup"><span data-stu-id="c0c94-210">Select **Ok** to save your changes.</span></span> 

### <a name="test-your-receive-settings"></a><span data-ttu-id="c0c94-211">Test de vos paramètres de réception</span><span class="sxs-lookup"><span data-stu-id="c0c94-211">Test your receive settings</span></span>

<span data-ttu-id="c0c94-212">Vous pouvez utiliser un port d’envoi de fichier simple pour recevoir des messages à partir de votre concentrateur d’événements Azure.</span><span class="sxs-lookup"><span data-stu-id="c0c94-212">You can use a simple File send port to receive messages from your Azure Event Hub.</span></span> 

1. <span data-ttu-id="c0c94-213">Créer un port d’envoi à l’aide de l’adaptateur File.</span><span class="sxs-lookup"><span data-stu-id="c0c94-213">Create a send port using the File adapter.</span></span> <span data-ttu-id="c0c94-214">Dans vos propriétés de port d’envoi, définissez la **dossier de Destination** à **C:\Temp\Out\**et définissez l’et **nom de fichier** à **%MessageID%.xml** .</span><span class="sxs-lookup"><span data-stu-id="c0c94-214">Within your send port properties, set the **Destination folder** to **C:\Temp\Out\**, and set the and **File name** to **%MessageID%.xml**.</span></span>
2. <span data-ttu-id="c0c94-215">Dans votre fichier de propriétés du port d’envoi, définissez la **filtres** à `BTS.ReceivePortName == EHReceivePort`.</span><span class="sxs-lookup"><span data-stu-id="c0c94-215">In your File send port properties, set the **Filters** to  `BTS.ReceivePortName == EHReceivePort`.</span></span>
3. <span data-ttu-id="c0c94-216">Démarrer le concentrateur d’événements emplacement de réception et le port d’envoi de fichier.</span><span class="sxs-lookup"><span data-stu-id="c0c94-216">Start the Event Hub receive location and the File send port.</span></span>
4. <span data-ttu-id="c0c94-217">Recherchez les messages dans le dossier de destination (c:\temp\out).</span><span class="sxs-lookup"><span data-stu-id="c0c94-217">Look for messages in the destination folder (c:\temp\out).</span></span>

## <a name="do-more"></a><span data-ttu-id="c0c94-218">Faire plus</span><span class="sxs-lookup"><span data-stu-id="c0c94-218">Do more</span></span>
<span data-ttu-id="c0c94-219">Concentrateurs d’événements est considérée comme la « porte d’entrée » à un grand nombre d’autres services Azure, y compris Azure Data Lake, HD Insight et bien plus encore.</span><span class="sxs-lookup"><span data-stu-id="c0c94-219">Event Hubs is considered the "front door" to a lot of other Azure services, including Azure Data Lake, HD Insight, and more.</span></span> <span data-ttu-id="c0c94-220">Il est conçu pour traiter un grand nombre de messages et les traiter plus rapide.</span><span class="sxs-lookup"><span data-stu-id="c0c94-220">It's designed to process a lot of messages, and process them fast.</span></span> <span data-ttu-id="c0c94-221">En savoir plus sur les concentrateurs d’événements et ses fonctionnalités :</span><span class="sxs-lookup"><span data-stu-id="c0c94-221">Read more about Event Hubs, and its features:</span></span> 

[<span data-ttu-id="c0c94-222">Vue d’ensemble des fonctionnalités de concentrateurs événements</span><span class="sxs-lookup"><span data-stu-id="c0c94-222">Event Hubs features overview</span></span>](https://docs.microsoft.com/azure/event-hubs/event-hubs-features)  
[<span data-ttu-id="c0c94-223">Quel est le service Event Hubs ?</span><span class="sxs-lookup"><span data-stu-id="c0c94-223">What is Event Hubs?</span></span>](https://docs.microsoft.com/azure/event-hubs/event-hubs-what-is-event-hubs)