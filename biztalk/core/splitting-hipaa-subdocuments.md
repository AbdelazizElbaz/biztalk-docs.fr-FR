---
title: Fractionnement de sous-documents HIPAA | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 66d9badd-00c6-43a3-807e-0ad313983adc
caps.latest.revision: "21"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 799cb5813b3c13339a0c477bf142a467a91b2c94
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="splitting-hipaa-subdocuments"></a><span data-ttu-id="debe4-102">Fractionnement de sous-documents HIPAA</span><span class="sxs-lookup"><span data-stu-id="debe4-102">Splitting HIPAA Subdocuments</span></span>
<span data-ttu-id="debe4-103">Les échanges EDI pour HIPAA ont généralement plusieurs documents enfants ou sous-documents dans un document informatisé unique, liés par les en-têtes ST/SE.</span><span class="sxs-lookup"><span data-stu-id="debe4-103">EDI interchanges for HIPAA commonly have multiple child/sub documents within a single transaction set, as bounded by the ST/SE headers.</span></span> <span data-ttu-id="debe4-104">Le pipeline de réception EDI prend en charge la création de sous-documents HIPAA distincts d'un tel document informatisé.</span><span class="sxs-lookup"><span data-stu-id="debe4-104">The EDI receive pipeline supports creation of separate HIPAA subdocuments from such an transaction set.</span></span> <span data-ttu-id="debe4-105">Cela diffère des échanges EDI non HIPAA dans lesquels un document informatisé unique est traité comme un message unique.</span><span class="sxs-lookup"><span data-stu-id="debe4-105">This is different from non-HIPAA EDI interchanges, in which a single transaction set is processed as a single message.</span></span>  
  
## <a name="subdocument-splitting-schemas"></a><span data-ttu-id="debe4-106">Schémas de fractionnement en sous-documents</span><span class="sxs-lookup"><span data-stu-id="debe4-106">Subdocument Splitting Schemas</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="debe4-107"> prend en charge le fractionnement des types de documents HIPAA suivants par le biais de schémas natifs :</span><span class="sxs-lookup"><span data-stu-id="debe4-107"> supports splitting of the following HIPAA document types through native schemas:</span></span>  
  
-   <span data-ttu-id="debe4-108">Documents de version 4010 HIPAA : 834 Enrollment, 835 Claim Payment et trois variantes de 837 Claim</span><span class="sxs-lookup"><span data-stu-id="debe4-108">HIPAA version 4010 documents: 834 Enrollment, 835 Claim Payment and three variants of 837 Claim</span></span>  
  
-   <span data-ttu-id="debe4-109">Documents de la version 5010 HIPAA : 276/277 Claim Status – demande et réponse, 834 Enrollment et trois variantes de 837 Claim</span><span class="sxs-lookup"><span data-stu-id="debe4-109">HIPAA version 5010 documents: 276/277 Claim Status – Request and Response, 834 Enrollment and three variants of 837 Claim</span></span>  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="debe4-110"> fournit deux versions de schémas pour chacun de ces trois types de documents.</span><span class="sxs-lookup"><span data-stu-id="debe4-110"> provides two versions of schemas for each of these three document types.</span></span> <span data-ttu-id="debe4-111">Pour chaque type de document, le schéma prenant en charge le fractionnement est identifié par la balise « Multiple » dans le nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="debe4-111">For each document type, the schema supporting splitting is identified by the ‘Multiple’ tag in the file name.</span></span> <span data-ttu-id="debe4-112">L'autre schéma ne prend pas en charge le fractionnement en sous-documents.</span><span class="sxs-lookup"><span data-stu-id="debe4-112">The other schema does not support subdocument splitting.</span></span>  
  
 <span data-ttu-id="debe4-113">Dans certains scénarios, les schémas de fractionnement et de non-fractionnement peuvent être nécessaires.</span><span class="sxs-lookup"><span data-stu-id="debe4-113">In some scenarios, both splitting and non splitting schemas may be required.</span></span> <span data-ttu-id="debe4-114">Cela est pris en charge par l'utilisation d'un espace de noms cible personnalisé pour une variante du schéma.</span><span class="sxs-lookup"><span data-stu-id="debe4-114">This will be supported through the use of a custom target namespace for one variant of the schema.</span></span>  
  
## <a name="how-subdocument-splitting-is-enabled"></a><span data-ttu-id="debe4-115">Activation du fractionnement en sous-documents</span><span class="sxs-lookup"><span data-stu-id="debe4-115">How Subdocument Splitting Is Enabled</span></span>  
 <span data-ttu-id="debe4-116">Le fractionnement en sous-documents HIPAA est activé par trois entrées d'annotation dans le schéma HIPAA.</span><span class="sxs-lookup"><span data-stu-id="debe4-116">The splitting of HIPAA subdocuments is enabled by three annotation entries in the HIPAA schema.</span></span> <span data-ttu-id="debe4-117">Les deux premières sont des entrées pour le schéma dans l’annotation appinfo, qui doit être définie sur **Oui**:</span><span class="sxs-lookup"><span data-stu-id="debe4-117">The first two are  entries for the schema in the appinfo annotation, which must be set to **yes**:</span></span>  
  
```  
subdocument_break = "yes" Split_Without_Sibling_Data = "Yes"  
```  
  
 <span data-ttu-id="debe4-118">La troisième entrée d'annotation se trouve aux niveaux d'enregistrement appropriés au sein du schéma HIPAA.</span><span class="sxs-lookup"><span data-stu-id="debe4-118">The third annotation entry is located at the appropriate record levels within the HIPAA schema.</span></span> <span data-ttu-id="debe4-119">Cette propriété doit également être définie sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="debe4-119">This property must also be set to **yes**.</span></span>  
  
```  
subdocument_creation_break = "yes"  
```  
  
 <span data-ttu-id="debe4-120">Un échange HIPAA est fractionné en sous-documents uniquement si l'annotation Séparateur de création de sous-document au sein du schéma HIPAA est définie sur « yes » et que la propriété du tiers de l'option de traitement par lot entrant est définie sur « Fractionner l'échange sous forme de documents informatisés ».</span><span class="sxs-lookup"><span data-stu-id="debe4-120">A HIPAA interchange will be split into subdocuments only if the subdocument creation break annotation within the HIPAA schema is set to "yes", and the Inbound batch processing option party property is set to "Split Interchange as Transaction Sets".</span></span> <span data-ttu-id="debe4-121">Si la propriété du tiers de l'option de traitement par lot entrant est définie pour conserver l'échange, le Désassembleur EDI ne fractionne pas l'échange en sous-documents.</span><span class="sxs-lookup"><span data-stu-id="debe4-121">If the Inbound batch processing option party property is set to preserve the interchange, the EDI disassembler will not split the interchange into subdocuments.</span></span> <span data-ttu-id="debe4-122">Dans ce cas, le Désassembleur EDI ignore l'annotation.</span><span class="sxs-lookup"><span data-stu-id="debe4-122">In this case, the EDI disassembler will ignore the annotation.</span></span> <span data-ttu-id="debe4-123">Aucun avertissement n'est déclenché dans l'observateur d'événements si cela se produit.</span><span class="sxs-lookup"><span data-stu-id="debe4-123">No warning will be raised in the event viewer if this occurs.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="debe4-124">Les annotations Séparateur de création de sous-document ne peuvent pas être imbriquées.</span><span class="sxs-lookup"><span data-stu-id="debe4-124">Subdocument creation break annotations cannot be nested.</span></span> <span data-ttu-id="debe4-125">Si un schéma inclut une boucle avec une annotation de sous-document appliquée, cette boucle ne peut pas contenir une autre boucle avec une annotation de sous-document appliquée.</span><span class="sxs-lookup"><span data-stu-id="debe4-125">If a schema includes a loop that has a subdocument annotation applied to it, that loop cannot contain another loop that has a subdocument annotation applied to it.</span></span>  
  
## <a name="how-subdocuments-are-processed"></a><span data-ttu-id="debe4-126">Traitement des sous-documents</span><span class="sxs-lookup"><span data-stu-id="debe4-126">How Subdocuments are Processed</span></span>  
 <span data-ttu-id="debe4-127">Le Désassembleur EDI dans le pipeline de réception EDI fractionne les sous-documents.</span><span class="sxs-lookup"><span data-stu-id="debe4-127">The EDI disassembler in the EDI receive pipeline splits the subdocuments.</span></span> <span data-ttu-id="debe4-128">Une fois que le pipeline de réception valide l'échange entrant et génère les accusés de réception appropriés, il achemine chaque sous-document distinct à la MessageBox.</span><span class="sxs-lookup"><span data-stu-id="debe4-128">After the receive pipeline validates the incoming interchange and generates the appropriate acknowledgments, it routes each separate subdocument to the MessageBox.</span></span> <span data-ttu-id="debe4-129">Chaque sous-document est valide en termes de structure et de syntaxe. Cependant, on s'attend à ce que les récapitulatifs au niveau de l'entreprise, les totaux de documents informatisés et les numéros de contrôle de document informatisé soient hors de la synchronisation.</span><span class="sxs-lookup"><span data-stu-id="debe4-129">Each subdocument is structurally and syntactically valid; however, business level summaries, transaction set totals, and transaction set control numbers are expected to be out of synchronization.</span></span> <span data-ttu-id="debe4-130">Le pipeline d'envoi remplace la valeur du numéro de segment existant dans SE01 de chaque sous-document (provenant du document informatisé d'origine) par le nombre de segments inclus dans le sous-document.</span><span class="sxs-lookup"><span data-stu-id="debe4-130">The send pipeline will overwrite the value of the existing segment count in SE01 of each subdocument (which came from the original transaction set) to the count of included segments in the subdocument.</span></span> <span data-ttu-id="debe4-131">Le pipeline de réception rétablit également les numéros de contrôle de document informatisé dans chaque sous-document, de sorte que ce dernier n'ait pas de numéros de contrôle en double.</span><span class="sxs-lookup"><span data-stu-id="debe4-131">The receive pipeline will also reset the transaction set control numbers in each subdocument so that the subdocument do not have duplicate control numbers.</span></span> <span data-ttu-id="debe4-132">Cela garantit la réussite du traitement côté envoi.</span><span class="sxs-lookup"><span data-stu-id="debe4-132">This ensures that send-side processing will not fail.</span></span>  
  
 <span data-ttu-id="debe4-133">Si un document informatisé échoue la validation EDI ou étendue lors du fractionnement en sous-documents, le document informatisé individuel défaillant est interrompu.</span><span class="sxs-lookup"><span data-stu-id="debe4-133">If a transaction set fails EDI or extended validation during subdocument splitting, the individual failing transaction set is suspended.</span></span>  
  
 <span data-ttu-id="debe4-134">Un port d'envoi qui s'abonne aux sous-documents récupère chaque sous-document de la MessageBox, sérialise les sous-documents XML, les traite par lot (si activé), les valide et les envoie.</span><span class="sxs-lookup"><span data-stu-id="debe4-134">A send port that subscribes to the subdocuments will pick up each subdocument from MessageBox, serialize the XML subdocuments, batch them (if enabled), validate them, and send them.</span></span> <span data-ttu-id="debe4-135">Le pipeline d'envoi met à jour le nombre de segments Élément de données (SE01).</span><span class="sxs-lookup"><span data-stu-id="debe4-135">The send pipeline updates the count of segments data element (SE01).</span></span>  
  
## <a name="how-subdocuments-are-split"></a><span data-ttu-id="debe4-136">Fractionnement en sous-documents</span><span class="sxs-lookup"><span data-stu-id="debe4-136">How Subdocuments Are Split</span></span>  
 <span data-ttu-id="debe4-137">Une annotation Séparateur de création de sous-document est généralement appliquée à une boucle qui englobe un ou plusieurs éléments au sein d'un schéma HIPAA.</span><span class="sxs-lookup"><span data-stu-id="debe4-137">A subdocument creation break annotation is commonly applied to a loop that encompasses one or more elements within a HIPAA schema.</span></span> <span data-ttu-id="debe4-138">D'autres éléments avant et après la boucle du séparateur dans le schéma sont répliqués dans chaque sous-document.</span><span class="sxs-lookup"><span data-stu-id="debe4-138">Other elements before and after the break loop in the schema are replicated in each of the multiple subdocuments.</span></span>  
  
 <span data-ttu-id="debe4-139">Le tableau suivant illustre un exemple de fractionnement en sous-documents.</span><span class="sxs-lookup"><span data-stu-id="debe4-139">The following table shows an example of subdocument splitting.</span></span> <span data-ttu-id="debe4-140">Dans cet exemple, l'annotation Séparateur de création de sous-document est définie sur « yes » pour la boucle de l'élément CC.</span><span class="sxs-lookup"><span data-stu-id="debe4-140">In this example, the subdocument creation break annotation is set to "yes" for the CC element loop.</span></span> <span data-ttu-id="debe4-141">Par conséquent, les éléments CC du document informatisé sont séparés en sous-documents distincts, tandis que les éléments AA, BB et DD du document informatisé sont tous inclus dans chaque sous-document distinct.</span><span class="sxs-lookup"><span data-stu-id="debe4-141">As a result, the CC elements in the transaction set are separated into separate subdocuments, while the AA, BB, and DD elements in the transaction set are all included in each separate subdocument.</span></span>  
  
|<span data-ttu-id="debe4-142">Schéma (nombre minimal/maximal d'occurrences)</span><span class="sxs-lookup"><span data-stu-id="debe4-142">Schema(min and max occurrences)</span></span>|<span data-ttu-id="debe4-143">Instance d'origine</span><span class="sxs-lookup"><span data-stu-id="debe4-143">Original Instance</span></span>|<span data-ttu-id="debe4-144">Sous-document n° 1</span><span class="sxs-lookup"><span data-stu-id="debe4-144">Subdocument #1</span></span>|<span data-ttu-id="debe4-145">Sous-document #2</span><span class="sxs-lookup"><span data-stu-id="debe4-145">Subdocument #2</span></span>|<span data-ttu-id="debe4-146">Sous-document #3</span><span class="sxs-lookup"><span data-stu-id="debe4-146">Subdocument #3</span></span>|  
|---------------------------------------|-----------------------|---------------------|---------------------|---------------------|  
|<span data-ttu-id="debe4-147">ST (1,0)</span><span class="sxs-lookup"><span data-stu-id="debe4-147">ST (1,0)</span></span>|<span data-ttu-id="debe4-148">ST</span><span class="sxs-lookup"><span data-stu-id="debe4-148">ST</span></span>|<span data-ttu-id="debe4-149">ST</span><span class="sxs-lookup"><span data-stu-id="debe4-149">ST</span></span>|<span data-ttu-id="debe4-150">ST</span><span class="sxs-lookup"><span data-stu-id="debe4-150">ST</span></span>|<span data-ttu-id="debe4-151">ST</span><span class="sxs-lookup"><span data-stu-id="debe4-151">ST</span></span>|  
|<span data-ttu-id="debe4-152">AA (1,1)</span><span class="sxs-lookup"><span data-stu-id="debe4-152">AA (1,1)</span></span>|<span data-ttu-id="debe4-153">AA</span><span class="sxs-lookup"><span data-stu-id="debe4-153">AA</span></span>|<span data-ttu-id="debe4-154">AA</span><span class="sxs-lookup"><span data-stu-id="debe4-154">AA</span></span>|<span data-ttu-id="debe4-155">AA</span><span class="sxs-lookup"><span data-stu-id="debe4-155">AA</span></span>|<span data-ttu-id="debe4-156">AA</span><span class="sxs-lookup"><span data-stu-id="debe4-156">AA</span></span>|  
|<span data-ttu-id="debe4-157">Boucle BB (1,n)</span><span class="sxs-lookup"><span data-stu-id="debe4-157">BB loop (1,n)</span></span><br /><br /> <span data-ttu-id="debe4-158">BB1 (1,n)</span><span class="sxs-lookup"><span data-stu-id="debe4-158">BB1 (1,n)</span></span><br /><br /> <span data-ttu-id="debe4-159">Boucle CC (1,n) - subdocument_break = "yes"</span><span class="sxs-lookup"><span data-stu-id="debe4-159">CC loop (1,n) - subdocument_break = "yes"</span></span><br /><br /> <span data-ttu-id="debe4-160">CC1 (1,n)</span><span class="sxs-lookup"><span data-stu-id="debe4-160">CC1 (1,n)</span></span><br /><br /> <span data-ttu-id="debe4-161">CC2 (0,n)</span><span class="sxs-lookup"><span data-stu-id="debe4-161">CC2 (0,n)</span></span><br /><br /> <span data-ttu-id="debe4-162">BB2 (0,n)</span><span class="sxs-lookup"><span data-stu-id="debe4-162">BB2 (0,n)</span></span>|<span data-ttu-id="debe4-163">BB1*1</span><span class="sxs-lookup"><span data-stu-id="debe4-163">BB1*1</span></span><br /><br /> <span data-ttu-id="debe4-164">CC1\*1</span><span class="sxs-lookup"><span data-stu-id="debe4-164">CC1\*1</span></span><br /><br /> <span data-ttu-id="debe4-165">CC2\*1</span><span class="sxs-lookup"><span data-stu-id="debe4-165">CC2\*1</span></span><br /><br /> <span data-ttu-id="debe4-166">BB2\*1</span><span class="sxs-lookup"><span data-stu-id="debe4-166">BB2\*1</span></span><br /><br /> <span data-ttu-id="debe4-167">BB1\*2</span><span class="sxs-lookup"><span data-stu-id="debe4-167">BB1\*2</span></span><br /><br /> <span data-ttu-id="debe4-168">CC1\*2</span><span class="sxs-lookup"><span data-stu-id="debe4-168">CC1\*2</span></span><br /><br /> <span data-ttu-id="debe4-169">CC2\*2</span><span class="sxs-lookup"><span data-stu-id="debe4-169">CC2\*2</span></span><br /><br /> <span data-ttu-id="debe4-170">BB1\*3</span><span class="sxs-lookup"><span data-stu-id="debe4-170">BB1\*3</span></span><br /><br /> <span data-ttu-id="debe4-171">CC1\*3</span><span class="sxs-lookup"><span data-stu-id="debe4-171">CC1\*3</span></span><br /><br /> <span data-ttu-id="debe4-172">CC2\*3</span><span class="sxs-lookup"><span data-stu-id="debe4-172">CC2\*3</span></span>|<span data-ttu-id="debe4-173">BB1*1</span><span class="sxs-lookup"><span data-stu-id="debe4-173">BB1*1</span></span><br /><br /> <span data-ttu-id="debe4-174">CC1\*1</span><span class="sxs-lookup"><span data-stu-id="debe4-174">CC1\*1</span></span><br /><br /> <span data-ttu-id="debe4-175">CC2\*1</span><span class="sxs-lookup"><span data-stu-id="debe4-175">CC2\*1</span></span><br /><br /> <span data-ttu-id="debe4-176">BB2\*1</span><span class="sxs-lookup"><span data-stu-id="debe4-176">BB2\*1</span></span>|<span data-ttu-id="debe4-177">BB1*2</span><span class="sxs-lookup"><span data-stu-id="debe4-177">BB1*2</span></span><br /><br /> <span data-ttu-id="debe4-178">CC1\*2</span><span class="sxs-lookup"><span data-stu-id="debe4-178">CC1\*2</span></span><br /><br /> <span data-ttu-id="debe4-179">CC2\*2</span><span class="sxs-lookup"><span data-stu-id="debe4-179">CC2\*2</span></span>|<span data-ttu-id="debe4-180">BB1*3</span><span class="sxs-lookup"><span data-stu-id="debe4-180">BB1*3</span></span><br /><br /> <span data-ttu-id="debe4-181">CC1\*3</span><span class="sxs-lookup"><span data-stu-id="debe4-181">CC1\*3</span></span><br /><br /> <span data-ttu-id="debe4-182">CC2\*3</span><span class="sxs-lookup"><span data-stu-id="debe4-182">CC2\*3</span></span>|  
|<span data-ttu-id="debe4-183">DD (0,n)</span><span class="sxs-lookup"><span data-stu-id="debe4-183">DD (0,n)</span></span>|<span data-ttu-id="debe4-184">DD</span><span class="sxs-lookup"><span data-stu-id="debe4-184">DD</span></span>|<span data-ttu-id="debe4-185">DD</span><span class="sxs-lookup"><span data-stu-id="debe4-185">DD</span></span>|<span data-ttu-id="debe4-186">DD</span><span class="sxs-lookup"><span data-stu-id="debe4-186">DD</span></span>|<span data-ttu-id="debe4-187">DD</span><span class="sxs-lookup"><span data-stu-id="debe4-187">DD</span></span>|  
|<span data-ttu-id="debe4-188">SE</span><span class="sxs-lookup"><span data-stu-id="debe4-188">SE</span></span>|<span data-ttu-id="debe4-189">SE</span><span class="sxs-lookup"><span data-stu-id="debe4-189">SE</span></span>|<span data-ttu-id="debe4-190">SE</span><span class="sxs-lookup"><span data-stu-id="debe4-190">SE</span></span>|<span data-ttu-id="debe4-191">SE</span><span class="sxs-lookup"><span data-stu-id="debe4-191">SE</span></span>|<span data-ttu-id="debe4-192">SE</span><span class="sxs-lookup"><span data-stu-id="debe4-192">SE</span></span>|