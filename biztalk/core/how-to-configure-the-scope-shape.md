---
title: "Comment configurer la forme étendue | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Scope shape [Orchestration Designer], about Scope shape
- Scope shape [Orchestration Designer], configuring
- Scope shape [Orchestration Designer], variables
- Scope shape [Orchestration Designer]
- configuring [Orchestration Designer], Scope shape
- Scope shape [Orchestration Designer], transactions
ms.assetid: 3c518db0-d68c-4f72-9d5c-48540811e289
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ef17f5d1ab94875af118d17551da4334525535fa
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="how-to-configure-the-scope-shape"></a><span data-ttu-id="7acc0-102">Configuration de la forme Étendue</span><span class="sxs-lookup"><span data-stu-id="7acc0-102">How to Configure the Scope Shape</span></span>
<span data-ttu-id="7acc0-103">Le **étendue** forme fournit une infrastructure contextuelle de son contenu.</span><span class="sxs-lookup"><span data-stu-id="7acc0-103">The **Scope** shape provides a contextual framework for its contents.</span></span> <span data-ttu-id="7acc0-104">Le premier bloc d’un **étendue** forme est le bloc de contexte ou le corps, dans lequel les actions de base de l’étendue lieu ; elle est analogue au bloc try d’une instruction try/catch.</span><span class="sxs-lookup"><span data-stu-id="7acc0-104">The first block of a **Scope** shape is the context block, or body, in which the basic actions of the scope take place; it is analogous to the try block in a try/catch statement.</span></span> <span data-ttu-id="7acc0-105">Outre le corps, le **étendue** forme peut-être également inclure un ou plusieurs blocs de gestionnaire d’exceptions et d’un bloc de compensation.</span><span class="sxs-lookup"><span data-stu-id="7acc0-105">Following the body, the **Scope** shape may also include one or more exception-handler blocks and a compensation block.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7acc0-106">Dans un environnement à plusieurs ordinateurs où [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et SQL Server sont situés sur des ordinateurs différents, si le temps universel coordonné (UTC) est différent sur les deux ordinateurs le **délai d’attente** propriété que vous configurez pour la  **Étendue** forme peut obtenir déclenchée plus tôt que prévu en raison de l’heure UTC sur [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et ordinateurs SQL Server n’est pas synchronisé.</span><span class="sxs-lookup"><span data-stu-id="7acc0-106">In a multiple machine environment where [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and SQL Server are located on different machines, if the Coordinated Universal Time (UTC) is different on the two machines then the **Timeout** property you configure for the **Scope** shape may get triggered earlier than expected because of the UTC time on [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and SQL Server machines is unsynchronized.</span></span> <span data-ttu-id="7acc0-107">Notez qu'il ne s'agit pas ici d'un problème de fuseaux horaires, car ces derniers ne concernent pas l'heure UTC.</span><span class="sxs-lookup"><span data-stu-id="7acc0-107">Note that this is not a time zones issue as Coordinated Universal Time is unaffected by time zones.</span></span>  
  
### <a name="to-configure-a-scope-shape-as-a-transaction-boundary"></a><span data-ttu-id="7acc0-108">Pour configurer une forme Étendue en tant que limite de transaction</span><span class="sxs-lookup"><span data-stu-id="7acc0-108">To configure a Scope shape as a transaction boundary</span></span>  
  
1.  <span data-ttu-id="7acc0-109">Dans la fenêtre Propriétés, définissez la **Type de Transaction** propriété **atomique** ou **Long terme**.</span><span class="sxs-lookup"><span data-stu-id="7acc0-109">In the Properties window, set the **Transaction Type** property to **Atomic** or **Long Running**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="7acc0-110">L'orchestration doit elle-même être une transaction longue pour que vous puissiez définir le type de transaction sur Atomique ou À long terme.</span><span class="sxs-lookup"><span data-stu-id="7acc0-110">The orchestration must itself be a long-running transaction in order for you to set the Transaction Type to Atomic or Long Running.</span></span>  
  
2.  <span data-ttu-id="7acc0-111">Si le **Type de Transaction** a la valeur **atomique**, puis, dans la fenêtre Propriétés, spécifiez les propriétés suivantes :</span><span class="sxs-lookup"><span data-stu-id="7acc0-111">If the **Transaction Type** is set to **Atomic**, then in the Properties window, specify the following properties:</span></span>  
  
    |<span data-ttu-id="7acc0-112">Propriété</span><span class="sxs-lookup"><span data-stu-id="7acc0-112">Property</span></span>|<span data-ttu-id="7acc0-113"> Description</span><span class="sxs-lookup"><span data-stu-id="7acc0-113">Description</span></span>|  
    |--------------|-----------------|  
    |<span data-ttu-id="7acc0-114">Traitement</span><span class="sxs-lookup"><span data-stu-id="7acc0-114">Batch</span></span>|<span data-ttu-id="7acc0-115">Valeur booléenne qui détermine si la transaction peut être effectuée avec d'autres transactions sur plusieurs instances de l'orchestration.</span><span class="sxs-lookup"><span data-stu-id="7acc0-115">Boolean value that determines if this transaction can be batched with other transactions across multiple instances of the orchestration.</span></span> <span data-ttu-id="7acc0-116">Cette propriété n'est jamais utilisée dans BizTalk Server, car BizTalk Server ne prend pas en charge le traitement par lot des transactions atomiques sur plusieurs instances d'orchestration.</span><span class="sxs-lookup"><span data-stu-id="7acc0-116">This property is never used in BizTalk Server because BizTalk Server does not support batching atomic transactions across multiple instances of orchestrations.</span></span> <span data-ttu-id="7acc0-117">Elle sera supprimée dans la prochaine version.</span><span class="sxs-lookup"><span data-stu-id="7acc0-117">This property will be deprecated in the future release.</span></span>|  
    |<span data-ttu-id="7acc0-118">Niveau d'isolement</span><span class="sxs-lookup"><span data-stu-id="7acc0-118">Isolation Level</span></span>|<span data-ttu-id="7acc0-119">Détermine le niveau auquel les données sont accessibles parmi les transactions simultanées :</span><span class="sxs-lookup"><span data-stu-id="7acc0-119">Determines the degree to which data is accessible among concurrent transactions:</span></span><br /><br /> <span data-ttu-id="7acc0-120">-Read Committed : pour empêcher la transaction sélectionnée d’accéder aux modifications de données dans les transactions simultanées jusqu'à ce qu’elles sont validées.</span><span class="sxs-lookup"><span data-stu-id="7acc0-120">-   Read Committed—To prevent the selected transaction from accessing data modifications in concurrent transactions until they are committed.</span></span> <span data-ttu-id="7acc0-121">Il s'agit du paramètre par défaut de Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7acc0-121">This option is the Microsoft SQL Server default setting.</span></span><br /><span data-ttu-id="7acc0-122">-Repeatable Read, pour exiger des verrous de lecture jusqu'à la fin de la transaction sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="7acc0-122">-   Repeatable Read—To require read locks until the selected transaction is complete.</span></span><br /><span data-ttu-id="7acc0-123">-Sérialisable : pour empêcher les transactions simultanées d’apporter des modifications de données jusqu'à ce que la transaction sélectionnée est terminée.</span><span class="sxs-lookup"><span data-stu-id="7acc0-123">-   Serializable—To prevent concurrent transactions from making data modifications until the selected transaction is complete.</span></span> <span data-ttu-id="7acc0-124">Cette option constitue le niveau d'isolation le plus élevé.</span><span class="sxs-lookup"><span data-stu-id="7acc0-124">This option is the most restrictive isolation level.</span></span>|  
    |<span data-ttu-id="7acc0-125">Réessayer</span><span class="sxs-lookup"><span data-stu-id="7acc0-125">Retry</span></span>|<span data-ttu-id="7acc0-126">Valeur booléenne qui détermine si la transaction doit être retentée lorsqu'une erreur survient.</span><span class="sxs-lookup"><span data-stu-id="7acc0-126">Boolean value that determines whether this transaction is retried when an error occurs.</span></span> <span data-ttu-id="7acc0-127">La valeur par défaut est **True**.</span><span class="sxs-lookup"><span data-stu-id="7acc0-127">The default value is **True**.</span></span> <span data-ttu-id="7acc0-128">**Remarque :** une transaction atomique sera retentée si vous levez une exception Microsoft.XLANG.BaseTypes.RetryTransactionException, ou si le moteur d’orchestration ne peut pas stocker son état ou de valider la transaction.</span><span class="sxs-lookup"><span data-stu-id="7acc0-128">**Note:**  An atomic transaction will be retried if you throw Microsoft.XLANG.BaseTypes.RetryTransactionException, or if the orchestration engine is unable to store its state or commit the transaction.</span></span>|  
    |<span data-ttu-id="7acc0-129">Délai d'expiration</span><span class="sxs-lookup"><span data-stu-id="7acc0-129">Timeout</span></span>|<span data-ttu-id="7acc0-130">Détermine le délai (en secondes) après lequel la transaction est considérée comme ayant échoué pour cause d'inactivité.</span><span class="sxs-lookup"><span data-stu-id="7acc0-130">Determines the time in seconds until the transaction fails due to inactivity.</span></span> <span data-ttu-id="7acc0-131">Pour ne pas utiliser le délai d'attente, définissez la valeur de cette propriété sur 0.</span><span class="sxs-lookup"><span data-stu-id="7acc0-131">If you do not want to use a timeout, set the value of this property to 0.</span></span> <span data-ttu-id="7acc0-132">**Remarque :** est un délai DTC, il n’est pas appliquée par le moteur d’orchestration.</span><span class="sxs-lookup"><span data-stu-id="7acc0-132">**Note:**  This is a DTC timeout, and is not enforced by the orchestration engine.</span></span> <span data-ttu-id="7acc0-133">Dans le cas des transactions atomiques, le moteur n'interrompt pas la transaction.</span><span class="sxs-lookup"><span data-stu-id="7acc0-133">For atomic transactions only, the engine will not interrupt the transaction.</span></span> <span data-ttu-id="7acc0-134">Il continue le traitement normalement jusqu'à validation. La validation échoue uniquement s'il participe à une transaction DTC via l'un des objets contenus dans la transaction.</span><span class="sxs-lookup"><span data-stu-id="7acc0-134">It proceeds normally until commitment, at which point it fails to commit only if participating in a DTC transaction through one of the objects inside it.</span></span>|  
  
3.  <span data-ttu-id="7acc0-135">Si le **Type de Transaction** a la valeur **Long terme**, puis, dans la fenêtre Propriétés, définissez la propriété suivante :</span><span class="sxs-lookup"><span data-stu-id="7acc0-135">If the **Transaction Type** is set to **Long Running**, then in the Properties window, specify the following property:</span></span>  
  
    |<span data-ttu-id="7acc0-136">Propriété</span><span class="sxs-lookup"><span data-stu-id="7acc0-136">Property</span></span>|<span data-ttu-id="7acc0-137"> Description</span><span class="sxs-lookup"><span data-stu-id="7acc0-137">Description</span></span>|  
    |--------------|-----------------|  
    |<span data-ttu-id="7acc0-138">Délai d'expiration</span><span class="sxs-lookup"><span data-stu-id="7acc0-138">Timeout</span></span>|<span data-ttu-id="7acc0-139">Détermine le délai (en secondes) avant que la transaction n'expire et ne soit considérée comme un échec.</span><span class="sxs-lookup"><span data-stu-id="7acc0-139">Determines the time in seconds until the transaction times out and is considered a failed transaction.</span></span> <span data-ttu-id="7acc0-140">Pour ne pas utiliser le délai d'attente, définissez la valeur de cette propriété sur 0.</span><span class="sxs-lookup"><span data-stu-id="7acc0-140">If you do not want to use a timeout, set the value of this property to 0.</span></span>|  
  
### <a name="to-configure-a-scope-shape-to-contain-local-variables"></a><span data-ttu-id="7acc0-141">Pour configurer une forme Étendue de manière qu'elle contienne des variables locales</span><span class="sxs-lookup"><span data-stu-id="7acc0-141">To configure a Scope shape to contain local variables</span></span>  
  
1.  <span data-ttu-id="7acc0-142">Double-cliquez sur l’étendue dans la fenêtre Vue Orchestration.</span><span class="sxs-lookup"><span data-stu-id="7acc0-142">Double-click the scope in the Orchestration View window.</span></span>  
  
2.  <span data-ttu-id="7acc0-143">Cliquez sur le dossier Variables sous l’étendue, puis sur **nouvelle Variable**.</span><span class="sxs-lookup"><span data-stu-id="7acc0-143">Right-click the Variables folder under the scope and then click **New Variable**.</span></span>  
  
3.  <span data-ttu-id="7acc0-144">Passez à l’étape 2 dans « Pour ajouter une variable » dans [comment ajouter des Variables d’Orchestration](../core/how-to-add-orchestration-variables.md).</span><span class="sxs-lookup"><span data-stu-id="7acc0-144">Proceed from step 2 in "To add a variable" in [How to Add Orchestration Variables](../core/how-to-add-orchestration-variables.md).</span></span>