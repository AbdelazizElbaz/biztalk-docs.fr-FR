---
title: "Solution orientée services de composants du Service | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- service solution tutorial, pipelines
- pipelines, service solutions
- service solution tutorial, assemblies
- service solution tutorial, components [BizTalk Server]
- service solution tutorial, client applications
- assemblies, service solutions
- orchestrations, service solutions
- client applications, service solutions
- back-end systems
- service solution tutorial, orchestrations
- service solution tutorial, back-end applications
ms.assetid: 97b7b754-abfb-48f9-87bf-7fe171121166
caps.latest.revision: "22"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a50743b178f9394c74b137e265532542af2b579c
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="components-of-the-service-oriented-solution"></a><span data-ttu-id="88539-102">Solution orientée services de composants du Service</span><span class="sxs-lookup"><span data-stu-id="88539-102">Components of the Service Oriented Solution</span></span>
<span data-ttu-id="88539-103">Cette section décrit les principaux composants BizTalk Server de la solution orientée services.</span><span class="sxs-lookup"><span data-stu-id="88539-103">This section describes the major BizTalk Server components of the Service Oriented Solution.</span></span> <span data-ttu-id="88539-104">Le diagramme suivant montre les principaux composants de la solution :</span><span class="sxs-lookup"><span data-stu-id="88539-104">The following diagram shows the major components of the solution:</span></span>  
  
 <span data-ttu-id="88539-105">![Diagramme de flux de Solution orientée services](../core/media/service-oriented-flow-diagram.gif "Service_Oriented_Flow_Diagram")</span><span class="sxs-lookup"><span data-stu-id="88539-105">![Service Oriented Solution Flow Diagram](../core/media/service-oriented-flow-diagram.gif "Service_Oriented_Flow_Diagram")</span></span>  
  
 <span data-ttu-id="88539-106">La solution orientée services possède trois versions des orchestrations :</span><span class="sxs-lookup"><span data-stu-id="88539-106">The Service Oriented solution has three versions of the orchestrations:</span></span>  
  
-   <span data-ttu-id="88539-107">Une version dans laquelle les trois applications principales sont toutes en version stub</span><span class="sxs-lookup"><span data-stu-id="88539-107">A version in which all three of the back-end applications are stubbed out</span></span>  
  
-   <span data-ttu-id="88539-108">Une version dans laquelle les trois applications principales sont toutes appelées inline</span><span class="sxs-lookup"><span data-stu-id="88539-108">One in which all three back-end applications are invoked inline</span></span>  
  
-   <span data-ttu-id="88539-109">Une version qui utilise des adaptateurs pour se connecter aux applications</span><span class="sxs-lookup"><span data-stu-id="88539-109">A version that uses adapters to connect to the applications.</span></span>  
  
 <span data-ttu-id="88539-110">Toutes les versions des orchestrations apparaissent dans le répertoire SDK\Scenarios\SO\BTSSoln\Orchestrations.</span><span class="sxs-lookup"><span data-stu-id="88539-110">All versions of the orchestrations appear in the SDK\Senarios\SO\BTSSoln\Orchestrations directory.</span></span>  
  
 <span data-ttu-id="88539-111">La version Inline des orchestrations offre le temps de latence le plus faible dans la solution entre les demandes et les réponses.</span><span class="sxs-lookup"><span data-stu-id="88539-111">The inline version of the orchestrations provides the lowest latency time within the solution between requests and responses.</span></span>  
  
 <span data-ttu-id="88539-112">Pour plus d’informations sur les fichiers source, consultez [inventaire des fichiers de la Solution orientée services](../core/file-inventory-for-the-service-oriented-solution.md).</span><span class="sxs-lookup"><span data-stu-id="88539-112">For information about the source files, see [File Inventory for the Service Oriented Solution](../core/file-inventory-for-the-service-oriented-solution.md).</span></span>  
  
## <a name="orchestrations-in-the-service-oriented-solution"></a><span data-ttu-id="88539-113">Orchestrations dans la solution orientée services</span><span class="sxs-lookup"><span data-stu-id="88539-113">Orchestrations in the Service Oriented Solution</span></span>  
 <span data-ttu-id="88539-114">Trois orchestrations, **CustomerServiceReceiveSend**, **CustomerServiceNativeRequestResponse**, et **CustomerService** constituent la majeure de la solution.</span><span class="sxs-lookup"><span data-stu-id="88539-114">Three orchestrations, **CustomerServiceReceiveSend**, **CustomerServiceNativeRequestResponse**, and **CustomerService** compose the bulk of the solution.</span></span> <span data-ttu-id="88539-115">Le **CustomerServiceReceiveSend** et **CustomerServiceNativeRequestResponse** orchestrations agissent en tant que les serveurs frontaux qui appellent le **CustomerService** orchestration.</span><span class="sxs-lookup"><span data-stu-id="88539-115">The **CustomerServiceReceiveSend** and **CustomerServiceNativeRequestResponse** orchestrations act as front-ends that call the **CustomerService** orchestration.</span></span> <span data-ttu-id="88539-116">Le **CustomerService** orchestration exécute la plupart des travaux : envoi de demandes pour les applications principales, collecte de réponses, combinaison de réponses dans un message unique et envoi du message approprié frontal orchestration.</span><span class="sxs-lookup"><span data-stu-id="88539-116">The **CustomerService** orchestration does most of the work—sending requests to the back-end applications, gathering the replies, combining the replies into a single message, and sending the message to the appropriate front-end orchestration.</span></span> <span data-ttu-id="88539-117">Étant donné que les orchestrations frontales appellent le **CustomerService** orchestration, les orchestrations frontales attendent le **CustomerService** orchestration terminée.</span><span class="sxs-lookup"><span data-stu-id="88539-117">Because the front-end orchestrations call the **CustomerService** orchestration, the front-end orchestrations wait until the **CustomerService** orchestration finishes.</span></span>  
  
 <span data-ttu-id="88539-118">La solution expose le **CustomerServiceNativeRequestResponse** orchestration en tant que service Web.</span><span class="sxs-lookup"><span data-stu-id="88539-118">The solution exposes the **CustomerServiceNativeRequestResponse** orchestration as a Web service.</span></span> <span data-ttu-id="88539-119">Le **CustomerServiceReceiveSend** orchestration prend des messages à partir d’une file d’attente MQSeries.</span><span class="sxs-lookup"><span data-stu-id="88539-119">The **CustomerServiceReceiveSend** orchestration takes messages from an MQSeries queue.</span></span>  
  
## <a name="back-end-applications"></a><span data-ttu-id="88539-120">Applications principales</span><span class="sxs-lookup"><span data-stu-id="88539-120">Back-end Applications</span></span>  
 <span data-ttu-id="88539-121">La solution orientée services communique avec trois applications principales :</span><span class="sxs-lookup"><span data-stu-id="88539-121">The Service Oriented solution communicates with three back-end applications:</span></span>  
  
-   <span data-ttu-id="88539-122">Le **PaymentTracker** application renvoie une liste simulée de paiements récents.</span><span class="sxs-lookup"><span data-stu-id="88539-122">The **PaymentTracker** application returns a simulated list of recent payments.</span></span> <span data-ttu-id="88539-123">**PaymentTracker** lit la demande à partir d’une file d’attente MQSeries et envoie la réponse à une autre file d’attente de MQSeries.</span><span class="sxs-lookup"><span data-stu-id="88539-123">**PaymentTracker** reads the request from an MQSeries queue and sends the response to another MQSeries queue.</span></span>  
  
-   <span data-ttu-id="88539-124">Le **PendingTransaction** application signale la somme des transactions en attente sur le compte client.</span><span class="sxs-lookup"><span data-stu-id="88539-124">The **PendingTransaction** application reports the sum of transactions pending against the customer account.</span></span> <span data-ttu-id="88539-125">L'application est un service Web qui, à son tour, utilise Microsoft Host Integration Server (HIS) pour communiquer avec un programme CICS/COBOL sur un macroordinateur.</span><span class="sxs-lookup"><span data-stu-id="88539-125">The application is a Web service that, in turn, uses Microsoft Host Integration Server (HIS) to communicate with a CICS/COBOL program on a mainframe computer.</span></span>  
  
-   <span data-ttu-id="88539-126">L'application SAP fournit des informations sur la limite de crédit générale du client.</span><span class="sxs-lookup"><span data-stu-id="88539-126">The SAP application provides information about the customer's overall credit limit.</span></span> <span data-ttu-id="88539-127">La solution se connecte à l'application SAP comme un service Web.</span><span class="sxs-lookup"><span data-stu-id="88539-127">The solution connects to the SAP application as a Web service.</span></span> <span data-ttu-id="88539-128">L'application utilise l'adaptateur SAP dans [!INCLUDE[adapterpacknoversion](../includes/adapterpacknoversion-md.md)] pour communiquer avec un système SAP.</span><span class="sxs-lookup"><span data-stu-id="88539-128">The application uses the SAP adapter in [!INCLUDE[adapterpacknoversion](../includes/adapterpacknoversion-md.md)] to communicate with a SAP system.</span></span>  
  
## <a name="pipelines"></a><span data-ttu-id="88539-129">Pipelines</span><span class="sxs-lookup"><span data-stu-id="88539-129">Pipelines</span></span>  
 <span data-ttu-id="88539-130">La solution orientée services utilise des pipelines par défaut, sauf à deux emplacements : le pipeline de réception pour le **CustomerServiceReceiveSend** orchestration et le **CustomerService** envoi de l’orchestration pipeline à la **PaymentTracker**.</span><span class="sxs-lookup"><span data-stu-id="88539-130">The Service Oriented solution uses default pipelines except in two places: the receive pipeline for the **CustomerServiceReceiveSend** orchestration, and the **CustomerService** orchestration's send pipeline to the **PaymentTracker**.</span></span> <span data-ttu-id="88539-131">Les deux pipelines utilisent des composants personnalisés.</span><span class="sxs-lookup"><span data-stu-id="88539-131">Both pipelines use custom components.</span></span>  
  
 <span data-ttu-id="88539-132">Le pipeline de réception pour **CustomerServiceReceiveSend** inclut un composant résolution du tiers personnalisé, **composant de Pipeline Ticket SSO**.</span><span class="sxs-lookup"><span data-stu-id="88539-132">The receive pipeline for **CustomerServiceReceiveSend** includes a custom party resolution component, **SSO Ticket Issuer Pipeline Component**.</span></span> <span data-ttu-id="88539-133">Les messages qui la **CustomerServiceReceiveSend** orchestration reçoit n’ont pas d’informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="88539-133">The messages that the **CustomerServiceReceiveSend** orchestration receives do not have credentials.</span></span> <span data-ttu-id="88539-134">Cela simule ce qui se passerait si les messages provenaient d'un système de réponse vocal interactif.</span><span class="sxs-lookup"><span data-stu-id="88539-134">This simulates what would happen if the messages came from an Interactive Voice Response system.</span></span> <span data-ttu-id="88539-135">Le composant de pipeline personnalisé ajoute des informations d'identification à l'aide du compte de service de l'hôte de réception BizTalk.</span><span class="sxs-lookup"><span data-stu-id="88539-135">The custom pipeline component adds credentials using the service account of the BizTalk receive host.</span></span>  
  
 <span data-ttu-id="88539-136">En revanche, les messages de la **CustomerSericeNativeRequestResponse** orchestration reçoit déjà disposer d’informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="88539-136">In contrast, the messages the **CustomerSericeNativeRequestResponse** orchestration receives already have credentials.</span></span> <span data-ttu-id="88539-137">Comme le répertoire virtuel pour le service Web est configuré pour la sécurité intégrée et que l'emplacement de réception SOAP est configuré pour intégrer l'authentification unique de l'entreprise, l'adaptateur SOAP génère un ticket pour le message.</span><span class="sxs-lookup"><span data-stu-id="88539-137">Because the virtual folder for the Web service is configured for integrated security and the SOAP receive location is configured to integrate Enterprise Single Sign-On (SSO), the SOAP adapter generates a ticket for the message.</span></span>  
  
 <span data-ttu-id="88539-138">L’autre pipeline personnalisé s’affiche dans le **CustomerService** pipeline d’envoi pour le **PaymentTracker** application.</span><span class="sxs-lookup"><span data-stu-id="88539-138">The other custom pipeline appears in the **CustomerService** send pipeline to the **PaymentTracker** application.</span></span> <span data-ttu-id="88539-139">Le composant, Composant de pipeline qui définit l'en-tête MQSeries, définit des valeurs pour les deux propriétés d'en-tête de message MQSeries.</span><span class="sxs-lookup"><span data-stu-id="88539-139">The component, MQSeries Header Setter Pipeline Component, sets values for two MQSeries message header properties.</span></span> <span data-ttu-id="88539-140">Le composant définit le premier, le Format de données de Message (**MQMD_Format**), pour indiquer le message sous la forme d’un **MQCIH** structure, une structure couramment utilisé pour communiquer avec des programmes CICS.</span><span class="sxs-lookup"><span data-stu-id="88539-140">The component sets the first, the Message Data Format (**MQMD_Format**), to indicate the message is in the form of an **MQCIH** structure, a structure commonly used to communicate with CICS programs.</span></span> <span data-ttu-id="88539-141">La seconde, le format des données elles-mêmes dans le **MQCIH** structure (**MQCIH_Format**), est définie pour afficher le message est une chaîne.</span><span class="sxs-lookup"><span data-stu-id="88539-141">The second, the format of the data itself within the **MQCIH** structure (**MQCIH_Format**),is set to show the message is a string.</span></span>  
  
 <span data-ttu-id="88539-142">À l’aide de la **MQCIH** format permet de transmettre l’ID utilisateur et un mot de passe dans le **MQCIH** structure.</span><span class="sxs-lookup"><span data-stu-id="88539-142">Using the **MQCIH** format enables you to pass the user ID and password in the **MQCIH** structure.</span></span> <span data-ttu-id="88539-143">Applications associées SSO mappent l’ID d’utilisateur Windows de l’application BizTalk pour pseudos du suivi des système de paiement passé dans le **MQCIH** structure.</span><span class="sxs-lookup"><span data-stu-id="88539-143">SSO affiliate applications map the BizTalk application's Windows user ID to the Payment Tracking System's user IDs passed in the **MQCIH** structure.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="88539-144">La version Inline de la solution utilise les mêmes pipelines en les appelant à partir de l'orchestration.</span><span class="sxs-lookup"><span data-stu-id="88539-144">The inline version of the solution uses the same pipelines by calling them from the orchestration.</span></span> <span data-ttu-id="88539-145">Cela permet de réutiliser le code de pipeline.</span><span class="sxs-lookup"><span data-stu-id="88539-145">This enables re-use of the pipeline code.</span></span>  
  
## <a name="client-application"></a><span data-ttu-id="88539-146">Application cliente</span><span class="sxs-lookup"><span data-stu-id="88539-146">Client Application</span></span>  
 <span data-ttu-id="88539-147">La solution comprend une application cliente écrite en C#.</span><span class="sxs-lookup"><span data-stu-id="88539-147">The solution includes a client application written in C#.</span></span> <span data-ttu-id="88539-148">Vous pouvez utiliser l'application pour envoyer des demandes en tant que messages SOAP ou MQSeries et examiner les résultats.</span><span class="sxs-lookup"><span data-stu-id="88539-148">You can use the application to send requests as SOAP or MQSeries messages, and examine the results.</span></span>  
  
## <a name="other-assemblies"></a><span data-ttu-id="88539-149">Autres assemblys</span><span class="sxs-lookup"><span data-stu-id="88539-149">Other Assemblies</span></span>  
 <span data-ttu-id="88539-150">L'application inclut plusieurs assemblys auxiliaires qui ne figurent pas dans le diagramme récapitulatif ci-avant.</span><span class="sxs-lookup"><span data-stu-id="88539-150">The application includes several auxiliary assemblies not shown in the summary diagram above.</span></span> <span data-ttu-id="88539-151">Le **utilitaires** les fonctions d’utilitaire assembly pour la solution.</span><span class="sxs-lookup"><span data-stu-id="88539-151">The **Utilities** assembly utility functions for the solution.</span></span>  
  
 <span data-ttu-id="88539-152">Le **ErrorHelper** assembly contient des classes pour convertir les codes d’erreur en messages et pour convertir des messages d’erreur en codes d’erreur.</span><span class="sxs-lookup"><span data-stu-id="88539-152">The **ErrorHelper** assembly contains classes to translate error codes into messages, and to convert error messages to error codes.</span></span>  
  
 <span data-ttu-id="88539-153">Le **ServiceLevelTracking** assembly inclut des méthodes d’assistance à l’aide de l’analyse BAM (Business Activity) API pour effectuer le suivi des données de l’accord de niveau de service.</span><span class="sxs-lookup"><span data-stu-id="88539-153">The **ServiceLevelTracking** assembly includes helper methods using the Business Activity Monitoring (BAM) API to track service-level agreement data.</span></span>  
  
 <span data-ttu-id="88539-154">Le **ConfigHelper** assembly contient des méthodes d’assistance pour récupérer les valeurs de configuration de la solution à partir de la **SSOConfigStore** application.</span><span class="sxs-lookup"><span data-stu-id="88539-154">The **ConfigHelper** assembly contains helper methods to retrieve configuration values for the solution from the **SSOConfigStore** application.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="88539-155">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="88539-155">See Also</span></span>  
 <span data-ttu-id="88539-156">[Développement d’un Service de la Solution orientée services](../core/developing-a-service-oriented-solution.md) </span><span class="sxs-lookup"><span data-stu-id="88539-156">[Developing a Service Oriented Solution](../core/developing-a-service-oriented-solution.md) </span></span>  
 [<span data-ttu-id="88539-157">Solution orientée services l’inventaire des fichiers pour le Service</span><span class="sxs-lookup"><span data-stu-id="88539-157">File Inventory for the Service Oriented Solution</span></span>](../core/file-inventory-for-the-service-oriented-solution.md)