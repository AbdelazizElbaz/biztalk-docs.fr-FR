---
title: "Instructions pour éviter les goulots d’étranglement | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 640ab399-b22d-4f71-b41d-ea8d778e064a
caps.latest.revision: "9"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e78f637c2fd6919b4182f2a58b5f16fbd23f0170
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="guidelines-for-avoiding-bottlenecks"></a><span data-ttu-id="b34cc-102">Instructions pour éviter les goulots d'étranglement</span><span class="sxs-lookup"><span data-stu-id="b34cc-102">Guidelines for Avoiding Bottlenecks</span></span>
<span data-ttu-id="b34cc-103">Même si les paramètres par défaut de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] garantissent des performances optimales pour la plupart des configurations matérielles et logicielles, il peut être préférable, dans certains scénarios, de les modifier ou de repenser la configuration de déploiement.</span><span class="sxs-lookup"><span data-stu-id="b34cc-103">While the default settings in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] provide optimal performance for many hardware and software configurations, in some scenarios it may be beneficial to modify the settings or deployment configuration.</span></span> <span data-ttu-id="b34cc-104">Lors de la configuration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], prenez en compte les éléments suivants afin d'obtenir les meilleures performances :</span><span class="sxs-lookup"><span data-stu-id="b34cc-104">When configuring [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], consider the following performance guidelines:</span></span>  
  
-   <span data-ttu-id="b34cc-105">Afin d'éviter tout conflit de ressources, séparez la réception de l'orchestration et de l'envoi en les associant à des hôtes distincts.</span><span class="sxs-lookup"><span data-stu-id="b34cc-105">To prevent resource contention, isolate receiving, orchestration, and sending onto separate hosts.</span></span> <span data-ttu-id="b34cc-106">Pour réduire au maximum les conflits, séparez le service de suivi des autres hôtes.</span><span class="sxs-lookup"><span data-stu-id="b34cc-106">To further minimize contention, isolate the tracking service from other hosts.</span></span>  
  
-   <span data-ttu-id="b34cc-107">Si le goulot d'étranglement se situe au niveau du processeur sur BizTalk Server, procédez à l'évolution verticale de ce dernier en ajoutant des processeurs ou en effectuant une mise à niveau à l'aide de processeurs plus rapides.</span><span class="sxs-lookup"><span data-stu-id="b34cc-107">If CPU processing on the BizTalk Server is the bottleneck, scale up BizTalk Server by including additional CPUs or upgrading to faster CPUs.</span></span>  
  
## <a name="sql-server-guidelines"></a><span data-ttu-id="b34cc-108">Instructions relatives au serveur SQL Server</span><span class="sxs-lookup"><span data-stu-id="b34cc-108">SQL Server Guidelines</span></span>  
 <span data-ttu-id="b34cc-109">Lors de la configuration du serveur Microsoft SQL Server avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], prenez en compte les éléments suivants afin d'obtenir les meilleures performances :</span><span class="sxs-lookup"><span data-stu-id="b34cc-109">Consider the following performance guidelines when configuring Microsoft SQL Server with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]:</span></span>  
  
-   [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="b34cc-110">bases de données doivent être configurés pour s’exécuter sur une instance dédiée de SQL Server chaque fois que possible.</span><span class="sxs-lookup"><span data-stu-id="b34cc-110"> databases should be configured to run on a dedicated SQL Server instance whenever possible.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="b34cc-111">est une application qui consommée beaucoup de bases de données de sorte que la séparation du [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ou les ordinateurs et les ordinateurs SQL Server qui hébergent le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] améliore les performances de bases de données et doit être considérée comme une meilleure pratique dans une production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environnement.</span><span class="sxs-lookup"><span data-stu-id="b34cc-111"> is a databases intensive application, so separation of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer(s) and the SQL Server computer(s) that house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases will improve performance and should be considered a best practice in a production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span>  
  
-   <span data-ttu-id="b34cc-112">Utilisez, autant que possible, un sous-système de disque rapide avec le serveur SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b34cc-112">Whenever possible, use a fast disk subsystem with SQL Server.</span></span> <span data-ttu-id="b34cc-113">Utilisez un RAID (Redundant Array of Independent Disks) de type 5 (RAID5/10) ou un réseau SAN avec alimentation de secours.</span><span class="sxs-lookup"><span data-stu-id="b34cc-113">Use a redundant array of independent disks type 5 (RAID5/10) or a storage area network (SAN) with backup power supply.</span></span>  
  
-   <span data-ttu-id="b34cc-114">Utilisez la procédure de récupération d'urgence du serveur SQL Server pour sauvegarder vos bases de données de façon régulière.</span><span class="sxs-lookup"><span data-stu-id="b34cc-114">Use the SQL Server disaster recovery process to back up your databases regularly.</span></span> <span data-ttu-id="b34cc-115">Le service BizTalk Server récupère automatiquement vos données en cas de dysfonctionnement de connexion au niveau du serveur SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b34cc-115">The BizTalk Server service automatically recovers from SQL Server connection malfunctions.</span></span>  
  
-   <span data-ttu-id="b34cc-116">Associez chaque boîte de message à un serveur distinct à partir de la base de données des suivis BizTalk (BizTalkDTADb).</span><span class="sxs-lookup"><span data-stu-id="b34cc-116">Isolate each message box onto a separate server from the BizTalk Tracking database (BizTalkDTADb).</span></span> <span data-ttu-id="b34cc-117">Pour les déploiements à moins grande échelle, si les ressources d'UC sont disponibles, isoler la boîte de message de la base de données BizTalkDTADb sur un disque séparé peut s'avérer suffisant.</span><span class="sxs-lookup"><span data-stu-id="b34cc-117">For smaller deployments if CPU resources are available, isolating the message box onto a separate physical disk from the BizTalkDTADb database might be sufficient.</span></span>  
  
-   <span data-ttu-id="b34cc-118">La base de données MessageBox principale peut constituer le goulot d'étranglement en raison d'une saturation ou d'une latence du processeur de l'UC lors d'opérations de disque (longueur moyenne de la file d'attente du disque).</span><span class="sxs-lookup"><span data-stu-id="b34cc-118">The primary MessageBox could be the bottleneck due to CPU processor saturation or latency from disk operations (average disk queue length).</span></span> <span data-ttu-id="b34cc-119">Si tel est le cas, ajoutez des processeurs à la base de données MessageBox principale.</span><span class="sxs-lookup"><span data-stu-id="b34cc-119">If CPU processing is the bottleneck, add CPU processors to the primary message box.</span></span> <span data-ttu-id="b34cc-120">Si ce n’est pas le cas, essayez de désactiver la publication sur la MessageBox principale, ainsi que la MessageBox principale peut gérer plus efficacement le routage des messages vers d’autres bases de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="b34cc-120">If not try disabling publishing on the Master MessageBox, this way the Master MessageBox can more efficiently handle routing of messages to the other MessageBox databases.</span></span>  
  
-   <span data-ttu-id="b34cc-121">Si le goulot d'étranglement se situe au niveau des opérations de disque, déplacez la base de données BizTalkDTADb vers un ordinateur SQL Server dédié et/ou un disque dédié.</span><span class="sxs-lookup"><span data-stu-id="b34cc-121">If disk operations are the bottleneck, move the BizTalkDTADb database to a dedicated SQL Server computer and/or dedicated disk.</span></span> <span data-ttu-id="b34cc-122">Si le goulot d'étranglement ne concerne ni le processeur de l'UC, ni les opérations de disque de la base de données MessageBox principale, vous pouvez créer d'autres bases de données MessageBox sur le même ordinateur SQL Server afin d'exploiter le matériel dont vous disposez.</span><span class="sxs-lookup"><span data-stu-id="b34cc-122">If CPU processing and disk operations on the primary message box are not the bottleneck, you can create new MessageBox databases on the same SQL Server computer to leverage your existing hardware.</span></span>  
  
-   <span data-ttu-id="b34cc-123">Reportez-vous aux recommandations SQL Server pour placer sur des disques distincts la transaction et les fichiers journaux de données des bases de données MessageBox et BizTalkDTADb.</span><span class="sxs-lookup"><span data-stu-id="b34cc-123">Follow SQL Server best practices to isolate the transaction and data log files for the MessageBox and BizTalkDTADb databases onto separate physical disks.</span></span>  
  
-   <span data-ttu-id="b34cc-124">Prévoyez un espace de stockage suffisant pour les fichiers de données et les fichiers journaux, afin d'éviter que le serveur SQL Server ne prenne automatiquement tout l'espace disponible des disques où les fichiers journaux sont stockés.</span><span class="sxs-lookup"><span data-stu-id="b34cc-124">Allocate sufficient storage space for the data and log files; otherwise SQL Server will automatically consume all of the available space on the disks that the log files are kept.</span></span> <span data-ttu-id="b34cc-125">La taille initiale des fichiers journaux sera fonction des conditions spécifiques requises par votre scénario.</span><span class="sxs-lookup"><span data-stu-id="b34cc-125">Initial size of the log files will depend on the specific requirements in your particular scenario.</span></span> <span data-ttu-id="b34cc-126">Faites une estimation de la taille moyenne des fichiers dans votre déploiement en fonction des résultats des tests et ajustez l'espace de stockage avant d'implémenter votre solution.</span><span class="sxs-lookup"><span data-stu-id="b34cc-126">Estimate the average file size in your deployment based on testing results, and expand the storage space before implementing your solution.</span></span>  
  
-   <span data-ttu-id="b34cc-127">Allouez un espace de stockage suffisant aux bases de données utilisant le disque de façon intensive, telles que les bases de données MessageBox, BAM (Business Activity Monitoring) et les bases de données des suivis.</span><span class="sxs-lookup"><span data-stu-id="b34cc-127">Allocate sufficient storage space for high-disk-usage databases, such as the MessageBox, Tracking, and Business Activity Monitoring (BAM) databases.</span></span> <span data-ttu-id="b34cc-128">Si votre solution utilise le protocole de messagerie BizTalk Framework, prévoyez un espace de stockage suffisant pour la base de données de configuration BizTalk (BizTalkMgmtDb).</span><span class="sxs-lookup"><span data-stu-id="b34cc-128">If your solution uses the BizTalk Framework messaging protocol, allocate sufficient storage space for the BizTalk Configuration database (BizTalkMgmtDb).</span></span>  
  
-   <span data-ttu-id="b34cc-129">En fonction des besoins de votre entreprise [durée de conservation des données] et du volume de données traitées dans votre scénario, configurez les travaux d'archivage et de purge sur la base de données des suivis afin d'empêcher que la base de données BizTalkDTADb ne devienne trop lourde.</span><span class="sxs-lookup"><span data-stu-id="b34cc-129">Depending on business needs [data retention periods] and the volume of data processed in your particular scenario, configure the Archive/Purge jobs on the Tracking database such that the BizTalkDTADb database does not grow too large.</span></span> <span data-ttu-id="b34cc-130">Plus cette base de données devient importante, plus les performances sont susceptibles de se dégrader (notamment lorsqu'une base de données BizTalkDTADb prend en charge de nombreuses boîtes de message) ; en effet, la capacité maximale de cette base de données, lorsqu'elle est atteinte, limite la fréquence d'insertion des données.</span><span class="sxs-lookup"><span data-stu-id="b34cc-130">The growth of this database can degrade performance (especially when one BizTalkDTADb database supports multiple message boxes) because reaching the full capacity of the database imposes a limit on the rate of data insertion.</span></span>  
  
-   <span data-ttu-id="b34cc-131">Procédez à l'évolution verticale des serveurs hébergeant les bases de données MessageBox et BizTalkDTADb, si ces dernières constituent le goulot d'étranglement.</span><span class="sxs-lookup"><span data-stu-id="b34cc-131">Scale up the servers hosting the MessageBox and BizTalkDTADb databases if they are the bottleneck.</span></span> <span data-ttu-id="b34cc-132">Vous pouvez faire évoluer votre matériel verticalement en ajoutant des processeurs et de la mémoire, en effectuant une mise à niveau grâce à des processeurs plus rapides ou en utilisant des disques durs à haute vitesse dédiés.</span><span class="sxs-lookup"><span data-stu-id="b34cc-132">You can scale up the hardware by adding CPUs, adding memory, upgrading to faster CPUs and using high-speed dedicated disks.</span></span>