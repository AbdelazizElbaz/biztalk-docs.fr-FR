---
title: "Comment utiliser des Expressions pour exécuter des Pipelines | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- ExecuteReceivePipeline() method
- pipelines, schema resolution
- ExecuteSendPipeline() method
- SendPipelineInputMessages class
- pipelines, restrictions
- pipelines, errors
- XLANGPipelineManager class
- receive pipelines, orchestrations
- ReceivePipelineOutputMessages class
- orchestrations, pipelines
- pipelines, component types
- send pipelines, orchestrations
- pipelines, states
- pipelines, executing
- Microsoft.XLANGs.Pipeline namespace
- pipelines, transactional
- pipelines, orchestrations
- Message Assignment shape [Orchestration Designer], pipelines
ms.assetid: f947fa73-526c-4747-8de7-df557a93056c
caps.latest.revision: "26"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e5a6090e0d7322a0e5b10d13016c073b73074392
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="how-to-use-expressions-to-execute-pipelines"></a><span data-ttu-id="e5126-102">Utilisation d'expressions pour exécuter des pipelines</span><span class="sxs-lookup"><span data-stu-id="e5126-102">How to Use Expressions to Execute Pipelines</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="e5126-103"> permet d'appeler de manière synchrone un pipeline à partir d'une orchestration.</span><span class="sxs-lookup"><span data-stu-id="e5126-103"> has the ability to synchronously call a pipeline from within an Orchestration.</span></span> <span data-ttu-id="e5126-104">Cela permet aux orchestrations d'exploiter le traitement des messages encapsulés au sein d’un pipeline (envoi ou réception) contre un ensemble de données sans avoir à envoyer ces données via l'infrastructure de messagerie.</span><span class="sxs-lookup"><span data-stu-id="e5126-104">This enables orchestrations to leverage the message processing encapsulated within a pipeline (either send or receive) against a body of data without having to send that data through the messaging infrastructure.</span></span>  
  
 <span data-ttu-id="e5126-105">Vous pouvez utiliser cette fonctionnalité pour permettre à une orchestration d'appeler un pipeline d'envoi dans le but de regrouper des messages en un seul échange sortant.</span><span class="sxs-lookup"><span data-stu-id="e5126-105">You can use this feature to enable an orchestration to call a send pipeline in order to aggregate several messages into a single outgoing interchange.</span></span> <span data-ttu-id="e5126-106">Inversement, une orchestration peut appeler un pipeline de réception pour décoder et désassembler un échange obtenu en dehors de l'infrastructure de messagerie, en évitant les coûts de traitement lié au passage par MessageBox.</span><span class="sxs-lookup"><span data-stu-id="e5126-106">Conversely, an orchestration could call a receive pipeline to decode and disassemble an interchange obtained outside of the messaging infrastructure, without incurring the processing costs of going through the message box.</span></span>  
  
## <a name="details"></a><span data-ttu-id="e5126-107">Détails</span><span class="sxs-lookup"><span data-stu-id="e5126-107">Details</span></span>  
 <span data-ttu-id="e5126-108">Les orchestrations utilisent des méthodes dans le **XLANGPipelineManager** classe (dans le **Microsoft.XLANGs.Pipeline** espace de noms) à l’appel d’envoi ou de pipelines de réception.</span><span class="sxs-lookup"><span data-stu-id="e5126-108">Orchestrations use methods in the **XLANGPipelineManager** class (in the **Microsoft.XLANGs.Pipeline** namespace) to call send or receive pipelines.</span></span>  <span data-ttu-id="e5126-109">Un pipeline de réception consomme soit un message unique, soit un échange et génère zéro ou plusieurs messages, comme lorsque le pipeline s'exécute dans un contexte de réception de message au sein de la messagerie BizTalk.</span><span class="sxs-lookup"><span data-stu-id="e5126-109">A Receive pipeline consumes either a single message or an interchange and yields zero or more messages, just as when the pipeline executes in the context of receiving a message within BizTalk messaging.</span></span> <span data-ttu-id="e5126-110">Un pipeline d’envoi consomme un ou plusieurs messages et génère un seul message ou échange, toujours comme lorsque le pipeline s'exécute dans un contexte d’envoi de message au sein de la messagerie BizTalk.</span><span class="sxs-lookup"><span data-stu-id="e5126-110">A Send pipeline consumes one or more messages and yields a single message or interchange, again, just as when the pipeline executes in the context of sending a message within BizTalk messaging.</span></span>  
  
## <a name="calling-a-receive-pipeline"></a><span data-ttu-id="e5126-111">Appel d'un pipeline de réception</span><span class="sxs-lookup"><span data-stu-id="e5126-111">Calling a Receive Pipeline</span></span>  
 <span data-ttu-id="e5126-112">Pour appeler un pipeline de réception à partir d’une orchestration, l’application appelle la **ExecuteReceivePipeline()** méthode de la **XLANGPipelineManager** classe.</span><span class="sxs-lookup"><span data-stu-id="e5126-112">In order to call a receive pipeline from within an orchestration, the application calls the **ExecuteReceivePipeline()** method of the **XLANGPipelineManager** class.</span></span>  <span data-ttu-id="e5126-113">Cette méthode consomme un seul échange et retourne une collection de zéro ou plusieurs messages (contenu dans une instance de la **ReceivePipelineOutputMessages** classe).</span><span class="sxs-lookup"><span data-stu-id="e5126-113">This method consumes a single interchange and returns a collection of zero or more messages (contained in an instance of the **ReceivePipelineOutputMessages** class).</span></span> <span data-ttu-id="e5126-114">La syntaxe de cette méthode est détaillée dans la référence de bibliothèque de classes .NET pour les **XLANGPipelineManager** classe.</span><span class="sxs-lookup"><span data-stu-id="e5126-114">The syntax of this method is detailed in the .NET class library reference for the **XLANGPipelineManager** class.</span></span>  
  
 <span data-ttu-id="e5126-115">L’API exécutant le pipeline de réception à partir d’une orchestration est :</span><span class="sxs-lookup"><span data-stu-id="e5126-115">The API for executing a receive pipeline from within an orchestration is:</span></span>  
  
 `// Execute receive pipeline`  
  
 `static public ReceivePipelineOutputMessages ExecuteReceivePipeline(System.Type receivePipelineType, XLANGMessage msg);`  
  
 <span data-ttu-id="e5126-116">Un appel à un pipeline de réception se fait généralement un **Expression** forme au sein de l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="e5126-116">A call to a receive pipeline would typically be done in an **Expression** shape within the orchestration.</span></span>  
  
 <span data-ttu-id="e5126-117">Pour appeler un pipeline de réception depuis une orchestration, le développeur doit faire référence à l’assembly du pipeline dans le projet d’orchestration.</span><span class="sxs-lookup"><span data-stu-id="e5126-117">In order to call a receive pipeline from within an orchestration, the developer must reference the pipeline assembly in the orchestration project.</span></span> <span data-ttu-id="e5126-118">L’exemple suivant illustre une orchestration appelant un pipeline de réception.</span><span class="sxs-lookup"><span data-stu-id="e5126-118">Following is an example of an orchestration that calls a receive pipeline:</span></span>  
  
 <span data-ttu-id="e5126-119">![Écran de Pipeline de réception d’appel](../core/media/callingreceivepipelinefromorchestration.gif "CallingReceivePipelineFromOrchestration")</span><span class="sxs-lookup"><span data-stu-id="e5126-119">![Calling Receive Pipeline screen](../core/media/callingreceivepipelinefromorchestration.gif "CallingReceivePipelineFromOrchestration")</span></span>  
  
 <span data-ttu-id="e5126-120">Pour obtenir un exemple plus détaillé, consultez l’exemple de kit de développement logiciel [processeur de messages composés (exemple BizTalk Server)](../core/composed-message-processor-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="e5126-120">For a more detailed example, see the SDK sample [Composed Message Processor (BizTalk Server Sample)](../core/composed-message-processor-biztalk-server-sample.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e5126-121">Une variable de type **ReceivePipelineOutputMessages** peuvent être déclarées seulement dans une étendue atomique dans une orchestration.</span><span class="sxs-lookup"><span data-stu-id="e5126-121">A variable of type **ReceivePipelineOutputMessages** can be declared only within an atomic scope in an orchestration.</span></span>  <span data-ttu-id="e5126-122">Cela vient du fait que les variables de ce type ne sont pas sérialisables et par conséquent ne peuvent garantir la persistance de l'orchestration, et les orchestrations ne sont pas conservées pendant l’exécution au sein d’une portée atomique.</span><span class="sxs-lookup"><span data-stu-id="e5126-122">This is because variables of this type are not serializable and thus would not survive persistence of the orchestration, and orchestrations are never persisted while executing within an atomic scope.</span></span>  <span data-ttu-id="e5126-123">Cela signifie qu’un pipeline de réception ne peut être exécuté qu'une seule fois au sein d'une étendue atomique.</span><span class="sxs-lookup"><span data-stu-id="e5126-123">This means that a receive pipeline can be executed only within an atomic scope.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e5126-124">Lors de l’appel **PassThruReceive** pipeline ou le composant de pipeline personnalisé à partir d’une orchestration, vous devez déclarer le type de variable pour le message entrant comme System.Xml.XmlDocument du type de message entrant soit XML ou non .</span><span class="sxs-lookup"><span data-stu-id="e5126-124">When calling **PassThruReceive** pipeline or custom pipeline component from within an orchestration, you must declare the variable type for incoming message as System.Xml.XmlDocument despite of the incoming message type is XML or not.</span></span> <span data-ttu-id="e5126-125">Par conséquent, vous rencontrerez peut-être une exception si vous essayez d’intervenir dessus si le message entrant n'est pas un message XML, un message de format fichier plat par exemple.</span><span class="sxs-lookup"><span data-stu-id="e5126-125">Therefore, you may encounter exception if you try to operate on it if the incoming message is a non-XML message such as a flat file format message.</span></span> <span data-ttu-id="e5126-126">C’est pour cette raison qu’un moteur d’orchestration prévoit d’utiliser System.Xml.XmlDocument pour tous les types de message entrant dans le scénario décrit ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="e5126-126">This is because of that orchestration engine intends to use System.Xml.XmlDocument for any type of incoming message in the scenario described above.</span></span>  
  
## <a name="calling-a-send-pipeline"></a><span data-ttu-id="e5126-127">Appel d'un pipeline d’envoi</span><span class="sxs-lookup"><span data-stu-id="e5126-127">Calling a Send Pipeline</span></span>  
 <span data-ttu-id="e5126-128">Pour appeler un pipeline d’envoi à partir d’une orchestration, l’application appelle la **ExecuteSendPipeline()** méthode de la **XLANGPipelineManager** classe.</span><span class="sxs-lookup"><span data-stu-id="e5126-128">To call a send pipeline from within an orchestration, the application calls the **ExecuteSendPipeline()** method of the **XLANGPipelineManager** class.</span></span> <span data-ttu-id="e5126-129">Cette méthode consomme un ensemble d’un ou plusieurs messages (contenu dans une instance de la **SendPipelineInputMessages** classe) et retourne un seul échange.</span><span class="sxs-lookup"><span data-stu-id="e5126-129">This method consumes a collection of one or more messages (contained in an instance of the **SendPipelineInputMessages** class) and returns a single interchange.</span></span> <span data-ttu-id="e5126-130">La syntaxe de cette méthode est détaillée dans la référence de bibliothèque de classes .NET pour les **XLANGPipelineManager** classe.</span><span class="sxs-lookup"><span data-stu-id="e5126-130">The syntax of this method is detailed in the .NET class library reference for the **XLANGPipelineManager** class.</span></span>  <span data-ttu-id="e5126-131">Étant donné que l’exécution d’un pipeline d’envoi génère un nouvel échange, l’appel à **ExecuteSendPipeline()** méthode doit être effectuée dans une forme assignation du message, par conséquent :</span><span class="sxs-lookup"><span data-stu-id="e5126-131">Because execution of a send pipeline yields a new interchange, the call to **ExecuteSendPipeline()** method must be made within a message assignment shape, as such:</span></span>  
  
 <span data-ttu-id="e5126-132">L’API exécutant le pipeline de d’envoi à partir d’une orchestration est :</span><span class="sxs-lookup"><span data-stu-id="e5126-132">The API for executing a send pipeline from within an orchestration is:</span></span>  
  
 `// Execute a send pipeline`  
  
 `static public ExecuteSendPipeline(System.Type sendPipelineType, SendPipelineInputMessages inputMsgs, XLANGMessage msg);`  
  
 <span data-ttu-id="e5126-133">Un appel à un pipeline d’envoi doit être effectué dans un **assignation du Message** forme au sein de l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="e5126-133">A call to a send pipeline must be done in a **Message Assignment** shape within the orchestration.</span></span>  
  
 <span data-ttu-id="e5126-134">Pour appeler un pipeline d’envoi depuis une orchestration, le développeur doit faire référence à l’assembly du pipeline dans le projet d’orchestration.</span><span class="sxs-lookup"><span data-stu-id="e5126-134">In order to call a send pipeline from within an orchestration, the developer must reference the pipeline assembly in the orchestration project.</span></span>  <span data-ttu-id="e5126-135">L’exemple suivant illustre une orchestration appelant un pipeline d’envoi.</span><span class="sxs-lookup"><span data-stu-id="e5126-135">An example of an orchestration that calls a send pipeline:</span></span>  
  
 <span data-ttu-id="e5126-136">![Écran de Pipeline d’envoi d’appel](../core/media/example-callingsendpipelinefromorchestration.gif "Example_CallingSendPipelineFromOrchestration")</span><span class="sxs-lookup"><span data-stu-id="e5126-136">![Calling Send Pipeline screen](../core/media/example-callingsendpipelinefromorchestration.gif "Example_CallingSendPipelineFromOrchestration")</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e5126-137">Lorsque vous appelez le pipeline XMLTransmit par défaut, vous devez définir la propriété du contexte de message XMLNORM.EnvelopeSpecName sur le nom qualifié complet du schéma d’enveloppe.</span><span class="sxs-lookup"><span data-stu-id="e5126-137">When calling the default XMLTransmit pipeline, you must set the message context property XMLNORM.EnvelopeSpecName to the fully qualified name of the Envelope schema.</span></span> <span data-ttu-id="e5126-138">Exemple :</span><span class="sxs-lookup"><span data-stu-id="e5126-138">For example:</span></span>  
>   
>  `MyMessage(XMLNORM.EnvelopeSpecName) = "PipelineSchemas.POEnv, PipelineSchemas, Version=1.0.0.0, Culture=nuetral, PublicKeyToken=12e5cc95621c33e8";`  
  
 <span data-ttu-id="e5126-139">Pour obtenir un exemple plus détaillé, consultez l’exemple de kit de développement logiciel [Aggregator (exemple BizTalk Server)](../core/aggregator-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="e5126-139">For a more detailed example, see the SDK sample [Aggregator (BizTalk Server Sample)](../core/aggregator-biztalk-server-sample.md).</span></span>  
  
## <a name="pipeline-execution---behavioral-differences"></a><span data-ttu-id="e5126-140">Exécution de pipeline - Différences de comportement </span><span class="sxs-lookup"><span data-stu-id="e5126-140">Pipeline Execution - Behavioral Differences</span></span>  
 <span data-ttu-id="e5126-141">L’exécution d’un pipeline d'envoi ou de réception lorsqu'il est appelé par une orchestration est globalement identique à ce qui se passe lorsque le même pipeline est exécuté au sein d'une infrastructure de messagerie (par exemple, au niveau du port d'envoi ou de réception).</span><span class="sxs-lookup"><span data-stu-id="e5126-141">The execution of a send or receive pipeline when called by an orchestration is predominantly the same as when the same pipeline executes within the messaging infrastructure (i.e. at receive location or send port).</span></span>  <span data-ttu-id="e5126-142">Toutefois, dans certains cas, les comportements sont différents, comme l’indiquent les descriptions suivantes.</span><span class="sxs-lookup"><span data-stu-id="e5126-142">However, there are certain behavioral differences that are noted below.</span></span>  
  
### <a name="differences-within-pipeline-stages"></a><span data-ttu-id="e5126-143">Différences au sein des étapes du pipeline</span><span class="sxs-lookup"><span data-stu-id="e5126-143">Differences Within Pipeline Stages</span></span>  
 <span data-ttu-id="e5126-144">L'exécution des étapes au sein d'un pipeline d'envoi ou de réception appelé à partir d'une orchestration est presque identique à l'exécution de ces étapes lorsque le pipeline est appelé à partir de l’infrastructure de messagerie BizTalk, hormis quelques exceptions présentées par étapes ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="e5126-144">The execution of the stages within a send or receive pipeline that is called from within an orchestration is nearly identical to the execution of those stages when the pipeline is called from the BizTalk messaging infrastructure, with the exceptions noted by stage below.</span></span>  
  
-   <span data-ttu-id="e5126-145">Assembleur/désassembleur : Les étapes de l’assembleur et désassembleur ne traitera pas **le modèle de suivi** données.</span><span class="sxs-lookup"><span data-stu-id="e5126-145">Assembler/Disassembler:  The assembler and disassembler stages will not process **Tracking Profile** data.</span></span>  
  
-   <span data-ttu-id="e5126-146">Encodeur/décodeur : L’encodeur MIME signe numériquement les messages à l’aide du certificat configuré sur l’hôte auquel l’ordinateur hôte est associé.</span><span class="sxs-lookup"><span data-stu-id="e5126-146">Encoder/Decoder:  The MIME encoder digitally signs messages using the certificate configured at the host with which the host is associated.</span></span>  <span data-ttu-id="e5126-147">L'encodeur SMIME crypte les messages à l’aide du certificat dans le contexte du message transmis dans le pipeline.</span><span class="sxs-lookup"><span data-stu-id="e5126-147">The SMIME encoder encrypts messages using the certificate on the context of the message passed into the pipeline.</span></span>  
  
### <a name="schema-resolution"></a><span data-ttu-id="e5126-148">Résolution de schéma</span><span class="sxs-lookup"><span data-stu-id="e5126-148">Schema Resolution</span></span>  
 <span data-ttu-id="e5126-149">Il existe deux algorithmes de recherche de schéma pris en charge pendant l’exécution d’un pipeline à partir d’une orchestration :</span><span class="sxs-lookup"><span data-stu-id="e5126-149">There are two schema lookup algorithms that are supported when executing a pipeline from an orchestration:</span></span>  
  
-   <span data-ttu-id="e5126-150">Résolution par type</span><span class="sxs-lookup"><span data-stu-id="e5126-150">Resolution by type</span></span>  
  
-   <span data-ttu-id="e5126-151">Résolution par nom</span><span class="sxs-lookup"><span data-stu-id="e5126-151">Resolution by name</span></span>  
  
 <span data-ttu-id="e5126-152">Dans les cas où des schémas dupliqués sont déployés, la logique de l’algorithme pour sélectionner le schéma approprié est identique à celle utilisée lors de l’exécution dans le contexte de l’infrastructure de messagerie.</span><span class="sxs-lookup"><span data-stu-id="e5126-152">In cases where duplicate schemas are deployed, the algorithm's logic for selecting the appropriate schema is identical to that used when executing in the context of the messaging infrastructure.</span></span>  
  
### <a name="transactional-pipelines"></a><span data-ttu-id="e5126-153">Pipelines transactionnels</span><span class="sxs-lookup"><span data-stu-id="e5126-153">Transactional Pipelines</span></span>  
 <span data-ttu-id="e5126-154">Les pipelines dont les étapes appellent des composants transactionnels n'ont pas de contexte transactionnel disponible.</span><span class="sxs-lookup"><span data-stu-id="e5126-154">Pipelines whose stages call transactional components will not have a transactional context available.</span></span>  <span data-ttu-id="e5126-155">Tout appel à **Ipipelinecontext.gettransaction** lève **NotSupportedException**.</span><span class="sxs-lookup"><span data-stu-id="e5126-155">Any call to **IPipelineContext.GetTransaction()** will throw **NotSupportedException**.</span></span>  <span data-ttu-id="e5126-156">Cela n’empêche pas l’exécution d’un tel pipeline à partir d’une orchestration, mais cela signifie que le pipeline devra détecter et gérer la situation.</span><span class="sxs-lookup"><span data-stu-id="e5126-156">This does not preclude execution of such a pipeline from an orchestration, but it does mean that the pipeline will have to detect and handle this situation.</span></span>  
  
### <a name="message-destination"></a><span data-ttu-id="e5126-157">Destination de message</span><span class="sxs-lookup"><span data-stu-id="e5126-157">Message Destination</span></span>  
 <span data-ttu-id="e5126-158">Le contrôle de la destination des messages par composants de pipeline n'est pas prise en charge dans ce contexte.</span><span class="sxs-lookup"><span data-stu-id="e5126-158">Controlling message destination by pipeline components is not supported in this context.</span></span>  <span data-ttu-id="e5126-159">Définition des propriétés de contexte **MessageDestination** ou **SuspendOnRoutingFailure** entraîne une **XLANGPipelineManagerException** levée.</span><span class="sxs-lookup"><span data-stu-id="e5126-159">Setting the context properties **MessageDestination** or **SuspendOnRoutingFailure** will cause an **XLANGPipelineManagerException** to be thrown.</span></span>  
  
### <a name="pipeline-component-types"></a><span data-ttu-id="e5126-160">Types de composant de pipeline</span><span class="sxs-lookup"><span data-stu-id="e5126-160">Pipeline Component Types</span></span>  
 <span data-ttu-id="e5126-161">Les composants de pipeline doivent se fonder sur les éléments suivants pour pouvoir être appelés à partir d'une orchestration.</span><span class="sxs-lookup"><span data-stu-id="e5126-161">Pipeline components must be based on the following in order to be called from within an orchestration:</span></span>  
  
-   <span data-ttu-id="e5126-162">NET Framework v1.1</span><span class="sxs-lookup"><span data-stu-id="e5126-162">.NET Framework v1.1</span></span>  
  
-   <span data-ttu-id="e5126-163">NET Framework v2.0</span><span class="sxs-lookup"><span data-stu-id="e5126-163">.NET Framework v2.0</span></span>  
  
-   <span data-ttu-id="e5126-164">.NET Framework v3.0</span><span class="sxs-lookup"><span data-stu-id="e5126-164">.NET Framework v3.0</span></span>  
  
-   <span data-ttu-id="e5126-165">.NET Framework v3.5</span><span class="sxs-lookup"><span data-stu-id="e5126-165">.NET Framework v3.5</span></span>  
  
-   <span data-ttu-id="e5126-166">.NET Framework v4.0</span><span class="sxs-lookup"><span data-stu-id="e5126-166">.NET Framework v4.0</span></span>  
  
-   <span data-ttu-id="e5126-167">NET Framework v2.0</span><span class="sxs-lookup"><span data-stu-id="e5126-167">.NET Framework v2.0</span></span>  
  
-   <span data-ttu-id="e5126-168">COM</span><span class="sxs-lookup"><span data-stu-id="e5126-168">COM</span></span>  
  
## <a name="restrictions"></a><span data-ttu-id="e5126-169">Restrictions</span><span class="sxs-lookup"><span data-stu-id="e5126-169">Restrictions</span></span>  
 <span data-ttu-id="e5126-170">Les types de pipelines suivants **ne peut pas** être exécutés à partir d’une orchestration :</span><span class="sxs-lookup"><span data-stu-id="e5126-170">The following types of pipelines **cannot** be executed from within an orchestration:</span></span>  
  
-   <span data-ttu-id="e5126-171">Pipelines transactionnels</span><span class="sxs-lookup"><span data-stu-id="e5126-171">Transactional pipelines</span></span>  
  
-   <span data-ttu-id="e5126-172">Pipelines récupérables</span><span class="sxs-lookup"><span data-stu-id="e5126-172">Recoverable pipelines</span></span>  
  
-   <span data-ttu-id="e5126-173">Les pipelines qui appellent l’API de l’intercepteur BAM (une **NotSupportedException** sera levée).</span><span class="sxs-lookup"><span data-stu-id="e5126-173">Pipelines which call the BAM interceptor API (a **NotSupportedException** will be thrown).</span></span>  
  
-   <span data-ttu-id="e5126-174">La même instance de pipeline ne peut pas être exécutée dans différentes branches d’une forme parallèle, sauf si elle est placée dans une étendue synchronisée dans chaque branche.</span><span class="sxs-lookup"><span data-stu-id="e5126-174">The same pipeline instance cannot be executed in different branches of the parallel shape unless it is placed in a synchronized scope in every branch.</span></span>  
  
-   <span data-ttu-id="e5126-175">Pipelines existant (assemblys) construits à partir du kit de développement logiciel [!INCLUDE[btsBizTalkServer2006](../includes/btsbiztalkserver2006-md.md)] SDK.</span><span class="sxs-lookup"><span data-stu-id="e5126-175">Existing pipelines (assemblies) that were built against the [!INCLUDE[btsBizTalkServer2006](../includes/btsbiztalkserver2006-md.md)] SDK.</span></span>  
  
## <a name="failure-modes-and-effects"></a><span data-ttu-id="e5126-176">Modes d’échec et effets</span><span class="sxs-lookup"><span data-stu-id="e5126-176">Failure Modes and Effects</span></span>  
 <span data-ttu-id="e5126-177">Tout échec dans l’exécution du pipeline qui aurait provoqué la suspension d’un message venait de l’appel d’un pipeline à partir de l’infrastructure de messagerie BizTalk Server Messaging Infrastructure, désormais, seule une exception sera levée.</span><span class="sxs-lookup"><span data-stu-id="e5126-177">Any failure in pipeline execution which would have resulted in a suspended message were this pipeline to be called from within the BizTalk Server Messaging Infrastructure will instead result in an exception being thrown.</span></span>  <span data-ttu-id="e5126-178">L’exception levée est de type **Microsoft.XLANGs.Pipeline.XLANGPipelineManagerException**.</span><span class="sxs-lookup"><span data-stu-id="e5126-178">The exception thrown is of type **Microsoft.XLANGs.Pipeline.XLANGPipelineManagerException**.</span></span>  <span data-ttu-id="e5126-179">Cette exception peut être gérée dans un bloc catch au sein de l'orchestration appelant.</span><span class="sxs-lookup"><span data-stu-id="e5126-179">This thrown exception can be handled in a catch block within the calling orchestration.</span></span>  <span data-ttu-id="e5126-180">Si l'orchestration n'intercepte pas l'erreur levée, le moteur XLANGs envoie une erreur dont le texte présente les informations concernant l’exception levée.</span><span class="sxs-lookup"><span data-stu-id="e5126-180">If the orchestration does not catch the thrown exception, the XLANGs engine reports an error the text of which includes the exception information in the thrown exception.</span></span>  
  
 <span data-ttu-id="e5126-181">L’exception procède au formatage des messages d’erreur générés par les composants du pipeline.</span><span class="sxs-lookup"><span data-stu-id="e5126-181">The exception performs formatting of the error messages generated by the pipeline components.</span></span>  
  
 <span data-ttu-id="e5126-182">Le **Message** propriété de la **XLANGPipelineManagerException** classe contient les détails de l’erreur d’exécution du pipeline.</span><span class="sxs-lookup"><span data-stu-id="e5126-182">The **Message** property of the **XLANGPipelineManagerException** class contains details of the pipeline's execution error.</span></span> <span data-ttu-id="e5126-183">Ces détails se présentent au format suivant.</span><span class="sxs-lookup"><span data-stu-id="e5126-183">This detail is in the following format:</span></span>  
  
-   <span data-ttu-id="e5126-184">Échec de l’exécution du pipeline \<type de pipeline >.</span><span class="sxs-lookup"><span data-stu-id="e5126-184">There was a failure executing pipeline \<pipeline type>.</span></span>  <span data-ttu-id="e5126-185">Détails de l’erreur \<mis en forme le message d’erreur >.</span><span class="sxs-lookup"><span data-stu-id="e5126-185">Error details \<formatted error message>.</span></span>  
  
 <span data-ttu-id="e5126-186">Dans ce message, \<type de pipeline > est le nom de la classe de pipeline et \<mis en forme le message d’erreur > est une description de l’erreur spécifique qui s’est produite lors de l’exécution du pipeline.</span><span class="sxs-lookup"><span data-stu-id="e5126-186">In this message, \<pipeline type> is the name of the pipeline class and \<formatted error message> is a description of the specific failure that occurred during pipeline execution.</span></span>  
  
 <span data-ttu-id="e5126-187">Par exemple, si une orchestration appelle un pipeline de réception et que l’exécution du pipeline échoue, car aucun des composants du pipeline reconnaît le message, les valeurs de la **XLANGPipelineManagerException**de propriétés sont être :</span><span class="sxs-lookup"><span data-stu-id="e5126-187">For example, if an orchestration calls a receive pipeline and that pipeline's execution fails because none of the pipeline's components recognizes the message, the values of the **XLANGPipelineManagerException**'s properties would be:</span></span>  
  
|<span data-ttu-id="e5126-188">Propriété XLANGPipelineManagerException</span><span class="sxs-lookup"><span data-stu-id="e5126-188">XLANGPipelineManagerException property</span></span>|<span data-ttu-id="e5126-189">Valeur</span><span class="sxs-lookup"><span data-stu-id="e5126-189">Value</span></span>|  
|--------------------------------------------|-----------|  
|<span data-ttu-id="e5126-190">Message</span><span class="sxs-lookup"><span data-stu-id="e5126-190">Message</span></span>|<span data-ttu-id="e5126-191">Il s'est produit une erreur lors de l'exécution du pipeline de réception "MyPipelines.ReceivePipeline".</span><span class="sxs-lookup"><span data-stu-id="e5126-191">There was a failure executing the receive pipeline "MyPipelines.ReceivePipeline".</span></span> <span data-ttu-id="e5126-192">Détails de l’erreur : « aucune étape Désassembler ne peut reconnaître les données.</span><span class="sxs-lookup"><span data-stu-id="e5126-192">Error details: "No Disassemble stage components can recognize the data.</span></span>|  
|<span data-ttu-id="e5126-193">Composant</span><span class="sxs-lookup"><span data-stu-id="e5126-193">Component</span></span>|<span data-ttu-id="e5126-194">String.Empty</span><span class="sxs-lookup"><span data-stu-id="e5126-194">String.Empty</span></span>|  
  
 <span data-ttu-id="e5126-195">Autre exemple, si une orchestration appelle un pipeline d’envoi et que l’exécution du pipeline échoue en raison d’un échec de validation, le texte dans le **Message** propriété du **XLANGPipelineManagerException**serait :</span><span class="sxs-lookup"><span data-stu-id="e5126-195">As another example, if an orchestration calls a send pipeline and that pipeline's execution fails because there is a validation failure, the text in the **Message** property of **XLANGPipelineManagerException** would be:</span></span>  
  
|<span data-ttu-id="e5126-196">Propriété XLANGPipelineManagerException</span><span class="sxs-lookup"><span data-stu-id="e5126-196">XLANGPipelineManagerException property</span></span>|<span data-ttu-id="e5126-197">Valeur</span><span class="sxs-lookup"><span data-stu-id="e5126-197">Value</span></span>|  
|--------------------------------------------|-----------|  
|<span data-ttu-id="e5126-198">Message</span><span class="sxs-lookup"><span data-stu-id="e5126-198">Message</span></span>|<span data-ttu-id="e5126-199">Il s'est produit une erreur lors de l'exécution du pipeline d’envoi "MyPipelines.SendPipeline".</span><span class="sxs-lookup"><span data-stu-id="e5126-199">There was a failure executing the send pipeline "MyPipelines.SendPipeline".</span></span>  <span data-ttu-id="e5126-200">Détails de l’erreur : « Impossible de valider le document : « le \<nom d’élément > élément n’est pas valide - la valeur \<valeur de l’élément > n’est pas valide selon son type de données 'String' - échouée de la contrainte Pattern. » »</span><span class="sxs-lookup"><span data-stu-id="e5126-200">Error details:  "Failed to validate the document: "The \<element name> element is invalid - The value \<element value> is invalid according to its datatype 'String' - The Pattern constraint failed.""</span></span>|  
|<span data-ttu-id="e5126-201">Composant</span><span class="sxs-lookup"><span data-stu-id="e5126-201">Component</span></span>|<span data-ttu-id="e5126-202">“Microsoft.BizTalk.Component.XmlValidator”</span><span class="sxs-lookup"><span data-stu-id="e5126-202">“Microsoft.BizTalk.Component.XmlValidator”</span></span>|