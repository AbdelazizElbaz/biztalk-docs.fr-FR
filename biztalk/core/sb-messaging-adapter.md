---
title: Adaptateur de messagerie Service Bus | Documents Microsoft
description: "Envoyer et recevoir des messages à l’aide de l’adaptateur Azure SB-Messaging dans BizTalk Server"
ms.custom: 
ms.date: 11/21/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: c06c4934-45b2-4f6f-9d19-3ebd937c32ae
caps.latest.revision: "5"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1775606a911d8ce23fd2999ad367053c4f8f72de
ms.sourcegitcommit: f65e8ed2b8c18cded26b9d60868fb6a56bcc1205
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/21/2017
---
# <a name="sb-messaging-adapter"></a><span data-ttu-id="64236-103">Adaptateur SB-Messaging</span><span class="sxs-lookup"><span data-stu-id="64236-103">SB-Messaging Adapter</span></span>
<span data-ttu-id="64236-104">Le Bus de Service (**SB-Messaging**) carte est utilisée pour recevoir et envoyer des entités Service Bus, comme les files d’attente, rubriques et les relais.</span><span class="sxs-lookup"><span data-stu-id="64236-104">The Service Bus (**SB-Messaging**) adapter is used to receive and send from Service Bus entities like Queues, Topics, and Relays.</span></span> <span data-ttu-id="64236-105">Vous pouvez utiliser la **SB-Messaging** adaptateur pour se connecter à votre site [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] vers Azure.</span><span class="sxs-lookup"><span data-stu-id="64236-105">You can use the **SB-Messaging** adapter to connect your on-premises [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to Azure.</span></span>

<span data-ttu-id="64236-106">**En commençant par [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] Feature Pack 2**, Service Bus Premium est prise en charge.</span><span class="sxs-lookup"><span data-stu-id="64236-106">**Starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] Feature Pack 2**, Service Bus Premium is supported.</span></span> <span data-ttu-id="64236-107">Lorsque vous configurez un port d’envoi à l’aide de cette carte, vous pouvez envoyer des messages vers des rubriques et files d’attente partitionnées.</span><span class="sxs-lookup"><span data-stu-id="64236-107">When configuring a send port using this adapter, you can send messages to partitioned queues and topics.</span></span> 

## <a name="authenticating-with-service-bus"></a><span data-ttu-id="64236-108">L’authentification avec Service Bus</span><span class="sxs-lookup"><span data-stu-id="64236-108">Authenticating with Service Bus</span></span>
<span data-ttu-id="64236-109">Service Bus fournit deux méthodes d’authentification :</span><span class="sxs-lookup"><span data-stu-id="64236-109">Service Bus provides two methods to authenticate:</span></span> 

- <span data-ttu-id="64236-110">Service de contrôle d’accès (ACS)</span><span class="sxs-lookup"><span data-stu-id="64236-110">Access Control Service (ACS)</span></span> 
- <span data-ttu-id="64236-111">Signature d’accès partagé (SAS)</span><span class="sxs-lookup"><span data-stu-id="64236-111">Shared Access Signature (SAS)</span></span>

<span data-ttu-id="64236-112">Nous vous recommandons de s’authentifier auprès de Service Bus à l’aide de la Signature d’accès partagé (SAS).</span><span class="sxs-lookup"><span data-stu-id="64236-112">We recommend using Shared Access Signature (SAS) to authenticate with Service Bus.</span></span> <span data-ttu-id="64236-113">La valeur de clé d’accès partagé est répertoriée dans le [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="64236-113">The Shared Access Key value is listed in the [Azure portal](https://portal.azure.com).</span></span>

<span data-ttu-id="64236-114">Lorsque vous créez un espace de noms Service Bus, l’espace de noms Access Control (ACS) n’est pas créé automatiquement.</span><span class="sxs-lookup"><span data-stu-id="64236-114">When you create a Service Bus namespace, the Access Control (ACS) namespace is not automatically created.</span></span> <span data-ttu-id="64236-115">Pour utiliser le contrôle d’accès, vous devez les valeurs de nom de l’émetteur et la clé de l’émetteur de cet espace de noms.</span><span class="sxs-lookup"><span data-stu-id="64236-115">To use Access Control, you need the Issuer Name and Issuer Key values of this namespace.</span></span> <span data-ttu-id="64236-116">Ces valeurs sont disponibles lorsque vous créez un nouvel espace de noms ACS à l’aide de Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="64236-116">These values are available when you create a new ACS namespace using Windows PowerShell.</span></span> <span data-ttu-id="64236-117">Ces valeurs ne sont pas répertoriées dans le portail Azure.</span><span class="sxs-lookup"><span data-stu-id="64236-117">These values are not listed in the Azure portal.</span></span>

<span data-ttu-id="64236-118">Pour utiliser des services ACS pour l’authentification et obtenir les valeurs de nom de l’émetteur et la clé de l’émetteur, les étapes générales sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="64236-118">To use ACS for authentication, and get the Issuer Name and Issuer Key values, the overall steps include:</span></span>

1. <span data-ttu-id="64236-119">Installer le [applets de commande Azure Powershell](https://azure.microsoft.com/documentation/articles/powershell-install-configure/).</span><span class="sxs-lookup"><span data-stu-id="64236-119">Install the [Azure Powershell cmdlets](https://azure.microsoft.com/documentation/articles/powershell-install-configure/).</span></span>
2. <span data-ttu-id="64236-120">Ajoutez votre compte Azure :`Add-AzureAccount`</span><span class="sxs-lookup"><span data-stu-id="64236-120">Add your Azure account: `Add-AzureAccount`</span></span>
3. <span data-ttu-id="64236-121">Retourne le nom de votre abonnement :`get-azuresubscription`</span><span class="sxs-lookup"><span data-stu-id="64236-121">Return your subscription name: `get-azuresubscription`</span></span>
4. <span data-ttu-id="64236-122">Sélectionnez votre abonnement :`select-azuresubscription <name of your subscription>`</span><span class="sxs-lookup"><span data-stu-id="64236-122">Select your subscription: `select-azuresubscription <name of your subscription>`</span></span> 
5. <span data-ttu-id="64236-123">Créer un nouvel espace de noms :`new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="64236-123">Create a new namespace: `new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>

    <span data-ttu-id="64236-124">Exemple :`new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="64236-124">Example:    `new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>
      
5. <span data-ttu-id="64236-125">Lorsque l’espace de noms ACS est créé (ce qui peut prendre plusieurs minutes), les valeurs IssuerName et IssuerKey sont répertoriés dans la chaîne de connexion :</span><span class="sxs-lookup"><span data-stu-id="64236-125">When the new ACS namespace is created (which can take several minutes), the IssuerName and IssuerKey values are listed in the connection string:</span></span> 

    ```
    Name                  : biztalksbnamespace
    Region                : South Central US
    DefaultKey            : abcdefghijklmnopqrstuvwxyz
    Status                : Active
    CreatedAt             : 10/18/2016 9:36:30 PM
    AcsManagementEndpoint : https://biztalksbnamespace-sb.accesscontrol.windows.net/
    ServiceBusEndpoint    : https://biztalksbnamespace.servicebus.windows.net/
    ConnectionString      : Endpoint=sb://biztalksbnamespace.servicebus.windows.net/;SharedSecretIssuer=owner;SharedSecretValue=abcdefghijklmnopqrstuvwxyz
    NamespaceType         : Messaging
    ```

<span data-ttu-id="64236-126">Consultez [New-AzureSBNamespace](https://docs.microsoft.com/powershell/module/Azure/New-AzureSBNamespace) pour obtenir des conseils.</span><span class="sxs-lookup"><span data-stu-id="64236-126">See [New-AzureSBNamespace](https://docs.microsoft.com/powershell/module/Azure/New-AzureSBNamespace) for guidance.</span></span>

## <a name="receive-messages-from-service-bus"></a><span data-ttu-id="64236-127">Recevoir des messages de Service Bus</span><span class="sxs-lookup"><span data-stu-id="64236-127">Receive messages from Service Bus</span></span>
  
1. <span data-ttu-id="64236-128">Dans la console Administration de BizTalk Server, développez **groupe BizTalk**, développez **Applications**, puis développez votre application.</span><span class="sxs-lookup"><span data-stu-id="64236-128">In the BizTalk Server Administration console, expand **BizTalk Group**, expand **Applications**, and then expand your application.</span></span> 

2. <span data-ttu-id="64236-129">Avec le bouton droit **Ports de réception**, sélectionnez **nouveau**, puis sélectionnez **unidirectionnel port de réception**.</span><span class="sxs-lookup"><span data-stu-id="64236-129">Right-click **Receive Ports**, select **New**, and select **One-Way receive port**.</span></span> 

3. <span data-ttu-id="64236-130">Donnez-lui un nom, puis sélectionnez **emplacements de réception**.</span><span class="sxs-lookup"><span data-stu-id="64236-130">Give it a name, and select **Receive Locations**.</span></span> 

4. <span data-ttu-id="64236-131">Sélectionnez **nouveau**, lui donner un **nom**.</span><span class="sxs-lookup"><span data-stu-id="64236-131">Select **New**, give it a **Name**.</span></span> <span data-ttu-id="64236-132">Dans le **Transport** section, sélectionnez **SB-Messaging** à partir de la **Type** liste déroulante et sélectionnez **configurer**.</span><span class="sxs-lookup"><span data-stu-id="64236-132">In the **Transport** section, select **SB-Messaging** from the **Type** drop-down list, and then select **Configure**.</span></span>  
  
5. <span data-ttu-id="64236-133">Configurer le **général** propriétés :</span><span class="sxs-lookup"><span data-stu-id="64236-133">Configure the **General** properties:</span></span>  
  
    |<span data-ttu-id="64236-134">Utiliser</span><span class="sxs-lookup"><span data-stu-id="64236-134">Use this</span></span>|<span data-ttu-id="64236-135">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="64236-135">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="64236-136">**URL de file d’attente ou d’un abonnement**</span><span class="sxs-lookup"><span data-stu-id="64236-136">**Queue or Subscription URL**</span></span>|<span data-ttu-id="64236-137">Spécifier l’URL où la file d’attente Service Bus est déployée.</span><span class="sxs-lookup"><span data-stu-id="64236-137">Specify the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="64236-138">En règle générale, l’URL est au format suivant :</span><span class="sxs-lookup"><span data-stu-id="64236-138">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`|  
    |<span data-ttu-id="64236-139">**Open Timeout**</span><span class="sxs-lookup"><span data-stu-id="64236-139">**Open Timeout**</span></span>|<span data-ttu-id="64236-140">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération d’ouverture de canal soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="64236-140">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="64236-141">**Valeur par défaut :** 1 minute</span><span class="sxs-lookup"><span data-stu-id="64236-141">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="64236-142">**Fermer le délai d’attente**</span><span class="sxs-lookup"><span data-stu-id="64236-142">**Close Timeout**</span></span>|<span data-ttu-id="64236-143">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération de fermeture soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="64236-143">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="64236-144">**Valeur par défaut :** 1 minute</span><span class="sxs-lookup"><span data-stu-id="64236-144">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="64236-145">**Délai de réception**</span><span class="sxs-lookup"><span data-stu-id="64236-145">**Receive timeout**</span></span>|<span data-ttu-id="64236-146">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération de réception soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="64236-146">Specifies a time span value that indicates the time for a receive operation to complete.</span></span><br /><br /> <span data-ttu-id="64236-147">**Valeur par défaut :** 10 minutes</span><span class="sxs-lookup"><span data-stu-id="64236-147">**Default value:** 10 minutes</span></span>|  
    |<span data-ttu-id="64236-148">**Nombre de prérécupérations**</span><span class="sxs-lookup"><span data-stu-id="64236-148">**Prefetch count**</span></span>|<span data-ttu-id="64236-149">Spécifie le nombre de messages reçus simultanément en provenance de la file d’attente Service Bus ou d’une rubrique.</span><span class="sxs-lookup"><span data-stu-id="64236-149">Specifies the number of messages that are received simultaneously from the Service Bus Queue or a topic.</span></span> <span data-ttu-id="64236-150">Le préchargement permet au client de la file d’attente ou de l’abonnement de charger des messages supplémentaires à partir du service lorsque celui-ci effectue une opération de réception.</span><span class="sxs-lookup"><span data-stu-id="64236-150">Prefetching enables the queue or subscription client to load additional messages from the service when it performs a receive operation.</span></span> <span data-ttu-id="64236-151">Le client stocke ces messages dans un cache local.</span><span class="sxs-lookup"><span data-stu-id="64236-151">The client stores these messages in a local cache.</span></span> <span data-ttu-id="64236-152">La taille du cache est déterminée par la valeur spécifiée ici pour la propriété Nombre de préchargements.</span><span class="sxs-lookup"><span data-stu-id="64236-152">The size of the cache is determined by the value for the Prefetch Count property you specify here.</span></span><br /><br /> <span data-ttu-id="64236-153">Pour plus d’informations, reportez-vous à la section « Préchargement » à [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span><span class="sxs-lookup"><span data-stu-id="64236-153">For more information, refer to the section “Prefetching” at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span></span><br /><br /> <span data-ttu-id="64236-154">**Valeur par défaut :** -1</span><span class="sxs-lookup"><span data-stu-id="64236-154">**Default value:** -1</span></span>|  
    |<span data-ttu-id="64236-155">**Utiliser la Session**</span><span class="sxs-lookup"><span data-stu-id="64236-155">**Use Session**</span></span>|<span data-ttu-id="64236-156">Activer cette case à cocher pour utiliser une session Service Bus afin de recevoir des messages en provenance d’une file d’attente ou d’un abonnement.</span><span class="sxs-lookup"><span data-stu-id="64236-156">Select this check box to use a Service Bus session to receive messages from a queue or a subscription.</span></span>|  
  
6.  <span data-ttu-id="64236-157">Configurer le **authentification** propriétés :</span><span class="sxs-lookup"><span data-stu-id="64236-157">Configure the **Authentication** properties:</span></span>  
  
    |<span data-ttu-id="64236-158">Utiliser</span><span class="sxs-lookup"><span data-stu-id="64236-158">Use this</span></span>|<span data-ttu-id="64236-159">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="64236-159">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="64236-160">**Service de contrôle d’accès**</span><span class="sxs-lookup"><span data-stu-id="64236-160">**Access Control Service**</span></span>|<span data-ttu-id="64236-161">Sélectionnez cette option afin d'utiliser ACS pour l'authentification et fournir les valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="64236-161">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="64236-162">-Entrez l’URI STS du Service de contrôle Service Bus accès.</span><span class="sxs-lookup"><span data-stu-id="64236-162">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="64236-163">En règle générale, l’URI est au format suivant :</span><span class="sxs-lookup"><span data-stu-id="64236-163">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="64236-164">-Entrez le nom de l’émetteur pour l’espace de noms Service Bus.</span><span class="sxs-lookup"><span data-stu-id="64236-164">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="64236-165">-Entrez la clé de l’émetteur pour l’espace de noms Service Bus.</span><span class="sxs-lookup"><span data-stu-id="64236-165">- Enter the issuer key for the Service Bus namespace.</span></span>|  
    |<span data-ttu-id="64236-166">**Signature d’accès partagé** (new compter [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="64236-166">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span>|<span data-ttu-id="64236-167">Sélectionnez cette option pour utiliser la signature d'accès partagé (SAP) pour l'authentification, et fournissez la valeur de clé et le nom de clé SAS.</span><span class="sxs-lookup"><span data-stu-id="64236-167">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>|  
  
7.  <span data-ttu-id="64236-168">Dans le **propriétés** sous l’onglet du **Namespace pour les propriétés du Message réparti**, entrez l’espace de noms que l’adaptateur utilise pour écrire les propriétés de message réparti en tant que propriétés de contexte de message sur le message reçu par [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="64236-168">In the **Properties** tab, in the **Namespace for Brokered Message Properties**, enter the namespace that the adapter uses to write the brokered message properties as message context properties on the message received by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="64236-169">Si vous souhaitez promouvoir les propriétés de message réparti, sélectionnez le **promouvoir les propriétés de Message réparti** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="64236-169">If you want to promote the brokered message properties, select the **Promote Brokered Message Properties** check box.</span></span>  
  
8.  <span data-ttu-id="64236-170">Sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="64236-170">Select **OK**.</span></span>  
  
9. <span data-ttu-id="64236-171">Sélectionnez votre **Gestionnaire de réception**et le **pipeline de réception**.</span><span class="sxs-lookup"><span data-stu-id="64236-171">Select your **Receive handler**, and the **Receive pipeline**.</span></span> <span data-ttu-id="64236-172">Sélectionnez **OK** pour enregistrer vos modifications.</span><span class="sxs-lookup"><span data-stu-id="64236-172">Select **OK** to save your changes.</span></span> <span data-ttu-id="64236-173">[Créer un emplacement de réception](../core/how-to-create-a-receive-location.md) fournit quelques conseils.</span><span class="sxs-lookup"><span data-stu-id="64236-173">[Create a Receive Location](../core/how-to-create-a-receive-location.md) provides some guidance.</span></span>  
  
## <a name="send-messages-to-service-bus"></a><span data-ttu-id="64236-174">Envoyer des messages à Service Bus</span><span class="sxs-lookup"><span data-stu-id="64236-174">Send messages to Service Bus</span></span>
  
1.  <span data-ttu-id="64236-175">Dans la console Administration de BizTalk Server, cliquez sur **Ports d’envoi**, sélectionnez **nouveau**, puis sélectionnez **port d’envoi unidirectionnel statique**.</span><span class="sxs-lookup"><span data-stu-id="64236-175">In the BizTalk Server Administration console, right-click **Send Ports**, select **New**, and select **Static One-way send port**.</span></span>

    <span data-ttu-id="64236-176">[Créer un Port d’envoi](../core/how-to-create-a-send-port2.md) fournit quelques conseils.</span><span class="sxs-lookup"><span data-stu-id="64236-176">[Create a Send Port](../core/how-to-create-a-send-port2.md) provides some guidance.</span></span>

2. <span data-ttu-id="64236-177">Entrez un **nom**.</span><span class="sxs-lookup"><span data-stu-id="64236-177">Enter a **Name**.</span></span> <span data-ttu-id="64236-178">Dans **Transport**, définissez le **Type** à **SB-Messaging**, puis sélectionnez **configurer**.</span><span class="sxs-lookup"><span data-stu-id="64236-178">In **Transport**, set the **Type** to **SB-Messaging**, and select **Configure**.</span></span> 
  
3.  <span data-ttu-id="64236-179">Configurer le **général** propriétés :</span><span class="sxs-lookup"><span data-stu-id="64236-179">Configure the **General** properties:</span></span>  
  
    |<span data-ttu-id="64236-180">Utiliser</span><span class="sxs-lookup"><span data-stu-id="64236-180">Use this</span></span>|<span data-ttu-id="64236-181">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="64236-181">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="64236-182">**URL de destination**</span><span class="sxs-lookup"><span data-stu-id="64236-182">**Destination URL**</span></span>|<span data-ttu-id="64236-183">Entrez l’URL où la file d’attente du Bus de Service est déployé.</span><span class="sxs-lookup"><span data-stu-id="64236-183">Enter the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="64236-184">En règle générale, l’URL est au format suivant :</span><span class="sxs-lookup"><span data-stu-id="64236-184">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`|  
    |<span data-ttu-id="64236-185">**Intervalle de vidage de lot**</span><span class="sxs-lookup"><span data-stu-id="64236-185">**Batch Flush Interval**</span></span>|<span data-ttu-id="64236-186">Spécifie une valeur de période indiquant l’intervalle dans lequel les lots de messages envoyés vers une file d’attente ou une rubrique sont vidés.</span><span class="sxs-lookup"><span data-stu-id="64236-186">Specifies a time span value that indicates the interval when the message batches being sent to a Queue or a Topic are flushed.</span></span> <span data-ttu-id="64236-187">La valeur par défaut est 20 millisecondes.</span><span class="sxs-lookup"><span data-stu-id="64236-187">The default value is 20 milliseconds.</span></span><br /><br /> <span data-ttu-id="64236-188">Pour plus d’informations sur le traitement par lots en ce qui concerne les rubriques et files d’attente du Bus de Service, consultez le **le traitement par lots côté Client** section à [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements).</span><span class="sxs-lookup"><span data-stu-id="64236-188">For more information about batching with respect to Service Bus Queues and Topics, see the **Client-side batching** section at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements).</span></span>|  
    |<span data-ttu-id="64236-189">**Open Timeout**</span><span class="sxs-lookup"><span data-stu-id="64236-189">**Open Timeout**</span></span>|<span data-ttu-id="64236-190">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération d’ouverture de canal soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="64236-190">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="64236-191">**Valeur par défaut :** 1 minute</span><span class="sxs-lookup"><span data-stu-id="64236-191">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="64236-192">**Un délai d’envoi**</span><span class="sxs-lookup"><span data-stu-id="64236-192">**Send Timeout**</span></span>|<span data-ttu-id="64236-193">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération d’envoi soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="64236-193">Specifies a time span value that indicates the time for a send operation to complete.</span></span><br /><br /> <span data-ttu-id="64236-194">**Valeur par défaut :** 1 minute</span><span class="sxs-lookup"><span data-stu-id="64236-194">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="64236-195">**Fermer le délai d’attente**</span><span class="sxs-lookup"><span data-stu-id="64236-195">**Close Timeout**</span></span>|<span data-ttu-id="64236-196">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération de fermeture soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="64236-196">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="64236-197">**Valeur par défaut :** 1 minute</span><span class="sxs-lookup"><span data-stu-id="64236-197">**Default value:** 1 minute</span></span>|  
  
4.  <span data-ttu-id="64236-198">Configurer le **authentification** propriétés :</span><span class="sxs-lookup"><span data-stu-id="64236-198">Configure the **Authentication** properties:</span></span> 
  
    |<span data-ttu-id="64236-199">Utiliser</span><span class="sxs-lookup"><span data-stu-id="64236-199">Use this</span></span>|<span data-ttu-id="64236-200">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="64236-200">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="64236-201">**Service de contrôle d’accès**</span><span class="sxs-lookup"><span data-stu-id="64236-201">**Access Control Service**</span></span>|<span data-ttu-id="64236-202">Sélectionnez cette option afin d'utiliser ACS pour l'authentification et fournir les valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="64236-202">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="64236-203">-Entrez l’URI STS du Service de contrôle Service Bus accès.</span><span class="sxs-lookup"><span data-stu-id="64236-203">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="64236-204">En règle générale, l’URI est au format suivant :</span><span class="sxs-lookup"><span data-stu-id="64236-204">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="64236-205">-Entrez le nom de l’émetteur pour l’espace de noms Service Bus.</span><span class="sxs-lookup"><span data-stu-id="64236-205">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="64236-206">-Entrez la clé de l’émetteur pour l’espace de noms Service Bus.</span><span class="sxs-lookup"><span data-stu-id="64236-206">- Enter the issuer key for the Service Bus namespace.</span></span>|  
    |<span data-ttu-id="64236-207">**Signature d’accès partagé** (new compter [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="64236-207">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span>|<span data-ttu-id="64236-208">Sélectionnez cette option pour utiliser la signature d'accès partagé (SAP) pour l'authentification, et fournissez la valeur de clé et le nom de clé SAS.</span><span class="sxs-lookup"><span data-stu-id="64236-208">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>|  
  
5.  <span data-ttu-id="64236-209">Dans le **propriétés** , entrez la **Namespace de l’utilisateur défini les propriétés du Message réparti** qui contient les propriétés de contexte de message BizTalk que vous souhaitez écrire sur le message sortant vers Bus de service.</span><span class="sxs-lookup"><span data-stu-id="64236-209">In the **Properties** tab, enter the **Namespace for the user defined Brokered Message Properties** that contains the BizTalk message context properties that you want to write on the outgoing message to Service Bus.</span></span> <span data-ttu-id="64236-210">Toutes les propriétés de l’espace de noms sont écrites dans le message en tant que propriétés de Message réparti définies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="64236-210">All the namespace properties are written to the message as user-defined Brokered Message properties.</span></span> <span data-ttu-id="64236-211">L’adaptateur ignore l’espace de noms lors de l’écriture des propriétés comme propriétés de message réparti.</span><span class="sxs-lookup"><span data-stu-id="64236-211">The adapter ignores the namespace while writing the properties as Brokered Message properties.</span></span> <span data-ttu-id="64236-212">Il utilise l’espace de noms uniquement pour déterminer quelles propriétés écrire.</span><span class="sxs-lookup"><span data-stu-id="64236-212">It uses the namespace only to ascertain what properties to write.</span></span>  
  
     <span data-ttu-id="64236-213">Vous pouvez également entrer les valeurs pour les propriétés BrokeredMessage.</span><span class="sxs-lookup"><span data-stu-id="64236-213">You can also enter the values for the BrokeredMessage properties.</span></span> <span data-ttu-id="64236-214">Ces propriétés sont décrites sur [propriétés BrokeredMessage](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.brokeredmessage), y compris le **clé de Partition**.</span><span class="sxs-lookup"><span data-stu-id="64236-214">These properties are described at [BrokeredMessage Properties](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.brokeredmessage), including the **Partition Key**.</span></span>
  
6.  <span data-ttu-id="64236-215">Sélectionnez **OK** pour enregistrer vos modifications.</span><span class="sxs-lookup"><span data-stu-id="64236-215">Select **OK** to save your changes.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="64236-216">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="64236-216">See also</span></span>
[<span data-ttu-id="64236-217">À l’aide des adaptateurs</span><span class="sxs-lookup"><span data-stu-id="64236-217">Using adapters</span></span>](../core/using-adapters.md)