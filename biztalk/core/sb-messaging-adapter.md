---
title: Adaptateur SB-Messaging | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: c06c4934-45b2-4f6f-9d19-3ebd937c32ae
caps.latest.revision: "5"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2fb2eb8f532d72708dfca199f0eef794afdf77df
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="sb-messaging-adapter"></a><span data-ttu-id="e681f-102">Adaptateur SB-Messaging</span><span class="sxs-lookup"><span data-stu-id="e681f-102">SB-Messaging Adapter</span></span>
<span data-ttu-id="e681f-103">Le Bus de Service (**SB-Messaging**) carte est utilisée pour recevoir et envoyer des entités Service Bus, comme les files d’attente, rubriques et les relais.</span><span class="sxs-lookup"><span data-stu-id="e681f-103">The Service Bus (**SB-Messaging**) adapter is used to receive and send from Service Bus entities like Queues, Topics, and Relays.</span></span> <span data-ttu-id="e681f-104">Vous pouvez utiliser la **SB-Messaging** pour établir la connectivité entre les cartes [!INCLUDE[winazure](../includes/winazure-md.md)] et locales [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], ce qui permettant aux utilisateurs de créer une application hybride typique.</span><span class="sxs-lookup"><span data-stu-id="e681f-104">You can use the **SB-Messaging** adapters to bridge the connectivity between [!INCLUDE[winazure](../includes/winazure-md.md)] and on-premises [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], thereby enabling users to create a typical hybrid application.</span></span> <span data-ttu-id="e681f-105">Les rubriques de cette section fournissent des instructions sur la façon de configurer un **SB-Messaging** emplacement de réception et un port d’envoi pour recevoir et envoyer des messages à partir des entités Service Bus.</span><span class="sxs-lookup"><span data-stu-id="e681f-105">The topics in this section provide instructions on how to configure an **SB-Messaging** receive location and a send port to receive and send messages from the Service Bus entities.</span></span>  

## <a name="before-you-get-started"></a><span data-ttu-id="e681f-106">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="e681f-106">Before you get started</span></span>
<span data-ttu-id="e681f-107">Service Bus fournit deux méthodes d’authentification : Service de contrôle d’accès (ACS) et la Signature d’accès partagé (SAS).</span><span class="sxs-lookup"><span data-stu-id="e681f-107">Service Bus provides two methods to authenticate: Access Control Service (ACS) and the Shared Access Signature (SAS).</span></span> <span data-ttu-id="e681f-108">Notre recommandation est d’utiliser la Signature d’accès partagé (SAS) lors de l’authentification avec Service Bus.</span><span class="sxs-lookup"><span data-stu-id="e681f-108">Our recommendation is to use Shared Access Signature (SAS) when authenticating with Service Bus.</span></span> <span data-ttu-id="e681f-109">La valeur de clé d’accès partagé est répertoriée dans le [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="e681f-109">The Shared Access Key value is listed in the [Azure portal](https://portal.azure.com).</span></span>

<span data-ttu-id="e681f-110">Lorsque vous créez un espace de noms Service Bus, l’espace de noms Access Control (ACS) n’est pas créé automatiquement.</span><span class="sxs-lookup"><span data-stu-id="e681f-110">When you create a Service Bus namespace, the Access Control (ACS) namespace is not automatically created.</span></span> <span data-ttu-id="e681f-111">Pour utiliser le contrôle d’accès, vous devez les valeurs de nom de l’émetteur et la clé de l’émetteur de cet espace de noms.</span><span class="sxs-lookup"><span data-stu-id="e681f-111">To use Access Control, you need the Issuer Name and Issuer Key values of this namespace.</span></span> <span data-ttu-id="e681f-112">Ces valeurs sont disponibles lorsque vous créez un nouvel espace de noms ACS à l’aide de Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e681f-112">These values are available when you create a new ACS namespace using Windows PowerShell.</span></span> <span data-ttu-id="e681f-113">Ces valeurs ne sont pas répertoriées dans le portail Azure.</span><span class="sxs-lookup"><span data-stu-id="e681f-113">These values are not listed in the Azure portal.</span></span>

<span data-ttu-id="e681f-114">Pour utiliser des services ACS pour l’authentification et obtenir les valeurs de nom de l’émetteur et la clé de l’émetteur, les étapes générales sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="e681f-114">To use ACS for authentication, and get the Issuer Name and Issuer Key values, the overall steps include:</span></span>

1. <span data-ttu-id="e681f-115">Installer le [applets de commande Azure Powershell](https://azure.microsoft.com/documentation/articles/powershell-install-configure/).</span><span class="sxs-lookup"><span data-stu-id="e681f-115">Install the [Azure Powershell cmdlets](https://azure.microsoft.com/documentation/articles/powershell-install-configure/).</span></span>
2. <span data-ttu-id="e681f-116">Ajoutez votre compte Azure :`Add-AzureAccount`</span><span class="sxs-lookup"><span data-stu-id="e681f-116">Add your Azure account: `Add-AzureAccount`</span></span>
3. <span data-ttu-id="e681f-117">Retourne le nom de votre abonnement :`get-azuresubscription`</span><span class="sxs-lookup"><span data-stu-id="e681f-117">Return your subscription name: `get-azuresubscription`</span></span>
4. <span data-ttu-id="e681f-118">Sélectionnez votre abonnement :`select-azuresubscription <name of your subscription>`</span><span class="sxs-lookup"><span data-stu-id="e681f-118">Select your subscription: `select-azuresubscription <name of your subscription>`</span></span> 
5. <span data-ttu-id="e681f-119">Créer un nouvel espace de noms :`new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="e681f-119">Create a new namespace: `new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>

    <span data-ttu-id="e681f-120">Exemple :`new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="e681f-120">Example:    `new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>
      
5. <span data-ttu-id="e681f-121">Lorsque l’espace de noms ACS est créé (ce qui peut prendre plusieurs minutes), les valeurs IssuerName et IssuerKey sont répertoriés dans la chaîne de connexion :</span><span class="sxs-lookup"><span data-stu-id="e681f-121">When the new ACS namespace is created (which can take several minutes), the IssuerName and IssuerKey values are listed in the connection string:</span></span> 

    ```
    Name                  : biztalksbnamespace
    Region                : South Central US
    DefaultKey            : abcdefghijklmnopqrstuvwxyz
    Status                : Active
    CreatedAt             : 10/18/2016 9:36:30 PM
    AcsManagementEndpoint : https://biztalksbnamespace-sb.accesscontrol.windows.net/
    ServiceBusEndpoint    : https://biztalksbnamespace.servicebus.windows.net/
    ConnectionString      : Endpoint=sb://biztalksbnamespace.servicebus.windows.net/;SharedSecretIssuer=owner;SharedSecretValue=abcdefghijklmnopqrstuvwxyz
    NamespaceType         : Messaging
    ```
[<span data-ttu-id="e681f-122">Nouveau-AzureSBNamespace</span><span class="sxs-lookup"><span data-stu-id="e681f-122">New-AzureSBNamespace</span></span>](https://msdn.microsoft.com/library/dn495165.aspx)

## <a name="receive-messages-from-service-bus"></a><span data-ttu-id="e681f-123">Recevoir des messages de Service Bus</span><span class="sxs-lookup"><span data-stu-id="e681f-123">Receive messages from Service Bus</span></span>
  
<span data-ttu-id="e681f-124">Cette section fournit des informations sur la façon de configurer un **SB-Messaging** à l’aide de l’emplacement de réception le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Console d’Administration.</span><span class="sxs-lookup"><span data-stu-id="e681f-124">This section provides information on how to configure an **SB-Messaging** Receive Location using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e681f-125">Avant d’exécuter la procédure suivante, vous devez avoir déjà ajouté un unidirectionnel port de réception.</span><span class="sxs-lookup"><span data-stu-id="e681f-125">Before completing the following procedure, you must have already added a one-way receive port.</span></span> <span data-ttu-id="e681f-126">Consultez [la création d’un port de réception](../core/how-to-create-a-receive-port.md).</span><span class="sxs-lookup"><span data-stu-id="e681f-126">See [How to create a receive port](../core/how-to-create-a-receive-port.md).</span></span>  

 
1.  <span data-ttu-id="e681f-127">Dans la console Administration de BizTalk Server, développez [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], développez **groupe BizTalk**, développez **Applications**, puis développez l’application sous laquelle créer un emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="e681f-127">In the BizTalk Server Administration console, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expand **BizTalk Group**, expand **Applications**, and then expand the application under you want to create a receive location.</span></span>  
  
2.  <span data-ttu-id="e681f-128">Dans le volet gauche, cliquez sur le nœud **Ports de réception** . Dans le volet droit, cliquez avec le bouton droit sur le port de réception auquel vous souhaitez associer le nouvel emplacement de réception, puis cliquez sur **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="e681f-128">In the left pane, click the **Receive Ports** node and in the right pane, right-click the receive port with which you want to associate the new receive location, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="e681f-129">Dans le volet gauche de la boîte de dialogue **Propriétés des ports de réception** , sélectionnez **Emplacements de réception**, puis dans le volet droit, cliquez sur **Nouveau** pour créer un emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="e681f-129">In the left pane of the **Receive Port Properties** dialog box, select **Receive Locations**, and in the right pane click **New** to create a new receive location.</span></span>  
  
4.  <span data-ttu-id="e681f-130">Dans le **propriétés de l’emplacement de réception** boîte de dialogue le **Transport** section, sélectionnez **SB-Messaging** à partir de la **Type** liste déroulante , puis cliquez sur **configurer** pour configurer les propriétés de transport pour l’emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="e681f-130">In the **Receive Location Properties** dialog box, in the **Transport** section, select **SB-Messaging** from the **Type** drop-down list, and then click **Configure** to configure the transport properties for the receive location.</span></span>  
  
5.  <span data-ttu-id="e681f-131">Dans le **propriétés du Transport SB-Messaging** boîte de dialogue le **général** onglet, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="e681f-131">In the **SB-Messaging Transport Properties** dialog box, in the **General** tab, do the following:</span></span>  
  
    |<span data-ttu-id="e681f-132">Utiliser</span><span class="sxs-lookup"><span data-stu-id="e681f-132">Use this</span></span>|<span data-ttu-id="e681f-133">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="e681f-133">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="e681f-134">**URL de file d’attente ou d’un abonnement**</span><span class="sxs-lookup"><span data-stu-id="e681f-134">**Queue or Subscription URL**</span></span>|<span data-ttu-id="e681f-135">Spécifier l’URL où la file d’attente Service Bus est déployée.</span><span class="sxs-lookup"><span data-stu-id="e681f-135">Specify the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="e681f-136">En règle générale, l’URL est au format suivant :</span><span class="sxs-lookup"><span data-stu-id="e681f-136">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`|  
    |<span data-ttu-id="e681f-137">**Open Timeout**</span><span class="sxs-lookup"><span data-stu-id="e681f-137">**Open Timeout**</span></span>|<span data-ttu-id="e681f-138">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération d’ouverture de canal soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="e681f-138">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="e681f-139">**Valeur par défaut :** 1 minute</span><span class="sxs-lookup"><span data-stu-id="e681f-139">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="e681f-140">**Fermer le délai d’attente**</span><span class="sxs-lookup"><span data-stu-id="e681f-140">**Close Timeout**</span></span>|<span data-ttu-id="e681f-141">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération de fermeture soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="e681f-141">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="e681f-142">**Valeur par défaut :** 1 minute</span><span class="sxs-lookup"><span data-stu-id="e681f-142">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="e681f-143">**Délai de réception**</span><span class="sxs-lookup"><span data-stu-id="e681f-143">**Receive timeout**</span></span>|<span data-ttu-id="e681f-144">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération de réception soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="e681f-144">Specifies a time span value that indicates the time for a receive operation to complete.</span></span><br /><br /> <span data-ttu-id="e681f-145">**Valeur par défaut :** 10 minutes</span><span class="sxs-lookup"><span data-stu-id="e681f-145">**Default value:** 10 minutes</span></span>|  
    |<span data-ttu-id="e681f-146">**Nombre de prérécupérations**</span><span class="sxs-lookup"><span data-stu-id="e681f-146">**Prefetch count**</span></span>|<span data-ttu-id="e681f-147">Spécifie le nombre de messages reçus simultanément en provenance de la file d’attente Service Bus ou d’une rubrique.</span><span class="sxs-lookup"><span data-stu-id="e681f-147">Specifies the number of messages that are received simultaneously from the Service Bus Queue or a topic.</span></span> <span data-ttu-id="e681f-148">Le préchargement permet au client de la file d’attente ou de l’abonnement de charger des messages supplémentaires à partir du service lorsque celui-ci effectue une opération de réception.</span><span class="sxs-lookup"><span data-stu-id="e681f-148">Prefetching enables the queue or subscription client to load additional messages from the service when it performs a receive operation.</span></span> <span data-ttu-id="e681f-149">Le client stocke ces messages dans un cache local.</span><span class="sxs-lookup"><span data-stu-id="e681f-149">The client stores these messages in a local cache.</span></span> <span data-ttu-id="e681f-150">La taille du cache est déterminée par la valeur spécifiée ici pour la propriété Nombre de préchargements.</span><span class="sxs-lookup"><span data-stu-id="e681f-150">The size of the cache is determined by the value for the Prefetch Count property you specify here.</span></span><br /><br /> <span data-ttu-id="e681f-151">Pour plus d’informations, reportez-vous à la section « Préchargement » à [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span><span class="sxs-lookup"><span data-stu-id="e681f-151">For more information, refer to the section “Prefetching” at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span></span><br /><br /> <span data-ttu-id="e681f-152">**Valeur par défaut :** -1</span><span class="sxs-lookup"><span data-stu-id="e681f-152">**Default value:** -1</span></span>|  
    |<span data-ttu-id="e681f-153">**Utiliser la Session**</span><span class="sxs-lookup"><span data-stu-id="e681f-153">**Use Session**</span></span>|<span data-ttu-id="e681f-154">Activer cette case à cocher pour utiliser une session Service Bus afin de recevoir des messages en provenance d’une file d’attente ou d’un abonnement.</span><span class="sxs-lookup"><span data-stu-id="e681f-154">Select this check box to use a Service Bus session to receive messages from a queue or a subscription.</span></span>|  
  
6.  <span data-ttu-id="e681f-155">Dans le **authentification** onglet, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="e681f-155">In the **Authentication** tab, do the following:</span></span>  
  
    |<span data-ttu-id="e681f-156">Utiliser</span><span class="sxs-lookup"><span data-stu-id="e681f-156">Use this</span></span>|<span data-ttu-id="e681f-157">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="e681f-157">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="e681f-158">**Service de contrôle d’accès**</span><span class="sxs-lookup"><span data-stu-id="e681f-158">**Access Control Service**</span></span>|<span data-ttu-id="e681f-159">Sélectionnez cette option afin d'utiliser ACS pour l'authentification et fournir les valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="e681f-159">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="e681f-160">-Entrez l’URI STS du Service de contrôle Service Bus accès.</span><span class="sxs-lookup"><span data-stu-id="e681f-160">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="e681f-161">En règle générale, l’URI est au format suivant :</span><span class="sxs-lookup"><span data-stu-id="e681f-161">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="e681f-162">-Entrez le nom de l’émetteur pour l’espace de noms Service Bus.</span><span class="sxs-lookup"><span data-stu-id="e681f-162">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="e681f-163">-Entrez la clé de l’émetteur pour l’espace de noms Service Bus.</span><span class="sxs-lookup"><span data-stu-id="e681f-163">- Enter the issuer key for the Service Bus namespace.</span></span>|  
    |<span data-ttu-id="e681f-164">**Signature d’accès partagé** (new compter [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="e681f-164">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span>|<span data-ttu-id="e681f-165">Sélectionnez cette option pour utiliser la signature d'accès partagé (SAP) pour l'authentification, et fournissez la valeur de clé et le nom de clé SAS.</span><span class="sxs-lookup"><span data-stu-id="e681f-165">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>|  
  
7.  <span data-ttu-id="e681f-166">Dans le **propriétés** sous l’onglet du **Namespace pour les propriétés du Message réparti** Indiquez l’espace de noms que l’adaptateur utilise pour écrire les propriétés de message réparti en tant que propriétés de contexte de message sur le message reçu par [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e681f-166">In the **Properties** tab, in the **Namespace for Brokered Message Properties** field, specify the namespace that the adapter uses to write the brokered message properties as message context properties on the message received by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="e681f-167">En outre, si vous souhaitez promouvoir les propriétés de message réparti, sélectionnez le **promouvoir les propriétés de Message réparti** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="e681f-167">Additionally, if you want to promote the brokered message properties, select the **Promote Brokered Message Properties** check box.</span></span>  
  
8.  <span data-ttu-id="e681f-168">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="e681f-168">Click **OK**.</span></span>  
  
9. <span data-ttu-id="e681f-169">Entrez les valeurs appropriées dans la boîte de dialogue **Propriétés de l'emplacement de réception** pour terminer la configuration de l'emplacement de réception, puis cliquez sur **OK** pour enregistrer les paramètres.</span><span class="sxs-lookup"><span data-stu-id="e681f-169">Enter the appropriate values in the **Receive Location Properties** dialog box to complete the configuration of the receive location and click **OK** to save settings.</span></span> <span data-ttu-id="e681f-170">Pour plus d’informations sur la **propriétés des emplacements de réception** boîte de dialogue, consultez [la création d’un emplacement de réception](../core/how-to-create-a-receive-location.md).</span><span class="sxs-lookup"><span data-stu-id="e681f-170">For information about the **Receive Locations Properties** dialog box, see [How to Create a Receive Location](../core/how-to-create-a-receive-location.md).</span></span>  
  
## <a name="send-messages-to-service-bus"></a><span data-ttu-id="e681f-171">Envoyer des messages à Service Bus</span><span class="sxs-lookup"><span data-stu-id="e681f-171">Send messages to Service Bus</span></span>
<span data-ttu-id="e681f-172">Cette section fournit des informations sur la façon de configurer un **SB-Messaging** port d’envoi utilisant le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Console d’Administration.</span><span class="sxs-lookup"><span data-stu-id="e681f-172">This section provides information on how to configure an **SB-Messaging** send port using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span>  
  
1.  <span data-ttu-id="e681f-173">Dans la console Administration de BizTalk Server, créez un port d’envoi ou double-cliquez sur un port d’envoi existant pour le modifier.</span><span class="sxs-lookup"><span data-stu-id="e681f-173">In the BizTalk Server Administration console, create a new send port or double-click an existing send port to modify it.</span></span> <span data-ttu-id="e681f-174">Pour plus d’informations, consultez [la création d’un Port d’envoi](../core/how-to-create-a-send-port2.md).</span><span class="sxs-lookup"><span data-stu-id="e681f-174">For more information, see [How to Create a Send Port](../core/how-to-create-a-send-port2.md).</span></span> <span data-ttu-id="e681f-175">Configurez toutes les options de port d’envoi et spécifiez **SB-Messaging** pour le **Type** option dans le **Transport** section de la **général** onglet.</span><span class="sxs-lookup"><span data-stu-id="e681f-175">Configure all of the send port options and specify **SB-Messaging** for the **Type** option in the **Transport** section of the **General** tab.</span></span>  
  
2.  <span data-ttu-id="e681f-176">Sur le **général** sous l’onglet du **Transport** , cliquez sur le **configurer** bouton.</span><span class="sxs-lookup"><span data-stu-id="e681f-176">On the **General** tab, in the **Transport** section, click the **Configure** button.</span></span>  
  
3.  <span data-ttu-id="e681f-177">Dans le **propriétés du Transport SB-Messaging** boîte de dialogue le **général** onglet, spécifiez les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="e681f-177">In the **SB-Messaging Transport Properties** dialog box, on the **General** tab, specify the following:</span></span>  
  
    |<span data-ttu-id="e681f-178">Utiliser</span><span class="sxs-lookup"><span data-stu-id="e681f-178">Use this</span></span>|<span data-ttu-id="e681f-179">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="e681f-179">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="e681f-180">**URL de destination**</span><span class="sxs-lookup"><span data-stu-id="e681f-180">**Destination URL**</span></span>|<span data-ttu-id="e681f-181">Entrez l’URL où la file d’attente du Bus de Service est déployé.</span><span class="sxs-lookup"><span data-stu-id="e681f-181">Enter the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="e681f-182">En règle générale, l’URL est au format suivant :</span><span class="sxs-lookup"><span data-stu-id="e681f-182">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`|  
    |<span data-ttu-id="e681f-183">**Intervalle de vidage de lot**</span><span class="sxs-lookup"><span data-stu-id="e681f-183">**Batch Flush Interval**</span></span>|<span data-ttu-id="e681f-184">Spécifie une valeur de période indiquant l’intervalle dans lequel les lots de messages envoyés vers une file d’attente ou une rubrique sont vidés.</span><span class="sxs-lookup"><span data-stu-id="e681f-184">Specifies a time span value that indicates the interval when the message batches being sent to a Queue or a Topic are flushed.</span></span> <span data-ttu-id="e681f-185">La valeur par défaut est 20 millisecondes.</span><span class="sxs-lookup"><span data-stu-id="e681f-185">The default value is 20 milliseconds.</span></span><br /><br /> <span data-ttu-id="e681f-186">Pour plus d’informations sur le traitement par lots en ce qui concerne les rubriques et files d’attente du Bus de Service, consultez le **le traitement par lots côté Client** section à [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements).</span><span class="sxs-lookup"><span data-stu-id="e681f-186">For more information about batching with respect to Service Bus Queues and Topics, see the **Client-side batching** section at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements).</span></span>|  
    |<span data-ttu-id="e681f-187">**Open Timeout**</span><span class="sxs-lookup"><span data-stu-id="e681f-187">**Open Timeout**</span></span>|<span data-ttu-id="e681f-188">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération d’ouverture de canal soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="e681f-188">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="e681f-189">**Valeur par défaut :** 1 minute</span><span class="sxs-lookup"><span data-stu-id="e681f-189">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="e681f-190">**Un délai d’envoi**</span><span class="sxs-lookup"><span data-stu-id="e681f-190">**Send Timeout**</span></span>|<span data-ttu-id="e681f-191">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération d’envoi soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="e681f-191">Specifies a time span value that indicates the time for a send operation to complete.</span></span><br /><br /> <span data-ttu-id="e681f-192">**Valeur par défaut :** 1 minute</span><span class="sxs-lookup"><span data-stu-id="e681f-192">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="e681f-193">**Fermer le délai d’attente**</span><span class="sxs-lookup"><span data-stu-id="e681f-193">**Close Timeout**</span></span>|<span data-ttu-id="e681f-194">Spécifie une valeur de période indiquant le temps nécessaire pour qu’une opération de fermeture soit réalisée.</span><span class="sxs-lookup"><span data-stu-id="e681f-194">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="e681f-195">**Valeur par défaut :** 1 minute</span><span class="sxs-lookup"><span data-stu-id="e681f-195">**Default value:** 1 minute</span></span>|  
  
4.  <span data-ttu-id="e681f-196">Dans le **authentification** onglet, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="e681f-196">In the **Authentication** tab, do the following:</span></span>  
  
    |<span data-ttu-id="e681f-197">Utiliser</span><span class="sxs-lookup"><span data-stu-id="e681f-197">Use this</span></span>|<span data-ttu-id="e681f-198">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="e681f-198">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="e681f-199">**Service de contrôle d’accès**</span><span class="sxs-lookup"><span data-stu-id="e681f-199">**Access Control Service**</span></span>|<span data-ttu-id="e681f-200">Sélectionnez cette option afin d'utiliser ACS pour l'authentification et fournir les valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="e681f-200">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="e681f-201">-Entrez l’URI STS du Service de contrôle Service Bus accès.</span><span class="sxs-lookup"><span data-stu-id="e681f-201">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="e681f-202">En règle générale, l’URI est au format suivant :</span><span class="sxs-lookup"><span data-stu-id="e681f-202">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="e681f-203">-Entrez le nom de l’émetteur pour l’espace de noms Service Bus.</span><span class="sxs-lookup"><span data-stu-id="e681f-203">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="e681f-204">-Entrez la clé de l’émetteur pour l’espace de noms Service Bus.</span><span class="sxs-lookup"><span data-stu-id="e681f-204">- Enter the issuer key for the Service Bus namespace.</span></span>|  
    |<span data-ttu-id="e681f-205">**Signature d’accès partagé** (new compter [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="e681f-205">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span>|<span data-ttu-id="e681f-206">Sélectionnez cette option pour utiliser la signature d'accès partagé (SAP) pour l'authentification, et fournissez la valeur de clé et le nom de clé SAS.</span><span class="sxs-lookup"><span data-stu-id="e681f-206">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>|  
  
5.  <span data-ttu-id="e681f-207">Dans le **propriétés** sous l’onglet du **Namespace de l’utilisateur défini les propriétés du Message réparti** Indiquez l’espace de noms qui contient les propriétés de contexte de message BizTalk que vous souhaitez écrire en tant que propriétés de Message réparti définies par l’utilisateur sur le message sortant envoyé à la file d’attente du Bus de Service.</span><span class="sxs-lookup"><span data-stu-id="e681f-207">In the **Properties** tab, in the **Namespace for the user defined Brokered Message Properties** field, specify the namespace that contains the BizTalk message context properties that you want to write as user-defined Brokered Message properties on the outgoing message sent to the Service Bus Queue.</span></span> <span data-ttu-id="e681f-208">Toutes les propriétés appartenant à l’espace de noms sont écrites dans le message comme propriétés de message réparti définies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e681f-208">All the properties that belong to the namespace are written to the message as user-defined Brokered Message properties.</span></span> <span data-ttu-id="e681f-209">L’adaptateur ignore l’espace de noms lors de l’écriture des propriétés comme propriétés de message réparti.</span><span class="sxs-lookup"><span data-stu-id="e681f-209">The adapter ignores the namespace while writing the properties as Brokered Message properties.</span></span> <span data-ttu-id="e681f-210">Il utilise l’espace de noms uniquement pour déterminer quelles propriétés écrire.</span><span class="sxs-lookup"><span data-stu-id="e681f-210">It uses the namespace only to ascertain what properties to write.</span></span>  
  
     <span data-ttu-id="e681f-211">Vous pouvez également spécifier les valeurs pour les propriétés BrokeredMessage.</span><span class="sxs-lookup"><span data-stu-id="e681f-211">You can also specify the values for the BrokeredMessage properties.</span></span> <span data-ttu-id="e681f-212">Pour plus d’informations sur les propriétés, consultez [propriétés BrokeredMessage](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage_properties.aspx).</span><span class="sxs-lookup"><span data-stu-id="e681f-212">For more information about the properties, see [BrokeredMessage Properties](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage_properties.aspx).</span></span>  
  
6.  <span data-ttu-id="e681f-213">Cliquez sur **OK** et **OK** pour enregistrer les paramètres.</span><span class="sxs-lookup"><span data-stu-id="e681f-213">Click **OK** and **OK** again to save settings.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e681f-214">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="e681f-214">See also</span></span>
[<span data-ttu-id="e681f-215">À l’aide des adaptateurs</span><span class="sxs-lookup"><span data-stu-id="e681f-215">Using adapters</span></span>](../core/using-adapters.md)