---
title: "Considérations et problèmes connus pour l’éditeur | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Tracking Profile Editor, known issues
- planning, Tracking Profile Editor
- Tracking Profile Editor, planning
ms.assetid: e96d85e0-e9ae-434a-b54e-5950f4a2b9c6
caps.latest.revision: "24"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d630b2cfa5cca1d7a441796ef8c555d02bb04910
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="considerations-and-known-issues-for-tpe"></a><span data-ttu-id="a19ab-102">Considérations diverses et problèmes connus relatifs à l'Éditeur de modèle de suivi</span><span class="sxs-lookup"><span data-stu-id="a19ab-102">Considerations and Known Issues for TPE</span></span>
<span data-ttu-id="a19ab-103">Tenez compte des points suivants quand vous utilisez des modèles de suivi et l'Éditeur de modèle de suivi.</span><span class="sxs-lookup"><span data-stu-id="a19ab-103">You should consider the following issues when you work with tracking profiles and the TPE.</span></span>  
  
## <a name="naming-folders-in-the-tpe"></a><span data-ttu-id="a19ab-104">Dénomination des dossiers dans l'Éditeur de modèle de suivi</span><span class="sxs-lookup"><span data-stu-id="a19ab-104">Naming Folders in the TPE</span></span>  
 <span data-ttu-id="a19ab-105">Considérez les conventions d'affectation de noms suivantes lorsque vous donnez un nom aux dossiers dans l'Éditeur de modèle de suivi :</span><span class="sxs-lookup"><span data-stu-id="a19ab-105">Note the following naming requirements when naming folders in Tracking Profile Editor:</span></span>  
  
-   <span data-ttu-id="a19ab-106">La longueur totale du nom des dossiers et des valeurs d'instance d'élément de données ne doit pas excéder 128 caractères.</span><span class="sxs-lookup"><span data-stu-id="a19ab-106">The length of the combination of folder name and data item instance values must not exceed 128 characters.</span></span>  
  
-   <span data-ttu-id="a19ab-107">Pour les dossiers Continuation et ContinuationID, la dénomination des dossiers représente la mise en corrélation de deux orchestrations.</span><span class="sxs-lookup"><span data-stu-id="a19ab-107">For Continuation and ContinuationID folders, the naming of the folder is the key to correlating two orchestrations.</span></span> <span data-ttu-id="a19ab-108">Par exemple, si l'orchestration A est le parent de l'orchestration B, l'orchestration A contient un dossier de continuation dont le nom est directement mappé sur le dossier ContinuationID dans l'orchestration B.</span><span class="sxs-lookup"><span data-stu-id="a19ab-108">For example, if Orchestration A is the parent of Orchestration B, Orchestration A contains a continuation folder whose name maps directly to the ContinuationID folder in Orchestration B.</span></span>  
  
## <a name="developing-orchestrations-for-the-tpe"></a><span data-ttu-id="a19ab-109">Développement d'orchestrations pour l'Éditeur de modèle de suivi</span><span class="sxs-lookup"><span data-stu-id="a19ab-109">Developing Orchestrations for the TPE</span></span>  
 <span data-ttu-id="a19ab-110">Il est impossible de mapper une orchestration sur une activité d'entreprise si elle commence ou s'achève par une forme non valide.</span><span class="sxs-lookup"><span data-stu-id="a19ab-110">You cannot map an orchestration to a business activity if it starts or ends with an invalid shape.</span></span> <span data-ttu-id="a19ab-111">Le moteur d'orchestration n'autorise pas le suivi pour certaines formes.</span><span class="sxs-lookup"><span data-stu-id="a19ab-111">The Orchestration engine does not allow tracking for some shapes.</span></span> <span data-ttu-id="a19ab-112">Celles-ci sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="a19ab-112">They are:</span></span>  
  
-   <span data-ttu-id="a19ab-113">Assignation de messages</span><span class="sxs-lookup"><span data-stu-id="a19ab-113">Message Assignment</span></span>  
  
-   <span data-ttu-id="a19ab-114">Transformation</span><span class="sxs-lookup"><span data-stu-id="a19ab-114">Transform</span></span>  
  
-   <span data-ttu-id="a19ab-115">Groupe (Tâche)</span><span class="sxs-lookup"><span data-stu-id="a19ab-115">Group (Task)</span></span>  
  
-   <span data-ttu-id="a19ab-116">Suspendre</span><span class="sxs-lookup"><span data-stu-id="a19ab-116">Suspend</span></span>  
  
-   <span data-ttu-id="a19ab-117">Boucle (Tant que)</span><span class="sxs-lookup"><span data-stu-id="a19ab-117">Loop (While)</span></span>  
  
-   <span data-ttu-id="a19ab-118">Agence</span><span class="sxs-lookup"><span data-stu-id="a19ab-118">Branch</span></span>  
  
-   <span data-ttu-id="a19ab-119">Terminate</span><span class="sxs-lookup"><span data-stu-id="a19ab-119">Terminate</span></span>  
  
-   <span data-ttu-id="a19ab-120">Levée d'exception</span><span class="sxs-lookup"><span data-stu-id="a19ab-120">Throw</span></span>  
  
-   <span data-ttu-id="a19ab-121">Intercepter</span><span class="sxs-lookup"><span data-stu-id="a19ab-121">Catch</span></span>  
  
-   <span data-ttu-id="a19ab-122">Tant que</span><span class="sxs-lookup"><span data-stu-id="a19ab-122">While shape</span></span>  
  
 <span data-ttu-id="a19ab-123">Suivez les instructions suivantes quand vous effectuez un mappage sur des activités d'entreprise afin que l'Éditeur de modèle de suivi et d'autres outils BAM puissent les utiliser :</span><span class="sxs-lookup"><span data-stu-id="a19ab-123">Use the following guidelines when mapping to business activities so that the Tracking Profile Editor and other BAM tools can use them:</span></span>  
  
-   <span data-ttu-id="a19ab-124">Pour la forme Groupe, utilisez une forme Étendue non transactionnelle.</span><span class="sxs-lookup"><span data-stu-id="a19ab-124">For the Group shape, use a non-transactional Scope shape.</span></span>  
  
-   <span data-ttu-id="a19ab-125">Intégrez la forme Tant que dans une forme Étendue non transactionnelle.</span><span class="sxs-lookup"><span data-stu-id="a19ab-125">For the While shape, wrap it in a non-transactional Scope shape.</span></span>  
  
-   <span data-ttu-id="a19ab-126">Pour la forme Terminer, il n'y pas de parade car l'événement de fin de cette forme n'intervient jamais dans un scénario normal.</span><span class="sxs-lookup"><span data-stu-id="a19ab-126">For the Terminate shapes, there is no workaround, because the end event of this shape never occurs in a normal scenario.</span></span>  
  
-   <span data-ttu-id="a19ab-127">Ne commencez pas et ne terminez pas des planifications par les formes pour lesquelles les opérations glisser-déposer ne sont pas autorisées.</span><span class="sxs-lookup"><span data-stu-id="a19ab-127">Do not start or end schedules with any of the shapes for which drag-and-drop operations are not permitted.</span></span>  
  
## <a name="applying-tracking-profiles-that-monitor-running-processes"></a><span data-ttu-id="a19ab-128">Application de modèles de suivi analysant les processus en cours</span><span class="sxs-lookup"><span data-stu-id="a19ab-128">Applying Tracking Profiles that Monitor Running Processes</span></span>  
 <span data-ttu-id="a19ab-129">La mise à jour d'un modèle de suivi peut avoir des conséquences sur les instances d'activité en cours si l'activité comprend une continuation d'analyse BAM.</span><span class="sxs-lookup"><span data-stu-id="a19ab-129">Updating a tracking profile can impact activity instances in progress if the activity includes a BAM continuation.</span></span> <span data-ttu-id="a19ab-130">Notamment, si la mise à jour du modèle de suivi indique une interception en aval des données pour un élément d'activité déjà enregistré, il est possible que la valeur d'origine soit remplacée.</span><span class="sxs-lookup"><span data-stu-id="a19ab-130">Specifically, if the update to the tracking profile specifies a downstream interception of data for an activity item already recorded, it is possible that the original value will be overwritten.</span></span> <span data-ttu-id="a19ab-131">Par définition, un flux d'événements unique ne sera pas affecté par les mises à jour du modèle de suivi, car chaque objet de flux est lié à la version du modèle en place au moment où l'activité ou le flux a démarré.</span><span class="sxs-lookup"><span data-stu-id="a19ab-131">In essence, any single event stream will not be affected by the application of tracking profile updates because each stream object is tied to the specific version of the profile which was in place at the time the activity/stream started.</span></span> <span data-ttu-id="a19ab-132">Cependant, les continuations étant le moyen de mettre en corrélation plusieurs flux d'événements, les flux n'ayant pas encore été lancés au moment de la mise à jour du modèle récupèrent les modifications dans la mise à jour. Il existe alors un risque pour les données d'être remplacées, comme décrit plus haut.</span><span class="sxs-lookup"><span data-stu-id="a19ab-132">However, because continuations are the means of correlating multiple event streams, streams not yet begun at the time of a profile update will pick up the changes in the update, thus introducing the possible data overwrite described.</span></span> <span data-ttu-id="a19ab-133">Pour plus d’informations sur les continuations, consultez [Continuation d’activités](../core/activity-continuation.md) et [comment créer une Continuation](../core/how-to-create-a-continuation.md).</span><span class="sxs-lookup"><span data-stu-id="a19ab-133">For more information about continuations, see [Activity Continuation](../core/activity-continuation.md) and [How to Create a Continuation](../core/how-to-create-a-continuation.md).</span></span>  
  
## <a name="tracking-profiles-without-a-send-or-receive-shape-from-which-to-draw-message-properties"></a><span data-ttu-id="a19ab-134">Modèles de suivi dépourvus d'une forme Envoi ou Réception dans laquelle puiser les propriétés de message</span><span class="sxs-lookup"><span data-stu-id="a19ab-134">Tracking Profiles Without a Send or Receive Shape from Which to Draw Message Properties</span></span>  
 <span data-ttu-id="a19ab-135">Les continuations effectuent le suivi des activités par le biais de propriétés de contexte ou de données de charge communes à toutes les activités.</span><span class="sxs-lookup"><span data-stu-id="a19ab-135">Continuations track activities through context properties or payload data that are the same between activities.</span></span> <span data-ttu-id="a19ab-136">Les propriétés telles que Message ID, Service ID et Instance ID changent de valeur d'une activité à l'autre.</span><span class="sxs-lookup"><span data-stu-id="a19ab-136">Properties such as Message ID, Service ID, and Instance ID change value between activities.</span></span>  
  
 <span data-ttu-id="a19ab-137">Pour gérer ce contexte, vous pouvez créer des modèles de suivi en ayant recours aux méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="a19ab-137">You can create tracking profiles to handle this scenario by using the following methods:</span></span>  
  
-   <span data-ttu-id="a19ab-138">Si une orchestration envoie un message à une autre orchestration via une liaison dynamique, une valeur de données de charge unique globale peut être utilisée pour la continuation.</span><span class="sxs-lookup"><span data-stu-id="a19ab-138">If an orchestration sends a message through a dynamic binding to another orchestration, then a globally unique payload data value can be used for the continuation.</span></span>  
  
-   <span data-ttu-id="a19ab-139">Si le message ne renferme pas de données de charge uniques, l'ID d'échange du message peut être utilisé.</span><span class="sxs-lookup"><span data-stu-id="a19ab-139">If there is no unique payload data in the message, then the interchange ID of the message can be used.</span></span> <span data-ttu-id="a19ab-140">Pour vous servir de cet ID, vous devez effectuer son suivi dans la même forme Réception.</span><span class="sxs-lookup"><span data-stu-id="a19ab-140">To use the interchange ID, you must track it on the same Receive shape.</span></span> <span data-ttu-id="a19ab-141">L'ID d'échange variant à chaque nouveau message créé, vous ne pouvez pas l'utiliser si vous créez un nouveau message.</span><span class="sxs-lookup"><span data-stu-id="a19ab-141">You cannot use the interchange ID if you create a new message, as the interchange ID changes when the new message is created.</span></span> <span data-ttu-id="a19ab-142">Il n'est pas fiable d'effectuer le suivi de l'ID d'échange à partir d'une autre forme que les formes Réception et Envoi.</span><span class="sxs-lookup"><span data-stu-id="a19ab-142">Tracking the interchange ID from any shape other than a Receive or Send shape is not reliable.</span></span>  
  
-   <span data-ttu-id="a19ab-143">Vous pouvez également utiliser l'ID de message tant qu'est utilisé dans l'orchestration exactement le même message que celui reçu du pipeline, autrement dit, le port d'orchestration est lié à un pipeline, et une forme Réception et l'ID de message font l'objet d'un suivi à partir de cet emplacement.</span><span class="sxs-lookup"><span data-stu-id="a19ab-143">You can also use message ID as long as the exact same message that is received from the pipeline is used in the orchestration, that is, the orchestration port is bound to a pipeline and a Receive shape and the message ID are tracked from that location.</span></span> <span data-ttu-id="a19ab-144">Si vous procédez au suivi de l'ID de message à partir d'une autre forme, son utilisation dans les continuations sera impossible.</span><span class="sxs-lookup"><span data-stu-id="a19ab-144">If you track the message ID from a different shape, then the message ID will be invalid for use in continuations.</span></span>  
  
-   <span data-ttu-id="a19ab-145">Si une orchestration appelle une autre orchestration et aucun message n’est transmis, ou une orchestration appelle une autre orchestration mais que l’appelé ne pas avoir n’importe quel construire, réception ou forme envoi où les valeurs de données de charge utile peuvent être récupérées, l’utilisateur peut utiliser l’ID d’instance.</span><span class="sxs-lookup"><span data-stu-id="a19ab-145">If an orchestration calls another orchestration and no message is passed, or an orchestration calls another orchestration but the callee does not have any Construct, Receive, or Send shape where payload data values can be retrieved, the user can use the instance ID.</span></span> <span data-ttu-id="a19ab-146">L’ID d’instance des orchestrations appelées ne change pas.</span><span class="sxs-lookup"><span data-stu-id="a19ab-146">The instance ID for the called orchestrations does not change.</span></span>  
  
-   <span data-ttu-id="a19ab-147">Si l'orchestration charge une autre orchestration via un appel d'exécution plutôt que de l'appeler directement, il n'y a alors aucun moyen d'utiliser des propriétés de message statique pour effectuer le suivi de l'activité.</span><span class="sxs-lookup"><span data-stu-id="a19ab-147">If the orchestration loads another orchestration through an execution call rather than calling it directly, then there is no way to use any static message properties to track the activity.</span></span> <span data-ttu-id="a19ab-148">L'utilisateur ne peut pas activer une continuation.</span><span class="sxs-lookup"><span data-stu-id="a19ab-148">The user cannot enable a continuation.</span></span> <span data-ttu-id="a19ab-149">La seule manière qu'un suivi puisse être réalisé est qu'un message soit transmis via le pipeline qui contient les données de charge uniques sur lesquelles le suivi doit être effectué.</span><span class="sxs-lookup"><span data-stu-id="a19ab-149">The only way to perform tracking in this instance is if a message is passed through the pipeline that contains unique payload data on which to perform the tracking.</span></span>  
  
## <a name="you-cannot-use-a-session-id-as-a-continuation-token-for-pass-through-pipelines"></a><span data-ttu-id="a19ab-150">Vous n'êtes pas autorisé à utiliser un ID de session en tant que jeton de continuation pour les pipelines de transfert</span><span class="sxs-lookup"><span data-stu-id="a19ab-150">You Cannot Use a Session ID as a Continuation Token for Pass-Through Pipelines</span></span>  
 <span data-ttu-id="a19ab-151">Dans un modèle de suivi, lorsque vous sélectionnez des éléments dans une charge de message, le modèle de suivi est lié au schéma de ce message.</span><span class="sxs-lookup"><span data-stu-id="a19ab-151">In a tracking profile, when you select items from a message payload, the tracking profile is bound to the schema of that message.</span></span> <span data-ttu-id="a19ab-152">La valeur du nom du schéma est une valeur null dans les pipelines de transfert.</span><span class="sxs-lookup"><span data-stu-id="a19ab-152">In a pass-through pipeline, the schema name value is a null value.</span></span> <span data-ttu-id="a19ab-153">Lorsque l'analyse BAM tente de charger la configuration par nom de port et par nom de schéma, elle ne peut établir de correspondance avec le schéma d'ID de session et aucune donnée ne fait l'objet d'un suivi par le moteur.</span><span class="sxs-lookup"><span data-stu-id="a19ab-153">When BAM attempts to load the configuration by port name and schema name it cannot make the match to the session ID schema and no data is tracked by the engine.</span></span>  
  
 <span data-ttu-id="a19ab-154">Pour les pipelines de transfert, vous pouvez soit supprimer l'ensemble du suivi de charge du modèle de suivi, soit utiliser des pipelines XML si vous n'avez pas besoin d'effectuer le suivi des données de charge.</span><span class="sxs-lookup"><span data-stu-id="a19ab-154">For pass-through pipelines, you can either remove all payload tracking from the tracking profile or use XML pipelines if you do need to track the payload data.</span></span>  
  
## <a name="using-unique-port-names"></a><span data-ttu-id="a19ab-155">Utilisation de noms de port uniques</span><span class="sxs-lookup"><span data-stu-id="a19ab-155">Using Unique Port Names</span></span>  
 <span data-ttu-id="a19ab-156">Lorsque vous énumérez des ports bidirectionnels, l'Éditeur de modèle de suivi les affiche sous la forme de deux ports logiques : un port d'envoi et un port de réception.</span><span class="sxs-lookup"><span data-stu-id="a19ab-156">When enumerating two-way ports, the TPE displays them as two logical ports, a send and a receive port.</span></span> <span data-ttu-id="a19ab-157">Chacun de ces ports logiques apparaît avec le même nom.</span><span class="sxs-lookup"><span data-stu-id="a19ab-157">Each of these logical ports is displayed with the same name.</span></span> <span data-ttu-id="a19ab-158">BizTalk Server vous permet de créer des ports unidirectionnels et bidirectionnels portant les mêmes noms.</span><span class="sxs-lookup"><span data-stu-id="a19ab-158">BizTalk Server allows you to create one-way and two-way ports with the same name.</span></span> <span data-ttu-id="a19ab-159">Ainsi, vous pouvez créer un port bidirectionnel et l'appeler « Port1 » puis créer un port de réception et l'intituler de la même manière.</span><span class="sxs-lookup"><span data-stu-id="a19ab-159">For example, you can create a two-way port named "Port1" and then create a receive port with the same name.</span></span> <span data-ttu-id="a19ab-160">Dans ce cas, l'Éditeur de modèle de suivi affiche le port de réception une fois et le port bidirectionnel deux fois : une fois comme port de réception, l'autre comme port d'envoi.</span><span class="sxs-lookup"><span data-stu-id="a19ab-160">In these cases the TPE displays the receive port once and the two-way port twice, once as a receive port and once as a send port.</span></span>  
  
 <span data-ttu-id="a19ab-161">L'Éditeur appliquera alors les modèles de suivi aux deux ports de réception.</span><span class="sxs-lookup"><span data-stu-id="a19ab-161">TPE will apply tracking profiles to both receive ports in this case.</span></span> <span data-ttu-id="a19ab-162">Afin d'éviter toute confusion, nous vous recommandons d'attribuer des noms uniques aux ports.</span><span class="sxs-lookup"><span data-stu-id="a19ab-162">We recommend that ports be given unique names to help identify them properly.</span></span>  
  
## <a name="using-tpe-orchestrations-with-a-parallel-shape-as-the-first-shape"></a><span data-ttu-id="a19ab-163">Utilisation d'orchestrations de l'Éditeur de modèle de suivi avec une forme Parallèle en tant que forme initiale</span><span class="sxs-lookup"><span data-stu-id="a19ab-163">Using TPE Orchestrations with a Parallel Shape as the First Shape</span></span>  
 <span data-ttu-id="a19ab-164">Si vous faites commencer une orchestration par une forme Branche, Parallèle ou Écouter, vous ne pouvez pas mapper un ID d'activité sur l'une de ces branches.</span><span class="sxs-lookup"><span data-stu-id="a19ab-164">If you begin an orchestration with a Fork, Parallel, or Listen shape, you cannot map an activity ID on one of the branches.</span></span> <span data-ttu-id="a19ab-165">Dans le cas d'un traitement parallèle, vous pouvez mapper l'ActivityID au-dessus de la forme Branche.</span><span class="sxs-lookup"><span data-stu-id="a19ab-165">In cases of parallel processing you can map the ActivityID above the Fork shape.</span></span> <span data-ttu-id="a19ab-166">Vous pouvez également laisser l'analyse BAM générer l'ID d'activité pour éviter le problème que constitue la position d'une forme Parallèle en haut de l'orchestration.</span><span class="sxs-lookup"><span data-stu-id="a19ab-166">You can also let BAM generate the activity ID to avoid the issue of a parallel shape at the top of the orchestration.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="a19ab-167">Mapper une activité sur plusieurs chemins et mapper l'ActivityID sur un chemin unique de la forme Branche génère une erreur lorsque le traitement suit le chemin sur lequel l'ActivityID n'est pas mappé.</span><span class="sxs-lookup"><span data-stu-id="a19ab-167">Mapping an activity to more than one path and also mapping the ActivityID to one path of the Fork shape causes an error when processing follows the path on which the ActivityID is not mapped.</span></span>  
  
## <a name="availability-of-message-properties-at-design-time"></a><span data-ttu-id="a19ab-168">Disponibilité des propriétés de message au moment de la conception</span><span class="sxs-lookup"><span data-stu-id="a19ab-168">Availability of Message Properties at Design Time</span></span>  
 <span data-ttu-id="a19ab-169">Lorsque vous créez des modèles de suivi, les propriétés de message ne sont pas toutes disponibles.</span><span class="sxs-lookup"><span data-stu-id="a19ab-169">When creating tracking profiles, not all message properties are available.</span></span> <span data-ttu-id="a19ab-170">Ce cas de figure se rencontre souvent lorsque la forme d'où les propriétés de message sont mappées se trouve en haut d'une orchestration.</span><span class="sxs-lookup"><span data-stu-id="a19ab-170">This is most likely to be encountered when the shape where the message properties are mapped from is at the top of an orchestration.</span></span> <span data-ttu-id="a19ab-171">La valeur des propriétés de message est alors null.</span><span class="sxs-lookup"><span data-stu-id="a19ab-171">In these instances, the value of the message properties is null.</span></span>  
  
 <span data-ttu-id="a19ab-172">Ce cas se présente par exemple quand une forme Écouter est la première forme d'une orchestration.</span><span class="sxs-lookup"><span data-stu-id="a19ab-172">An example of this is where the Listen shape is the first shape in an orchestration.</span></span> <span data-ttu-id="a19ab-173">Lorsque les propriétés de message sont mappées à partir de cette forme, seules les propriétés suivantes ont des valeurs : InstanceID, ServiceID et ServiceClassID.</span><span class="sxs-lookup"><span data-stu-id="a19ab-173">When message properties are mapped from this shape, only the following properties have values: InstanceID, ServiceID and ServiceClassID.</span></span> <span data-ttu-id="a19ab-174">(à ce stade, MessageID ne fait pas partie de l'étendue et a une valeur null).</span><span class="sxs-lookup"><span data-stu-id="a19ab-174">(MessageID is not in scope at this point and has a null value.)</span></span>  
  
## <a name="you-cannot-map-shapes-inside-a-loop-shape-to-report-a-milestone"></a><span data-ttu-id="a19ab-175">Vous n'êtes pas autorisé à mapper des formes au sein d'une forme Boucle pour signaler une étape majeure</span><span class="sxs-lookup"><span data-stu-id="a19ab-175">You Cannot Map Shapes Inside a Loop Shape to Report a Milestone</span></span>  
 <span data-ttu-id="a19ab-176">L'Éditeur de modèle de suivi restreint les sources de mappage contenues dans une forme Boucle aux activités mappées à des éléments situés à l'extérieur de la boucle.</span><span class="sxs-lookup"><span data-stu-id="a19ab-176">The TPE blocks mapping sources contained from within a Loop shape to activities that are mapped to items that are outside of the loop.</span></span>  
  
 <span data-ttu-id="a19ab-177">Les activités de bouclage sont des actions mises en boucle (qui se répètent) dans une orchestration.</span><span class="sxs-lookup"><span data-stu-id="a19ab-177">Looping activities refers to actions that loop, or repeat, within an orchestration.</span></span> <span data-ttu-id="a19ab-178">Il est possible de capturer les événements d'actions mises en boucle dans une orchestration.</span><span class="sxs-lookup"><span data-stu-id="a19ab-178">It is possible to capture the events from actions that loop within an orchestration.</span></span> <span data-ttu-id="a19ab-179">Pour ce faire, vous devez créer une autre activité et mapper l'ensemble des données et des étapes majeures de cette nouvelle activité dans la boucle.</span><span class="sxs-lookup"><span data-stu-id="a19ab-179">To do this, you create another activity and map all of the new activity milestones and data inside the loop.</span></span> <span data-ttu-id="a19ab-180">Cette opération est nécessaire étant donné que le traitement des données dans la boucle se répètera plusieurs fois par exécution planifiée.</span><span class="sxs-lookup"><span data-stu-id="a19ab-180">This is necessary because the data processing in the loop will occur more than once per scheduled execution.</span></span>  
  
 <span data-ttu-id="a19ab-181">Par exemple, si vous avez un bon de commande avec plusieurs éléments de ligne traités dans une boucle, les questions du type « les bons de commande doivent prix unitaires de 100 $? »</span><span class="sxs-lookup"><span data-stu-id="a19ab-181">For example, if you have a purchase order with multiple line items that process in a loop, questions like “Which purchase orders have item prices of $100?"</span></span> <span data-ttu-id="a19ab-182">sont ambiguës.</span><span class="sxs-lookup"><span data-stu-id="a19ab-182">are ambiguous.</span></span> <span data-ttu-id="a19ab-183">Voici ce que seraient des questions sans équivoque :</span><span class="sxs-lookup"><span data-stu-id="a19ab-183">Unambiguous questions are:</span></span>  
  
 <span data-ttu-id="a19ab-184">Quels sont les bons de commande contenant des éléments de ligne avec un prix de 100$ ?</span><span class="sxs-lookup"><span data-stu-id="a19ab-184">Which purchase orders have line items with a price of $100?</span></span>  
  
 <span data-ttu-id="a19ab-185">Quels sont les bons de commande contenant des prix unitaires total/min/max de 100 $ ?</span><span class="sxs-lookup"><span data-stu-id="a19ab-185">Which purchase orders have Total/Min/Max item prices of $100?</span></span>  
  
 <span data-ttu-id="a19ab-186">Pour poser des questions sans ambiguïté, il faut bien distinguer éléments de ligne et bon de commande.</span><span class="sxs-lookup"><span data-stu-id="a19ab-186">Creating unambiguous questions requires thinking of the line items as something separate from the purchase order.</span></span> <span data-ttu-id="a19ab-187">Dans l'Éditeur de modèle de suivi, l'activité racine (un bon de commande par exemple) est mappée sur toutes les actions extérieures à la boucle.</span><span class="sxs-lookup"><span data-stu-id="a19ab-187">In the Tracking Profile Editor, the root activity (for example, a purchase order) maps to all actions outside the loop.</span></span> <span data-ttu-id="a19ab-188">L'activité enfant (un élément de ligne par exemple) est mappée sur les actions situées dans la boucle.</span><span class="sxs-lookup"><span data-stu-id="a19ab-188">The child activity (for example, a line item) maps to the actions inside the loop.</span></span>  
  
 <span data-ttu-id="a19ab-189">La méthode la plus classique pour utiliser ces types de constructions est de décomposer la boucle récurrente et d'avoir une activité associée basée sur l'activité interne associée à l'activité externe.</span><span class="sxs-lookup"><span data-stu-id="a19ab-189">The typical approach to working with these types of constructs is to decompose the repeating loop and to have a related activity based on the inner activity that is related to the outer activity.</span></span>  
  
 <span data-ttu-id="a19ab-190">Vous devez utiliser un élément de charge comme ActivityID pour l'activité racine et rendre cet élément de charge disponible dans certains messages dans la boucle.</span><span class="sxs-lookup"><span data-stu-id="a19ab-190">You need to use a payload item as the ActivityID for the root activity and have this payload item available in some of the messages inside the loop.</span></span> <span data-ttu-id="a19ab-191">Mappez l'activité sur le nœud de relation affiché sous l'activité enfant et nommez-la en tant qu'activité racine.</span><span class="sxs-lookup"><span data-stu-id="a19ab-191">Map the activity to the relationship node that displays under the child activity and name it as the root activity.</span></span>  
  
## <a name="tracking-profiles-spanning-multiple-applications"></a><span data-ttu-id="a19ab-192">Modèles de suivi englobant plusieurs applications</span><span class="sxs-lookup"><span data-stu-id="a19ab-192">Tracking Profiles Spanning Multiple Applications</span></span>  
 <span data-ttu-id="a19ab-193">Si un modèle de suivi englobe plusieurs applications, il doit être déployé après toutes les applications de la solution.</span><span class="sxs-lookup"><span data-stu-id="a19ab-193">If a tracking profile spans multiple applications, the tracking profile must be deployed after all applications in the solution are deployed.</span></span> <span data-ttu-id="a19ab-194">Si le modèle de suivi n’est pas le dernier élément déployé, vous recevez le message suivant, «**source de mappage introuvable.**», lors de l’Assistant Déploiement appellera BTTDeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="a19ab-194">If the tracking profile is not the last item deployed, you will receive the following message, "**Mapping source not found.**", when the deployment wizard calls BTTDeploy.exe.</span></span>  
  
## <a name="mapping-multiple-biztalk-server-artifacts-to-a-document-reference-url-or-messageid-nodes"></a><span data-ttu-id="a19ab-195">Mappage de plusieurs artefacts de BizTalk Server sur des nœuds Document Reference URL ou MessageID</span><span class="sxs-lookup"><span data-stu-id="a19ab-195">Mapping Multiple BizTalk Server Artifacts to a Document Reference URL or MessageID Nodes</span></span>  
 <span data-ttu-id="a19ab-196">L'Éditeur de modèle de suivi vous permet de faire glisser plusieurs artefacts de BizTalk Server et de les déposer dans le même nœud Document Reference URL ou MessageID.</span><span class="sxs-lookup"><span data-stu-id="a19ab-196">The TPE allows you to drag and drop from multiple BizTalk Server artifacts onto the same document reference URL or MessageID node.</span></span>  
  
 <span data-ttu-id="a19ab-197">Dans le cas où plusieurs sources sont mappées sur le même élément d'une activité BAM, le dernier artefact rencontré durant le traitement de l'analyse BAM est celui qui est conservé dans les données de suivi et peut être affiché dans le portail BAM.</span><span class="sxs-lookup"><span data-stu-id="a19ab-197">In cases where multiple sources are mapped to the same item in a BAM activity, the last artifact that was encountered during BAM processing is the one that persists in the tracking data and can be viewed in the BAM portal.</span></span>  
  
## <a name="updating-btt-versions-to-match-biztalk-solution-versions"></a><span data-ttu-id="a19ab-198">Mise à jour de versions de BTT correspondant aux versions de solution BizTalk</span><span class="sxs-lookup"><span data-stu-id="a19ab-198">Updating BTT Versions to Match BizTalk Solution Versions</span></span>  
 <span data-ttu-id="a19ab-199">En tant que développeur ou administrateur BAM, vous pouvez maintenir la synchronisation des versions entre les modèles de suivi et les solutions BizTalk en automatisant la mise à jour avec le fichier BTT.</span><span class="sxs-lookup"><span data-stu-id="a19ab-199">BAM developers and administrators can maintain version synchronization between tracking profiles and BizTalk solutions by automating the update to the BTT file.</span></span> <span data-ttu-id="a19ab-200">Pour ce faire, modifiez le **Version** d’attribut dans le **DataLevel** élément du fichier BTT.</span><span class="sxs-lookup"><span data-stu-id="a19ab-200">To do this, modify the **Version** attribute in the **DataLevel** element of the BTT file.</span></span> <span data-ttu-id="a19ab-201">Dans l'exemple d'élément ci-dessous, vous devez modifiez les informations de version dans les attributs TargetAssemblyName et SchemaName.</span><span class="sxs-lookup"><span data-stu-id="a19ab-201">In the following sample element, you would modify the version information in the TargetAssemblyName and SchemaName attributes.</span></span>  
  
```  
<DataLevel Name="City" SourceTypeSelected="Messaging Payload" TargetAssemblyName="TheImplementationOfOrderMgmt, Version=1.0.0.0, Culture=neutral, PublicKeyToken=c5b33e44ffa4658b" SchemaName="TheImplementationOfOrderMgmt.PurchaseOrder,TheImplementationOfOrderMgmt, Version=1.0.0.0, Culture=neutral, PublicKeyToken=c5b33e44ffa4658b" SomXPath="/*[local-name()='<Schema>' and namespace-uri()='http://TheImplementationOfOrderMgmt.PurchaseOrder']/*[local-name()='PurchaseOrder' and namespace-uri()='http://TheImplementationOfOrderMgmt.PurchaseOrder']/*[local-name()='Header' and namespace-uri()='']/*[local-name()='ShipTo' and namespace-uri()='']/@*[local-name()='City' and namespace-uri()='']" XPath="/*[local-name()='PurchaseOrder' and namespace-uri()='http://TheImplementationOfOrderMgmt.PurchaseOrder']/*[local-name()='Header' and namespace-uri()='']/*[local-name()='ShipTo' and namespace-uri()='']/@*[local-name()='City' and namespace-uri()='']" IsBeginActivity="true" IsEndActivity="false">  
```  
  
## <a name="some-orchestration-shapes-cannot-be-tracked-in-the-tpe"></a><span data-ttu-id="a19ab-202">Certaines formes d'orchestration ne peuvent pas faire l'objet d'un suivi dans l'Éditeur de modèle de suivi</span><span class="sxs-lookup"><span data-stu-id="a19ab-202">Some Orchestration Shapes Cannot be Tracked in the TPE</span></span>  
 <span data-ttu-id="a19ab-203">Le moteur d'orchestration ne génère pas d'événements pour les formes ci-dessous. Ces formes ne peuvent donc pas faire l'objet d'un suivi ou d'un mappage dans l'Éditeur de modèle de suivi :</span><span class="sxs-lookup"><span data-stu-id="a19ab-203">The orchestration ongine does not generate events for the following shapes and thus these shapes cannot be tracked or mapped in the TPE:</span></span>  
  
-   <span data-ttu-id="a19ab-204">Tâche</span><span class="sxs-lookup"><span data-stu-id="a19ab-204">Task</span></span>  
  
-   <span data-ttu-id="a19ab-205">Toutes les branches</span><span class="sxs-lookup"><span data-stu-id="a19ab-205">All Branches</span></span>  
  
-   <span data-ttu-id="a19ab-206">Suspendre</span><span class="sxs-lookup"><span data-stu-id="a19ab-206">Suspend</span></span>  
  
-   <span data-ttu-id="a19ab-207">Terminate</span><span class="sxs-lookup"><span data-stu-id="a19ab-207">Terminate</span></span>  
  
-   <span data-ttu-id="a19ab-208">Levée d'exception</span><span class="sxs-lookup"><span data-stu-id="a19ab-208">Throw</span></span>  
  
-   <span data-ttu-id="a19ab-209">Intercepter</span><span class="sxs-lookup"><span data-stu-id="a19ab-209">Catch</span></span>  
  
-   <span data-ttu-id="a19ab-210">AssignationMessage (car elle fait partie de la forme Construire)</span><span class="sxs-lookup"><span data-stu-id="a19ab-210">MessageAssignment (because it is part of the Construct shape)</span></span>  
  
-   <span data-ttu-id="a19ab-211">Transformer (car elle fait partie de la forme Construire)</span><span class="sxs-lookup"><span data-stu-id="a19ab-211">Transform (because it is part of the Construct shape)</span></span>  
  
-   <span data-ttu-id="a19ab-212">Boucle</span><span class="sxs-lookup"><span data-stu-id="a19ab-212">Loop</span></span>  
  
## <a name="tpe-not-retrieving-deployed-tracking-profiles"></a><span data-ttu-id="a19ab-213">L'Éditeur de modèle de suivi ne récupère pas les modèles de suivi déployés</span><span class="sxs-lookup"><span data-stu-id="a19ab-213">TPE Not Retrieving Deployed Tracking Profiles</span></span>  
 <span data-ttu-id="a19ab-214">Après une mise à niveau ou un redéploiement, vous pouvez avoir du mal à récupérer les modèles de suivi déployés.</span><span class="sxs-lookup"><span data-stu-id="a19ab-214">After an upgrade or redeployment you may experience difficulties in retrieving deployed tracking profiles.</span></span> <span data-ttu-id="a19ab-215">Ces difficultés peuvent être dues à une erreur liée au nom du serveur sur lequel la base de données BizTalkMgmtDb est stockée dans le registre.</span><span class="sxs-lookup"><span data-stu-id="a19ab-215">This can be caused by a mismatch in the manner in which the server name on which BizTalkMgmtDb database is stored in the registry.</span></span>  
  
 <span data-ttu-id="a19ab-216">La base de données BizTalkMgmtDb est inscrite dans le registre pendant la configuration de groupe.</span><span class="sxs-lookup"><span data-stu-id="a19ab-216">The BizTalkMgmtDb is written to the registry during Group configuration.</span></span> <span data-ttu-id="a19ab-217">L'Éditeur de modèle de suivi utilise cette entrée pour rechercher la base de données d'importation principale et filtrer les modèles de suivi.</span><span class="sxs-lookup"><span data-stu-id="a19ab-217">The TPE uses the entry to find the Primary Import database and to filter the tracking profiles.</span></span>  
  
 <span data-ttu-id="a19ab-218">Pendant la configuration, il est possible d'entrer le nom du serveur sous plusieurs formats.</span><span class="sxs-lookup"><span data-stu-id="a19ab-218">During configuration it is possible to enter the server name in several formats.</span></span> <span data-ttu-id="a19ab-219">Exemple :</span><span class="sxs-lookup"><span data-stu-id="a19ab-219">For example:</span></span>  
  
-   <span data-ttu-id="a19ab-220">mgmtsvr1316267,15001\inst</span><span class="sxs-lookup"><span data-stu-id="a19ab-220">mgmtsvr1316267,15001\inst</span></span>  
  
-   <span data-ttu-id="a19ab-221">MGMTSVR1316267\inst,15001</span><span class="sxs-lookup"><span data-stu-id="a19ab-221">MGMTSVR1316267\inst,15001</span></span>  
  
 <span data-ttu-id="a19ab-222">L'Éditeur de modèle de suivi effectue une comparaison de chaînes de base lorsqu'il utilise l'entrée du registre.</span><span class="sxs-lookup"><span data-stu-id="a19ab-222">The TPE performs a basic string comparison when using the registry entry.</span></span> <span data-ttu-id="a19ab-223">Pour récupérer les profils de suivi déployé, il est nécessaire d’inspecter les noms de serveur et de base de données stockées et entrez-les dans l’éditeur **définir la base de données de gestion** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="a19ab-223">To retrieve the deployed tracking profiles it is necessary to inspect the stored server and database names and enter them in the TPE **Set Management Database** dialog box.</span></span>  
  
#### <a name="to-determine-the-syntax-for-server-and-database-names-and-enter-it-in-the-biztalk-management-database"></a><span data-ttu-id="a19ab-224">Pour déterminer la syntaxe du nom du serveur et de la base de données, puis les entrer dans la base de données de gestion BizTalk.</span><span class="sxs-lookup"><span data-stu-id="a19ab-224">To determine the syntax for server and database names and enter it in the BizTalk Management database.</span></span>  
  
1.  <span data-ttu-id="a19ab-225">Ouvrez le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] **Gestionnaire de Configuration personnalisée**.</span><span class="sxs-lookup"><span data-stu-id="a19ab-225">Open the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]**Custom Configuration Manager**.</span></span> <span data-ttu-id="a19ab-226">Pour plus d’informations sur l’utilisation de la **Gestionnaire de Configuration personnalisée**, consultez [configurer BizTalk Server](../install-and-config-guides/configure-biztalk-server.md).</span><span class="sxs-lookup"><span data-stu-id="a19ab-226">For information about using the **Custom Configuration Manager**, see [Configure BizTalk Server](../install-and-config-guides/configure-biztalk-server.md).</span></span>  
  
2.  <span data-ttu-id="a19ab-227">Dans le volet de navigation, sélectionnez **groupe** pour ouvrir la page de configuration de groupe.</span><span class="sxs-lookup"><span data-stu-id="a19ab-227">In the navigation pane, select **Group** to open the group configuration page.</span></span>  
  
3.  <span data-ttu-id="a19ab-228">Dans le **banques de données** grille, observez les formats de la **nom du serveur** et le **nom de la base de données**.</span><span class="sxs-lookup"><span data-stu-id="a19ab-228">In the **Data Stores** grid, observe the formats of the **Server Name** and the **Database Name**.</span></span>  
  
4.  <span data-ttu-id="a19ab-229">Ouvrez l’éditeur, puis sélectionnez le **outils** élément de menu.</span><span class="sxs-lookup"><span data-stu-id="a19ab-229">Open the TPE and select the **Tools** menu item.</span></span>  
  
5.  <span data-ttu-id="a19ab-230">Sélectionnez le **définir la base de données de gestion** élément de menu pour ouvrir la **définir la base de données de gestion** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="a19ab-230">Select the **Set Management Database** menu item to open the **Set Management Database** dialog box.</span></span>  
  
6.  <span data-ttu-id="a19ab-231">Dans le **SQL Server** texte, entrez le nom du serveur qui a été utilisé dans le **nom du serveur** champ le **banques de données** gridon le **Gestionnaire de Configuration personnalisée**  page de groupe.</span><span class="sxs-lookup"><span data-stu-id="a19ab-231">In the **SQL Server** text box, enter the server name that was used in the **Server Name** field of the **Data Stores** gridon the **Custom Configuration Manager** group page.</span></span>  
  
7.  <span data-ttu-id="a19ab-232">Dans le **nom de la base de données** texte, entrez le nom de la base de données qui a été utilisé dans le **nom de la base de données** champ le **banques de données** gridon le **Configuration personnalisée Gestionnaire** page de groupe.</span><span class="sxs-lookup"><span data-stu-id="a19ab-232">In the **Database name** text box, enter the database name that was used in the **Database Name** field of the **Data Stores** gridon the **Custom Configuration Manager** group page.</span></span>  
  
8.  <span data-ttu-id="a19ab-233">Cliquez sur le **OK** bouton pour enregistrer les entrées.</span><span class="sxs-lookup"><span data-stu-id="a19ab-233">Click the **OK** button to save the entries.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a19ab-234">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="a19ab-234">See Also</span></span>  
 <span data-ttu-id="a19ab-235">[À l’aide de l’éditeur](../core/using-the-tpe.md) </span><span class="sxs-lookup"><span data-stu-id="a19ab-235">[Using the TPE](../core/using-the-tpe.md) </span></span>  
 [<span data-ttu-id="a19ab-236">Éditeur de modèle de suivi</span><span class="sxs-lookup"><span data-stu-id="a19ab-236">Tracking Profile Editor</span></span>](../core/tracking-profile-editor.md)