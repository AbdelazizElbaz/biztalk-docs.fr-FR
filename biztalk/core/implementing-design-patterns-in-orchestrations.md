---
title: "Implémenter des modèles de conception dans les Orchestrations | Documents Microsoft"
description: "Aggregator, le routage basé sur le contenu, routeur dynamique, la gestion des erreurs, service broker de message et plusieurs modèles de conception dans BizTalk Server"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f62ba955-018a-40e7-b303-497acc906019
caps.latest.revision: "14"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 290b31e8d5494c7a00eb02517e910fc877da9124
ms.sourcegitcommit: dd7c54feab783ae2f8fe75873363fe9ffc77cd66
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/07/2017
---
# <a name="implement-design-patterns-in-orchestrations"></a><span data-ttu-id="d10ca-103">Implémenter des modèles de conception dans les Orchestrations</span><span class="sxs-lookup"><span data-stu-id="d10ca-103">Implement Design Patterns in Orchestrations</span></span>
<span data-ttu-id="d10ca-104">Cette rubrique décrit les modèles communs en matière de programmation BizTalk Server, ainsi que les modèles d'intégration d'entreprise.</span><span class="sxs-lookup"><span data-stu-id="d10ca-104">This section discusses the common patterns of BizTalk Server programming as well as enterprise integration patterns.</span></span> <span data-ttu-id="d10ca-105">Vous pouvez utiliser un modèle unique ou associer plusieurs modèles afin de concevoir votre processus d'entreprise, puis d'implémenter cette conception à l'aide de formes dans le Concepteur d'orchestration BizTalk.</span><span class="sxs-lookup"><span data-stu-id="d10ca-105">You can leverage a single pattern or combine multiple patterns to design your business process and then implement the design by using shapes in BizTalk Orchestration Designer.</span></span>  
  
## <a name="design-patterns"></a><span data-ttu-id="d10ca-106">Modèles de conception</span><span class="sxs-lookup"><span data-stu-id="d10ca-106">Design Patterns</span></span>  
 <span data-ttu-id="d10ca-107">Les entrées suivantes décrivent brièvement chaque modèle et pointent vers des rubriques ou des exemples qui expliquent comment implémenter ces modèles à l'aide du Concepteur d'orchestration BizTalk.</span><span class="sxs-lookup"><span data-stu-id="d10ca-107">The following entries briefly describe each pattern and point to the topics or samples that show how to implement the patterns using BizTalk Orchestration Designer.</span></span>  
  
### <a name="aggregator"></a><span data-ttu-id="d10ca-108">Aggregator</span><span class="sxs-lookup"><span data-stu-id="d10ca-108">Aggregator</span></span>  
 <span data-ttu-id="d10ca-109">Le modèle d'agrégation est le modèle qui régit la réception des informations émanant de plusieurs sources et le regroupement de ces informations en un seul message.</span><span class="sxs-lookup"><span data-stu-id="d10ca-109">Aggregator is the pattern of receiving information from multiple sources and consolidating it into a single message.</span></span> <span data-ttu-id="d10ca-110">Pour obtenir un exemple de ce modèle, voir Aggregate.odx dans la rubrique [Aggregator (exemple BizTalk Server)](../core/aggregator-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-110">For an example of this pattern, see Aggregate.odx in [Aggregator (BizTalk Server Sample)](../core/aggregator-biztalk-server-sample.md).</span></span>  
  
### <a name="calling-pipelines-from-an-orchestration"></a><span data-ttu-id="d10ca-111">Appel de pipelines à partir d'une orchestration</span><span class="sxs-lookup"><span data-stu-id="d10ca-111">Calling Pipelines from an Orchestration</span></span>  
 <span data-ttu-id="d10ca-112">Vous pouvez appeler des pipelines d'envoi et de réception à partir de vos orchestrations.</span><span class="sxs-lookup"><span data-stu-id="d10ca-112">You can call send and receive pipelines from your orchestrations.</span></span> <span data-ttu-id="d10ca-113">Ceci vous permet de réutiliser des pipelines et de préserver la dissociation entre une orchestration et les étapes du pipeline.</span><span class="sxs-lookup"><span data-stu-id="d10ca-113">This allows the reuse of pipelines and helps maintain the decoupling of an orchestration from the pipeline stages.</span></span> <span data-ttu-id="d10ca-114">Pour obtenir un exemple de ce modèle, voir Aggregate.odx dans la rubrique [Aggregator (exemple BizTalk Server)](../core/aggregator-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-114">For an example of this pattern, see Aggregate.odx in [Aggregator (BizTalk Server Sample)](../core/aggregator-biztalk-server-sample.md).</span></span> <span data-ttu-id="d10ca-115">Un autre exemple est CMP.odx dans la rubrique [processeur de messages composés (exemple BizTalk Server)](../core/composed-message-processor-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-115">Another example is CMP.odx in [Composed Message Processor (BizTalk Server Sample)](../core/composed-message-processor-biztalk-server-sample.md).</span></span> <span data-ttu-id="d10ca-116">Voir aussi [comment utiliser des Expressions pour exécuter des Pipelines](../core/how-to-use-expressions-to-execute-pipelines.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-116">See also [How to Use Expressions to Execute Pipelines](../core/how-to-use-expressions-to-execute-pipelines.md).</span></span>  
  
### <a name="composed-message-processor"></a><span data-ttu-id="d10ca-117">Traitement des messages composés</span><span class="sxs-lookup"><span data-stu-id="d10ca-117">Composed Message Processor</span></span>  
 <span data-ttu-id="d10ca-118">Le traitement des messages composés est un modèle de traitement d'éléments individuels à partir d'un message d'échange agrégé ou par lot.</span><span class="sxs-lookup"><span data-stu-id="d10ca-118">Composed Message Processor is the pattern of processing individual items from an aggregated or batched interchange message.</span></span> <span data-ttu-id="d10ca-119">Pour obtenir un exemple de ce modèle, voir CMP.odx dans la rubrique [processeur de messages composés (exemple BizTalk Server)](../core/composed-message-processor-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-119">For an example of this pattern, see CMP.odx in [Composed Message Processor (BizTalk Server Sample)](../core/composed-message-processor-biztalk-server-sample.md).</span></span>  
  
### <a name="content-based-router"></a><span data-ttu-id="d10ca-120">Routeur basé sur le contenu</span><span class="sxs-lookup"><span data-stu-id="d10ca-120">Content-Based Router</span></span>  
 <span data-ttu-id="d10ca-121">Le modèle de routeur basé sur le contenu est un modèle de détermination du destinataire d'un message basé sur une partie donnée du contenu du message.</span><span class="sxs-lookup"><span data-stu-id="d10ca-121">Content-Based Router is the pattern of determining the recipient of a message based on some part of the message content.</span></span> <span data-ttu-id="d10ca-122">Pour obtenir un exemple de ce modèle, consultez [CBRSample (exemple BizTalk Server)](../core/cbrsample-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-122">For an example of this pattern, see [CBRSample (BizTalk Server Sample)](../core/cbrsample-biztalk-server-sample.md).</span></span>  
  
### <a name="dynamic-router"></a><span data-ttu-id="d10ca-123">Routeur dynamique</span><span class="sxs-lookup"><span data-stu-id="d10ca-123">Dynamic Router</span></span>  
 <span data-ttu-id="d10ca-124">Le modèle de routeur dynamique est un modèle de détermination de l'adresse de destination et du protocole de transport d'un message basé sur le résultat du traitement du message.</span><span class="sxs-lookup"><span data-stu-id="d10ca-124">Dynamic Router is the pattern of determining the destination address as well as the transport protocol based on the result of message processing.</span></span> <span data-ttu-id="d10ca-125">Vous pouvez utiliser un port d’envoi dynamique ou un **lien de rôle** forme d’implémenter ce modèle.</span><span class="sxs-lookup"><span data-stu-id="d10ca-125">You can use a dynamic send port or a **Role Link** shape to implement this pattern.</span></span> <span data-ttu-id="d10ca-126">Pour obtenir un exemple de ce modèle, voir receivesend.odx dans la rubrique [SendMail](../core/sendmail.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-126">For an example of this pattern, see ReceiveSend.odx in [SendMail](../core/sendmail.md).</span></span> <span data-ttu-id="d10ca-127">Un autre exemple est SupplierProcess.odx dans [PartyResolution (exemple BizTalk Server)](../core/partyresolution-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-127">Another example is SupplierProcess.odx in [PartyResolution (BizTalk Server Sample)](../core/partyresolution-biztalk-server-sample.md).</span></span>  
  
### <a name="error-handling"></a><span data-ttu-id="d10ca-128">Gestion des erreurs</span><span class="sxs-lookup"><span data-stu-id="d10ca-128">Error Handling</span></span>  
 <span data-ttu-id="d10ca-129">BizTalk Server vous permet de désigner la gestion automatique des échecs relatifs à la messagerie comme une alternative au comportement par défaut qui consiste à placer les messages ayant échoué dans la file d'attente des messages interrompus.</span><span class="sxs-lookup"><span data-stu-id="d10ca-129">BizTalk Server allows you to designate automated handling of messaging failures as an alternative to the default behavior of placing failed messages in the Suspended queue.</span></span> <span data-ttu-id="d10ca-130">Vous pouvez acheminer les messages ayant échoué vers un port d'abonnement pour les signaler dans un rapport ou les traiter.</span><span class="sxs-lookup"><span data-stu-id="d10ca-130">You can route failed messages to a subscribing port for reporting or processing.</span></span> <span data-ttu-id="d10ca-131">Pour obtenir un exemple de ce modèle, voir resubmitlogic.odx dans la rubrique [(dossier d’exemples BizTalk Server) de gestion des erreurs](../core/error-handling-biztalk-server-samples-folder.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-131">For an example of this pattern, see ResubmitLogic.odx in [Error Handling (BizTalk Server Samples Folder)](../core/error-handling-biztalk-server-samples-folder.md).</span></span>  
  
### <a name="exception-handling-and-compensation"></a><span data-ttu-id="d10ca-132">Gestion et compensation des exceptions</span><span class="sxs-lookup"><span data-stu-id="d10ca-132">Exception Handling and Compensation</span></span>  
 <span data-ttu-id="d10ca-133">Vous pouvez utiliser un gestionnaire d’exceptions et un **lever Exception** forme ou un **Expression** forme pour la gestion des exceptions.</span><span class="sxs-lookup"><span data-stu-id="d10ca-133">You can use an exception handler and a **Throw Exception** shape or an **Expression** shape for exception handling.</span></span> <span data-ttu-id="d10ca-134">Par exemple, vous pouvez placer le code suivant dans le **Expression** forme pour lever l’exception :,</span><span class="sxs-lookup"><span data-stu-id="d10ca-134">For example, you can place the following code in the **Expression** shape to throw the exception:,</span></span>  
  
```  
excp = new System.Exception();  
throw(excp);  
```  
  
 <span data-ttu-id="d10ca-135">Vous pouvez utiliser un bloc de compensation et un **compenser** shape pour effectuer la compensation sur les transactions qui ont été validées.</span><span class="sxs-lookup"><span data-stu-id="d10ca-135">You can use a compensation block and a **Compensate** shape to perform the compensation on the transactions that have been committed.</span></span> <span data-ttu-id="d10ca-136">Pour obtenir un exemple de ce modèle, voir updatecontact.odx dans la rubrique [Compensation (exemple BizTalk Server)](../core/compensation-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-136">For an example of this pattern, see UpdateContact.odx in [Compensation (BizTalk Server Sample)](../core/compensation-biztalk-server-sample.md).</span></span> <span data-ttu-id="d10ca-137">Un autre exemple est en [personnalisé Exceptions](../core/custom-exceptions.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-137">Another example is in [Custom Exceptions](../core/custom-exceptions.md).</span></span>  
  
### <a name="message-broker"></a><span data-ttu-id="d10ca-138">Courtier de messages</span><span class="sxs-lookup"><span data-stu-id="d10ca-138">Message Broker</span></span>  
 <span data-ttu-id="d10ca-139">Le modèle de courtier de messages est un modèle de détermination de la destination d'un message tout en conservant le contrôle sur le flux de messages.</span><span class="sxs-lookup"><span data-stu-id="d10ca-139">Message Broker is the pattern of determining the destination of a message and still maintaining control over the message flow.</span></span> <span data-ttu-id="d10ca-140">Pour plus d’informations, consultez [du traitement de l’Orchestration OrderBroker](../core/processing-in-the-orderbroker-orchestration.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-140">For more, see  [Processing in the OrderBroker Orchestration](../core/processing-in-the-orderbroker-orchestration.md).</span></span>  
  
### <a name="message-filter"></a><span data-ttu-id="d10ca-141">Filtre de message</span><span class="sxs-lookup"><span data-stu-id="d10ca-141">Message Filter</span></span>  
 <span data-ttu-id="d10ca-142">Le modèle de filtre de message sélectionne les messages à traiter en fonction de critères particuliers.</span><span class="sxs-lookup"><span data-stu-id="d10ca-142">The Message Filter pattern selects messages meeting particular criteria for processing.</span></span> <span data-ttu-id="d10ca-143">Vous pouvez implémenter ce modèle en ajoutant l’expression de filtre pour une activation **réception** forme.</span><span class="sxs-lookup"><span data-stu-id="d10ca-143">You can implement this pattern by adding the filter expression to an activated **Receive** shape.</span></span> <span data-ttu-id="d10ca-144">Pour plus d’informations, consultez [à l’aide de filtres avec le Message forme réception](../core/using-filters-with-the-receive-message-shape.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-144">For more information, see [Using Filters With the Receive Message Shape](../core/using-filters-with-the-receive-message-shape.md).</span></span>  
  
### <a name="message-translator"></a><span data-ttu-id="d10ca-145">Convertisseur de messages</span><span class="sxs-lookup"><span data-stu-id="d10ca-145">Message Translator</span></span>  
 <span data-ttu-id="d10ca-146">Le modèle de conversion de messages convertit un message d'une forme à une autre.</span><span class="sxs-lookup"><span data-stu-id="d10ca-146">The Message Translator pattern converts a message from one form to another form.</span></span> <span data-ttu-id="d10ca-147">Vous pouvez implémenter ce modèle à l’aide d’un mappage BizTalk avec un **transformer** forme dans une orchestration.</span><span class="sxs-lookup"><span data-stu-id="d10ca-147">You can implement this pattern by using a BizTalk map with a **Transform** shape in an orchestration.</span></span> <span data-ttu-id="d10ca-148">Pour obtenir un exemple de ce modèle, voir helloorchestration.odx dans la rubrique [HelloWorld (exemple BizTalk Server)](../core/helloworld-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="d10ca-148">For an example of this pattern, see HelloOrchestration.odx in [HelloWorld (BizTalk Server Sample)](../core/helloworld-biztalk-server-sample.md).</span></span>  
  
### <a name="parallel-convoy"></a><span data-ttu-id="d10ca-149">Convoi parallèle</span><span class="sxs-lookup"><span data-stu-id="d10ca-149">Parallel Convoy</span></span>  
 <span data-ttu-id="d10ca-150">Le modèle de convoi parallèle permet à plusieurs éléments uniques d'être reliés de façon à obtenir une chose qu'un élément individuel ne peut pas accomplir seul.</span><span class="sxs-lookup"><span data-stu-id="d10ca-150">The Parallel Convoy pattern enables multiple single items to join together to achieve something that an individual item cannot accomplish by itself.</span></span> <span data-ttu-id="d10ca-151">L'ensemble des éléments liés peut arriver dans n'importe quel ordre, mais BizTalk Server doit tous les recevoir avant de commencer le traitement.</span><span class="sxs-lookup"><span data-stu-id="d10ca-151">The set of related items can arrive in any order, but BizTalk Server must receive all of them before starting the process.</span></span> 
  
### <a name="scatter-and-gather"></a><span data-ttu-id="d10ca-152">Ventilation et regroupement</span><span class="sxs-lookup"><span data-stu-id="d10ca-152">Scatter and Gather</span></span>  
 <span data-ttu-id="d10ca-153">Le modèle de ventilation et de regroupement permet d'envoyer des messages à plusieurs destinataires et de recevoir des messages de la part de chaque destinataire.</span><span class="sxs-lookup"><span data-stu-id="d10ca-153">The Scatter and Gather pattern enables messages to be sent to multiple recipients and messages to be received back from each recipient.</span></span> <span data-ttu-id="d10ca-154">Vous pouvez implémenter ce modèle à l'aide des modèles de séparation et d'agrégation.</span><span class="sxs-lookup"><span data-stu-id="d10ca-154">You can implement this pattern by using the Splitter pattern and the Aggregator pattern.</span></span> <span data-ttu-id="d10ca-155">Vous utilisez le modèle d’agrégation pour assembler les résultats obtenus à l’aide du modèle de séparation et de les placer dans un **Actions parallèles** forme.</span><span class="sxs-lookup"><span data-stu-id="d10ca-155">You use the Aggregator pattern to assemble the results from using the Splitter pattern and put them under a **Parallel Actions** shape.</span></span> 
  
### <a name="sequential-convoy"></a><span data-ttu-id="d10ca-156">Convoi séquentiel</span><span class="sxs-lookup"><span data-stu-id="d10ca-156">Sequential Convoy</span></span>  
 <span data-ttu-id="d10ca-157">Le modèle de convoi séquentiel permet à plusieurs éléments uniques d'être reliés de façon à obtenir une chose qu'un élément individuel ne peut pas accomplir seul.</span><span class="sxs-lookup"><span data-stu-id="d10ca-157">The Sequential Convoy pattern enables multiple single items to join together to achieve something that an individual item cannot accomplish by itself.</span></span> <span data-ttu-id="d10ca-158">Un convoi séquentiel est un ensemble d'éléments associés présentant un ordre prédéfini.</span><span class="sxs-lookup"><span data-stu-id="d10ca-158">A sequential convoy is a set of related items that have a predefined order.</span></span> <span data-ttu-id="d10ca-159">Bien que ces éléments n'aient pas à être exactement identiques, BizTalk Server doit les recevoir dans un ordre séquentiel.</span><span class="sxs-lookup"><span data-stu-id="d10ca-159">Although the items do not have to be exactly the same, BizTalk Server must receive the items in a sequential order.</span></span> 
  
### <a name="splitter"></a><span data-ttu-id="d10ca-160">Splitter</span><span class="sxs-lookup"><span data-stu-id="d10ca-160">Splitter</span></span>  
 <span data-ttu-id="d10ca-161">Le modèle de séparation fractionne un messages unique en plusieurs messages.</span><span class="sxs-lookup"><span data-stu-id="d10ca-161">The Splitter pattern takes a single message and splits it into multiple messages.</span></span>  
  
### <a name="suspend-with-retry"></a><span data-ttu-id="d10ca-162">Suspension avec relance</span><span class="sxs-lookup"><span data-stu-id="d10ca-162">Suspend with Retry</span></span>  
 <span data-ttu-id="d10ca-163">Le modèle de suspension avec relance permet à l'orchestration de suspendre un message en cas d'erreur.</span><span class="sxs-lookup"><span data-stu-id="d10ca-163">The Suspend with Retry pattern enables the orchestration to suspend a message when there is an error.</span></span> <span data-ttu-id="d10ca-164">La suspension se produit dans le cadre d'une boucle dans laquelle l'orchestration suspend le message, demande l'intervention, puis effectue un nombre de relances prédéfini de l'opération.</span><span class="sxs-lookup"><span data-stu-id="d10ca-164">The suspension occurs within a loop so that the orchestration suspends, asks for intervention, and then retries the operation a fixed number of times.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d10ca-165">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="d10ca-165">See Also</span></span>  
 [<span data-ttu-id="d10ca-166">Conception d’un flux d’orchestration</span><span class="sxs-lookup"><span data-stu-id="d10ca-166">Designing Orchestration Flow</span></span>](../core/designing-orchestration-flow.md)