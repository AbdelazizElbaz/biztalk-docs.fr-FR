---
title: "Implémenter des modèles de conception dans les Orchestrations | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Aggregator pattern, orchestrations
- Error Handling pattern [orchestrations]
- patterns, orchestrations
- designing, orchestrations
- orchestrations, designing
- Exception Handling and Compensation pattern [orchestrations]
- Parallel Convoy pattern [orchestrations]
- Dynamic Router pattern [orchestrations]
- orchestrations, patterns
- patterns
- Composed Message Processor pattern [orchestrations]
- Suspend with Retry pattern, orchestrations
- Calling Pipelines from Orchestration pattern [orchestrations]
- Message Filter pattern [orchestrations]
- Message Broker pattern [orchestrations]
- Content-Based Router pattern [orchestrations]
- Sequential Convoy pattern [orchestrations]
- Scatter and Gather pattern [orchestrations]
- Splitter pattern, orchestrations
- Message Translator pattern [orchestrations]
ms.assetid: f62ba955-018a-40e7-b303-497acc906019
caps.latest.revision: "14"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1a4837ddf1199425a76a6fa82bbfd6e44615b6c7
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="implementing-design-patterns-in-orchestrations"></a><span data-ttu-id="6ae7e-102">Implémentation de modèles de conception dans des orchestrations</span><span class="sxs-lookup"><span data-stu-id="6ae7e-102">Implementing Design Patterns in Orchestrations</span></span>
<span data-ttu-id="6ae7e-103">Cette rubrique décrit les modèles communs en matière de programmation BizTalk Server, ainsi que les modèles d'intégration d'entreprise.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-103">This section discusses the common patterns of BizTalk Server programming as well as enterprise integration patterns.</span></span> <span data-ttu-id="6ae7e-104">Vous pouvez utiliser un modèle unique ou associer plusieurs modèles afin de concevoir votre processus d'entreprise, puis d'implémenter cette conception à l'aide de formes dans le Concepteur d'orchestration BizTalk.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-104">You can leverage a single pattern or combine multiple patterns to design your business process and then implement the design by using shapes in BizTalk Orchestration Designer.</span></span>  
  
## <a name="design-patterns"></a><span data-ttu-id="6ae7e-105">Modèles de conception</span><span class="sxs-lookup"><span data-stu-id="6ae7e-105">Design Patterns</span></span>  
 <span data-ttu-id="6ae7e-106">Les entrées suivantes décrivent brièvement chaque modèle et pointent vers des rubriques ou des exemples qui expliquent comment implémenter ces modèles à l'aide du Concepteur d'orchestration BizTalk.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-106">The following entries briefly describe each pattern and point to the topics or samples that show how to implement the patterns using BizTalk Orchestration Designer.</span></span>  
  
### <a name="aggregator"></a><span data-ttu-id="6ae7e-107">Aggregator</span><span class="sxs-lookup"><span data-stu-id="6ae7e-107">Aggregator</span></span>  
 <span data-ttu-id="6ae7e-108">Le modèle d'agrégation est le modèle qui régit la réception des informations émanant de plusieurs sources et le regroupement de ces informations en un seul message.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-108">Aggregator is the pattern of receiving information from multiple sources and consolidating it into a single message.</span></span> <span data-ttu-id="6ae7e-109">Pour obtenir un exemple de ce modèle, voir Aggregate.odx dans la rubrique [Aggregator (exemple BizTalk Server)](../core/aggregator-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-109">For an example of this pattern, see Aggregate.odx in [Aggregator (BizTalk Server Sample)](../core/aggregator-biztalk-server-sample.md).</span></span>  
  
### <a name="calling-pipelines-from-an-orchestration"></a><span data-ttu-id="6ae7e-110">Appel de pipelines à partir d'une orchestration</span><span class="sxs-lookup"><span data-stu-id="6ae7e-110">Calling Pipelines from an Orchestration</span></span>  
 <span data-ttu-id="6ae7e-111">Vous pouvez appeler des pipelines d'envoi et de réception à partir de vos orchestrations.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-111">You can call send and receive pipelines from your orchestrations.</span></span> <span data-ttu-id="6ae7e-112">Ceci vous permet de réutiliser des pipelines et de préserver la dissociation entre une orchestration et les étapes du pipeline.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-112">This allows the reuse of pipelines and helps maintain the decoupling of an orchestration from the pipeline stages.</span></span> <span data-ttu-id="6ae7e-113">Pour obtenir un exemple de ce modèle, voir Aggregate.odx dans la rubrique [Aggregator (exemple BizTalk Server)](../core/aggregator-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-113">For an example of this pattern, see Aggregate.odx in [Aggregator (BizTalk Server Sample)](../core/aggregator-biztalk-server-sample.md).</span></span> <span data-ttu-id="6ae7e-114">Un autre exemple est CMP.odx dans la rubrique [processeur de messages composés (exemple BizTalk Server)](../core/composed-message-processor-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-114">Another example is CMP.odx in [Composed Message Processor (BizTalk Server Sample)](../core/composed-message-processor-biztalk-server-sample.md).</span></span> <span data-ttu-id="6ae7e-115">Voir aussi [comment utiliser des Expressions pour exécuter des Pipelines](../core/how-to-use-expressions-to-execute-pipelines.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-115">See also [How to Use Expressions to Execute Pipelines](../core/how-to-use-expressions-to-execute-pipelines.md).</span></span>  
  
### <a name="composed-message-processor"></a><span data-ttu-id="6ae7e-116">Traitement des messages composés</span><span class="sxs-lookup"><span data-stu-id="6ae7e-116">Composed Message Processor</span></span>  
 <span data-ttu-id="6ae7e-117">Le traitement des messages composés est un modèle de traitement d'éléments individuels à partir d'un message d'échange agrégé ou par lot.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-117">Composed Message Processor is the pattern of processing individual items from an aggregated or batched interchange message.</span></span> <span data-ttu-id="6ae7e-118">Pour obtenir un exemple de ce modèle, voir CMP.odx dans la rubrique [processeur de messages composés (exemple BizTalk Server)](../core/composed-message-processor-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-118">For an example of this pattern, see CMP.odx in [Composed Message Processor (BizTalk Server Sample)](../core/composed-message-processor-biztalk-server-sample.md).</span></span>  
  
### <a name="content-based-router"></a><span data-ttu-id="6ae7e-119">Routeur basé sur le contenu</span><span class="sxs-lookup"><span data-stu-id="6ae7e-119">Content-Based Router</span></span>  
 <span data-ttu-id="6ae7e-120">Le modèle de routeur basé sur le contenu est un modèle de détermination du destinataire d'un message basé sur une partie donnée du contenu du message.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-120">Content-Based Router is the pattern of determining the recipient of a message based on some part of the message content.</span></span> <span data-ttu-id="6ae7e-121">Pour obtenir un exemple de ce modèle, consultez [CBRSample (exemple BizTalk Server)](../core/cbrsample-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-121">For an example of this pattern, see [CBRSample (BizTalk Server Sample)](../core/cbrsample-biztalk-server-sample.md).</span></span>  
  
### <a name="dynamic-router"></a><span data-ttu-id="6ae7e-122">Routeur dynamique</span><span class="sxs-lookup"><span data-stu-id="6ae7e-122">Dynamic Router</span></span>  
 <span data-ttu-id="6ae7e-123">Le modèle de routeur dynamique est un modèle de détermination de l'adresse de destination et du protocole de transport d'un message basé sur le résultat du traitement du message.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-123">Dynamic Router is the pattern of determining the destination address as well as the transport protocol based on the result of message processing.</span></span> <span data-ttu-id="6ae7e-124">Vous pouvez utiliser un port d’envoi dynamique ou un **lien de rôle** forme d’implémenter ce modèle.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-124">You can use a dynamic send port or a **Role Link** shape to implement this pattern.</span></span> <span data-ttu-id="6ae7e-125">Pour obtenir un exemple de ce modèle, voir receivesend.odx dans la rubrique [SendMail](../core/sendmail.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-125">For an example of this pattern, see ReceiveSend.odx in [SendMail](../core/sendmail.md).</span></span> <span data-ttu-id="6ae7e-126">Un autre exemple est SupplierProcess.odx dans [PartyResolution (exemple BizTalk Server)](../core/partyresolution-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-126">Another example is SupplierProcess.odx in [PartyResolution (BizTalk Server Sample)](../core/partyresolution-biztalk-server-sample.md).</span></span>  
  
### <a name="error-handling"></a><span data-ttu-id="6ae7e-127">Gestion des erreurs</span><span class="sxs-lookup"><span data-stu-id="6ae7e-127">Error Handling</span></span>  
 <span data-ttu-id="6ae7e-128">BizTalk Server vous permet de désigner la gestion automatique des échecs relatifs à la messagerie comme une alternative au comportement par défaut qui consiste à placer les messages ayant échoué dans la file d'attente des messages interrompus.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-128">BizTalk Server allows you to designate automated handling of messaging failures as an alternative to the default behavior of placing failed messages in the Suspended queue.</span></span> <span data-ttu-id="6ae7e-129">Vous pouvez acheminer les messages ayant échoué vers un port d'abonnement pour les signaler dans un rapport ou les traiter.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-129">You can route failed messages to a subscribing port for reporting or processing.</span></span> <span data-ttu-id="6ae7e-130">Pour obtenir un exemple de ce modèle, voir resubmitlogic.odx dans la rubrique [(dossier d’exemples BizTalk Server) de gestion des erreurs](../core/error-handling-biztalk-server-samples-folder.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-130">For an example of this pattern, see ResubmitLogic.odx in [Error Handling (BizTalk Server Samples Folder)](../core/error-handling-biztalk-server-samples-folder.md).</span></span>  
  
### <a name="exception-handling-and-compensation"></a><span data-ttu-id="6ae7e-131">Gestion et compensation des exceptions</span><span class="sxs-lookup"><span data-stu-id="6ae7e-131">Exception Handling and Compensation</span></span>  
 <span data-ttu-id="6ae7e-132">Vous pouvez utiliser un gestionnaire d’exceptions et un **lever Exception** forme ou un **Expression** forme pour la gestion des exceptions.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-132">You can use an exception handler and a **Throw Exception** shape or an **Expression** shape for exception handling.</span></span> <span data-ttu-id="6ae7e-133">Par exemple, vous pouvez placer le code suivant dans le **Expression** forme pour lever l’exception :,</span><span class="sxs-lookup"><span data-stu-id="6ae7e-133">For example, you can place the following code in the **Expression** shape to throw the exception:,</span></span>  
  
```  
excp = new System.Exception();  
throw(excp);  
```  
  
 <span data-ttu-id="6ae7e-134">Vous pouvez utiliser un bloc de compensation et un **compenser** shape pour effectuer la compensation sur les transactions qui ont été validées.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-134">You can use a compensation block and a **Compensate** shape to perform the compensation on the transactions that have been committed.</span></span> <span data-ttu-id="6ae7e-135">Pour obtenir un exemple de ce modèle, voir updatecontact.odx dans la rubrique [Compensation (exemple BizTalk Server)](../core/compensation-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-135">For an example of this pattern, see UpdateContact.odx in [Compensation (BizTalk Server Sample)](../core/compensation-biztalk-server-sample.md).</span></span> <span data-ttu-id="6ae7e-136">Un autre exemple est en [personnalisé Exceptions](../core/custom-exceptions.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-136">Another example is in [Custom Exceptions](../core/custom-exceptions.md).</span></span>  
  
### <a name="message-broker"></a><span data-ttu-id="6ae7e-137">Courtier de messages</span><span class="sxs-lookup"><span data-stu-id="6ae7e-137">Message Broker</span></span>  
 <span data-ttu-id="6ae7e-138">Le modèle de courtier de messages est un modèle de détermination de la destination d'un message tout en conservant le contrôle sur le flux de messages.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-138">Message Broker is the pattern of determining the destination of a message and still maintaining control over the message flow.</span></span> <span data-ttu-id="6ae7e-139">Pour plus d’informations, consultez [du traitement de l’Orchestration OrderBroker](../core/processing-in-the-orderbroker-orchestration.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-139">For more, see  [Processing in the OrderBroker Orchestration](../core/processing-in-the-orderbroker-orchestration.md).</span></span>  
  
### <a name="message-filter"></a><span data-ttu-id="6ae7e-140">Filtre de message</span><span class="sxs-lookup"><span data-stu-id="6ae7e-140">Message Filter</span></span>  
 <span data-ttu-id="6ae7e-141">Le modèle de filtre de message sélectionne les messages à traiter en fonction de critères particuliers.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-141">The Message Filter pattern selects messages meeting particular criteria for processing.</span></span> <span data-ttu-id="6ae7e-142">Vous pouvez implémenter ce modèle en ajoutant l’expression de filtre pour une activation **réception** forme.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-142">You can implement this pattern by adding the filter expression to an activated **Receive** shape.</span></span> <span data-ttu-id="6ae7e-143">Pour plus d’informations, consultez [à l’aide de filtres avec le Message forme réception](../core/using-filters-with-the-receive-message-shape.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-143">For more information, see [Using Filters With the Receive Message Shape](../core/using-filters-with-the-receive-message-shape.md).</span></span>  
  
### <a name="message-translator"></a><span data-ttu-id="6ae7e-144">Convertisseur de messages</span><span class="sxs-lookup"><span data-stu-id="6ae7e-144">Message Translator</span></span>  
 <span data-ttu-id="6ae7e-145">Le modèle de conversion de messages convertit un message d'une forme à une autre.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-145">The Message Translator pattern converts a message from one form to another form.</span></span> <span data-ttu-id="6ae7e-146">Vous pouvez implémenter ce modèle à l’aide d’un mappage BizTalk avec un **transformer** forme dans une orchestration.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-146">You can implement this pattern by using a BizTalk map with a **Transform** shape in an orchestration.</span></span> <span data-ttu-id="6ae7e-147">Pour obtenir un exemple de ce modèle, voir helloorchestration.odx dans la rubrique [HelloWorld (exemple BizTalk Server)](../core/helloworld-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-147">For an example of this pattern, see HelloOrchestration.odx in [HelloWorld (BizTalk Server Sample)](../core/helloworld-biztalk-server-sample.md).</span></span>  
  
### <a name="parallel-convoy"></a><span data-ttu-id="6ae7e-148">Convoi parallèle</span><span class="sxs-lookup"><span data-stu-id="6ae7e-148">Parallel Convoy</span></span>  
 <span data-ttu-id="6ae7e-149">Le modèle de convoi parallèle permet à plusieurs éléments uniques d'être reliés de façon à obtenir une chose qu'un élément individuel ne peut pas accomplir seul.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-149">The Parallel Convoy pattern enables multiple single items to join together to achieve something that an individual item cannot accomplish by itself.</span></span> <span data-ttu-id="6ae7e-150">L'ensemble des éléments liés peut arriver dans n'importe quel ordre, mais BizTalk Server doit tous les recevoir avant de commencer le traitement.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-150">The set of related items can arrive in any order, but BizTalk Server must receive all of them before starting the process.</span></span> <span data-ttu-id="6ae7e-151">Pour obtenir un exemple de ce modèle, consultez [http://go.microsoft.com/fwlink/?LinkId=56035](http://go.microsoft.com/fwlink/?LinkId=56035).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-151">For an example of this pattern, see [http://go.microsoft.com/fwlink/?LinkId=56035](http://go.microsoft.com/fwlink/?LinkId=56035).</span></span>  
  
### <a name="scatter-and-gather"></a><span data-ttu-id="6ae7e-152">Ventilation et regroupement</span><span class="sxs-lookup"><span data-stu-id="6ae7e-152">Scatter and Gather</span></span>  
 <span data-ttu-id="6ae7e-153">Le modèle de ventilation et de regroupement permet d'envoyer des messages à plusieurs destinataires et de recevoir des messages de la part de chaque destinataire.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-153">The Scatter and Gather pattern enables messages to be sent to multiple recipients and messages to be received back from each recipient.</span></span> <span data-ttu-id="6ae7e-154">Vous pouvez implémenter ce modèle à l'aide des modèles de séparation et d'agrégation.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-154">You can implement this pattern by using the Splitter pattern and the Aggregator pattern.</span></span> <span data-ttu-id="6ae7e-155">Vous utilisez le modèle d’agrégation pour assembler les résultats obtenus à l’aide du modèle de séparation et de les placer dans un **Actions parallèles** forme.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-155">You use the Aggregator pattern to assemble the results from using the Splitter pattern and put them under a **Parallel Actions** shape.</span></span> <span data-ttu-id="6ae7e-156">Pour obtenir un exemple du modèle de séparation, consultez Kit de développement logiciel exemple Implementing Scatter nommés et le motif de recueillir à [http://go.microsoft.com/fwlink/?LinkId=65185](http://go.microsoft.com/fwlink/?LinkId=65185).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-156">For an example of the Splitter pattern, see SDK sample named Implementing Scatter and Gather Pattern at [http://go.microsoft.com/fwlink/?LinkId=65185](http://go.microsoft.com/fwlink/?LinkId=65185).</span></span>  
  
### <a name="sequential-convoy"></a><span data-ttu-id="6ae7e-157">Convoi séquentiel</span><span class="sxs-lookup"><span data-stu-id="6ae7e-157">Sequential Convoy</span></span>  
 <span data-ttu-id="6ae7e-158">Le modèle de convoi séquentiel permet à plusieurs éléments uniques d'être reliés de façon à obtenir une chose qu'un élément individuel ne peut pas accomplir seul.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-158">The Sequential Convoy pattern enables multiple single items to join together to achieve something that an individual item cannot accomplish by itself.</span></span> <span data-ttu-id="6ae7e-159">Un convoi séquentiel est un ensemble d'éléments associés présentant un ordre prédéfini.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-159">A sequential convoy is a set of related items that have a predefined order.</span></span> <span data-ttu-id="6ae7e-160">Bien que ces éléments n'aient pas à être exactement identiques, BizTalk Server doit les recevoir dans un ordre séquentiel.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-160">Although the items do not have to be exactly the same, BizTalk Server must receive the items in a sequential order.</span></span> <span data-ttu-id="6ae7e-161">Pour obtenir un exemple de ce modèle, consultez [http://go.microsoft.com/fwlink/?LinkId=56035](http://go.microsoft.com/fwlink/?LinkId=56035).</span><span class="sxs-lookup"><span data-stu-id="6ae7e-161">For an example of this pattern, see [http://go.microsoft.com/fwlink/?LinkId=56035](http://go.microsoft.com/fwlink/?LinkId=56035).</span></span>  
  
### <a name="splitter"></a><span data-ttu-id="6ae7e-162">Splitter</span><span class="sxs-lookup"><span data-stu-id="6ae7e-162">Splitter</span></span>  
 <span data-ttu-id="6ae7e-163">Le modèle de séparation fractionne un messages unique en plusieurs messages.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-163">The Splitter pattern takes a single message and splits it into multiple messages.</span></span>  
  
### <a name="suspend-with-retry"></a><span data-ttu-id="6ae7e-164">Suspension avec relance</span><span class="sxs-lookup"><span data-stu-id="6ae7e-164">Suspend with Retry</span></span>  
 <span data-ttu-id="6ae7e-165">Le modèle de suspension avec relance permet à l'orchestration de suspendre un message en cas d'erreur.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-165">The Suspend with Retry pattern enables the orchestration to suspend a message when there is an error.</span></span> <span data-ttu-id="6ae7e-166">La suspension se produit dans le cadre d'une boucle dans laquelle l'orchestration suspend le message, demande l'intervention, puis effectue un nombre de relances prédéfini de l'opération.</span><span class="sxs-lookup"><span data-stu-id="6ae7e-166">The suspension occurs within a loop so that the orchestration suspends, asks for intervention, and then retries the operation a fixed number of times.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6ae7e-167">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6ae7e-167">See Also</span></span>  
 [<span data-ttu-id="6ae7e-168">Conception du flux d’Orchestration</span><span class="sxs-lookup"><span data-stu-id="6ae7e-168">Designing Orchestration Flow</span></span>](../core/designing-orchestration-flow.md)