---
title: "Modèles d’échange de Message adaptateur | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 54a3fc8f-33d0-4b7e-ad4c-b00912dc3328
caps.latest.revision: "14"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f42368d8687bbed4cbce60243a3b8528364b5fda
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="adapter-message-exchange-patterns"></a><span data-ttu-id="71dea-102">Modèles d’échange de Message de l’adaptateur</span><span class="sxs-lookup"><span data-stu-id="71dea-102">Adapter Message Exchange Patterns</span></span>
<span data-ttu-id="71dea-103">L'infrastructure d'adaptateurs BizTalk prend en charge une grande variété de modèles d'échange de messages auxquels peuvent avoir recours les adaptateurs dans le cadre de divers scénarios de messagerie.</span><span class="sxs-lookup"><span data-stu-id="71dea-103">The BizTalk Adapter Framework supports a rich set of message exchange patterns that adapters can use in many powerful messaging scenarios.</span></span>  
  
## <a name="one-way-asynchronous"></a><span data-ttu-id="71dea-104">Unidirectionnel (asynchrone)</span><span class="sxs-lookup"><span data-stu-id="71dea-104">One-Way (Asynchronous)</span></span>  
 <span data-ttu-id="71dea-105">Le flux de messages de ce concept s'effectue dans une seule direction.</span><span class="sxs-lookup"><span data-stu-id="71dea-105">The key concept here is that messages flow in one direction.</span></span>  
  
 <span data-ttu-id="71dea-106">Dans ce modèle d'échange de messages, les messages sont transmis de manière unidirectionnelle vers [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] via un adaptateur.</span><span class="sxs-lookup"><span data-stu-id="71dea-106">In this message exchange pattern, messages flow one way into [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] through an adapter.</span></span> <span data-ttu-id="71dea-107">Le moteur de messagerie publie le message dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="71dea-107">The Messaging Engine publishes the message into the MessageBox database.</span></span> <span data-ttu-id="71dea-108">Si une orchestration possède un abonnement actif à un message de ce type, le message lui est acheminé.</span><span class="sxs-lookup"><span data-stu-id="71dea-108">If an orchestration has an active subscription to a message of that type, the message is routed to that orchestration.</span></span>  
  
 <span data-ttu-id="71dea-109">Une fois le message traité, il est de nouveau publié par l'orchestration dans la base de données MessageBox avant d'être acheminé vers un adaptateur pour être transmis à un point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="71dea-109">After processing the message, the orchestration publishes the message back into the MessageBox database before it is routed to an adapter to be transmitted to the specific endpoint.</span></span>  
  
 <span data-ttu-id="71dea-110">Lorsqu'il est soumis au moteur, aucune réponse n'est attendue.</span><span class="sxs-lookup"><span data-stu-id="71dea-110">When the message is submitted to the engine, no response is expected.</span></span> <span data-ttu-id="71dea-111">Du côté sortant, aucune réponse n'est attendue lorsque le message est transmis.</span><span class="sxs-lookup"><span data-stu-id="71dea-111">On the outbound side, when the message is transmitted, no response is expected.</span></span> <span data-ttu-id="71dea-112">Ce concept fait essentiellement référence à la messagerie asynchrone. Il s'agit principalement du bloc de construction de base utilisé par le moteur pour tous les scénarios de messagerie.</span><span class="sxs-lookup"><span data-stu-id="71dea-112">This is typically referred to as asynchronous messaging and is in many ways the basic building block used by the engine for all messaging scenarios.</span></span>  
  
## <a name="request-response-style-protocols-sync-on-async"></a><span data-ttu-id="71dea-113">Protocoles de style requête-réponse (synchrone sur asynchrone)</span><span class="sxs-lookup"><span data-stu-id="71dea-113">Request-Response Style Protocols (Sync-on-Async)</span></span>  
 <span data-ttu-id="71dea-114">Le scénario de requête-réponse consiste à recevoir un message de requête, à le traiter et à envoyer un message de réponse.</span><span class="sxs-lookup"><span data-stu-id="71dea-114">A request-response scenario consists of receiving a request message, processing it, and sending a response message.</span></span> <span data-ttu-id="71dea-115">Ce concept est également appelé synchrone-sur-asynchrone, car l'architecture [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] sous-jacente est asynchrone pour des raisons d'évolutivité.</span><span class="sxs-lookup"><span data-stu-id="71dea-115">It is also referred to as synchronous-on-asynchronous (sync-on-async) because the underlying [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] architecture is asynchronous for scalability reasons.</span></span> <span data-ttu-id="71dea-116">L'architecture du moteur de messagerie BizTalk, toutefois, permet d'utiliser un modèle d'échange de messages synchrone sur des échanges asynchrones.</span><span class="sxs-lookup"><span data-stu-id="71dea-116">However, the architecture of the BizTalk Messaging Engine enables exposing a synchronous message exchange pattern on top of these asynchronous exchanges.</span></span> <span data-ttu-id="71dea-117">Pour ce faire, le moteur gère la tâche complexe consistant à corréler les messages de requête et réponse sur une architecture évolutive en liant un certain nombre d'échanges de messages asynchrones afin d'afficher une interface synchrone.</span><span class="sxs-lookup"><span data-stu-id="71dea-117">To do this, the engine handles the complex task of correlating the request and response messages across a scaled-out architecture by linking together a number of asynchronous message exchanges to expose a synchronous interface.</span></span>  
  
 <span data-ttu-id="71dea-118">Par exemple, une page Web qui vérifie le stock peut être un appel SOAP vers SOAP BizTalk : adaptateur de réception.</span><span class="sxs-lookup"><span data-stu-id="71dea-118">For example, a Web page that checks inventory might make a SOAP call to a BizTalk SOAP receive adapter.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="71dea-119">orchestre une série de services Web qui regroupent les informations et la retourner dans une seule réponse SOAP.</span><span class="sxs-lookup"><span data-stu-id="71dea-119"> orchestrates a series of Web services that aggregate the information and return it in one SOAP response.</span></span> <span data-ttu-id="71dea-120">Pour le client, cela ressemble à un appel SOAP synchrone, mais en fait, le moteur regroupe un certain nombre d'échanges de messages asynchrones.</span><span class="sxs-lookup"><span data-stu-id="71dea-120">To the client this appears to be a synchronous SOAP call, but in actuality the engine knits together a number of asynchronous message exchanges.</span></span>  
  
## <a name="solicit-response-style-protocols"></a><span data-ttu-id="71dea-121">Protocoles de style sollicitation-réponse</span><span class="sxs-lookup"><span data-stu-id="71dea-121">Solicit-Response Style Protocols</span></span>  
 <span data-ttu-id="71dea-122">Ce scénario commence par l'envoi d'un message de sollicitation et se termine avec la réception d'un message de réponse.</span><span class="sxs-lookup"><span data-stu-id="71dea-122">This scenario is initiated by sending a solicit message and completed by receiving a response message.</span></span> <span data-ttu-id="71dea-123">Il est dit « sollicitation-réponse », car le message initial envoyé sollicite une réponse de la part du point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="71dea-123">It is referred to as solicit-response because the initial message sent is soliciting an endpoint for a response message.</span></span> <span data-ttu-id="71dea-124">Il peut s'agir d'une orchestration effectuant un appel HTTP sortant (sollicitation d'une réponse) et attendant une réponse.</span><span class="sxs-lookup"><span data-stu-id="71dea-124">A scenario using this message exchange pattern might involve an orchestration making an outbound HTTP call (a solicit for a response) and waiting for the response.</span></span>  
  
## <a name="request-multiresponse"></a><span data-ttu-id="71dea-125">Requête-multiréponse</span><span class="sxs-lookup"><span data-stu-id="71dea-125">Request-Multiresponse</span></span>  
 <span data-ttu-id="71dea-126">Ce scénario est similaire au scénario de requête-réponse,</span><span class="sxs-lookup"><span data-stu-id="71dea-126">This scenario is similar to the request-response scenario.</span></span> <span data-ttu-id="71dea-127">sauf que pour une requête donnée, plusieurs réponses peuvent être renvoyées.</span><span class="sxs-lookup"><span data-stu-id="71dea-127">However, in this scenario multiple responses may be returned for a given request.</span></span> <span data-ttu-id="71dea-128">Les API permettent de spécifier un délai d'expiration et toutes les réponses reçues pendant ce délai sont renvoyées à l'adaptateur de réception.</span><span class="sxs-lookup"><span data-stu-id="71dea-128">The APIs allow a time-out value to be specified, and all responses received within the time-out period are returned to the receive adapter.</span></span>  
  
## <a name="loop-back"></a><span data-ttu-id="71dea-129">Bouclage</span><span class="sxs-lookup"><span data-stu-id="71dea-129">Loop-Back</span></span>  
 <span data-ttu-id="71dea-130">Ce scénario est similaire au scénario de requête-réponse,</span><span class="sxs-lookup"><span data-stu-id="71dea-130">This scenario is similar to the request-response scenario.</span></span> <span data-ttu-id="71dea-131">Le message de requête est publié normalement, mais le moteur veille à ce que le message de réponse soit réacheminé vers l'instance d'adaptateur qui a publié le message de requête.</span><span class="sxs-lookup"><span data-stu-id="71dea-131">The request message is published as usual, but the engine ensures that the response message is routed back to the same adapter instance the published the request message.</span></span> <span data-ttu-id="71dea-132">La requête étant publiée dans la base de données MessageBox, l'infrastructure de suivi garantit que les messages de réponse et de requête sont tous les deux suivis.</span><span class="sxs-lookup"><span data-stu-id="71dea-132">Because the request message is published to the MessageBox database, the tracking infrastructure ensures that both the request and response messages are tracked.</span></span> <span data-ttu-id="71dea-133">Ce scénario permet à un pipeline d'envoi de traiter un message, puis d'obtenir immédiatement que le message de sortie soit renvoyé vers l'adaptateur pour de nouveaux traitements.</span><span class="sxs-lookup"><span data-stu-id="71dea-133">This is also a good way to invoke a send pipeline processing on message then immediately get the output message send back to the adapter for subsequent processing.</span></span>  
  
 <span data-ttu-id="71dea-134">Exemple : un client qui aurait besoin d'un reçu pour un message.</span><span class="sxs-lookup"><span data-stu-id="71dea-134">An example of this scenario is a client that requires a receipt for a message.</span></span> <span data-ttu-id="71dea-135">Le message entrant est publié dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="71dea-135">The inbound message is published to the MessageBox database.</span></span> <span data-ttu-id="71dea-136">Ce message et le reçu sont tous deux retournés à l'adaptateur dans le même lot.</span><span class="sxs-lookup"><span data-stu-id="71dea-136">Both this message and the receipt are returned to the adapter in the same batch.</span></span> <span data-ttu-id="71dea-137">Dans ce cas, une copie du message entrant est effectuée, une instance est retournée au client et l'autre est traitée de manière normale.</span><span class="sxs-lookup"><span data-stu-id="71dea-137">In this case, the inbound message is copied with one instance being returned to the client, and the other being processed in the normal manner.</span></span> <span data-ttu-id="71dea-138">Ce scénario requiert également l'écriture d'un désassembleur XML personnalisé.</span><span class="sxs-lookup"><span data-stu-id="71dea-138">This specific scenario also requires a custom XML disassembler to be written.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="71dea-139">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="71dea-139">See Also</span></span>  
 [<span data-ttu-id="71dea-140">Quelle est l’infrastructure d’adaptateurs ?</span><span class="sxs-lookup"><span data-stu-id="71dea-140">What Is the Adapter Framework?</span></span>](../core/what-is-the-adapter-framework.md)