---
title: Des performances du moteur de recommandations pour le test | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: maximum sustainable throughput (MST), best practices
ms.assetid: 0aa9d833-0e7d-4347-a6ca-8d658749b4f2
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 06fc2d81ca8121fe625a30258070281d2b3ff4bc
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="recommendations-when-testing-engine-performance"></a><span data-ttu-id="d7855-102">Recommandations pour le test des performances du moteur</span><span class="sxs-lookup"><span data-stu-id="d7855-102">Recommendations When Testing Engine Performance</span></span>
<span data-ttu-id="d7855-103">Suivez les directives ci-après lorsque vous testez les performances du moteur BizTalk :</span><span class="sxs-lookup"><span data-stu-id="d7855-103">The following guidelines should be followed when testing BizTalk engine performance:</span></span>  
  
 <span data-ttu-id="d7855-104">**Connaître votre profil** comme les tests de charge de trois ont illustré, il est essentiel de connaître le profil de votre charge en termes de messages traités au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="d7855-104">**Know your load behavior profile** As the three load tests have illustrated, it is critical to know the profile of your load in terms of messages processed over time.</span></span>  <span data-ttu-id="d7855-105">Mieux ce profil est dessiné, plus précisément vous pourrez tester et ajuster la capacité du système.</span><span class="sxs-lookup"><span data-stu-id="d7855-105">The better this is understood, the more accurately you can test and adjust your system capacity.</span></span> <span data-ttu-id="d7855-106">Si vous ne connaissez que le débit maximal requis, l'approche la plus classique consiste à échelonner votre système de sorte que le débit maximal réalisable soit supérieur ou égal à la charge maximale.</span><span class="sxs-lookup"><span data-stu-id="d7855-106">If all you know is your peak throughput requirement, then the most conservative approach would be to size your system so that your maximum sustainable throughput is the same or higher than your peak load.</span></span> <span data-ttu-id="d7855-107">Toutefois, si vous savez que la charge a des hauts et des bas prévisibles, vous pouvez davantage optimiser votre système de sorte qu'il récupère entre ces pics ; ainsi, vous pouvez réaliser un déploiement global à petite échelle et à moindre coût.</span><span class="sxs-lookup"><span data-stu-id="d7855-107">However, if you know that you have predictable peaks and valleys in your load, you can better optimize your system to recover between peaks, resulting in a smaller, less expensive overall deployment.</span></span>  
  
 <span data-ttu-id="d7855-108">**Tester les performances tôt** Évitez l’interruption d’un investissement des efforts considérables dans la conception et de test des fonctionnalités de votre solution, mais en attente jusqu'à ce que la dernière minute pour tester les performances sur du matériel de production.</span><span class="sxs-lookup"><span data-stu-id="d7855-108">**Test performance early** Avoid falling into the trap of investing significant effort in designing and testing the functionality of your solution, but waiting until the last minute to test performance on production hardware.</span></span> <span data-ttu-id="d7855-109">Exécutez, dès que possible dans votre cycle de développement, des tests de performance sur votre système qui simulent le profil de charge attendu.</span><span class="sxs-lookup"><span data-stu-id="d7855-109">Run performance tests on your system that simulate the expected load profile as early as you possibly can in your development cycle.</span></span> <span data-ttu-id="d7855-110">Ainsi, vous saurez très tôt si vous devez modifier votre conception ou votre architecture pour atteindre vos objectifs et vous pourrez faire les ajustements et les tests nécessaires.</span><span class="sxs-lookup"><span data-stu-id="d7855-110">If you have to change anything in your design or architecture to achieve your goals knowing this early will give you time to adjust and test again.</span></span>  
  
 <span data-ttu-id="d7855-111">**Émuler votre profil de charge attendu lors du test de performances** il existe deux composants principaux pour cela :</span><span class="sxs-lookup"><span data-stu-id="d7855-111">**Emulate your expected load profile when testing performance** There are two primary components to this:</span></span>  
  
1.  <span data-ttu-id="d7855-112">émulez le profil de charge dans le temps ;</span><span class="sxs-lookup"><span data-stu-id="d7855-112">Emulate the load profile over time.</span></span>  
  
2.  <span data-ttu-id="d7855-113">exécutez le test suffisamment longtemps pour évaluer sa faisabilité.</span><span class="sxs-lookup"><span data-stu-id="d7855-113">Run the test long enough to evaluate if it is sustainable.</span></span>  
  
 <span data-ttu-id="d7855-114">Si, comme cela est fréquemment le cas, vous avez des cycles quotidiens en nature, prévoyez d'exécuter des tests de performance pendant au moins un jour pour valider leur faisabilité.</span><span class="sxs-lookup"><span data-stu-id="d7855-114">If, as is commonly the case, your cycles are daily in nature you should plan to run performance tests for at least one day to validate sustainability.</span></span> <span data-ttu-id="d7855-115">Plus vous exécutez les tests longtemps, mieux c'est.</span><span class="sxs-lookup"><span data-stu-id="d7855-115">The longer that you run the tests, the better.</span></span>  
  
 <span data-ttu-id="d7855-116">**Émuler la configuration de la production** par exemple, le nombre et type de ports, l’hôte et l’hôte de l’instance configuration, la configuration de la base de données et le programme d’installation de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="d7855-116">**Emulate the production configuration** For example, the number and type of ports, the host and host instance configuration, database configuration, and adapter setup.</span></span> <span data-ttu-id="d7855-117">Ne croyez pas que les modifications de la configuration n'auront pas d'impact significatif sur les performances.</span><span class="sxs-lookup"><span data-stu-id="d7855-117">Don’t assume that configuration changes will not significantly impact performance.</span></span>  
  
 <span data-ttu-id="d7855-118">**Utiliser des messages réels** taille et la complexité des messages affectent les performances, ainsi qu’et de test avec les mêmes schémas de message et les instances que vous souhaitez voir en production.</span><span class="sxs-lookup"><span data-stu-id="d7855-118">**Use real messages** Message sizes and message complexity affect performance, so be sure and test with the same message schemas and instances that you plan to see in production.</span></span>  
  
 <span data-ttu-id="d7855-119">**Émuler vos opérations normales au cours des tests de performances** si les tests de charge n’incluent pas les activités, les opérations telles que les requêtes périodiques de la base de données, sauvegardes, et les purges affectent le débit durable, par conséquent, assurez-vous que vous Effectuez ces tâches au cours de vos performances et la capacité des séries de tests.</span><span class="sxs-lookup"><span data-stu-id="d7855-119">**Emulate your normal operations during performance tests** Though the load tests did not include them, standard operations activities such as periodic database queries, backups, and purging will affect your sustainable throughput, so make sure you are performing these tasks during your performance and capacity test runs.</span></span> <span data-ttu-id="d7855-120">Ceci inclut le suivi DTA et BAM si vous comptez les utiliser en production.</span><span class="sxs-lookup"><span data-stu-id="d7855-120">This includes both DTA and BAM tracking, if you plan to use them in production.</span></span>  
  
 <span data-ttu-id="d7855-121">**La vitesse du sous-système d’e/s pour la MessageBox est un facteur clé du succès** les tests de charge qui ont été effectuées utilisaient un réseau de zone de stockage rapide pour les fichiers de base de données MessageBox est dédié à cette build. Même dans ce cas, les fonctions de nettoyage ont permis de ramener la durée d'inactivité à une valeur proche de zéro pour les fichiers de données SQL.</span><span class="sxs-lookup"><span data-stu-id="d7855-121">**The speed of the I/O subsystem for the MessageBox is a key success factor** The load tests that were performed made use of a fast Storage Area Network for the MessageBox database files that is dedicated to this build-out. Even in this case, the cleanup jobs were able to drive the idle time to near zero for the SQL data file.</span></span> <span data-ttu-id="d7855-122">Le sous-système d'E/S constitue souvent un goulot d'étranglement dans les systèmes de production.</span><span class="sxs-lookup"><span data-stu-id="d7855-122">The I/O subsystem is frequently a bottleneck in production systems.</span></span> <span data-ttu-id="d7855-123">La stratégie classique d'optimisation des E/S SQL consiste à placer le ou les fichiers de base de données et le ou les fichiers journaux sur des lecteurs physiques distincts, dans la mesure du possible.</span><span class="sxs-lookup"><span data-stu-id="d7855-123">A common strategy to optimize SQL I/O is to place the database data file(s) and log file(s) on separate physical drives, if possible.</span></span>  
  
 <span data-ttu-id="d7855-124">**Assurez-vous que l’Agent SQL est en cours d’exécution sur tous les serveurs MessageBox** clairement, les tâches de nettoyage sera jamais s’exécuter si l’Agent SQL n’est pas en cours d’exécution, assurez-vous ces éléments s’exécutent.</span><span class="sxs-lookup"><span data-stu-id="d7855-124">**Make sure the SQL Agent is running on all MessageBox servers** Clearly, the cleanup jobs will never run if the SQL Agent is not running, so make sure these are running.</span></span>  
  
 <span data-ttu-id="d7855-125">**Profondeur du spouleur est un indicateur clé** indépendamment des autres indicateurs, cette mesure donnera vous un moyen simple et rapide pour évaluer si votre système charge ou non.</span><span class="sxs-lookup"><span data-stu-id="d7855-125">**Spool depth is a key indicator** Regardless of other indicators, this measure will give you a quick and easy way to assess if your system is being overdriven or not.</span></span>