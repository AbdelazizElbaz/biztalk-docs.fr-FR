---
title: HTTPSSO (exemple BizTalk Server) | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- HTTP adapters, examples
- SSO, examples
- SSO, HTTP adapters
- examples, HTTP adapters
- HTTP adapters, SSO
- examples, SSO
ms.assetid: 322360df-81d2-4a73-9512-bda9382351a2
caps.latest.revision: "18"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 41956d9e10cba87e0e1a1f44d49dd8ec8b6039bc
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="httpsso-biztalk-server-sample"></a><span data-ttu-id="cb378-102">HTTPSSO (exemple BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="cb378-102">HTTPSSO (BizTalk Server Sample)</span></span>
<span data-ttu-id="cb378-103">L'exemple HTTPSSO montre comment utiliser la fonction d'authentification unique de l'entreprise (SSO) avec l'adaptateur HTTP Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cb378-103">The HTTPSSO sample demonstrates how to use the Enterprise Single Sign-On (SSO) feature with the Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] HTTP adapter.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="cb378-104">Cet exemple n'est pas pris en charge sur les systèmes d'exploitation 64 bits.</span><span class="sxs-lookup"><span data-stu-id="cb378-104">This sample is not supported on 64-bit operating systems.</span></span>  
  
## <a name="what-this-sample-does"></a><span data-ttu-id="cb378-105">Fonctions de l'exemple</span><span class="sxs-lookup"><span data-stu-id="cb378-105">What This Sample Does</span></span>  
 <span data-ttu-id="cb378-106">Cet exemple illustre un scénario de bout en bout qui utilise SSO et les adaptateurs d'envoi et de réception HTTP BizTalk pour simuler la manière dont SSO permet à un utilisateur d'éviter de fournir des informations d'identification supplémentaires pour se connecter aux systèmes non Microsoft Windows une fois que Windows les a authentifiées.</span><span class="sxs-lookup"><span data-stu-id="cb378-106">This sample demonstrates an end-to-end scenario that uses SSO and the BizTalk HTTP Send and Receive adapters to simulate how SSO allows a user to avoid supplying additional credentials to log on to non-Microsoft Windows systems after Windows authenticates them.</span></span>  
  
 <span data-ttu-id="cb378-107">L'exemple utilise également les modules d'administration et de mappage de SSO pour créer des mappages d'applications associées et de SSO à l'aide de la DLL du client Interop de SSO.</span><span class="sxs-lookup"><span data-stu-id="cb378-107">The sample also uses the administration and mapping modules of SSO to create affiliate application and SSO mappings using the interop client DLL of SSO.</span></span>  
  
 <span data-ttu-id="cb378-108">L'exemple montre l'utilisation de SSO en implémentant les aspects suivants d'un scénario de bout en bout :</span><span class="sxs-lookup"><span data-stu-id="cb378-108">The sample demonstrates the use of SSO by implementing the following aspects of an end-to-end scenario:</span></span>  
  
-   <span data-ttu-id="cb378-109">Interface utilisateur, représentée par un répertoire virtuel Microsoft Internet Information Services (IIS) configuré pour utiliser l'authentification intégrée Windows.</span><span class="sxs-lookup"><span data-stu-id="cb378-109">User interface, represented by a Microsoft Internet Information Services (IIS) virtual directory configured to use Windows integrated authentication.</span></span>  
  
-   <span data-ttu-id="cb378-110">Système principal, représenté par un répertoire virtuel IIS configuré pour utiliser l'authentification de base.</span><span class="sxs-lookup"><span data-stu-id="cb378-110">Back-end system, represented by an IIS virtual directory configured to use basic authentication.</span></span>  
  
-   <span data-ttu-id="cb378-111">Base de données principale, représentée par l'exemple de base de données SQL Northwind.</span><span class="sxs-lookup"><span data-stu-id="cb378-111">Back-end database, represented by the SQL sample database Northwind.</span></span>  
  
 <span data-ttu-id="cb378-112">Cet exemple suppose que vous avez installé [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] et SSO.</span><span class="sxs-lookup"><span data-stu-id="cb378-112">This sample assumes that you have installed [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and SSO.</span></span> <span data-ttu-id="cb378-113">Vous devez disposer des privilèges d’administrateur pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], IIS, SSO et COM + sur Windows XP Professionnel.</span><span class="sxs-lookup"><span data-stu-id="cb378-113">You must have administrator privileges for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], IIS, SSO, and COM+ on Windows XP Professional.</span></span> <span data-ttu-id="cb378-114">Vous devez également être membre des groupes Windows Administrateurs SSO, Administrateurs BizTalk Server et Utilisateurs d'hôtes BizTalk isolés.</span><span class="sxs-lookup"><span data-stu-id="cb378-114">You must also be a member of SSO Administrators, BizTalk Server Administrators, and BizTalk Isolated Host Users Windows groups.</span></span>  
  
 <span data-ttu-id="cb378-115">L'utilisation efficace de cet exemple suppose que vous maîtrisiez suffisamment SSO et l'adaptateur HTTP BizTalk.</span><span class="sxs-lookup"><span data-stu-id="cb378-115">Effective use of this sample assumes that you have sufficient knowledge of SSO and the BizTalk HTTP adapter.</span></span> <span data-ttu-id="cb378-116">Par exemple, vous devez savoir ce qu'est une application associée dans le contexte de SSO.</span><span class="sxs-lookup"><span data-stu-id="cb378-116">For example, you should know what an affiliate application is in the context of SSO.</span></span> <span data-ttu-id="cb378-117">Pour plus d’informations sur ces sujets, consultez [à l’aide de l’authentification unique](../core/using-sso.md).</span><span class="sxs-lookup"><span data-stu-id="cb378-117">For information about these topics, see [Using SSO](../core/using-sso.md).</span></span> <span data-ttu-id="cb378-118">Consultez également [adaptateur HTTP](../core/http-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="cb378-118">Also see [HTTP Adapter](../core/http-adapter.md).</span></span>  
  
 <span data-ttu-id="cb378-119">Après avoir terminé la configuration, cet exemple fonctionne comme suit :</span><span class="sxs-lookup"><span data-stu-id="cb378-119">After you complete the configuration, this sample works as follows:</span></span>  
  
1.  <span data-ttu-id="cb378-120">Lorsque vous cliquez sur **Terminer** dans l’Assistant qui comprend l’interface utilisateur pour cet exemple, une instance d’Internet Explorer démarre et transmet l’URL de la DLL de réception HTTP BizTalk.</span><span class="sxs-lookup"><span data-stu-id="cb378-120">When you click **Finish** in the wizard application that comprises the user interface for this sample, an instance of Internet Explorer starts and passes the URL of the BizTalk HTTP Receive DLL.</span></span>  
  
2.  <span data-ttu-id="cb378-121">BizTalk Server, à l'aide de SSO, transfère efficacement la requête HTTP au fichier EmployeeData.aspx dans un répertoire virtuel IIS configuré avec l'authentification de base.</span><span class="sxs-lookup"><span data-stu-id="cb378-121">BizTalk Server, with the help of SSO, effectively forwards the HTTP request to the file EmployeeData.aspx in an IIS virtual directory that has been configured with basic authentication.</span></span> <span data-ttu-id="cb378-122">Ce fichier ASPX simule le point d'entrée dans un système principal non Windows.</span><span class="sxs-lookup"><span data-stu-id="cb378-122">This ASPX file simulates the entry point into a non-Windows back-end system.</span></span> <span data-ttu-id="cb378-123">Comme vous utilisez SSO, la requête HTTP inclut les informations d'identification configurées qui simulent un compte de connexion au système principal simulé.</span><span class="sxs-lookup"><span data-stu-id="cb378-123">Because you are using SSO, the HTTP request includes the configured credentials that simulate a logon account to the simulated back-end system.</span></span>  
  
3.  <span data-ttu-id="cb378-124">Le fichier ASPX accède à une version modifiée de l'exemple de base de données SQL Northwind pour extraire les données employé correspondant aux informations d'identification du système principal simulé.</span><span class="sxs-lookup"><span data-stu-id="cb378-124">The ASPX file accesses a modified version of the SQL sample database Northwind to retrieve employee data corresponding to the simulated back-end system credentials.</span></span>  
  
4.  <span data-ttu-id="cb378-125">Le fichier ASPX renvoie les données employé extraites dans une réponse HTTP.</span><span class="sxs-lookup"><span data-stu-id="cb378-125">The ASPX file returns the retrieved employee data in an HTTP response.</span></span>  
  
5.  <span data-ttu-id="cb378-126">BizTalk Server route la réponse HTTP vers Internet Explorer qui affiche les données employé renvoyées à l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="cb378-126">BizTalk Server routes the HTTP response to Internet Explorer, which displays the returned employee data to the user.</span></span>  
  
 <span data-ttu-id="cb378-127">Si vous contournez BizTalk Server et SSO et accédez directement au fichier EmployeeData.aspx, une boîte de dialogue Windows vous demande vos informations d'identification.</span><span class="sxs-lookup"><span data-stu-id="cb378-127">If you bypass BizTalk Server and SSO, and browse directly to the file EmployeeData.aspx, a Windows dialog box will prompt you for your credentials.</span></span>  
  
 <span data-ttu-id="cb378-128">Pour voir un exemple qui montre comment utiliser l’utilitaire de ligne de commande ssomanage.exe pour configurer l’authentification unique, telles que la création d’applications associées et des mappages utilisateur, [gérer (exemple BizTalk Server)](../core/manage-biztalk-server-sample.md).</span><span class="sxs-lookup"><span data-stu-id="cb378-128">For a sample that shows how to use the command-line utility ssomanage.exe to configure SSO, such as creating affiliate applications and user mappings, see [Manage (BizTalk Server Sample)](../core/manage-biztalk-server-sample.md).</span></span>  
  
## <a name="where-to-find-this-sample"></a><span data-ttu-id="cb378-129">Accès à l'exemple</span><span class="sxs-lookup"><span data-stu-id="cb378-129">Where to Find This Sample</span></span>  
 <span data-ttu-id="cb378-130">\<*Exemples de chemin d’accès*\>\SSO\HTTPSSO\\</span><span class="sxs-lookup"><span data-stu-id="cb378-130">\<*Samples Path*\>\SSO\HTTPSSO\\</span></span>  
  
 <span data-ttu-id="cb378-131">Le tableau suivant présente les fichiers de cet exemple et décrit leur fonction.</span><span class="sxs-lookup"><span data-stu-id="cb378-131">The following table shows the files in this sample and describes their purpose.</span></span>  
  
|<span data-ttu-id="cb378-132">Fichier(s)</span><span class="sxs-lookup"><span data-stu-id="cb378-132">File(s)</span></span>|<span data-ttu-id="cb378-133"> Description</span><span class="sxs-lookup"><span data-stu-id="cb378-133">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="cb378-134">AssemblyInfo.cs, SsoSample.csproj</span><span class="sxs-lookup"><span data-stu-id="cb378-134">AssemblyInfo.cs, SsoSample.csproj</span></span>|<span data-ttu-id="cb378-135">Projet et fichiers associés pour cet exemple HTTP SSO.</span><span class="sxs-lookup"><span data-stu-id="cb378-135">Project and related files for this HTTP SSO sample.</span></span>|  
|<span data-ttu-id="cb378-136">SsoSample.cs</span><span class="sxs-lookup"><span data-stu-id="cb378-136">SsoSample.cs</span></span>|<span data-ttu-id="cb378-137">Fichier source Microsoft Visual C# de niveau supérieur pour l'application graphique HTTP SSO qui constitue la grande partie de cet exemple.</span><span class="sxs-lookup"><span data-stu-id="cb378-137">Top-level Microsoft Visual C# source file for the HTTP SSO graphical application that constitutes much of this sample.</span></span> <span data-ttu-id="cb378-138">Ce fichier contient le code de configuration de l’authentification unique, dans une classe nommée **SsoConfigurator** qui est finalement le point de cet exemple.</span><span class="sxs-lookup"><span data-stu-id="cb378-138">This file contains the SSO configuration code, in a class named **SsoConfigurator** that is ultimately the point of this sample.</span></span>|  
|<span data-ttu-id="cb378-139">Dans le dossier \Scripts :</span><span class="sxs-lookup"><span data-stu-id="cb378-139">In the \Scripts folder:</span></span><br /><br /> <span data-ttu-id="cb378-140">EmployeeData.aspx</span><span class="sxs-lookup"><span data-stu-id="cb378-140">EmployeeData.aspx</span></span>|<span data-ttu-id="cb378-141">Utilisé pour accéder à la base de données principale et l'interroger (dans ce cas, la base de données SQL Northwind) lorsqu'un employé établit une demande d'affichage de ses données personnelles, directement ou à l'aide de SSO.</span><span class="sxs-lookup"><span data-stu-id="cb378-141">Used to access and query the back-end database (in this case, the SQL Northwind database) when an employee initiates a request to view personal data, either directly or by using SSO.</span></span>|  
|<span data-ttu-id="cb378-142">Dans le dossier \Scripts :</span><span class="sxs-lookup"><span data-stu-id="cb378-142">In the \Scripts folder:</span></span><br /><br /> <span data-ttu-id="cb378-143">ValidateUser.aspx</span><span class="sxs-lookup"><span data-stu-id="cb378-143">ValidateUser.aspx</span></span>|<span data-ttu-id="cb378-144">Simple test pour valider un utilisateur et signaler si cet utilisateur est validé, directement ou à l'aide de SSO.</span><span class="sxs-lookup"><span data-stu-id="cb378-144">Simple test to validate a user and report if that user was validated, either directly or by using SSO.</span></span>|  
|<span data-ttu-id="cb378-145">Dans le dossier \UI :</span><span class="sxs-lookup"><span data-stu-id="cb378-145">In the \UI folder:</span></span><br /><br /> <span data-ttu-id="cb378-146">AddApplication.cs, AddApplication.resx, AddMapping.cs, AddMapping.resx, App.ico, BtsPage.cs, BtsPage.resx, ExecutePage.cs, ExecutePage.resx, FinishPage.cs, FinishPage.resx, IisPage.cs, IisPage.resx, InfoPage.cs, InfoPage.resx, PageBase.cs, PageBase.resx, SsoPage.cs, SsoPage.resx, SsoSampleWizard.cs, SsoSampleWizard.resx, WelcomePage.cs, WelcomePage.resx, WorkPage.cs, WorkPage.resx</span><span class="sxs-lookup"><span data-stu-id="cb378-146">AddApplication.cs, AddApplication.resx, AddMapping.cs, AddMapping.resx, App.ico, BtsPage.cs, BtsPage.resx, ExecutePage.cs, ExecutePage.resx, FinishPage.cs, FinishPage.resx, IisPage.cs, IisPage.resx, InfoPage.cs, InfoPage.resx, PageBase.cs, PageBase.resx, SsoPage.cs, SsoPage.resx, SsoSampleWizard.cs, SsoSampleWizard.resx, WelcomePage.cs, WelcomePage.resx, WorkPage.cs, WorkPage.resx</span></span>|<span data-ttu-id="cb378-147">Fichiers sources Visual C# auxiliaires et leurs fichiers de ressources XML associés pour l'application graphique HTTP SSO qui constitue la grande partie de cet exemple.</span><span class="sxs-lookup"><span data-stu-id="cb378-147">Auxiliary Visual C# source files, and their associated XML-formatted resource files, for the HTTP SSO graphical application that constitutes much of this sample.</span></span>|  
  
## <a name="building-and-initializing-this-sample"></a><span data-ttu-id="cb378-148">Création et initialisation de cet exemple</span><span class="sxs-lookup"><span data-stu-id="cb378-148">Building and Initializing This Sample</span></span>  
  
#### <a name="to-build-and-initialize-the-httpsso-sample"></a><span data-ttu-id="cb378-149">Pour créer et initialiser l'exemple HTTPSSO</span><span class="sxs-lookup"><span data-stu-id="cb378-149">To build and initialize the HTTPSSO sample</span></span>  
  
1.  <span data-ttu-id="cb378-150">Créez un compte Windows local que Microsoft Internet Information Services (IIS) peut utiliser pour l'authentification de base.</span><span class="sxs-lookup"><span data-stu-id="cb378-150">Create a local Windows account that Microsoft Internet Information Services (IIS) can use for basic authentication.</span></span> <span data-ttu-id="cb378-151">SSO mappe le compte de domaine Windows à ce compte Windows local.</span><span class="sxs-lookup"><span data-stu-id="cb378-151">SSO maps the Windows domain account to this local Windows account.</span></span> <span data-ttu-id="cb378-152">Par exemple, utilisez votre nom de famille pour créer un compte Windows local.</span><span class="sxs-lookup"><span data-stu-id="cb378-152">For example, use your last name to create a local Windows account.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="cb378-153">Si vous exécutez sur un contrôleur de domaine, vous pouvez créer des comptes de domaine et mapper votre compte de domaine connecté à ce compte.</span><span class="sxs-lookup"><span data-stu-id="cb378-153">If you are running on a domain controller, you can create domain accounts and map your logged on domain account to this account.</span></span>  
  
2.  <span data-ttu-id="cb378-154">À l’aide de Microsoft SQL Server Enterprise Manager, ouvrez le **employés** de table dans la base de données Northwind, puis ajoutez une ligne correspondant au compte Windows local que vous venez de créer, y compris les exemples de données pour les différentes colonnes.</span><span class="sxs-lookup"><span data-stu-id="cb378-154">Using Microsoft SQL Server Enterprise Manager, open the **Employees** table in the Northwind sample database, and then add a row corresponding to the local Windows account that you just created, including sample data for the various columns.</span></span> <span data-ttu-id="cb378-155">La valeur que vous ajoutez à la colonne LastName de la table Employés doit être la même que le nom d'utilisateur du compte Windows local que vous avez ajouté à l'étape 1.</span><span class="sxs-lookup"><span data-stu-id="cb378-155">The value you add to the LastName column in the Employees table must be the same as the user name of the local Windows account you added in step 1.</span></span>  
  
3.  <span data-ttu-id="cb378-156">Assurez-vous que le compte ASP.NET (ASPNET) a un accès en lecture à la base de données Northwind.</span><span class="sxs-lookup"><span data-stu-id="cb378-156">Ensure the ASP.NET account (ASPNET) has read privileges to the Northwind database.</span></span>  
  
4.  <span data-ttu-id="cb378-157">Ouvrez le fichier de projet SsoSample.csproj à l'aide de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="cb378-157">Open the project file SsoSample.csproj using Visual Studio.</span></span>  
  
5.  <span data-ttu-id="cb378-158">Dans le menu **Générer** , cliquez sur **Générer la solution**.</span><span class="sxs-lookup"><span data-stu-id="cb378-158">On the **Build** menu, click **Build Solution**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="cb378-159">Vous pouvez être invité à enregistrer un fichier de solution avant de procéder à la génération.</span><span class="sxs-lookup"><span data-stu-id="cb378-159">You may be asked to save a solution file before the build can proceed.</span></span>  
  
     <span data-ttu-id="cb378-160">Si vous ne trouvez pas les références d'assembly BizTalk suivantes pour le projet, supprimez-les et ajoutez-les de nouveau à partir des emplacements indiqués et répétez la génération :</span><span class="sxs-lookup"><span data-stu-id="cb378-160">If you cannot find the following BizTalk assembly references for the project, delete them, re-add them from the indicated locations, and build again:</span></span>  
  
    -   <span data-ttu-id="cb378-161">**Microsoft.BizTalk.ExplorerOM**.</span><span class="sxs-lookup"><span data-stu-id="cb378-161">**Microsoft.BizTalk.ExplorerOM**.</span></span> <span data-ttu-id="cb378-162">Par défaut, le fichier Microsoft.BizTalk.ExplorerOM.dll se trouve dans le dossier [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]outils de développement\\.</span><span class="sxs-lookup"><span data-stu-id="cb378-162">By default, the Microsoft.BizTalk.ExplorerOM.dll file is located in the folder [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]Developer Tools\\.</span></span>  
  
    -   <span data-ttu-id="cb378-163">**Microsoft.BizTalk.SSOClient.Interop**.</span><span class="sxs-lookup"><span data-stu-id="cb378-163">**Microsoft.BizTalk.SSOClient.Interop**.</span></span> <span data-ttu-id="cb378-164">Par défaut, le fichier Microsoft.BizTalk.Interop.SSOClient.dll se trouve dans le dossier \< *ProgramFiles*\>\Common Files\Enterprise Single Sign-On\\.</span><span class="sxs-lookup"><span data-stu-id="cb378-164">By default, the Microsoft.BizTalk.Interop.SSOClient.dll file is located in the folder \<*ProgramFiles*\>\Common Files\Enterprise Single Sign-On\\.</span></span>  
  
     <span data-ttu-id="cb378-165">Cette opération génère le fichier exécutable SsoSample.exe dans le dossier suivant :</span><span class="sxs-lookup"><span data-stu-id="cb378-165">This produces the executable file SsoSample.exe in the following folder:</span></span>  
  
     <span data-ttu-id="cb378-166">\<*Exemples de chemin d’accès*\>\SSO\HTTPSSO\bin\Debug\\</span><span class="sxs-lookup"><span data-stu-id="cb378-166">\<*Samples Path*\>\SSO\HTTPSSO\bin\Debug\\</span></span>  
  
## <a name="running-this-sample"></a><span data-ttu-id="cb378-167">Cet exemple en cours d’exécution</span><span class="sxs-lookup"><span data-stu-id="cb378-167">Running This Sample</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="cb378-168">Si vous exécutez cet exemple sur IIS 6.0 en mode d'isolation des processus de travail, les pools d'application sont créés pour les deux répertoires virtuels.</span><span class="sxs-lookup"><span data-stu-id="cb378-168">If you run this sample on IIS 6.0 in Worker Process Isolation Mode, application pools are created for both virtual directories.</span></span> <span data-ttu-id="cb378-169">Vous devez configurer manuellement l'identité de ces deux pools d'applications dans votre compte Windows (vous pouvez configurer l'identité dans le Gestionnaire des services Internet).</span><span class="sxs-lookup"><span data-stu-id="cb378-169">You must manually configure identity for these two application pools in your Windows account (you can configure identity in Internet Information Services Manager).</span></span>  
  
#### <a name="to-run-the-httpsso-sample"></a><span data-ttu-id="cb378-170">Pour exécuter l'exemple HTTPSSO</span><span class="sxs-lookup"><span data-stu-id="cb378-170">To run the HTTPSSO sample</span></span>  
  
1.  <span data-ttu-id="cb378-171">Exécutez le fichier exécutable SsoSample.exe, qui se trouve dans le dossier suivant :</span><span class="sxs-lookup"><span data-stu-id="cb378-171">Run the executable file SsoSample.exe, found in the following folder:</span></span>  
  
     <span data-ttu-id="cb378-172">\<*Exemples de chemin d’accès*\>\SSO\HTTPSSO\bin\Debug\\</span><span class="sxs-lookup"><span data-stu-id="cb378-172">\<*Samples Path*\>\SSO\HTTPSSO\bin\Debug\\</span></span>  
  
     <span data-ttu-id="cb378-173">L'Assistant pour cet exemple s'ouvre.</span><span class="sxs-lookup"><span data-stu-id="cb378-173">The wizard application for this sample opens.</span></span>  
  
2.  <span data-ttu-id="cb378-174">Sur la page d’accueil, acceptez le paramètre par défaut pour la configuration IIS, SSO et BizTalk, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="cb378-174">On the Welcome page, accept the default setting for configuring IIS, SSO, and BizTalk, and then click **Next**.</span></span>  
  
3.  <span data-ttu-id="cb378-175">Dans la page de Configuration IIS, acceptez les paramètres par défaut pour les deux répertoires virtuels IIS vous souhaitez créer, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="cb378-175">On the IIS Configuration page, accept the default settings for the two IIS virtual directories you want to create, and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="cb378-176">Dans la page Configuration SSO, acceptez les paramètres par défaut de l’application associée, qui est accessible à l’aide de la **ajouter application** bouton.</span><span class="sxs-lookup"><span data-stu-id="cb378-176">On the SSO Configuration page, accept the default settings for the affiliate application, which is accessible using the **Add application** button.</span></span>  
  
5.  <span data-ttu-id="cb378-177">Dans la page Configuration SSO, acceptez la plupart des paramètres par défaut pour les mappages utilisateur, accessible à l’aide de la **Ajouter mappage** bouton.</span><span class="sxs-lookup"><span data-stu-id="cb378-177">On the SSO Configuration page, accept most of the default settings for the user mappings, accessible using the **Add mapping** button.</span></span> <span data-ttu-id="cb378-178">Indiquez des valeurs pour les deux paramètres suivants en fonction du compte Windows local que vous avez ajouté lors de la génération et l'initialisation de cet exemple.</span><span class="sxs-lookup"><span data-stu-id="cb378-178">Provide values for the following two settings based on the local Windows account you added when building and initializing this sample.</span></span>  
  
    |<span data-ttu-id="cb378-179">Paramètre</span><span class="sxs-lookup"><span data-stu-id="cb378-179">Setting</span></span>|<span data-ttu-id="cb378-180">Valeur</span><span class="sxs-lookup"><span data-stu-id="cb378-180">Value</span></span>|  
    |-------------|-----------|  
    |<span data-ttu-id="cb378-181">Nom d’utilisateur externe</span><span class="sxs-lookup"><span data-stu-id="cb378-181">External user name</span></span>|<span data-ttu-id="cb378-182">Défini sur le nom de compte d'utilisateur Windows local ajouté.</span><span class="sxs-lookup"><span data-stu-id="cb378-182">Set to the added local Windows user account name.</span></span>|  
    |<span data-ttu-id="cb378-183">Mot de passe utilisateur externe</span><span class="sxs-lookup"><span data-stu-id="cb378-183">External user password</span></span>|<span data-ttu-id="cb378-184">Défini sur le mot de passe du compte d'utilisateur Windows local ajouté.</span><span class="sxs-lookup"><span data-stu-id="cb378-184">Set to the added local Windows user account password.</span></span>|  
  
6.  <span data-ttu-id="cb378-185">Dans la page Configuration de l’authentification unique, cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="cb378-185">On the SSO Configuration page, click **Next**.</span></span>  
  
7.  <span data-ttu-id="cb378-186">Dans la page de Configuration de BizTalk, acceptez les paramètres par défaut pour l’envoi et ports de réception et ainsi de suite, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="cb378-186">On the BizTalk Configuration page, accept the default settings for the send and receive ports, and so on, and then click **Next**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="cb378-187">Vous pouvez modifier le paramètre de port d’envoi par défaut à partir de **EmployeeData.aspx** à **ValidateUser.aspx** si vous souhaitez voir la validation utilisateur plutôt que des exemples de données extraites à partir de la table employés de la Base de données SQL Northwinds.</span><span class="sxs-lookup"><span data-stu-id="cb378-187">You can change the default send port setting from **EmployeeData.aspx** to **ValidateUser.aspx** if you want to see simple user validation rather than sample data pulled from the Employee table of the Northwinds SQL database.</span></span> <span data-ttu-id="cb378-188">Cette modification change la nature de la sortie affichée dans le navigateur après avoir cliqué sur **Terminer** à l’étape 9.</span><span class="sxs-lookup"><span data-stu-id="cb378-188">Making this change changes the nature of the output displayed in the browser after clicking **Finish** in step 9.</span></span>  
  
8.  <span data-ttu-id="cb378-189">Consultez les messages d'état correspondant à la configuration IIS, SSO et BizTalk en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="cb378-189">Review the status messages corresponding to the IIS, SSO, and BizTalk configuration being performed.</span></span> <span data-ttu-id="cb378-190">Vous pouvez trouver le code exécuté durant cette phase dans le **IisConfigurator**, **SsoConfigurator**, et **BtsConfigurator** classes définies dans le fichier SsoSample.cs.</span><span class="sxs-lookup"><span data-stu-id="cb378-190">You can find the code that is run during this phase in the **IisConfigurator**, **SsoConfigurator**, and **BtsConfigurator** classes defined in the file SsoSample.cs.</span></span> <span data-ttu-id="cb378-191">Une fois la configuration terminée, cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="cb378-191">After configuration has completed, click **Next**.</span></span>  
  
9. <span data-ttu-id="cb378-192">Dans la dernière page de l’Assistant, acceptez les paramètres par défaut **démarrer le navigateur à** (case à cocher et une zone de texte avec l’URL http://localhost/SsoSampleBizTalkHttpReceive/BTSHttpReceive.dll?<message/>), puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="cb378-192">On the final page of the wizard application, accept the default settings for **Start browser at** (a selected check box and a text box with the URL http://localhost/SsoSampleBizTalkHttpReceive/BTSHttpReceive.dll?<message/>), and then click **Finish**.</span></span>  
  
     <span data-ttu-id="cb378-193">Une instance d'Internet Explorer s'ouvre et affiche les exemples de données employé que vous avez ajoutés à la table Employés de la base de données SQL Northwind.</span><span class="sxs-lookup"><span data-stu-id="cb378-193">An instance of Internet Explorer will open, and soon display the sample employee data that you added to the Employee table of the Northwinds SQL database.</span></span>  
  
 <span data-ttu-id="cb378-194">Pour comparer, vous pouvez contourner BizTalk et SSO et accéder directement à l'un des fichiers ASPX :</span><span class="sxs-lookup"><span data-stu-id="cb378-194">For comparison purposes, you can bypass BizTalk and SSO and browse directly to either of the ASPX files:</span></span>  
  
-   <span data-ttu-id="cb378-195">http://localhost/SsoSampleServerApplication/ValidateUser.aspx</span><span class="sxs-lookup"><span data-stu-id="cb378-195">http://localhost/SsoSampleServerApplication/ValidateUser.aspx</span></span>  
  
-   <span data-ttu-id="cb378-196">http://localhost/SsoSampleServerApplication/EmployeeData.aspx</span><span class="sxs-lookup"><span data-stu-id="cb378-196">http://localhost/SsoSampleServerApplication/EmployeeData.aspx</span></span>  
  
 <span data-ttu-id="cb378-197">Dans les deux cas, comme vous contournez BizTalk et SSO, vous êtes invité par IIS à entrer vos informations d'authentification (utilisez les informations du compte Windows local que vous avez créé).</span><span class="sxs-lookup"><span data-stu-id="cb378-197">In both cases, because you bypass BizTalk and SSO, you are prompted for your authentication information by IIS (use the local Windows account information you created previously).</span></span>  
  
## <a name="comments"></a><span data-ttu-id="cb378-198">Commentaires</span><span class="sxs-lookup"><span data-stu-id="cb378-198">Comments</span></span>  
 <span data-ttu-id="cb378-199">L'Assistant SsoSample.exe configure deux répertoires virtuels IIS :</span><span class="sxs-lookup"><span data-stu-id="cb378-199">The SsoSample.exe wizard application configures two IIS virtual directories:</span></span>  
  
-   <span data-ttu-id="cb378-200">Le premier répertoire virtuel est configuré avec l'authentification intégrée Windows et correspond à l'extension ISAPI de l'emplacement de réception HTTP BizTalk.</span><span class="sxs-lookup"><span data-stu-id="cb378-200">The first virtual directory is configured with Windows integrated authentication and corresponds to the BizTalk HTTP Receive ISAPI extension.</span></span> <span data-ttu-id="cb378-201">Il doit être associé au fichier .dll BTSHTTPReceive.dll situé dans le dossier suivant :</span><span class="sxs-lookup"><span data-stu-id="cb378-201">It must be associated with the .dll file BTSHTTPReceive.dll located in the following folder:</span></span>  
  
     <span data-ttu-id="cb378-202">\<*Le chemin d’installation*\>\HttpReceive</span><span class="sxs-lookup"><span data-stu-id="cb378-202">\<*Install Path*\>\HttpReceive</span></span>  
  
-   <span data-ttu-id="cb378-203">Le second répertoire virtuel est configuré avec l'authentification de base et simule un système principal qui accepte un ID et mot de passe utilisateur pour authentifier l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="cb378-203">The second virtual directory is configured with basic authentication and simulates a back-end system that accepts a user ID and password to authenticate the user.</span></span> <span data-ttu-id="cb378-204">Il doit être associé à l'un ou l'autre des fichiers ASPX, ValidateUser.aspx ou EmployeeData.aspx, situés dans le dossier suivant :</span><span class="sxs-lookup"><span data-stu-id="cb378-204">It must be associated with one or the other of the ASPX files, ValidateUser.aspx or EmployeeData.aspx, located in the following folder:</span></span>  
  
     <span data-ttu-id="cb378-205">\<*Exemples de chemin d’accès*\>\SSO\HTTPSSO\Scripts</span><span class="sxs-lookup"><span data-stu-id="cb378-205">\<*Samples Path*\>\SSO\HTTPSSO\Scripts</span></span>  
  
 <span data-ttu-id="cb378-206">Vous pouvez utiliser l'Assistant SsoSample.exe configurer une ou plusieurs applications associées.</span><span class="sxs-lookup"><span data-stu-id="cb378-206">You can use the SsoSample.exe wizard application to configure one or more affiliate applications.</span></span> <span data-ttu-id="cb378-207">Pour chacune de ces applications associées, vous pouvez créer un ou plusieurs mappages utilisateur.</span><span class="sxs-lookup"><span data-stu-id="cb378-207">For each of these affiliate applications, you can create one or more user mappings.</span></span> <span data-ttu-id="cb378-208">Chacun de ces mappages utilisateur mappe un compte d'utilisateur Windows à un compte que vous utilisez pour accéder à un système principal spécifique.</span><span class="sxs-lookup"><span data-stu-id="cb378-208">Each of these user mappings maps a Windows user account to an account that you use to access a specific back-end system.</span></span> <span data-ttu-id="cb378-209">Dans cet exemple, ce compte est un compte Windows local que vous utilisez pour l'authentification avec le second répertoire virtuel IIS qui simule un système principal original.</span><span class="sxs-lookup"><span data-stu-id="cb378-209">In this sample, that account is a local Windows account that you use to authenticate with the second IIS virtual directory that is simulating a genuine back-end system.</span></span>  
  
 <span data-ttu-id="cb378-210">Pour exécuter de nouveau cet exemple, vous avez le choix entre plusieurs solutions :</span><span class="sxs-lookup"><span data-stu-id="cb378-210">To rerun this sample, you have several choices:</span></span>  
  
-   <span data-ttu-id="cb378-211">Accédez directement à l'URL suivante dans Internet Explorer :</span><span class="sxs-lookup"><span data-stu-id="cb378-211">Browse directly to the following URL in Internet Explorer:</span></span>  
  
     <span data-ttu-id="cb378-212">http://localhost/SsoSampleBizTalkHttpReceive/BTSHttpReceive.dll?<message/></span><span class="sxs-lookup"><span data-stu-id="cb378-212">http://localhost/SsoSampleBizTalkHttpReceive/BTSHttpReceive.dll?<message/></span></span>  
  
-   <span data-ttu-id="cb378-213">Exécutez de nouveau l'Assistant mais désactivez toutes les cases à cocher de configuration dans la première page.</span><span class="sxs-lookup"><span data-stu-id="cb378-213">Run the wizard application again, but clear all of the configuration check boxes on the first page.</span></span>  
  
-   <span data-ttu-id="cb378-214">Exécutez de nouveau l'Assistant, laissez les cases à cocher de configuration activées dans la première page mais configurez de manière soigneuse et appropriée des éléments BizTalk supplémentaires, des applications associées, etc., afin que des erreurs de configuration ne se produisent pas.</span><span class="sxs-lookup"><span data-stu-id="cb378-214">Run the wizard application again, leave the configuration check boxes selected in the first page, but carefully and appropriately configure additional BizTalk items, affiliate applications, and so on, so that configuration errors do not occur.</span></span>  
  
 <span data-ttu-id="cb378-215">Pour le nettoyage à partir de cet exemple, utilisez la procédure suivante.</span><span class="sxs-lookup"><span data-stu-id="cb378-215">To clean up from this sample, use the following procedure.</span></span>  
  
#### <a name="to-clean-up-from-this-sample"></a><span data-ttu-id="cb378-216">Pour nettoyer à partir de cet exemple</span><span class="sxs-lookup"><span data-stu-id="cb378-216">To clean up from this sample</span></span>  
  
1.  <span data-ttu-id="cb378-217">Si nécessaire, inversez la configuration manuelle que vous avez effectuée, telle que la suppression du compte Windows local.</span><span class="sxs-lookup"><span data-stu-id="cb378-217">As appropriate, reverse the manual configuration that you performed, such as removing the local Windows account.</span></span>  
  
2.  <span data-ttu-id="cb378-218">Supprimez les applications IIS qui correspondent aux répertoires virtuels, puis supprimez les répertoires virtuels IIS créés par cet exemple.</span><span class="sxs-lookup"><span data-stu-id="cb378-218">Remove IIS applications that correspond to the virtual directories, and then delete the IIS virtual directories created by this sample.</span></span>  
  
3.  <span data-ttu-id="cb378-219">À l'aide de la console Administration de BizTalk, désinscrivez, puis supprimez le port d'envoi associé à cet exemple.</span><span class="sxs-lookup"><span data-stu-id="cb378-219">Using BizTalk Administration console, unenlist and then delete the send port associated with this sample.</span></span> <span data-ttu-id="cb378-220">Ensuite, supprimez le port de réception (et son emplacement de réception) associé à cet exemple.</span><span class="sxs-lookup"><span data-stu-id="cb378-220">Then delete the receive port (and its receive location) associated with this sample.</span></span>  
  
4.  <span data-ttu-id="cb378-221">Utilisez l’application Ssomanage (située dans \Program Files\Enterprise Single Sign-On\\) pour supprimer l’application SSO pour cet exemple :</span><span class="sxs-lookup"><span data-stu-id="cb378-221">Use the Ssomanage application (located in \Program Files\Common Files\Enterprise Single Sign-On\\) to delete the SSO application for this sample:</span></span>  
  
    ```  
    Ssomanage –deleteapp SsoSampleApplication  
    ```  
  
## <a name="see-also"></a><span data-ttu-id="cb378-222">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="cb378-222">See Also</span></span>  
 [<span data-ttu-id="cb378-223">Authentification unique (dossier d’exemples BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="cb378-223">SSO (BizTalk Server Samples Folder)</span></span>](../core/sso-biztalk-server-samples-folder.md)