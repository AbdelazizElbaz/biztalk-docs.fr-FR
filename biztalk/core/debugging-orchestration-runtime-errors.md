---
title: "Débogage des erreurs d’exécution d’Orchestration | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 7be9ee5a-b9fa-428b-8b92-0fa0f801c724
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 87a47c5b2ee432059365c6f9046a75bb5775fc02
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="debugging-orchestration-runtime-errors"></a><span data-ttu-id="7d5d2-102">Débogage des erreurs d'exécution d'une orchestration</span><span class="sxs-lookup"><span data-stu-id="7d5d2-102">Debugging Orchestration Runtime Errors</span></span>
<span data-ttu-id="7d5d2-103">Cette section présente un certain nombre de questions et réponses conçues pour vous aider à résoudre les problèmes d'exécution liés aux orchestrations.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-103">This section contains a set of questions and answers designed to help you resolve runtime issues with your orchestrations.</span></span>  
  
## <a name="why-do-i-get-intermittent-subscription-errors-when-sending-to-a-child-orchestration-that-was-just-started-by-the-parent"></a><span data-ttu-id="7d5d2-104">Pourquoi est-ce que j'obtiens des erreurs d'abonnement intermittentes lors de l'envoi vers une orchestration enfant venant juste d'être démarrée par le parent ?</span><span class="sxs-lookup"><span data-stu-id="7d5d2-104">Why do I get intermittent subscription errors when sending to a child orchestration that was just started by the parent?</span></span>  
 <span data-ttu-id="7d5d2-105">L'erreur d'abonnement « abonnement introuvable » résulte d'une condition d'engorgement.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-105">The subscription error "could not find subscription" is a result of a race condition.</span></span> <span data-ttu-id="7d5d2-106">Une condition d'engorgement se produit lorsque le résultat d'un traitement dépend de l'ordre spécifique dans lequel est effectué le traitement.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-106">A race condition occurs when the outcome of a process depends on the particular order in which the process takes place.</span></span> <span data-ttu-id="7d5d2-107">Dans ce cas, la condition se produit lorsque l'orchestration enfant n'a pas été démarrée à temps pour recevoir le message envoyé par le parent.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-107">In this case, the condition occurs when the child orchestration has not been started in time to receive the message sent by the parent.</span></span>  
  
 <span data-ttu-id="7d5d2-108">Pour éviter ce problème, l'orchestration enfant peut renvoyer un message au parent une fois qu'elle est démarrée et prête à recevoir un message.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-108">To avoid this problem, the child orchestration could send a message back to the parent when it has been started and is prepared to receive a message.</span></span> <span data-ttu-id="7d5d2-109">Ainsi, l'orchestration parent l'ayant lancée sait qu'il existe un destinataire avant d'envoyer un message.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-109">In this way, the parent orchestration that started it would know that there is a receiver before sending a message.</span></span>  
  
## <a name="why-do-i-get-errors-when-i-attach-a-dynamic-send-port-to-a-logical-port"></a><span data-ttu-id="7d5d2-110">Pourquoi est-ce que j'obtiens des erreurs lorsque j'associe un port d'envoi dynamique à un port logique ?</span><span class="sxs-lookup"><span data-stu-id="7d5d2-110">Why do I get errors when I attach a dynamic send port to a logical port?</span></span>  
 <span data-ttu-id="7d5d2-111">La conception d'un port dynamique ne lui permet pas d'hériter de tous les attributs et caractéristiques du port qui lui est associé.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-111">A dynamic port is not designed to inherit all of the attributes and characteristics of the port assigned to it.</span></span> <span data-ttu-id="7d5d2-112">Un port dynamique obtient uniquement une adresse, il n'hérite pas des autres informations associées au port logique.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-112">A dynamic port gets an address only; it does not inherit the other information associated with the logical port.</span></span>  
  
 <span data-ttu-id="7d5d2-113">Par exemple, si vous associez un port d'envoi dynamique à un port logique avec Accusé de réception = Transmis, le composant d'exécution ne renverra pas d'accusé de réception.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-113">For example, if you attach a dynamic send port to a logical port with Delivery Notification = Transmitted, the runtime will not deliver a delivery notification.</span></span> <span data-ttu-id="7d5d2-114">Le composant d'exécution XLANG recherche un accusé de réception uniquement si le port a été configuré à cet effet de manière statique.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-114">The XLANGs runtime only listens for a delivery notification if the port has actually been set up that way statically.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7d5d2-115">Dans les XLANG, les ports se comporteront uniquement comme s'ils avaient été configurés de manière statique.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-115">In XLANGs, ports will behave only as they have been configured statically.</span></span>  
  
## <a name="when-i-try-to-run-my-application-after-deploying-an-orchestration-with-custom-components-why-do-i-get-the-error-file-or-assembly-name-or-one-of-its-dependencies-not-found"></a><span data-ttu-id="7d5d2-116">Lorsque je tente d'exécuter mon application après avoir déployé une orchestration avec des composants personnalisés, pourquoi est-ce que j'obtiens l'erreur « Nom de fichier ou d'assembly ou une de ses dépendances introuvable »?</span><span class="sxs-lookup"><span data-stu-id="7d5d2-116">When I try to run my application after deploying an orchestration with custom components, why do I get the error "File or Assembly name or one of its dependencies not found"?</span></span>  
 <span data-ttu-id="7d5d2-117">Cette erreur signifie généralement que le moteur d'orchestration BizTalk  ne trouve pas le composant personnalisé.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-117">This error usually means the BizTalk orchestration engine cannot locate the custom component.</span></span> <span data-ttu-id="7d5d2-118">Vous devez installer tous les assemblys inclus dans une application BizTalk dans le GAC de l'ordinateur hébergeant l'application.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-118">You must install all assemblies included in a BizTalk application in the global assembly cache of the computer that hosts the application.</span></span>  
  
## <a name="an-assemblyname-context-property-was-not-valid-error-occurs-when-submitting-a-document-to-a-web-service-via-an-orchestration"></a><span data-ttu-id="7d5d2-119">Une erreur « Propriété de contexte AssemblyName non valide » se produit lors de la soumission d'un document à un service Web via une orchestration</span><span class="sxs-lookup"><span data-stu-id="7d5d2-119">An "AssemblyName context property was not valid" error occurs when submitting a document to a Web service via an orchestration</span></span>  
  
### <a name="problem"></a><span data-ttu-id="7d5d2-120">Problème</span><span class="sxs-lookup"><span data-stu-id="7d5d2-120">Problem</span></span>  
 <span data-ttu-id="7d5d2-121">La soumission d'un document à un service Web via une orchestration entraîne une erreur « Propriété de contexte AssemblyName non valide ».</span><span class="sxs-lookup"><span data-stu-id="7d5d2-121">Submitting a document to a Web service via an orchestration results in an "AssemblyName context property not valid" error.</span></span>  
  
### <a name="cause"></a><span data-ttu-id="7d5d2-122">Cause</span><span class="sxs-lookup"><span data-stu-id="7d5d2-122">Cause</span></span>  
 <span data-ttu-id="7d5d2-123">L'application BizTalk a été conçue à l'origine avec une approche « messagerie », sans intervention d'une orchestration.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-123">The BizTalk application was originally designed using a "messaging" approach without an intervening orchestration.</span></span> <span data-ttu-id="7d5d2-124">Ce type de solution utilise un filtre sur le port d'envoi pour lier le port de réception et le port d'envoi de sorte que le document est transféré au port d'envoi à réception.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-124">This type of solution uses a send port filter to link the receive port and the send port so that the document is passed through to the send port upon receipt.</span></span> <span data-ttu-id="7d5d2-125">Par la suite, la solution a été modifiée afin d'inclure une orchestration liée au port d'envoi.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-125">Later, the solution was modified to include an orchestration that was bound to the send port.</span></span>  
  
### <a name="resolution"></a><span data-ttu-id="7d5d2-126">Résolution</span><span class="sxs-lookup"><span data-stu-id="7d5d2-126">Resolution</span></span>  
 <span data-ttu-id="7d5d2-127">Supprimez le filtre sur le port d'envoi.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-127">Remove the filter on the send port.</span></span> <span data-ttu-id="7d5d2-128">Si vous appliquez un filtre à un port d'envoi lié à une orchestration, les messages vont souvent contourner l'orchestration et provoquer l'erreur de propriété de contexte.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-128">If you apply a filter to a send port that is bound to an orchestration, messages will often bypass the orchestration and cause the context property error.</span></span>  
  
## <a name="a-wrongbodypartexception-occurs-when-handling-a-multipart-mime-message-in-an-orchestration"></a><span data-ttu-id="7d5d2-129">Une erreur « WrongBodyPartException » se produit lors du traitement d'un message MIME en plusieurs parties dans une orchestration</span><span class="sxs-lookup"><span data-stu-id="7d5d2-129">A "WrongBodyPartException" occurs when handling a multipart MIME message in an orchestration</span></span>  
  
### <a name="problem"></a><span data-ttu-id="7d5d2-130">Problème</span><span class="sxs-lookup"><span data-stu-id="7d5d2-130">Problem</span></span>  
 <span data-ttu-id="7d5d2-131">Réception d’un message MIME à parties multiples dans une orchestration entraîne une **WrongBodyPartException** exception.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-131">Receiving a multipart MIME message into an orchestration results in a **WrongBodyPartException** exception.</span></span>  
  
### <a name="cause"></a><span data-ttu-id="7d5d2-132">Cause</span><span class="sxs-lookup"><span data-stu-id="7d5d2-132">Cause</span></span>  
 <span data-ttu-id="7d5d2-133">Cette erreur peut survenir si l'ordre des parties est spécifié de manière incorrecte ou si les messages ne respectent pas les positions des parties que vous avez spécifiées.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-133">This error can occur if the order of the parts is specified incorrectly or messages do not conform to the part positions you have specified.</span></span> <span data-ttu-id="7d5d2-134">Par exemple, si vous avez indiqué que la troisième partie correspond au corps du message, mais que les messages comportent une partie en-tête en troisième position.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-134">For example, if you specify that the third part is a body part but messages arrive with a header part in the third position.</span></span>  
  
### <a name="resolution"></a><span data-ttu-id="7d5d2-135">Résolution</span><span class="sxs-lookup"><span data-stu-id="7d5d2-135">Resolution</span></span>  
 <span data-ttu-id="7d5d2-136">Vérifiez que le paramètre d'indexation des parties est correct et assurez-vous que tous les messages arrivant par le biais de cet adaptateur sont conformes au paramètre.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-136">Verify that the body part index setting is correct and then ensure that all messages arriving through the adapter are consistent with the setting.</span></span> <span data-ttu-id="7d5d2-137">Vous pouvez étudier le contenu des messages MIME ayant échoué dans une orchestration en arrêtant l'orchestration (tout en la gardant inscrite) ; cela aura pour effet de forcer la publication du message et vous pourrez le consulter en utilisant la console Administration et vérifier ainsi l'ordre des parties.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-137">You can inspect the contents of MIME messages that fail inside an orchestration by stopping the orchestration (but keeping it enlisted); this will force the message to be published so you can examine it using the Administration console and verify the order of the parts.</span></span>  
  
## <a name="multipart-mime-message-part-cannot-be-found"></a><span data-ttu-id="7d5d2-138">Une partie d'un message MIME à plusieurs parties est introuvable</span><span class="sxs-lookup"><span data-stu-id="7d5d2-138">Multipart MIME message part cannot be found</span></span>  
  
### <a name="problem"></a><span data-ttu-id="7d5d2-139">Problème</span><span class="sxs-lookup"><span data-stu-id="7d5d2-139">Problem</span></span>  
 <span data-ttu-id="7d5d2-140">Tente de récupérer un MIME du message partie avec une valeur d’index supérieure à 0 entraîne l’exécution de BizTalk Server qui lève une erreur semblable à « Impossible de trouver le message à parties multiples avec index = \<valeur\>».</span><span class="sxs-lookup"><span data-stu-id="7d5d2-140">Attempts to retrieve a MIME message part with an index value greater than 0 results in the BizTalk Server runtime throwing an error similar to "can't find multi-part message with index = \<value\>".</span></span>  
  
### <a name="cause"></a><span data-ttu-id="7d5d2-141">Cause</span><span class="sxs-lookup"><span data-stu-id="7d5d2-141">Cause</span></span>  
 <span data-ttu-id="7d5d2-142">Les principales causes de cette erreur sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="7d5d2-142">The most common causes for this error are:</span></span>  
  
-   <span data-ttu-id="7d5d2-143">Le message MIME compte moins de parties que prévu.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-143">The MIME message has fewer parts than expected.</span></span>  
  
-   <span data-ttu-id="7d5d2-144">Le message MIME n'a pas pu être analysé complètement.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-144">The MIME message could not be fully parsed.</span></span>  
  
### <a name="resolution"></a><span data-ttu-id="7d5d2-145">Résolution</span><span class="sxs-lookup"><span data-stu-id="7d5d2-145">Resolution</span></span>  
 <span data-ttu-id="7d5d2-146">Vous pouvez résoudre ce problème en vous assurant que votre code n'extrait que les parties de message comprises dans la plage attendue à partir de la source du message.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-146">You can resolve this problem by ensuring that your code retrieves only message parts that are within the range expected from the message source.</span></span> <span data-ttu-id="7d5d2-147">Dans le cas d'un problème d'analyse, vérifiez que la structure du message MIME d'origine est correcte et qu'il est construit de manière appropriée.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-147">In the case of a parsing issue, you should verify that the original MIME message is structurally sound and properly constructed.</span></span> <span data-ttu-id="7d5d2-148">Si vous prévoyez des erreurs d'analyse occasionnelles, assurez-vous que votre orchestration dispose des gestionnaires d'exception appropriés.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-148">If you expect occasional parsing problems, ensure that your orchestration has appropriate exception handlers.</span></span>  
  
## <a name="you-receive-a-the-file-send-adapter-cannot-open-file-for-writing-error-when-sending-using-a-dynamic-send-port"></a><span data-ttu-id="7d5d2-149">Vous recevez l'erreur « L'adaptateur d'envoi FILE ne peut pas ouvrir le fichier pour écriture » lors d'un envoi à l'aide d'un port d'envoi dynamique</span><span class="sxs-lookup"><span data-stu-id="7d5d2-149">You receive a "The FILE send adapter cannot open file for writing" error when sending using a dynamic send port</span></span>  
  
### <a name="problem"></a><span data-ttu-id="7d5d2-150">Problème</span><span class="sxs-lookup"><span data-stu-id="7d5d2-150">Problem</span></span>  
 <span data-ttu-id="7d5d2-151">Vous recevez un « l’adaptateur d’envoi de fichier ne peut pas ouvrir le fichier  *\<nom de fichier\>*  pour l’écriture « erreur dans le journal des événements BizTalk Server lors de l’envoi à l’aide d’un dynamique un port d’envoi.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-151">You receive a "The FILE send adapter cannot open file *\<filename\>* for writing" error in the BizTalk Server event log when sending using a dynamic send port.</span></span>  
  
 <span data-ttu-id="7d5d2-152">Ce problème se produit lorsque le **BTS. OutBoundTransportLocation** propriété est définie dans une expression d’orchestration et le transport de fichier est spécifié, par exemple les expressions suivantes provoquent cette erreur lors de l’exécution :</span><span class="sxs-lookup"><span data-stu-id="7d5d2-152">This problem occurs when the **BTS.OutBoundTransportLocation** property is defined in an orchestration expression and the file transport is specified, for example the following expressions will cause this error at runtime:</span></span>  
  
```  
Message2=Message1;  
Message2(BTS.OutboundTransportLocation) = "file:///c:/test/out";  
MySendPort(Microsoft.XLANGs.BaseTypes.Address)=Message2(BTS.OutboundTransportLocation);  
```  
  
 <span data-ttu-id="7d5d2-153">\- Ou -</span><span class="sxs-lookup"><span data-stu-id="7d5d2-153">\- Or -</span></span>  
  
```  
Message2=Message1;  
Message2(BTS.OutboundTransportLocation) = "file://mymachine/test/out";  
MySendPort(Microsoft.XLANGs.BaseTypes.Address)=Message2(BTS.OutboundTransportLocation);  
```  
  
### <a name="cause"></a><span data-ttu-id="7d5d2-154">Cause</span><span class="sxs-lookup"><span data-stu-id="7d5d2-154">Cause</span></span>  
 <span data-ttu-id="7d5d2-155">Ce problème se produit parce que lors de l’exécution, le moteur d’orchestration supprime le texte «**file:// «** à partir de l’URL spécifiée.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-155">This problem occurs because at runtime the orchestration engine removes the text "**file://"** from the specified URL.</span></span> <span data-ttu-id="7d5d2-156">Dans les exemples précédents, "file:///c:/test/out" est évaluée comme \c:\test\out et "file://mymachine/test/out" est évaluée comme mymachine\test\out.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-156">So, using the examples above, "file:///c:/test/out" is evaluated as \c:\test\out and "file://mymachine/test/out" is evaluated as mymachine\test\out.</span></span>  
  
### <a name="resolution"></a><span data-ttu-id="7d5d2-157">Résolution</span><span class="sxs-lookup"><span data-stu-id="7d5d2-157">Resolution</span></span>  
 <span data-ttu-id="7d5d2-158">Lorsque vous spécifiez l’URL pour le **BTS. OutBoundTransportLocation** propriété dans une expression, ajouter ou supprimer des caractères « / » en fonction des besoins.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-158">When specifying the URL for the **BTS.OutBoundTransportLocation** property in an expression, add or remove "/" characters as needed.</span></span> <span data-ttu-id="7d5d2-159">Les exemples précédents le **BTS. OutBoundTransportLocation** propriété doit être définie en tant que « file://c:/test/out », qui est évalué sur c:\test\out ou « file:///mymachine/test/out », qui est évalué sur \\\mymachine\test\out.</span><span class="sxs-lookup"><span data-stu-id="7d5d2-159">Using the examples above the **BTS.OutBoundTransportLocation** property should be defined as "file://c:/test/out", which would evaluate to c:\test\out or "file:////mymachine/test/out", which would evaluate to \\\mymachine\test\out.</span></span>