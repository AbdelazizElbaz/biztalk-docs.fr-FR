---
title: "Procédure pas à pas (AS2) : Réception d’EDI via AS2 avec MDN asynchrone | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: ac3962e4-0525-4194-8cf1-b90664f1a139
caps.latest.revision: "40"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a0dd9e94ff74adb4419f95b386861376bb424fd1
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="walkthrough-as2-receiving-edi-over-as2-with-an-asynchronous-mdn"></a><span data-ttu-id="0222c-102">Procédure (AS2) : Réception d'EDI via AS2 avec un MDN asynchrone</span><span class="sxs-lookup"><span data-stu-id="0222c-102">Walkthrough (AS2): Receiving EDI over AS2 with an Asynchronous MDN</span></span>
<span data-ttu-id="0222c-103">Cette procédure pas à pas fournit des instructions détaillées sur la création d'une solution pour la réception de messages EDI via le transport AS2 et le renvoi de MDN synchrones.</span><span class="sxs-lookup"><span data-stu-id="0222c-103">This walkthrough provides a set of step-by-step procedures that creates a solution for receiving EDI messages over AS2 transport, returning synchronous MDNs.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="0222c-104">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="0222c-104">Prerequisites</span></span>  
 <span data-ttu-id="0222c-105">La configuration requise pour exécuter la procédure décrite dans cette rubrique est la suivante :</span><span class="sxs-lookup"><span data-stu-id="0222c-105">The following are prerequisites for performing the procedure in this topic:</span></span>  
  
-   <span data-ttu-id="0222c-106">Vous devez être connecté en tant que membre du groupe d'administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ou du groupe Opérateurs B2B de  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0222c-106">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators or [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] B2B Operators group.</span></span>  
  
-   <span data-ttu-id="0222c-107">Internet Information Services (IIS) 7 doit être installé sur l'ordinateur sur lequel est exécutée la procédure pas à pas.</span><span class="sxs-lookup"><span data-stu-id="0222c-107">The computer that runs the walkthrough must have Internet Information Services (IIS) 7 installed.</span></span>  
  
-   <span data-ttu-id="0222c-108">Si une version 64 bits de Windows est installée sur l'ordinateur sur lequel est exécutée la procédure pas à pas, vous devez vérifier que les hôtes BizTalk sont marqués comme applications 32 bits uniquement.</span><span class="sxs-lookup"><span data-stu-id="0222c-108">If the computer that runs the walkthrough is installed with a 64-bit version of Windows, you must ensure that the BizTalk hosts are marked as 32-bit only.</span></span> <span data-ttu-id="0222c-109">Vous devez également vérifier que le paramètre Activer les applications 32 bits pour les pools d'applications est défini sur True pour IIS.</span><span class="sxs-lookup"><span data-stu-id="0222c-109">You must also ensure IIS has the Enable 32-Bit Application Setting for the Application Pools set to True.</span></span> <span data-ttu-id="0222c-110">Pour plus d’informations, consultez [didacticiel 3 : didacticiel AS2](../core/tutorial-3-as2-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="0222c-110">For more information, see [Tutorial 3: AS2 Tutorial](../core/tutorial-3-as2-tutorial.md).</span></span>  
  
## <a name="how-the-solution-receives-an-edi-interchange-and-returns-an-asynchronous-mdn"></a><span data-ttu-id="0222c-111">Réception d'un échange EDI et renvoi d'un MDN asynchrone par la solution</span><span class="sxs-lookup"><span data-stu-id="0222c-111">How the Solution Receives an EDI Interchange and Returns an Asynchronous MDN</span></span>  
 <span data-ttu-id="0222c-112">La solution effectue les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="0222c-112">The solution will do the following:</span></span>  
  
1.  <span data-ttu-id="0222c-113">Réception d'un message AS2 contenant un échange EDI via HTTP du partenaire commercial et décodage de l'échange à partir d'EDIINT/AS2.</span><span class="sxs-lookup"><span data-stu-id="0222c-113">Receive an AS2 message containing an EDI interchange over HTTP from the trading partner, and decode the interchange from EDIINT/AS2.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-114">Les événements dans cette liste peuvent se produire dans un ordre différent de celui indiqué.</span><span class="sxs-lookup"><span data-stu-id="0222c-114">The events in this list may not occur in the order shown.</span></span>  
  
2.  <span data-ttu-id="0222c-115">Génération d'une réponse MDN, puis déplacement dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="0222c-115">Generate an MDN response, and drop it in the MessageBox.</span></span>  
  
3.  <span data-ttu-id="0222c-116">Récupération du MDN de message par un port d'envoi dynamique.</span><span class="sxs-lookup"><span data-stu-id="0222c-116">Pick up the message MDN by a dynamic send port.</span></span>  
  
4.  <span data-ttu-id="0222c-117">Renvoi du MDN de message asynchrone au partenaire commercial.</span><span class="sxs-lookup"><span data-stu-id="0222c-117">Return the asynchronous message MDN to the trading partner.</span></span>  
  
5.  <span data-ttu-id="0222c-118">Conversion du format EDI de l'échange au format XML interne et placement dans la MessageBox.</span><span class="sxs-lookup"><span data-stu-id="0222c-118">Convert the EDI format of the interchange to internal XML format, and drop it in the MessageBox.</span></span>  
  
6.  <span data-ttu-id="0222c-119">Récupération du fichier XML du message dans la MessageBox par un port d'envoi avec un pipeline PassThruTransmit.</span><span class="sxs-lookup"><span data-stu-id="0222c-119">A send port with a PassThruTransmit pipeline picks up the message XML file from the MessageBox.</span></span>  
  
7.  <span data-ttu-id="0222c-120">Transmission du fichier XML d'échange EDI à un dossier du tiers Contoso par le port d'envoi.</span><span class="sxs-lookup"><span data-stu-id="0222c-120">The send port sends EDI interchange XML file to a folder at the Contoso party.</span></span>  
  
 <span data-ttu-id="0222c-121">L'architecture de cette solution est représentée dans la figure suivante.</span><span class="sxs-lookup"><span data-stu-id="0222c-121">The following figure shows the architecture for this solution.</span></span>  
  
 <span data-ttu-id="0222c-122">![Réception AS2 avec MDN asynchrone](../core/media/bts-configuring-the-receiving-of-edi-over-as2-with-an-asynchronous-mdnc.gif "bts_Configuring_the_Receiving_of_EDI_Over_AS2_with_an_Asynchronous_MDNc")</span><span class="sxs-lookup"><span data-stu-id="0222c-122">![AS2 receiving with an asynchronous MDN](../core/media/bts-configuring-the-receiving-of-edi-over-as2-with-an-asynchronous-mdnc.gif "bts_Configuring_the_Receiving_of_EDI_Over_AS2_with_an_Asynchronous_MDNc")</span></span>  
  
## <a name="the-functionality-in-this-solution"></a><span data-ttu-id="0222c-123">Fonctionnalités dans la solution</span><span class="sxs-lookup"><span data-stu-id="0222c-123">The Functionality in this Solution</span></span>  
 <span data-ttu-id="0222c-124">Les conditions suivantes s'appliquent aux fonctionnalités de cette procédure pas à pas :</span><span class="sxs-lookup"><span data-stu-id="0222c-124">The following applies to the functionality of this walkthrough:</span></span>  
  
-   <span data-ttu-id="0222c-125">Aucun accusé de réception EDI n'est généré.</span><span class="sxs-lookup"><span data-stu-id="0222c-125">An EDI acknowledgment is not generated.</span></span> <span data-ttu-id="0222c-126">Génération d’un accusé de réception EDI est illustrée dans [procédure pas à pas (X12) : réception des échanges EDI et envoi d’un accusé](../core/walkthrough-x12--receive-edi-interchanges-and-send-back-an-acknowledgement.md).</span><span class="sxs-lookup"><span data-stu-id="0222c-126">Generating an EDI acknowledgment is demonstrated in [Walkthrough (X12): Receiving EDI Interchanges and Sending Back an Acknowledgement](../core/walkthrough-x12--receive-edi-interchanges-and-send-back-an-acknowledgement.md).</span></span> <span data-ttu-id="0222c-127">Envoi d’un accusé de réception EDI via le transport AS2 est décrit dans [procédure pas à pas (AS2) : envoi d’EDI via AS2 avec MDN asynchrone](../core/walkthrough-as2-sending-edi-over-as2-with-an-asynchronous-mdn.md).</span><span class="sxs-lookup"><span data-stu-id="0222c-127">Sending an EDI acknowledgment over AS2 transport is described in [Walkthrough (AS2): Sending EDI over AS2 with an Asynchronous MDN](../core/walkthrough-as2-sending-edi-over-as2-with-an-asynchronous-mdn.md).</span></span>  
  
-   <span data-ttu-id="0222c-128">La solution est conçue pour les échanges basés sur le codage X12, et non le codage EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="0222c-128">The solution is designed for interchanges using X12 encoding, not EDIFACT encoding.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-129">La configuration utilisée pour le codage EDIFACT est proche de celle utilisée pour le codage X12.</span><span class="sxs-lookup"><span data-stu-id="0222c-129">The configuration used for EDIFACT encoding is closely parallel to that used for X12 encoding.</span></span>  
  
-   <span data-ttu-id="0222c-130">La validation de type EDI et la validation étendue sont effectuées sur l'échange entrant.</span><span class="sxs-lookup"><span data-stu-id="0222c-130">EDI type and extended validation will be performed on the incoming interchange.</span></span>  
  
-   <span data-ttu-id="0222c-131">La création de rapports AS2 et EDI est activée. Les documents informatisés sont enregistrés pour être consultables depuis le rapport État de l'échange.</span><span class="sxs-lookup"><span data-stu-id="0222c-131">AS2 and EDI reporting will be enabled, and transaction sets will be saved for viewing from the interchange status report.</span></span>  
  
-   <span data-ttu-id="0222c-132">Cette solution ne configure pas la signature, la compression, le chiffrement ou le stockage des messages dans la base de données de non-répudiation.</span><span class="sxs-lookup"><span data-stu-id="0222c-132">This solution does not configure signing, compression, encryption, or message storage in the non-repudiation database.</span></span> <span data-ttu-id="0222c-133">Pour les procédures de configuration de ces propriétés, consultez [configuration des propriétés AS2](../core/configuring-as2-properties.md).</span><span class="sxs-lookup"><span data-stu-id="0222c-133">For procedures on configuring those properties, see [Configuring AS2 Properties](../core/configuring-as2-properties.md).</span></span>  
  
## <a name="configuring-and-testing-the-walkthrough"></a><span data-ttu-id="0222c-134">Configuration et test de la procédure pas à pas</span><span class="sxs-lookup"><span data-stu-id="0222c-134">Configuring and Testing the Walkthrough</span></span>  
 <span data-ttu-id="0222c-135">Les étapes suivantes sont requises pour configurer cette solution :</span><span class="sxs-lookup"><span data-stu-id="0222c-135">The procedures required for this solution include the following:</span></span>  
  
-   <span data-ttu-id="0222c-136">Créer et déployer un projet BizTalk avec le schéma de message requis, le schéma pouvant être utilisé par [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] dans le cadre du traitement de l'échange reçu.</span><span class="sxs-lookup"><span data-stu-id="0222c-136">Build and deploy a BizTalk project with the required message schema, making the schema available for use by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in processing the received interchange.</span></span>  
  
-   <span data-ttu-id="0222c-137">Activer le filtre BTS ISAPI utilisé pour la réception du message AS2.</span><span class="sxs-lookup"><span data-stu-id="0222c-137">Enable the BTS ISAPI filter used in receiving the AS2 message.</span></span>  
  
-   <span data-ttu-id="0222c-138">Créer un répertoire virtuel Contoso recevant le message AS2 de Fabrikam, comme configuré dans l'emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="0222c-138">Create a Contoso virtual directory that receives the AS2 message from Fabrikam, as configured in the receive location.</span></span>  
  
-   <span data-ttu-id="0222c-139">Créer un répertoire virtuel Fabrikam recevant le MDN de Contoso.</span><span class="sxs-lookup"><span data-stu-id="0222c-139">Create a Fabrikam virtual directory that receives the MDN from Contoso.</span></span>  
  
-   <span data-ttu-id="0222c-140">Spécifier que les répertoires virtuels Contoso et Fabrikam ne sont pas gérés par Windows SharePoint Services.</span><span class="sxs-lookup"><span data-stu-id="0222c-140">Specify that the Contoso and Fabrikam virtual directories are not managed by Windows SharePoint Services.</span></span>  
  
-   <span data-ttu-id="0222c-141">Créer un port de réception HTTP unidirectionnel statique pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour recevoir le message AS2 contenant le document commercial EDI envoyé par le partenaire commercial.</span><span class="sxs-lookup"><span data-stu-id="0222c-141">Create a static one-way HTTP receive port for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to receive the AS2 message containing the EDI business document from the trading partner.</span></span> <span data-ttu-id="0222c-142">Configurer le pipeline de réception pour qu'il soit le pipeline AS2EDIReceive.</span><span class="sxs-lookup"><span data-stu-id="0222c-142">Configure the receive pipeline to be the AS2EDIReceive pipeline.</span></span>  
  
-   <span data-ttu-id="0222c-143">Créer un port d'envoi HTTP unidirectionnel dynamique pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour envoyer le MDN répondant au message AS2 reçu.</span><span class="sxs-lookup"><span data-stu-id="0222c-143">Create a dynamic one-way HTTP send port for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to send the MDN responding to the received AS2 message.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-144">Ce port d'envoi s'abonne au MDN en fonction de la propriété EdiIntAS.IsAS2AsynchronousMDN (définie sur True par le pipeline AS2EdiReceive) et des jetons de corrélation.</span><span class="sxs-lookup"><span data-stu-id="0222c-144">This send port subscribes to the MDN based on the EdiIntAS.IsAS2AsynchronousMDN property (which was set to True by the AS2EdiReceive pipeline) and correlation tokens.</span></span> <span data-ttu-id="0222c-145">Le port d'envoi doit être dynamique pour envoyer le MDN à l'adresse située à la ligne Receipt-Delivery-Notification de l'en-tête du message.</span><span class="sxs-lookup"><span data-stu-id="0222c-145">The send port must be dynamic, so it will send the MDN to the address in the Receipt-Delivery-Notification line in the header of the message.</span></span>  
  
-   <span data-ttu-id="0222c-146">Créer un port d'envoi FILE unidirectionnel statique pour transférer la charge EDI (au format XML) vers un dossier local.</span><span class="sxs-lookup"><span data-stu-id="0222c-146">Create a static one-way FILE send port to route the EDI payload (in XML format) to a local folder.</span></span> <span data-ttu-id="0222c-147">Créer le dossier local.</span><span class="sxs-lookup"><span data-stu-id="0222c-147">Create the local folder.</span></span>  
  
-   <span data-ttu-id="0222c-148">Créer un tiers (partenaire commercial) pour Fabrikam et Contoso.</span><span class="sxs-lookup"><span data-stu-id="0222c-148">Create a party (trading partner) for both Fabrikam and Contoso.</span></span>  
  
-   <span data-ttu-id="0222c-149">Créer un profil d'entreprise pour les deux parties commerciales.</span><span class="sxs-lookup"><span data-stu-id="0222c-149">Create a business profile each for both the trading parties.</span></span>  
  
-   <span data-ttu-id="0222c-150">Créer un accord AS2 entre les profils d'entreprise pour Fabrikam et Contoso.</span><span class="sxs-lookup"><span data-stu-id="0222c-150">Create an AS2 agreement between the business profiles for Fabrikam and Contoso.</span></span> <span data-ttu-id="0222c-151">L'accord AS2 contiendra les propriétés relatives à l'envoi d'un message AS2 et la réception d'un MDN asynchrone en retour.</span><span class="sxs-lookup"><span data-stu-id="0222c-151">The AS2 agreement would contain properties to send an AS2 message and receive an asynchronous MDN in return.</span></span>  
  
-   <span data-ttu-id="0222c-152">Créer un accord X12 entre les profils d'entreprise pour Fabrikam et Contoso pour la réception des messages X12.</span><span class="sxs-lookup"><span data-stu-id="0222c-152">Create an X12 agreement between the business profiles for Fabrikam and Contoso to receive X12 messages.</span></span>  
  
-   <span data-ttu-id="0222c-153">Tester la solution à l'aide de l'utilitaire HTTP Sender inclus dans les fichiers du didacticiel AS2.</span><span class="sxs-lookup"><span data-stu-id="0222c-153">Test the solution by using the HTTP Sender utility that is shipped as part of the AS2 tutorial files.</span></span> <span data-ttu-id="0222c-154">Cet utilitaire envoie un message AS2 de test contenant un échange EDI via le transport AS2.</span><span class="sxs-lookup"><span data-stu-id="0222c-154">This utility sends a test AS2 message containing an EDI interchange over AS2 transport.</span></span> <span data-ttu-id="0222c-155">Cet utilitaire envoie un message AS2 de test contenant un échange EDI via le transport AS2 (X12_00401_864.edi, également inclus dans le didacticiel AS2).</span><span class="sxs-lookup"><span data-stu-id="0222c-155">This utility sends a test AS2 message containing an EDI interchange over AS2 transport (X12_00401_864.edi, also shipped with the AS2 tutorial).</span></span> <span data-ttu-id="0222c-156">L'utilitaire HTTP Sender et le message de test que vous utilisez dans cette procédure sont identiques aux versions incluses dans le didacticiel.</span><span class="sxs-lookup"><span data-stu-id="0222c-156">The HTTP Sender and the test message that you use for this walkthrough are the same as the versions that shipped for the tutorial.</span></span>  
  
### <a name="configuring-the-walkthrough"></a><span data-ttu-id="0222c-157">Configuration de la procédure pas à pas</span><span class="sxs-lookup"><span data-stu-id="0222c-157">Configuring the Walkthrough</span></span>  
 <span data-ttu-id="0222c-158">Cette section décrit les étapes de configuration de la procédure pas à pas.</span><span class="sxs-lookup"><span data-stu-id="0222c-158">This section describes the procedures to configure the walkthrough.</span></span>  
  
##### <a name="to-deploy-the-message-schema"></a><span data-ttu-id="0222c-159">Pour déployer le schéma de message</span><span class="sxs-lookup"><span data-stu-id="0222c-159">To deploy the message schema</span></span>  
  
1.  <span data-ttu-id="0222c-160">Dans [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], ouvrez le projet [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Schemas\Schemas.btproj.</span><span class="sxs-lookup"><span data-stu-id="0222c-160">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], open the project [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Schemas\Schemas.btproj.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-161">Ce projet, intégré au didacticiel AS2, inclut un schéma 864 à utiliser avec le message de test.</span><span class="sxs-lookup"><span data-stu-id="0222c-161">This project, which is shipped for the AS2 tutorial, includes an 864 schema for use with the test message.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-162">Cette rubrique part du principe que vous avez déjà ajouté une référence de votre application à l'application BizTalk EDI, qui contient les schémas, pipelines et orchestrations EDI.</span><span class="sxs-lookup"><span data-stu-id="0222c-162">This topic assumes that you have already added a reference from your application to the BizTalk EDI Application, which contains EDI schemas, pipelines, and orchestrations.</span></span> <span data-ttu-id="0222c-163">Dans le cas contraire, consultez [comment ajouter une référence à l’Application EDI de BizTalk Server](http://msdn.microsoft.com/library/7af066fb-372f-4709-b566-c8d6b4a9d782).</span><span class="sxs-lookup"><span data-stu-id="0222c-163">If not, see [How to Add a Reference to the BizTalk Server EDI Application](http://msdn.microsoft.com/library/7af066fb-372f-4709-b566-c8d6b4a9d782).</span></span>  
  
2.  <span data-ttu-id="0222c-164">Cliquez sur le **schémas** de projet dans l’Explorateur de solutions, puis cliquez sur **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="0222c-164">Right-click the **Schemas** project in the Solution Explorer, and then click **Properties**.</span></span> <span data-ttu-id="0222c-165">Cliquez sur le **signature** onglet dans le Concepteur de projet, vérifiez le **signer l’Assembly** case à cocher, puis, dans la liste déroulante, sélectionnez **nouveau** et fournir les valeurs nécessaires pour créer un fichier de clé de nom fort.</span><span class="sxs-lookup"><span data-stu-id="0222c-165">Click the **Signing** tab in the project designer, check the **Sign the Assembly** checkbox, and from the drop-down, select **New** and provide the necessary values to create a strong name key file.</span></span> <span data-ttu-id="0222c-166">Enregistrez les modifications et fermez la fenêtre de propriétés du projet.</span><span class="sxs-lookup"><span data-stu-id="0222c-166">Save the changes and close the project properties window.</span></span>  
  
3.  <span data-ttu-id="0222c-167">Créez et déployez Schemas.btproj.</span><span class="sxs-lookup"><span data-stu-id="0222c-167">Build and deploy Schemas.btproj.</span></span>  
  
##### <a name="to-enable-the-bts-isapi-filter"></a><span data-ttu-id="0222c-168">Pour activer le filtre ISAPI BTS</span><span class="sxs-lookup"><span data-stu-id="0222c-168">To enable the BTS ISAPI Filter</span></span>  
  
1.  <span data-ttu-id="0222c-169">Cliquez sur **Démarrer**, pointez sur **Tous les programmes**, puis sur **Outils d'administration**, puis cliquez sur **Gestionnaire des services Internet (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="0222c-169">Click **Start**, point to **All Programs**, point to **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
    > [!TIP]
    >  <span data-ttu-id="0222c-170">Selon le système d'exploitation utilisé, l'option Outils d'administration du menu Démarrer peut être indisponible.</span><span class="sxs-lookup"><span data-stu-id="0222c-170">Depending on the operating system, the Administrative Tools start menu option may not be available.</span></span> <span data-ttu-id="0222c-171">Dans ce cas, cliquez sur **Démarrer**, cliquez sur **exécuter**, puis entrez `inetmgr` pour ouvrir le Gestionnaire des Services Internet (IIS).</span><span class="sxs-lookup"><span data-stu-id="0222c-171">In such cases, click **Start**, click **Run**, and enter `inetmgr` to open Internet Information Services (IIS) Manager.</span></span>  
  
2.  <span data-ttu-id="0222c-172">Sélectionnez l’entrée de serveur Web racine et dans le **affichage des fonctionnalités**, double-cliquez sur **mappages de gestionnaires** , puis dans le volet Actions cliquez sur **ajouter un mappage de scripts**.</span><span class="sxs-lookup"><span data-stu-id="0222c-172">Select the root Web Server entry and in the **Features View**, double click **Handler Mappings** and then in the Actions pane click **Add Script Map**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-173">Configurer le mappage du script au niveau du serveur Web entraîne ce mappage à appliquer à tous les enfants de Sites Web.</span><span class="sxs-lookup"><span data-stu-id="0222c-173">Configuring the script mapping at the Web Server level will cause this mapping to apply to all child Web Sites.</span></span> <span data-ttu-id="0222c-174">Si vous souhaitez limiter le mappage à un Site Web ou un dossier virtuel spécifique, sélectionnez le site cible ou le dossier au lieu du serveur Web.</span><span class="sxs-lookup"><span data-stu-id="0222c-174">If you wish to restrict the mapping to a specific Web Site or Virtual Folder, select the target site or folder instead of the Web Server.</span></span>  
  
3.  <span data-ttu-id="0222c-175">Dans le **ajouter un mappage de scripts** boîte de dialogue, entrez `BtsHttpReceive.dll` dans les **chemin d’accès de la demande** champ.</span><span class="sxs-lookup"><span data-stu-id="0222c-175">In the **Add Script Map** dialog box, enter `BtsHttpReceive.dll` in the **Request path** field.</span></span>  
  
4.  <span data-ttu-id="0222c-176">Dans le **exécutable** , cliquez sur le **points de suspension (...)**  bouton et accédez à [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive.</span><span class="sxs-lookup"><span data-stu-id="0222c-176">In the **Executable** field, click the **ellipsis (…)** button and browse to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive.</span></span> <span data-ttu-id="0222c-177">Sélectionnez BtsHttpReceive.dll, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-177">Select BtsHttpReceive.dll and click **OK**.</span></span>  
  
5.  <span data-ttu-id="0222c-178">Entrez `BizTalk HTTP Receive` dans les `Name` champ, puis cliquez sur **Restrictions des demandes**.</span><span class="sxs-lookup"><span data-stu-id="0222c-178">Enter `BizTalk HTTP Receive` in the `Name` field, and then click **Request Restrictions**.</span></span>  
  
6.  <span data-ttu-id="0222c-179">Dans la boîte de dialogue Restrictions des demandes, sélectionnez le **verbes** onglet, puis sélectionnez **un des verbes suivants**.</span><span class="sxs-lookup"><span data-stu-id="0222c-179">In the Request Restrictions dialog box, select the **Verbs** tab and then select **One of the following verbs**.</span></span> <span data-ttu-id="0222c-180">Entrez `POST` le verbe.</span><span class="sxs-lookup"><span data-stu-id="0222c-180">Enter `POST` as the verb .</span></span>  
  
7.  <span data-ttu-id="0222c-181">Sur le **accès** onglet, sélectionnez **Script** puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-181">On the **Access** tab, select **Script** and then click **OK**.</span></span>  
  
8.  <span data-ttu-id="0222c-182">Cliquez sur **OK** lorsque vous êtes invité à autoriser l’extension ISAPI, cliquez sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="0222c-182">Click **OK** and when prompted to allow the ISAPI extension, click **Yes**.</span></span>  
  
##### <a name="to-configure-the-contoso-web-page"></a><span data-ttu-id="0222c-183">Pour configurer la page Web Contoso</span><span class="sxs-lookup"><span data-stu-id="0222c-183">To configure the Contoso Web page</span></span>  
  
1.  <span data-ttu-id="0222c-184">Avec le bouton droit dans le Gestionnaire des services Internet, **Pools d’applications** et sélectionnez **ajouter un Pool d’applications**.</span><span class="sxs-lookup"><span data-stu-id="0222c-184">In IIS Manager, right-click **Application Pools** and select **Add Application Pool**.</span></span>  
  
2.  <span data-ttu-id="0222c-185">Dans le **ajouter un Pool d’applications** boîte de dialogue, entrez **BizTalkAppPool** dans **nom**, puis sélectionnez **.NET Framework V4.0.30210** dans le **Version du .NET framework** liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="0222c-185">In the **Add Application Pool** dialog box, enter **BizTalkAppPool** in **Name**, and then select **.NET Framework V4.0.30210** in the **.NET Framework version** drop-down list.</span></span> <span data-ttu-id="0222c-186">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-186">Click **OK**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-187">Le numéro de version peut varier selon la version de [!INCLUDE[netfx40_short](../includes/netfx40-short-md.md)] installée sur l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="0222c-187">The version number may vary depending on the version of [!INCLUDE[netfx40_short](../includes/netfx40-short-md.md)] installed on the machine.</span></span>  
  
3.  <span data-ttu-id="0222c-188">Sélectionnez **Pools d’applications**, dans la sélection de l’affichage des fonctionnalités **BizTalkAppPool**, puis cliquez sur **paramètres avancés** dans les **Actions** volet.</span><span class="sxs-lookup"><span data-stu-id="0222c-188">Select **Application Pools**, in the Features View select **BizTalkAppPool**, and then click **Advanced Settings** in the **Actions** pane.</span></span>  
  
4.  <span data-ttu-id="0222c-189">Dans le **paramètres avancés** boîte de dialogue, sélectionnez **identité** puis cliquez sur le **points de suspension (...)**  bouton.</span><span class="sxs-lookup"><span data-stu-id="0222c-189">In the **Advanced Settings** dialog box, select **Identity** and then click the **ellipsis (…)** button.</span></span>  
  
5.  <span data-ttu-id="0222c-190">Dans le **identité du Pool d’applications** boîte de dialogue, sélectionnez **compte personnalisé** puis cliquez sur **définir**.</span><span class="sxs-lookup"><span data-stu-id="0222c-190">In the **Application Pool Identity** dialog box, select **Custom account** and then click **Set**.</span></span>  
  
6.  <span data-ttu-id="0222c-191">Entrez le **nom d’utilisateur** et **mot de passe** pour un compte d’utilisateur qui est membre du groupe Administrateurs, entrez le mot de passe **confirmer le mot de passe** puis cliquez sur **OK** trois fois pour retourner le Gestionnaire des services Internet.</span><span class="sxs-lookup"><span data-stu-id="0222c-191">Enter the **User name** and **Password** for a user account that is a member of the administrators group, enter the password in **Confirm password** and then click **OK** three times to return to the IIS Manager.</span></span>  
  
7.  <span data-ttu-id="0222c-192">Dans le Gestionnaire des services Internet, ouvrez le **Sites** dossier.</span><span class="sxs-lookup"><span data-stu-id="0222c-192">In IIS Manager, open the **Sites** folder.</span></span> <span data-ttu-id="0222c-193">Cliquez sur le **Site Web par défaut** nœud et sélectionnez **ajouter une Application**.</span><span class="sxs-lookup"><span data-stu-id="0222c-193">Right-click the **Default Web Site** node, and then select **Add Application**.</span></span>  
  
8.  <span data-ttu-id="0222c-194">Dans le **ajouter une Application** boîte de dialogue, entrez **Contoso** dans les **Alias** zone de texte, puis cliquez sur **sélectionnez**.</span><span class="sxs-lookup"><span data-stu-id="0222c-194">In the **Add Application** dialog box, enter **Contoso** in the **Alias** text box, and then click **Select**.</span></span>  
  
9. <span data-ttu-id="0222c-195">Dans le **sélectionner un Pool d’applications** boîte de dialogue, sélectionnez **BizTalkAppPool** et cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-195">In the **Select Application Pool** dialog box, select **BizTalkAppPool** and click **OK**.</span></span>  
  
10. <span data-ttu-id="0222c-196">Pour le **chemin d’accès physique**, cliquez sur le **points de suspension (...)**  bouton et accédez à [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive.</span><span class="sxs-lookup"><span data-stu-id="0222c-196">For the **Physical Path**, click the **ellipsis (…)** button and browse to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive.</span></span>  
  
11. <span data-ttu-id="0222c-197">Cliquez sur **des paramètres de Test** et vérifiez qu’il n’y a aucune erreur affiché dans le **tester la connexion** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0222c-197">Click **Test Settings** and verify that there are no errors displayed in the **Test Connection** dialog box.</span></span> <span data-ttu-id="0222c-198">Cliquez sur **Fermer**, puis sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-198">Click **Close**, and then click **OK**.</span></span>  
  
12. <span data-ttu-id="0222c-199">Dans le Gestionnaire des services Internet, sélectionnez le répertoire virtuel Contoso et dans le **affichage des fonctionnalités**, double-cliquez sur **authentification**.</span><span class="sxs-lookup"><span data-stu-id="0222c-199">In IIS Manager, select the Contoso virtual directory and in the **Features View**, double-click **Authentication**.</span></span>  
  
13. <span data-ttu-id="0222c-200">Dans le **authentification** page, sélectionnez **l’authentification anonyme** et vérifiez que le **état** est **activé**.</span><span class="sxs-lookup"><span data-stu-id="0222c-200">In the **Authentication** page, select **Anonymous Authentication** and verify that the **Status** is **Enabled**.</span></span> <span data-ttu-id="0222c-201">Si le **état** est **désactivé**, cliquez sur **activer** dans les **Actions** volet.</span><span class="sxs-lookup"><span data-stu-id="0222c-201">If the **Status** is **Disabled**, click **Enable** in the **Actions** pane.</span></span>  
  
##### <a name="to-configure-the-fabrikam-web-page"></a><span data-ttu-id="0222c-202">Pour configurer la page Web Fabrikam</span><span class="sxs-lookup"><span data-stu-id="0222c-202">To configure the Fabrikam Web page</span></span>  
  
1.  <span data-ttu-id="0222c-203">Dans le Gestionnaire des services Internet, ouvrez le **Sites** dossier.</span><span class="sxs-lookup"><span data-stu-id="0222c-203">In IIS Manager, open the **Sites** folder.</span></span> <span data-ttu-id="0222c-204">Cliquez sur le **Site Web par défaut** nœud et sélectionnez **ajouter une Application**.</span><span class="sxs-lookup"><span data-stu-id="0222c-204">Right-click the **Default Web Site** node, and then select **Add Application**.</span></span>  
  
2.  <span data-ttu-id="0222c-205">Dans le **ajouter une Application** boîte de dialogue, entrez **Fabrikam** dans **Alias**, puis cliquez sur **sélectionnez**.</span><span class="sxs-lookup"><span data-stu-id="0222c-205">In the **Add Application** dialog box, enter **Fabrikam** in **Alias**, and then click **Select**.</span></span>  
  
3.  <span data-ttu-id="0222c-206">Dans le **sélectionner un Pool d’applications** boîte de dialogue, sélectionnez **BizTalkAppPool** et cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-206">In the **Select Application Pool** dialog box, select **BizTalkAppPool** and click **OK**.</span></span>  
  
4.  <span data-ttu-id="0222c-207">Pour le **chemin d’accès physique**, cliquez sur le **points de suspension (...)**  bouton et accédez à [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="0222c-207">For the **Physical Path**, click the **ellipsis (…)** button and browse to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Fabrikam.</span></span>  
  
5.  <span data-ttu-id="0222c-208">Cliquez sur **des paramètres de Test** et vérifiez qu’il n’y a aucune erreur affiché dans le **tester la connexion** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="0222c-208">Click **Test Settings** and verify that there are no errors displayed in the **Test Connection** dialog box.</span></span> <span data-ttu-id="0222c-209">Cliquez sur **Fermer**, puis sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-209">Click **Close**, and then click **OK**.</span></span>  
  
6.  <span data-ttu-id="0222c-210">Dans le Gestionnaire des services Internet, sélectionnez le répertoire virtuel Contoso et dans le **affichage des fonctionnalités**, double-cliquez sur **authentification**.</span><span class="sxs-lookup"><span data-stu-id="0222c-210">In IIS Manager, select the Contoso virtual directory and in the **Features View**, double-click **Authentication**.</span></span>  
  
7.  <span data-ttu-id="0222c-211">Dans le **authentification** page, sélectionnez **l’authentification anonyme** et vérifiez que le **état** est **activé**.</span><span class="sxs-lookup"><span data-stu-id="0222c-211">In the **Authentication** page, select **Anonymous Authentication** and verify that the **Status** is **Enabled**.</span></span> <span data-ttu-id="0222c-212">Si le **état** est **désactivé**, cliquez sur **activer** dans les **Actions** volet.</span><span class="sxs-lookup"><span data-stu-id="0222c-212">If the **Status** is **Disabled**, click **Enable** in the **Actions** pane.</span></span>  
  
##### <a name="to-specify-that-your-virtual-directory-is-not-managed-by-windows-sharepoint-services"></a><span data-ttu-id="0222c-213">Pour spécifier que votre répertoire virtuel n'est pas géré par les Windows SharePoint Services</span><span class="sxs-lookup"><span data-stu-id="0222c-213">To specify that your virtual directory is not managed by Windows SharePoint Services</span></span>  
  
1.  <span data-ttu-id="0222c-214">Si Windows SharePoint Services est installé sur votre ordinateur, cliquez sur **Démarrer**, pointez sur **tous les programmes**, pointez sur **outils d’administration**, puis cliquez sur **Administration centrale de SharePoint 3.0**.</span><span class="sxs-lookup"><span data-stu-id="0222c-214">If Windows SharePoint Services is installed on your computer, click **Start**, point to **All Programs**, point to **Administrative Tools**, and then click **SharePoint 3.0 Central Administration**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-215">Cette procédure est requise si Windows SharePoint Server est installé sur l'ordinateur sur lequel vous configurez la procédure pas à pas.</span><span class="sxs-lookup"><span data-stu-id="0222c-215">This procedure is required if Windows SharePoint Server is installed on the same computer that you are setting the walkthrough up on.</span></span> <span data-ttu-id="0222c-216">Dans ce cas, vous devez spécifier que votre répertoire virtuel IIS n'est pas géré par Windows SharePoint Server.</span><span class="sxs-lookup"><span data-stu-id="0222c-216">In that case, you must specify that your IIS virtual directory is not being managed by Windows SharePoint Server.</span></span>  
  
2.  <span data-ttu-id="0222c-217">Sur le **Administration centrale** sous **Administration centrale**, cliquez sur **gestion des applications**.</span><span class="sxs-lookup"><span data-stu-id="0222c-217">On the **Central Administration** page, under **Central Administration**, click **Application Management**.</span></span>  
  
3.  <span data-ttu-id="0222c-218">Sur le **gestion des applications** , cliquez sur **définir les chemins d’accès gérés**.</span><span class="sxs-lookup"><span data-stu-id="0222c-218">On the **Application Management** page, click **Define managed paths**.</span></span>  
  
4.  <span data-ttu-id="0222c-219">Dans le **définir les chemins d’accès gérés** sous **ajouter un nouveau chemin**, dans le **chemin d’accès** texte, entrez **Contoso**.</span><span class="sxs-lookup"><span data-stu-id="0222c-219">In the **Define Managed Paths** page, under **Add a New Path**, in the **Path** text box, enter **Contoso**.</span></span> <span data-ttu-id="0222c-220">Sous **Type**, cliquez sur **chemin d’accès exclu**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-220">Under **Type**, click **Excluded Path**, and then click **OK**.</span></span>  
  
5.  <span data-ttu-id="0222c-221">Répétez l'étape 4 pour le répertoire virtuel Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="0222c-221">Repeat step 4 for the Fabrikam virtual directory.</span></span>  
  
##### <a name="to-create-a-receive-port-to-receive-the-edi-interchange-over-as2-from-fabrikam"></a><span data-ttu-id="0222c-222">Pour créer un port de réception permettant de recevoir l'échange EDI via AS2 de Fabrikam</span><span class="sxs-lookup"><span data-stu-id="0222c-222">To create a receive port to receive the EDI interchange Over AS2 from Fabrikam</span></span>  
  
1.  <span data-ttu-id="0222c-223">Dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] console d’Administration, avec le bouton droit le **Ports de réception** nœud sous la **BizTalk Application 1** nœud **nouveau**, puis cliquez sur **Unidirectionnel Port de réception**.</span><span class="sxs-lookup"><span data-stu-id="0222c-223">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click the **Receive Ports** node under the **BizTalk Application 1** node, point to **New**, and then click **One-way Receive Port**.</span></span>  
  
2.  <span data-ttu-id="0222c-224">Nommez le port de réception, puis cliquez sur **emplacements de réception** dans l’arborescence de la console.</span><span class="sxs-lookup"><span data-stu-id="0222c-224">Name the receive port, and then click **Receive Locations** in the console tree.</span></span>  
  
3.  <span data-ttu-id="0222c-225">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="0222c-225">Click **New**.</span></span>  
  
4.  <span data-ttu-id="0222c-226">Nom de l’emplacement de réception, sélectionnez **HTTP** pour **Type**, puis cliquez sur **configurer**.</span><span class="sxs-lookup"><span data-stu-id="0222c-226">Name the receive location, select **HTTP** for **Type**, and then click **Configure**.</span></span>  
  
5.  <span data-ttu-id="0222c-227">Pour **répertoire virtuel assorti de l’extension ISAPI**, entrez `/Contoso/BTSHTTPReceive.dll`.</span><span class="sxs-lookup"><span data-stu-id="0222c-227">For **Virtual directory plus ISAPI extension**, enter `/Contoso/BTSHTTPReceive.dll`.</span></span>  
  
6.  <span data-ttu-id="0222c-228">Sélectionnez le **suspendre les requêtes ayant échoué** case à cocher, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-228">Select the **Suspend failed requests** check box, and click **OK**.</span></span>  
  
7.  <span data-ttu-id="0222c-229">Pour **pipeline de réception**, sélectionnez **AS2EDIReceive**.</span><span class="sxs-lookup"><span data-stu-id="0222c-229">For **Receive pipeline**, select **AS2EDIReceive**.</span></span>  
  
8.  <span data-ttu-id="0222c-230">Cliquez sur **OK**, puis cliquez sur **OK** à nouveau.</span><span class="sxs-lookup"><span data-stu-id="0222c-230">Click **OK**, and then click **OK** again.</span></span>  
  
9. <span data-ttu-id="0222c-231">Dans le **emplacements de réception** volet de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Console d’Administration, cliquez sur l’emplacement de réception, puis cliquez sur **activer**.</span><span class="sxs-lookup"><span data-stu-id="0222c-231">In the **Receive Locations** pane of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, right-click the receive location, and then click **Enable**.</span></span>  
  
##### <a name="to-create-a-dynamic-send-port-to-send-the-mdn-to-fabrikam"></a><span data-ttu-id="0222c-232">Pour créer un port d'envoi dynamique pour envoyer le MDN à Fabrikam</span><span class="sxs-lookup"><span data-stu-id="0222c-232">To create a dynamic send port to send the MDN to Fabrikam</span></span>  
  
1.  <span data-ttu-id="0222c-233">Dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] console d’Administration, avec le bouton droit le **Ports d’envoi** nœud sous la **BizTalk Application 1** nœud **nouveau**, puis cliquez sur **Port d’envoi unidirectionnel dynamique**.</span><span class="sxs-lookup"><span data-stu-id="0222c-233">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click the **Send Ports** node under the **BizTalk Application 1** node, point to **New**, and then click **Dynamic One-way Send Port**.</span></span>  
  
2.  <span data-ttu-id="0222c-234">Dans le **propriétés de Port d’envoi** boîte de dialogue, le nom du port d’envoi.</span><span class="sxs-lookup"><span data-stu-id="0222c-234">In the **Send Port Properties** dialog box, name the send port.</span></span>  
  
3.  <span data-ttu-id="0222c-235">Pour **Pipeline d’envoi**, sélectionnez **AS2Send**.</span><span class="sxs-lookup"><span data-stu-id="0222c-235">For **Send Pipeline**, select **AS2Send**.</span></span>  
  
4.  <span data-ttu-id="0222c-236">Dans l’arborescence de la console, sélectionnez **filtres**.</span><span class="sxs-lookup"><span data-stu-id="0222c-236">In the console tree, select **Filters**.</span></span> <span data-ttu-id="0222c-237">Pour **propriété**, entrez **EdiIntAS.IsAS2AsynchronousMDN**; pour **opérateur**, entrez  **==** ; et pour **Valeur** , entrez **True**.</span><span class="sxs-lookup"><span data-stu-id="0222c-237">For **Property**, enter **EdiIntAS.IsAS2AsynchronousMDN**; for **Operator**, enter **==**; and for **Value** , enter **True**.</span></span>  
  
5.  <span data-ttu-id="0222c-238">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-238">Click **OK**.</span></span>  
  
##### <a name="to-create-a-send-port-to-send-the-edi-payload-to-a-local-folder"></a><span data-ttu-id="0222c-239">Pour créer un port d'envoi pour envoyer la charge EDI vers un dossier local</span><span class="sxs-lookup"><span data-stu-id="0222c-239">To create a send port to send the EDI payload to a local folder</span></span>  
  
1.  <span data-ttu-id="0222c-240">Dans l’Explorateur Windows, créez un dossier local Contoso nommé **EDI_to_Contoso** pour envoyer la charge EDI.</span><span class="sxs-lookup"><span data-stu-id="0222c-240">In Windows Explorer, create a Contoso local folder named **EDI_to_Contoso** to send the EDI payload to.</span></span>  
  
2.  <span data-ttu-id="0222c-241">Dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] console d’Administration, avec le bouton droit **Ports d’envoi**, pointez sur **nouveau**, puis cliquez sur **Port d’envoi unidirectionnel statique**.</span><span class="sxs-lookup"><span data-stu-id="0222c-241">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click **Send Ports**, point to **New**, and then click **Static One-Way Send Port**.</span></span>  
  
3.  <span data-ttu-id="0222c-242">Dans le **propriétés de Port d’envoi** boîte de dialogue Nom de votre port d’envoi, par exemple, **Send_Payload**.</span><span class="sxs-lookup"><span data-stu-id="0222c-242">In the **Send Port Properties** dialog box, name your send port, for example, **Send_Payload**.</span></span> <span data-ttu-id="0222c-243">Sélectionnez **fichier** pour **Type**, puis cliquez sur **configurer**.</span><span class="sxs-lookup"><span data-stu-id="0222c-243">Select **FILE** for **Type**, and then click **Configure**.</span></span>  
  
4.  <span data-ttu-id="0222c-244">Dans le **propriétés du Transport FILE** boîte de dialogue, pour **dossier de Destination**, recherchez et sélectionnez le **EDI_to_Contoso** dossier que vous avez créé à l’étape 1.</span><span class="sxs-lookup"><span data-stu-id="0222c-244">In the **FILE Transport Properties** dialog box, for **Destination folder**, browse to and select the **EDI_to_Contoso** folder that you created in step 1.</span></span> <span data-ttu-id="0222c-245">Laissez **nom de fichier** en tant que **%MessageID%.xml**.</span><span class="sxs-lookup"><span data-stu-id="0222c-245">Leave **File name** as **%MessageID%.xml**.</span></span> <span data-ttu-id="0222c-246">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-246">Click **OK**.</span></span>  
  
5.  <span data-ttu-id="0222c-247">Acceptez la valeur par défaut **PassThruTransmit** pour **Pipeline d’envoi**.</span><span class="sxs-lookup"><span data-stu-id="0222c-247">Accept the default of **PassThruTransmit** for **Send Pipeline**.</span></span>  
  
6.  <span data-ttu-id="0222c-248">Cliquez sur **filtres** dans l’arborescence de la console.</span><span class="sxs-lookup"><span data-stu-id="0222c-248">Click **Filters** in the console tree.</span></span> <span data-ttu-id="0222c-249">Pour **propriété**, entrez **BTS. MessageType**.</span><span class="sxs-lookup"><span data-stu-id="0222c-249">For **Property**, enter **BTS.MessageType**.</span></span> <span data-ttu-id="0222c-250">Pour **opérateur**, entrez  **==** .</span><span class="sxs-lookup"><span data-stu-id="0222c-250">For **Operator**, enter **==**.</span></span> <span data-ttu-id="0222c-251">Pour **valeur**, entrez le type de message de votre message, `http://schemas.microsoft.com/BizTalk/Edi/X12/2006#X12_00401_864`.</span><span class="sxs-lookup"><span data-stu-id="0222c-251">For **Value**, enter the message type for your message, `http://schemas.microsoft.com/BizTalk/Edi/X12/2006#X12_00401_864`.</span></span>  
  
7.  <span data-ttu-id="0222c-252">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-252">Click **OK**.</span></span>  
  
8.  <span data-ttu-id="0222c-253">Dans le **Ports d’envoi** volet de la [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Console d’Administration, cliquez sur le port d’envoi, puis cliquez sur **Démarrer**.</span><span class="sxs-lookup"><span data-stu-id="0222c-253">In the **Send Ports** pane of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, right-click the send port, and then click **Start**.</span></span>  
  
##### <a name="to-create-a-party-and-a-business-profile-for-fabrikam"></a><span data-ttu-id="0222c-254">Pour créer un tiers et un profil d'entreprise pour Fabrikam</span><span class="sxs-lookup"><span data-stu-id="0222c-254">To create a party and a business profile for Fabrikam</span></span>  
  
1.  <span data-ttu-id="0222c-255">Avec le bouton droit le **Parties** nœud dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Console d’Administration, pointez sur **nouveau**, puis cliquez sur **tiers**.</span><span class="sxs-lookup"><span data-stu-id="0222c-255">Right-click the **Parties** node in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, point to **New**, and then click **Party**.</span></span>  
  
2.  <span data-ttu-id="0222c-256">Entrez un nom pour le tiers dans le **nom** zone de texte, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-256">Enter a name for the party in the **Name** text box, and then click **OK**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-257">En sélectionnant le **BizTalk Local traite les messages reçus par le tiers ou prend en charge l’envoi de messages à partir de ce tiers** case à cocher, vous pouvez spécifier que le tiers en cours de création est pour la même organisation qui héberge également [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0222c-257">By selecting the **Local BizTalk processes messages received by the Party OR supports sending messages from this party** check box, you can specify that the party being created is for the same organization that is also hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="0222c-258">En prenant ces éléments en compte, certaines propriétés devront être activées et d'autres désactivées lors de la création d'un accord.</span><span class="sxs-lookup"><span data-stu-id="0222c-258">Based on that, some properties will be enabled or disabled when you create an agreement.</span></span> <span data-ttu-id="0222c-259">Toutefois, pour les besoins de cette procédure pas à pas, vous pouvez laisser cette case à cocher activée.</span><span class="sxs-lookup"><span data-stu-id="0222c-259">However, for this walkthrough, you can leave this check box selected.</span></span>  
  
3.  <span data-ttu-id="0222c-260">Cliquez sur le nom du tiers, pointez sur **nouveau**, puis cliquez sur **profil d’entreprise**.</span><span class="sxs-lookup"><span data-stu-id="0222c-260">Right-click the party name, point to **New**, and then click **Business Profile**.</span></span>  
  
4.  <span data-ttu-id="0222c-261">Dans le **propriétés de profil** boîte de dialogue le **général** , entrez **Fabrikam_Profile** dans les **nom** zone de texte.</span><span class="sxs-lookup"><span data-stu-id="0222c-261">In the **Profile Properties** dialog box, on the **General** page, enter **Fabrikam_Profile** in the **Name** text box.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-262">Lorsque vous créez un tiers, un profil est également créé.</span><span class="sxs-lookup"><span data-stu-id="0222c-262">When you create a party, a profile is also created.</span></span> <span data-ttu-id="0222c-263">Vous pouvez renommer et utiliser ce profil plutôt que d'en créer un nouveau.</span><span class="sxs-lookup"><span data-stu-id="0222c-263">You can rename and use that profile instead of creating a new one.</span></span> <span data-ttu-id="0222c-264">Pour renommer un profil, cliquez sur le profil et sélectionnez **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="0222c-264">To rename a profile, right-click the profile and select **Properties**.</span></span> <span data-ttu-id="0222c-265">Dans le **général** , spécifiez un nom pour le profil.</span><span class="sxs-lookup"><span data-stu-id="0222c-265">In the **General** page, specify a name for the profile.</span></span>  
  
##### <a name="to-create-a-party-and-a-business-profile-for-contoso"></a><span data-ttu-id="0222c-266">Pour créer un tiers et un profil d'entreprise pour Contoso</span><span class="sxs-lookup"><span data-stu-id="0222c-266">To create a party and a business profile for Contoso</span></span>  
  
1.  <span data-ttu-id="0222c-267">Avec le bouton droit le **Parties** nœud dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Console d’Administration, pointez sur **nouveau**, puis cliquez sur **tiers**.</span><span class="sxs-lookup"><span data-stu-id="0222c-267">Right-click the **Parties** node in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, point to **New**, and then click **Party**.</span></span>  
  
2.  <span data-ttu-id="0222c-268">Entrez un nom pour le tiers dans le **nom** zone de texte, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-268">Enter a name for the party in the **Name** text box, and then click **OK**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-269">En sélectionnant le **BizTalk Local traite les messages reçus par le tiers ou prend en charge l’envoi de messages à partir de ce tiers** case à cocher, vous pouvez spécifier que le tiers en cours de création est pour la même organisation qui héberge également [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0222c-269">By selecting the **Local BizTalk processes messages received by the Party OR supports sending messages from this party** check box, you can specify that the party being created is for the same organization that is also hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="0222c-270">En prenant ces éléments en compte, certaines propriétés devront être activées et d'autres désactivées lors de la création d'un accord.</span><span class="sxs-lookup"><span data-stu-id="0222c-270">Based on that, some properties will be enabled or disabled when you create an agreement.</span></span> <span data-ttu-id="0222c-271">Toutefois, pour les besoins de cette procédure pas à pas, vous pouvez laisser cette case à cocher activée.</span><span class="sxs-lookup"><span data-stu-id="0222c-271">However, for this walkthrough, you can leave this check box selected.</span></span>  
  
3.  <span data-ttu-id="0222c-272">Cliquez sur le nom du tiers, pointez sur **nouveau**, puis cliquez sur **profil d’entreprise**.</span><span class="sxs-lookup"><span data-stu-id="0222c-272">Right-click the party name, point to **New**, and then click **Business Profile**.</span></span>  
  
4.  <span data-ttu-id="0222c-273">Dans le **propriétés de profil** boîte de dialogue le **général** , entrez **Contoso_Profile** dans les **nom** zone de texte.</span><span class="sxs-lookup"><span data-stu-id="0222c-273">In the **Profile Properties** dialog box, on the **General** page, enter **Contoso_Profile** in the **Name** text box.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-274">Lorsque vous créez un tiers, un profil est également créé.</span><span class="sxs-lookup"><span data-stu-id="0222c-274">When you create a party, a profile is also created.</span></span> <span data-ttu-id="0222c-275">Vous pouvez renommer et utiliser ce profil plutôt que d'en créer un nouveau.</span><span class="sxs-lookup"><span data-stu-id="0222c-275">You can rename and use that profile instead of creating a new one.</span></span> <span data-ttu-id="0222c-276">Pour renommer un profil, cliquez sur le profil et sélectionnez **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="0222c-276">To rename a profile, right-click the profile and select **Properties**.</span></span> <span data-ttu-id="0222c-277">Dans le **général** , spécifiez un nom pour le profil.</span><span class="sxs-lookup"><span data-stu-id="0222c-277">In the **General** page, specify a name for the profile.</span></span>  
  
##### <a name="to-create-an-as2-agreement-between-the-two-business-profiles"></a><span data-ttu-id="0222c-278">Pour créer un accord AS2 entre les deux profils d'entreprise</span><span class="sxs-lookup"><span data-stu-id="0222c-278">To create an AS2 agreement between the two business profiles</span></span>  
  
1.  <span data-ttu-id="0222c-279">Avec le bouton droit **Fabrikam_Profile**, pointez sur **nouveau**, puis cliquez sur **accord**.</span><span class="sxs-lookup"><span data-stu-id="0222c-279">Right-click **Fabrikam_Profile**, point to **New**, and then click **Agreement**.</span></span>  
  
2.  <span data-ttu-id="0222c-280">Dans le **propriétés générales** page, pour le **nom** texte, entrez un nom pour l’accord.</span><span class="sxs-lookup"><span data-stu-id="0222c-280">In the **General Properties** page, for the **Name** text box, enter a name for the agreement.</span></span>  
  
3.  <span data-ttu-id="0222c-281">À partir de la **protocole** la liste déroulante, sélectionnez **AS2**.</span><span class="sxs-lookup"><span data-stu-id="0222c-281">From the **Protocol** drop-down list, select **AS2**.</span></span>  
  
4.  <span data-ttu-id="0222c-282">Dans le **deuxième partenaire** section, à partir de la **nom** la liste déroulante, sélectionnez **Contoso**.</span><span class="sxs-lookup"><span data-stu-id="0222c-282">In the **Second Partner** section, from the **Name** drop-down list, select **Contoso**.</span></span>  
  
5.  <span data-ttu-id="0222c-283">Dans le **deuxième partenaire** section, à partir de la **profil** la liste déroulante, sélectionnez **Contoso_Profile**.</span><span class="sxs-lookup"><span data-stu-id="0222c-283">In the **Second Partner** section, from the **Profile** drop-down list, select **Contoso_Profile**.</span></span>  
  
     <span data-ttu-id="0222c-284">Vous remarquerez que les deux nouveaux onglets sont ajoutés à côté du **général** onglet. Chaque onglet permet de configurer un accord AS2 unidirectionnel.</span><span class="sxs-lookup"><span data-stu-id="0222c-284">You will notice that two new tabs get added next to the **General** tab. Each tab is for configuring a one-way AS2 agreement.</span></span>  
  
6.  <span data-ttu-id="0222c-285">Dans le **général** sous l’onglet dans le **propriétés générales** page, dans le **paramètres d’hôte communs** section, sélectionnez **activer le rapport d’état**.</span><span class="sxs-lookup"><span data-stu-id="0222c-285">In the **General** tab, on the **General Properties** page, in the **Common Host Settings** section, select **Turn ON reporting**.</span></span>  
  
7.  <span data-ttu-id="0222c-286">Effectuer les tâches suivantes sur le **Fabrikam -> Contoso** onglet.</span><span class="sxs-lookup"><span data-stu-id="0222c-286">Perform the following tasks on the **Fabrikam->Contoso** tab.</span></span>  
  
    1.  <span data-ttu-id="0222c-287">Sur le **identificateurs** , entrez des valeurs pour **AS2-de** et **AS2-pour**.</span><span class="sxs-lookup"><span data-stu-id="0222c-287">On the **Identifiers** page, enter values for **AS2-From** and **AS2-To**.</span></span> <span data-ttu-id="0222c-288">Pour **AS2-de**, entrez `Fabrikam`.</span><span class="sxs-lookup"><span data-stu-id="0222c-288">For **AS2-From**, enter `Fabrikam`.</span></span> <span data-ttu-id="0222c-289">Pour **AS2 - To**, entrez `Contoso`.</span><span class="sxs-lookup"><span data-stu-id="0222c-289">For **AS2- To**, enter `Contoso`.</span></span>  
  
    2.  <span data-ttu-id="0222c-290">Sur le **Validation** page, sélectionnez le **utiliser les paramètres de l’accord pour validation et MDN au lieu de l’en-tête de message** case à cocher</span><span class="sxs-lookup"><span data-stu-id="0222c-290">On the **Validation** page, select the **Use agreement settings for validation and MDN instead of message header** check box</span></span>  
  
    3.  <span data-ttu-id="0222c-291">Dans le **accusés de réception (MDN)** page, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="0222c-291">In the **Acknowledgements (MDNs)** page, do the following:</span></span>  
  
        1.  <span data-ttu-id="0222c-292">Sélectionnez le **exiger le MDN** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="0222c-292">Select the **Request MDN** check box.</span></span>  
  
        2.  <span data-ttu-id="0222c-293">Assurez-vous que le **exiger le MDN signé** case à cocher est désactivée.</span><span class="sxs-lookup"><span data-stu-id="0222c-293">Make sure the **Request Signed MDN** check box is cleared.</span></span>  
  
        3.  <span data-ttu-id="0222c-294">Sélectionnez le **exiger le MDN asynchrone** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="0222c-294">Select the **Request asynchronous MDN** check box.</span></span>  
  
        4.  <span data-ttu-id="0222c-295">Dans le **Receipt-Delivery-Option (URL)** texte, entrez `http://localhost/Fabrikam/Default.aspx?Destination=_MDNToFabrikam`.</span><span class="sxs-lookup"><span data-stu-id="0222c-295">In the **Receipt-Delivery-Option (URL)** text box, enter `http://localhost/Fabrikam/Default.aspx?Destination=_MDNToFabrikam`.</span></span>  
  
8.  <span data-ttu-id="0222c-296">Effectuer les tâches suivantes sur le **Contoso -> Fabrikam** onglet.</span><span class="sxs-lookup"><span data-stu-id="0222c-296">Perform the following tasks on the **Contoso->Fabrikam** tab.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-297">Dans cette procédure pas à pas, la valeur requise est spécifiée sous l'onglet afin de permettre la création d'un accord.</span><span class="sxs-lookup"><span data-stu-id="0222c-297">In this walkthrough, we specify the required value in the tab so that an agreement can be successfully created.</span></span> <span data-ttu-id="0222c-298">Pour créer un accord, les deux onglets d’accord unidirectionnel doivent avoir des valeurs définies pour **AS2-de** et **AS2-pour**.</span><span class="sxs-lookup"><span data-stu-id="0222c-298">To successfully create an agreement, both one-way agreement tabs must have values defined for **AS2-From** and **AS2-To**.</span></span>  
  
    1.  <span data-ttu-id="0222c-299">Sur le **identificateurs** , entrez des valeurs pour **AS2-de** et **AS2-pour**.</span><span class="sxs-lookup"><span data-stu-id="0222c-299">On the **Identifiers** page, enter values for **AS2-From** and **AS2-To**.</span></span> <span data-ttu-id="0222c-300">Pour **AS2-de**, entrez `Contoso`.</span><span class="sxs-lookup"><span data-stu-id="0222c-300">For **AS2-From**, enter `Contoso`.</span></span> <span data-ttu-id="0222c-301">Pour **AS2 - To**, entrez `Fabrikam`.</span><span class="sxs-lookup"><span data-stu-id="0222c-301">For **AS2- To**, enter `Fabrikam`.</span></span>  
  
9. <span data-ttu-id="0222c-302">Cliquez sur **Appliquer**.</span><span class="sxs-lookup"><span data-stu-id="0222c-302">Click **Apply**.</span></span>  
  
10. <span data-ttu-id="0222c-303">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-303">Click **OK**.</span></span> <span data-ttu-id="0222c-304">Le nouvel accord ajouté est répertorié dans le **accords** section de la **tiers et profils d’entreprise** volet.</span><span class="sxs-lookup"><span data-stu-id="0222c-304">The newly added agreement is listed in the **Agreements** section of the **Parties and Business Profiles** pane.</span></span> <span data-ttu-id="0222c-305">Le nouvel accord ajouté est activé par défaut.</span><span class="sxs-lookup"><span data-stu-id="0222c-305">The newly added agreement is enabled by default.</span></span>  
  
##### <a name="to-create-an-x12-agreement-between-the-two-business-profiles"></a><span data-ttu-id="0222c-306">Pour créer un accord X12 entre les deux profils d'entreprise</span><span class="sxs-lookup"><span data-stu-id="0222c-306">To create an X12 agreement between the two business profiles</span></span>  
  
1.  <span data-ttu-id="0222c-307">Avec le bouton droit **Fabrikam_Profile**, pointez sur **nouveau**, puis cliquez sur **accord**.</span><span class="sxs-lookup"><span data-stu-id="0222c-307">Right-click **Fabrikam_Profile**, point to **New**, and then click **Agreement**.</span></span>  
  
2.  <span data-ttu-id="0222c-308">Dans le **propriétés générales** page, pour le **nom** texte, entrez un nom pour l’accord.</span><span class="sxs-lookup"><span data-stu-id="0222c-308">In the **General Properties** page, for the **Name** text box, enter a name for the agreement.</span></span>  
  
3.  <span data-ttu-id="0222c-309">À partir de la **protocole** la liste déroulante, sélectionnez **X12**.</span><span class="sxs-lookup"><span data-stu-id="0222c-309">From the **Protocol** drop-down list, select **X12**.</span></span>  
  
4.  <span data-ttu-id="0222c-310">Dans le **deuxième partenaire** section, à partir de la **nom** la liste déroulante, sélectionnez **Contoso**.</span><span class="sxs-lookup"><span data-stu-id="0222c-310">In the **Second Partner** section, from the **Name** drop-down list, select **Contoso**.</span></span>  
  
5.  <span data-ttu-id="0222c-311">Dans le **deuxième partenaire** section, à partir de la **profil** la liste déroulante, sélectionnez **Contoso_Profile**.</span><span class="sxs-lookup"><span data-stu-id="0222c-311">In the **Second Partner** section, from the **Profile** drop-down list, select **Contoso_Profile**.</span></span>  
  
     <span data-ttu-id="0222c-312">Vous remarquerez que les deux nouveaux onglets sont ajoutés à côté du **général** onglet. Chaque onglet permet de configurer un accord X12 unidirectionnel.</span><span class="sxs-lookup"><span data-stu-id="0222c-312">You will notice that two new tabs get added next to the **General** tab. Each tab is for configuring a one-way X12 agreement.</span></span>  
  
6.  <span data-ttu-id="0222c-313">Dans le **général** sous l’onglet dans le **propriétés générales** page, dans le **paramètres d’hôte communs** section, sélectionnez **activer le rapport d’état**, puis Sélectionnez **stocker la charge de message de création de rapports**.</span><span class="sxs-lookup"><span data-stu-id="0222c-313">In the **General** tab, on the **General Properties** page, in the **Common Host Settings** section, select **Turn ON reporting**, and then select **Store message payload for reporting**.</span></span>  
  
7.  <span data-ttu-id="0222c-314">Effectuer les tâches suivantes sur le **Fabrikam -> Contoso** onglet.</span><span class="sxs-lookup"><span data-stu-id="0222c-314">Perform the following tasks on the **Fabrikam->Contoso** tab.</span></span>  
  
    1.  <span data-ttu-id="0222c-315">Sur le **identificateurs** page sous le **paramètres de l’échange** section, entrez des valeurs pour les champs de qualificateur et identificateur (**ISA5**, **ISA6**, **ISA7**, et **ISA8**) qui correspondent aux valeurs de ces champs d’en-tête dans le message de test.</span><span class="sxs-lookup"><span data-stu-id="0222c-315">On the **Identifiers** page under the **Interchange Settings** section, enter values for the qualifier and identifier fields (**ISA5**, **ISA6**, **ISA7**, and **ISA8**) that correspond to the values for those header fields in your test message.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="0222c-316">Les champs de qualificateur et d'identificateur pour l'expéditeur et le récepteur permettent à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] de résoudre l'accord.</span><span class="sxs-lookup"><span data-stu-id="0222c-316">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] requires the qualifier and identifier fields for sender and receiver in order to perform agreement resolution.</span></span> <span data-ttu-id="0222c-317">Il compare les valeurs de **ISA5**, **ISA6**, **ISA7**, et **ISA8** dans l’en-tête d’échange à celles dans les propriétés d’un accord.</span><span class="sxs-lookup"><span data-stu-id="0222c-317">It will match the values of **ISA5**, **ISA6**, **ISA7**, and **ISA8** in the interchange header with those in the properties of an agreement.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="0222c-318">sera également l’accord en comparant le qualificateur de l’expéditeur et l’identificateur (sans le qualificateur du récepteur et l’identificateur).</span><span class="sxs-lookup"><span data-stu-id="0222c-318"> will also resolve the agreement by matching the sender qualifier and identifier (without the receiver qualifier and identifier).</span></span> <span data-ttu-id="0222c-319">Si [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ne peut pas résoudre l'accord, il utilise les propriétés d'accord de secours.</span><span class="sxs-lookup"><span data-stu-id="0222c-319">If [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] cannot resolve the agreement, it will use the fallback agreement properties.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="0222c-320">Pour cette procédure pas à pas, définissez **ISA5** à **ZZ**, **ISA6** à **7654321**, **ISA7** à **ZZ** , et **ISA8** à **1234567**.</span><span class="sxs-lookup"><span data-stu-id="0222c-320">For this walkthrough, set **ISA5** to **ZZ**, **ISA6** to **7654321**, **ISA7** to **ZZ**, and **ISA8** to **1234567**.</span></span>  
  
    2.  <span data-ttu-id="0222c-321">Sur le **Validation** page sous le **paramètres de l’échange** section, assurez-vous que **chercher isa13 en double** option est désactivée.</span><span class="sxs-lookup"><span data-stu-id="0222c-321">On the **Validation** page under the **Interchange Settings** section, make sure **Check for duplicate ISA13** option is unchecked.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="0222c-322">Effacer la **chercher isa13 en double** propriété vous permet de recevoir plusieurs instances du même message.</span><span class="sxs-lookup"><span data-stu-id="0222c-322">Clearing the **Check for duplicate ISA13** property enables you to receive multiple instances of the same message.</span></span>  
  
    3.  <span data-ttu-id="0222c-323">Si vous utilisez l’un des schémas standards fournis avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], dans le **paramètres d’hôte Local** page sous le **paramètres des documents informatisés** , sélectionnez l’espace de noms du schéma à être utilisé pour traiter l’échange entrant.</span><span class="sxs-lookup"><span data-stu-id="0222c-323">If you are using one of the standard schemas shipped with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], on the **Local Host Settings** page under the **Transaction Set Settings** section, select the namespace for the schema to be used to process the incoming interchange.</span></span>  
  
        |<span data-ttu-id="0222c-324">Utiliser</span><span class="sxs-lookup"><span data-stu-id="0222c-324">Use this</span></span>|<span data-ttu-id="0222c-325">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="0222c-325">To do this</span></span>|  
        |--------------|----------------|  
        |<span data-ttu-id="0222c-326">**Default**</span><span class="sxs-lookup"><span data-stu-id="0222c-326">**Default**</span></span>|<span data-ttu-id="0222c-327">Activez la case à cocher dans la colonne.</span><span class="sxs-lookup"><span data-stu-id="0222c-327">Select the checkbox in the column</span></span>|  
        |<span data-ttu-id="0222c-328">**Cible Namespace**</span><span class="sxs-lookup"><span data-stu-id="0222c-328">**Target Namespace**</span></span>|<span data-ttu-id="0222c-329">Sélectionnez `http://schemas.microsoft.com/BizTalk/EDI/X12/2006`.</span><span class="sxs-lookup"><span data-stu-id="0222c-329">Select `http://schemas.microsoft.com/BizTalk/EDI/X12/2006`.</span></span>|  
  
        > [!NOTE]
        >  <span data-ttu-id="0222c-330">La définition des propriétés permet à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] d'identifier le schéma à utiliser pour le traitement de l'échange 850 entrant.</span><span class="sxs-lookup"><span data-stu-id="0222c-330">Setting the properties enables [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to determine the schema to be used in processing the incoming 850 interchange.</span></span> <span data-ttu-id="0222c-331">Si les valeurs GS02 et ST01 d'un échange sont entrées dans une ligne de la grille, l'espace de noms cible dans la même ligne sert à déterminer le schéma à utiliser.</span><span class="sxs-lookup"><span data-stu-id="0222c-331">If an interchange has the values of GS02 and ST01 that are entered on a line of the grid, then the target namespace for the same line will be used to determine the schema to be used.</span></span>  
  
    4.  <span data-ttu-id="0222c-332">Sur le **enveloppes** page sous le **paramètres des documents informatisés** section, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="0222c-332">On the **Envelopes** page under the **Transaction Set Settings** section, do the following:</span></span>  
  
        |<span data-ttu-id="0222c-333">Utiliser</span><span class="sxs-lookup"><span data-stu-id="0222c-333">Use this</span></span>|<span data-ttu-id="0222c-334">Pour effectuer cette opération</span><span class="sxs-lookup"><span data-stu-id="0222c-334">To do this</span></span>|  
        |--------------|----------------|  
        |<span data-ttu-id="0222c-335">**Default**</span><span class="sxs-lookup"><span data-stu-id="0222c-335">**Default**</span></span>|<span data-ttu-id="0222c-336">Sélectionnez **par défaut**.</span><span class="sxs-lookup"><span data-stu-id="0222c-336">Select **Default**.</span></span> <span data-ttu-id="0222c-337">**Remarque :** lorsque vous sélectionnez cette ligne en tant que la valeur par défaut, les valeurs de **GS1**, **GS2**, **GS3**, **GS7**et **GS8** sont utilisées même si les valeurs de **Type de Transaction**, **Version/publication**, et **espace de noms cible** ne sont pas une correspondance pour le Message.</span><span class="sxs-lookup"><span data-stu-id="0222c-337">**Note:**  When you select this row as the default, the values for **GS1**, **GS2**, **GS3**, **GS7**, and **GS8** are used even if the values for **Transaction Type**, **Version/Release**, and **Target namespace** are not a match for the message.</span></span>|  
        |<span data-ttu-id="0222c-338">**Type de transaction**</span><span class="sxs-lookup"><span data-stu-id="0222c-338">**Transaction Type**</span></span>|<span data-ttu-id="0222c-339">Sélectionnez le type de message de votre message test, par exemple, **864 – Text Message**.</span><span class="sxs-lookup"><span data-stu-id="0222c-339">Select the message type of your test message, for example, **864 – Text Message**.</span></span>|  
        |<span data-ttu-id="0222c-340">**Version/publication**</span><span class="sxs-lookup"><span data-stu-id="0222c-340">**Version/Release**</span></span>|<span data-ttu-id="0222c-341">Entrez **00401**.</span><span class="sxs-lookup"><span data-stu-id="0222c-341">Enter **00401**.</span></span>|  
        |<span data-ttu-id="0222c-342">**Espace de noms cible**</span><span class="sxs-lookup"><span data-stu-id="0222c-342">**Target namespace**</span></span>|<span data-ttu-id="0222c-343">Sélectionnez **http://schemas.microsoft.com/BizTalk/EDI/X12/2006**.</span><span class="sxs-lookup"><span data-stu-id="0222c-343">Select **http://schemas.microsoft.com/BizTalk/EDI/X12/2006**.</span></span>|  
        |<span data-ttu-id="0222c-344">**GS1**</span><span class="sxs-lookup"><span data-stu-id="0222c-344">**GS1**</span></span>|<span data-ttu-id="0222c-345">Vérifiez que le type de message du message de test est sélectionné, par exemple, **TX - Text Message (864)**.</span><span class="sxs-lookup"><span data-stu-id="0222c-345">Verify that the message type of the test message is selected, for example, **TX - Text Message (864)**.</span></span>|  
        |<span data-ttu-id="0222c-346">**GS2**</span><span class="sxs-lookup"><span data-stu-id="0222c-346">**GS2**</span></span>|<span data-ttu-id="0222c-347">Entrez **01**.</span><span class="sxs-lookup"><span data-stu-id="0222c-347">Enter **01**.</span></span>|  
        |<span data-ttu-id="0222c-348">**GS3**</span><span class="sxs-lookup"><span data-stu-id="0222c-348">**GS3**</span></span>|<span data-ttu-id="0222c-349">Entrez **7654321**.</span><span class="sxs-lookup"><span data-stu-id="0222c-349">Enter **7654321**.</span></span>|  
        |<span data-ttu-id="0222c-350">**GS4**</span><span class="sxs-lookup"><span data-stu-id="0222c-350">**GS4**</span></span>|<span data-ttu-id="0222c-351">Sélectionnez le format de date souhaité.</span><span class="sxs-lookup"><span data-stu-id="0222c-351">Select the date format that you want.</span></span> <span data-ttu-id="0222c-352">Sélectionnez **SSAAMMJJ**.</span><span class="sxs-lookup"><span data-stu-id="0222c-352">Select **CCYYMMDD**.</span></span> <span data-ttu-id="0222c-353">**Remarque :** vous devez sélectionner la valeur dans la liste déroulante, ne cliquez pas seulement dans le champ pour afficher la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="0222c-353">**Note:**  You have to select the value in the drop-down list, not just click in the field to display the default.</span></span> <span data-ttu-id="0222c-354">Si vous cliquez dans le champ sans sélectionner la valeur dans la liste déroulante, la valeur ne sera pas réellement sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="0222c-354">If you click in the field without selecting the value from the drop-down list, the value will not actually be selected.</span></span>|  
        |<span data-ttu-id="0222c-355">**GS5**</span><span class="sxs-lookup"><span data-stu-id="0222c-355">**GS5**</span></span>|<span data-ttu-id="0222c-356">Sélectionnez le format d'heure souhaité.</span><span class="sxs-lookup"><span data-stu-id="0222c-356">Select the time format that you want.</span></span> <span data-ttu-id="0222c-357">Sélectionnez **HHMMSSdd**.</span><span class="sxs-lookup"><span data-stu-id="0222c-357">Select **HHMMSSdd**.</span></span>|  
        |<span data-ttu-id="0222c-358">**GS7**</span><span class="sxs-lookup"><span data-stu-id="0222c-358">**GS7**</span></span>|<span data-ttu-id="0222c-359">Sélectionnez **T - Transportation Data Coordinating Committee (TDCC)**.</span><span class="sxs-lookup"><span data-stu-id="0222c-359">Select **T - Transportation Data Coordinating Committee (TDCC)**.</span></span>|  
        |<span data-ttu-id="0222c-360">**GS8**</span><span class="sxs-lookup"><span data-stu-id="0222c-360">**GS8**</span></span>|<span data-ttu-id="0222c-361">Vérifiez que la version EDI a été entrée comme **00401**.</span><span class="sxs-lookup"><span data-stu-id="0222c-361">Verify that the EDI version has been entered as **00401**.</span></span>|  
  
8.  <span data-ttu-id="0222c-362">Effectuer les tâches suivantes sur le **Contoso -> Fabrikam** onglet.</span><span class="sxs-lookup"><span data-stu-id="0222c-362">Perform the following tasks on the **Contoso->Fabrikam** tab.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-363">Dans cette procédure pas à pas, la valeur requise est spécifiée sous l'onglet afin de permettre la création d'un accord.</span><span class="sxs-lookup"><span data-stu-id="0222c-363">In this walkthrough, we specify the required value in the tab so that an agreement can be successfully created.</span></span> <span data-ttu-id="0222c-364">Pour créer un accord, les deux onglets d’accord unidirectionnel doivent avoir des valeurs définies pour **ISA5**, **ISA6**, **ISA7**, et **ISA8**.</span><span class="sxs-lookup"><span data-stu-id="0222c-364">To successfully create an agreement, both one-way agreement tabs must have values defined for **ISA5**, **ISA6**, **ISA7**, and **ISA8**.</span></span>  
  
    1.  <span data-ttu-id="0222c-365">Sur le **identificateurs** page sous le **paramètres de l’échange** section, entrez des valeurs pour les champs de qualificateur et identificateur (**ISA5**, **ISA6**, **ISA7**, et **ISA8**) qui correspondent aux valeurs de ces champs d’en-tête dans le message de test.</span><span class="sxs-lookup"><span data-stu-id="0222c-365">On the **Identifiers** page under the **Interchange Settings** section, enter values for the qualifier and identifier fields (**ISA5**, **ISA6**, **ISA7**, and **ISA8**) that correspond to the values for those header fields in your test message.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="0222c-366">Pour cette procédure pas à pas, définissez **ISA5** à **ZZ**, **ISA6** à **1234567**, **ISA7** à **ZZ** , et **ISA8** à **7654321**.</span><span class="sxs-lookup"><span data-stu-id="0222c-366">For this walkthrough, set **ISA5** to **ZZ**, **ISA6** to **1234567**, **ISA7** to **ZZ**, and **ISA8** to **7654321**.</span></span>  
  
9. <span data-ttu-id="0222c-367">Cliquez sur **Appliquer**.</span><span class="sxs-lookup"><span data-stu-id="0222c-367">Click **Apply**.</span></span>  
  
10. <span data-ttu-id="0222c-368">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0222c-368">Click **OK**.</span></span> <span data-ttu-id="0222c-369">Le nouvel accord ajouté est répertorié dans le **accords** section de la **tiers et profils d’entreprise** volet.</span><span class="sxs-lookup"><span data-stu-id="0222c-369">The newly added agreement is listed in the **Agreements** section of the **Parties and Business Profiles** pane.</span></span> <span data-ttu-id="0222c-370">Le nouvel accord ajouté est activé par défaut.</span><span class="sxs-lookup"><span data-stu-id="0222c-370">The newly added agreement is enabled by default.</span></span>  
  
### <a name="testing-the-walkthrough"></a><span data-ttu-id="0222c-371">Test de la procédure pas à pas</span><span class="sxs-lookup"><span data-stu-id="0222c-371">Testing the Walkthrough</span></span>  
 <span data-ttu-id="0222c-372">Cette section fournit des informations sur le test de la procédure pas à pas.</span><span class="sxs-lookup"><span data-stu-id="0222c-372">This section provides information on how to test the walkthrough.</span></span>  
  
##### <a name="to-test-the-solution"></a><span data-ttu-id="0222c-373">Pour tester la solution</span><span class="sxs-lookup"><span data-stu-id="0222c-373">To test the solution</span></span>  
  
1.  <span data-ttu-id="0222c-374">Dans [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], ouvrez le projet Sender.csproj dans le dossier [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Sender.</span><span class="sxs-lookup"><span data-stu-id="0222c-374">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], open the Sender.csproj project in the [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Sender folder.</span></span>  
  
2.  <span data-ttu-id="0222c-375">Dans HttpSender.cs, vérifiez que la ligne suivante n'est pas commentée (immédiatement sous la ligne de commentaire //Request Asynchronous MDN) :</span><span class="sxs-lookup"><span data-stu-id="0222c-375">In HttpSender.cs, make sure that the following line is not commented out (immediately below the //Request Asynchronous MDN comment line):</span></span>  
  
    ```  
    Stream sr = new FileStream(getBizTalkInstallPath() + @"SDK\AS2 Tutorial\X12_00401_864.edi", FileMode.Open, FileAccess.Read);  
    ```  
  
3.  <span data-ttu-id="0222c-376">Vérifiez que la ligne suivante est commentée (immédiatement sous la ligne de commentaire //Request Synchronous MDN) :</span><span class="sxs-lookup"><span data-stu-id="0222c-376">Make sure that the following line is commented out (immediately below the //Request Synchronous MDN comment line):</span></span>  
  
    ```  
    Stream sr = new FileStream(getBizTalkInstallPath() + @"SDK\AS2 Tutorial\X12_00401_864-Sync.edi", FileMode.Open, FileAccess.Read);  
    ```  
  
4.  <span data-ttu-id="0222c-377">Créez ce projet.</span><span class="sxs-lookup"><span data-stu-id="0222c-377">Build this project.</span></span>  
  
5.  <span data-ttu-id="0222c-378">Dans l'Explorateur Windows, accédez au didacticiel [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2.</span><span class="sxs-lookup"><span data-stu-id="0222c-378">In Windows Explorer, move to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial.</span></span> <span data-ttu-id="0222c-379">Ouvrez X12_00401_864.edi dans le Bloc-notes.</span><span class="sxs-lookup"><span data-stu-id="0222c-379">Open X12_00401_864.edi in Notepad.</span></span> <span data-ttu-id="0222c-380">Supprimez la ligne définissant l'en-tête Disposition-Notification-Options, puis enregistrez le fichier.</span><span class="sxs-lookup"><span data-stu-id="0222c-380">Delete the line defining the Disposition-Notification-Options header, and then save the file.</span></span>  
  
6.  <span data-ttu-id="0222c-381">Dans l’Explorateur Windows, accédez à [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Sender\bin\debug et exécutez **Sender.exe**.</span><span class="sxs-lookup"><span data-stu-id="0222c-381">In Windows Explorer, move to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\Sender\bin\debug and execute **Sender.exe**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0222c-382">L'exécution de Sender.exe dans cette instance publie le message X12_00401_864.edi dans le répertoire virtuel Contoso (emplacement de réception http BTS).</span><span class="sxs-lookup"><span data-stu-id="0222c-382">Running Sender.exe in this instance posts the message X12_00401_864.edi to the Contoso virtual directory (the BTS http receive location).</span></span>  
  
7.  <span data-ttu-id="0222c-383">Ouvrez le dossier local Contoso créé pour le transfert de la charge EDI (\EDI_to_Contoso).</span><span class="sxs-lookup"><span data-stu-id="0222c-383">Open the Contoso local folder that you created to send the EDI payload to (\EDI_to_Contoso).</span></span> <span data-ttu-id="0222c-384">Vérifiez que le dossier contient un fichier .XML.</span><span class="sxs-lookup"><span data-stu-id="0222c-384">Verify that there is a .XML file in the folder.</span></span> <span data-ttu-id="0222c-385">Ouvrez le fichier XML et vérifiez qu'il contient un document informatisé 864.</span><span class="sxs-lookup"><span data-stu-id="0222c-385">Open the XML file and verify that it contains an 864 transaction set.</span></span>  
  
8.  <span data-ttu-id="0222c-386">Ouvrez le dossier local Fabrikam vers lequel le MDN est renvoyé.</span><span class="sxs-lookup"><span data-stu-id="0222c-386">Open the Fabrikam local folder to which the MDN is returned.</span></span> <span data-ttu-id="0222c-387">Dans l’Explorateur Windows, accédez à [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\\_MDNToFabrikam.</span><span class="sxs-lookup"><span data-stu-id="0222c-387">In Windows Explorer, move to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\AS2 Tutorial\\_MDNToFabrikam.</span></span> <span data-ttu-id="0222c-388">Ouvrez le fichier de message dans un bloc-notes et vérifiez le MDN.</span><span class="sxs-lookup"><span data-stu-id="0222c-388">Open the message file in a notepad and verify the MDN.</span></span> <span data-ttu-id="0222c-389">Vérifiez que l'en-tête AS2-From est Contoso et que l'en-tête AS2-To est Fabrikam dans le MDN.</span><span class="sxs-lookup"><span data-stu-id="0222c-389">Verify that in the MDN AS2-From is Contoso and AS2-To is Fabrikam.</span></span>  
  
9. <span data-ttu-id="0222c-390">Ouvrez le message de test X12_00401_864.edi dans le Bloc-notes, puis vérifiez que le document informatisé dans le message de sortie dans le dossier local \EDI_to_Contoso correspond au document informatisé dans le message d'entrée X12_00401_864.edi.</span><span class="sxs-lookup"><span data-stu-id="0222c-390">Open the test message X12_00401_864.edi in Notepad, and verify that the transaction set in the output message in the \EDI_to_Contoso local folder corresponds to the transaction set in the X12_00401_864.edi input message.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0222c-391">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="0222c-391">See Also</span></span>  
 [<span data-ttu-id="0222c-392">Développement et la configuration des Solutions AS2 BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="0222c-392">Developing and Configuring BizTalk Server AS2 Solutions</span></span>](../core/developing-and-configuring-biztalk-server-as2-solutions.md)