---
title: "Configuration d’un Port d’envoi dynamique pour les Messages via AS2 | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 246d64e8-70ca-48f4-8b72-d43b0964dbb4
caps.latest.revision: "14"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: de6df553a3f03e9d2e60b78de9877ad6113b04e3
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="configuring-a-dynamic-send-port-for-messages-over-as2"></a><span data-ttu-id="df136-102">Configuration d'un port d'envoi dynamique pour les messages via AS2</span><span class="sxs-lookup"><span data-stu-id="df136-102">Configuring a Dynamic Send Port for Messages over AS2</span></span>
<span data-ttu-id="df136-103">Cette rubrique décrit la configuration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour l'envoi de messages AS2 via un port d'envoi dynamique.</span><span class="sxs-lookup"><span data-stu-id="df136-103">This topic describes how to configure [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to send AS2 messages over a dynamic send port.</span></span> <span data-ttu-id="df136-104">Cette configuration inclut la création d'un port d'envoi dynamique et d'une application principale pour définir les propriétés de contexte appropriées.</span><span class="sxs-lookup"><span data-stu-id="df136-104">This configuration includes creating the dynamic send port and configuring a backend application to set the appropriate context properties.</span></span> <span data-ttu-id="df136-105">Lors de la création d'un port d'envoi dynamique pour l'envoi d'un message AS2, vous devez promouvoir certaines propriétés pour que le port d'envoi fonctionne.</span><span class="sxs-lookup"><span data-stu-id="df136-105">When you create a dynamic send port to send an AS2 message, you must promote certain properties for the send port to work.</span></span> <span data-ttu-id="df136-106">Pour plus d’informations, consultez [pour configurer BizTalk Server pour envoyer AS2 messages via un dynamique port d’envoi](../core/configuring-a-dynamic-send-port-for-messages-over-as2.md#BKMK_Proc) ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="df136-106">For more information, see [To configure BizTalk Server to send AS2 messages over a dynamic send port](../core/configuring-a-dynamic-send-port-for-messages-over-as2.md#BKMK_Proc) below.</span></span>  
  
 <span data-ttu-id="df136-107">Un port d'envoi dynamique permet d'envoyer des messages à plusieurs tiers sans coder en dur la configuration du tiers.</span><span class="sxs-lookup"><span data-stu-id="df136-107">A dynamic send port enables you to send messages to multiple parties without hard-coding the party configuration.</span></span> <span data-ttu-id="df136-108">L'accord et la destination à utiliser lors de l'envoi du message sont déterminés dynamiquement via les propriétés de contexte.</span><span class="sxs-lookup"><span data-stu-id="df136-108">The agreement and destination to be used in sending the message are determined dynamically through context properties.</span></span> <span data-ttu-id="df136-109">Il n'est pas nécessaire de créer un port d'envoi statique pour chaque client.</span><span class="sxs-lookup"><span data-stu-id="df136-109">You do not have to create a static send port for each individual customer.</span></span>  
  
 <span data-ttu-id="df136-110">Pour envoyer un message AS2 accompagné d'un message EDI ou non-EDI, ou d'un accusé de réception EDI, créez un port d'envoi HTTP de réponse dynamique avec la configuration suivante :</span><span class="sxs-lookup"><span data-stu-id="df136-110">To send an AS2 message with an EDI or non-EDI message or an EDI acknowledgment, create a dynamic response HTTP send port with the following configuration:</span></span>  
  
|<span data-ttu-id="df136-111">Emplacement</span><span class="sxs-lookup"><span data-stu-id="df136-111">Location</span></span>|<span data-ttu-id="df136-112">Propriété</span><span class="sxs-lookup"><span data-stu-id="df136-112">Property</span></span>|<span data-ttu-id="df136-113">Paramètre</span><span class="sxs-lookup"><span data-stu-id="df136-113">Setting</span></span>|  
|--------------|--------------|-------------|  
|<span data-ttu-id="df136-114">**Propriétés du Port d’envoi : général**</span><span class="sxs-lookup"><span data-stu-id="df136-114">**Send Port Properties: General**</span></span>|<span data-ttu-id="df136-115">Type de port</span><span class="sxs-lookup"><span data-stu-id="df136-115">Port Type</span></span>|<span data-ttu-id="df136-116">-Réponse de sollicitation dynamique (si exiger le MDN **accusés de réception (MDN)** est activée sous l’onglet d’accord unidirectionnel page)</span><span class="sxs-lookup"><span data-stu-id="df136-116">- Dynamic Solicit Response (if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is selected)</span></span><br /><br /> <span data-ttu-id="df136-117">-Port d’envoi unidirectionnel dynamique (si exiger le MDN **accusés de réception (MDN)** page sous l’onglet d’accord unidirectionnel est désactivée)</span><span class="sxs-lookup"><span data-stu-id="df136-117">- Dynamic One-way Send Port (if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is cleared)</span></span>|  
|<span data-ttu-id="df136-118">**Propriétés du Port d’envoi : général**</span><span class="sxs-lookup"><span data-stu-id="df136-118">**Send Port Properties: General**</span></span>|<span data-ttu-id="df136-119">Pipeline d’envoi</span><span class="sxs-lookup"><span data-stu-id="df136-119">Send pipeline</span></span>|<span data-ttu-id="df136-120">-AS2EdiSend (pour les messages codée au format EDI)</span><span class="sxs-lookup"><span data-stu-id="df136-120">- AS2EdiSend (for EDI-encoded messages)</span></span><br /><br /> <span data-ttu-id="df136-121">-AS2Send (pour les messages non-EDI)</span><span class="sxs-lookup"><span data-stu-id="df136-121">- AS2Send (for non-EDI messages)</span></span>|  
|<span data-ttu-id="df136-122">**Propriétés du Port d’envoi : général**</span><span class="sxs-lookup"><span data-stu-id="df136-122">**Send Port Properties: General**</span></span>|<span data-ttu-id="df136-123">Pipeline de réception</span><span class="sxs-lookup"><span data-stu-id="df136-123">Receive pipeline</span></span><br /><br /> <span data-ttu-id="df136-124">(si exiger le MDN **accusés de réception (MDN)** est activée sous l’onglet d’accord unidirectionnel page)</span><span class="sxs-lookup"><span data-stu-id="df136-124">(if Request MDN in **Acknowledgements (MDNs)** page in the one-way agreement tab is selected)</span></span>|<span data-ttu-id="df136-125">AS2Receive (pour un port d'envoi dynamique avec sollicitation-réponse)</span><span class="sxs-lookup"><span data-stu-id="df136-125">AS2Receive (for dynamic solicit response send port)</span></span>|  
|<span data-ttu-id="df136-126">**Propriétés du Port d’envoi : filtres**</span><span class="sxs-lookup"><span data-stu-id="df136-126">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="df136-127">Propriété</span><span class="sxs-lookup"><span data-stu-id="df136-127">Property</span></span>|<span data-ttu-id="df136-128">BTS.MessageType</span><span class="sxs-lookup"><span data-stu-id="df136-128">BTS.MessageType</span></span>|  
|<span data-ttu-id="df136-129">**Propriétés du Port d’envoi : filtres**</span><span class="sxs-lookup"><span data-stu-id="df136-129">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="df136-130">Opérateur</span><span class="sxs-lookup"><span data-stu-id="df136-130">Operator</span></span>|==|  
|<span data-ttu-id="df136-131">**Propriétés du Port d’envoi : filtres**</span><span class="sxs-lookup"><span data-stu-id="df136-131">**Send Port Properties: Filters**</span></span>|<span data-ttu-id="df136-132">Valeur</span><span class="sxs-lookup"><span data-stu-id="df136-132">Value</span></span>|<span data-ttu-id="df136-133">- `http://schemas.microsoft.com/BizTalk/EDI/X12/2006#<schema name>`(pour un message EDI)</span><span class="sxs-lookup"><span data-stu-id="df136-133">- `http://schemas.microsoft.com/BizTalk/EDI/X12/2006#<schema name>` (for an EDI message)</span></span><br /><br /> <span data-ttu-id="df136-134">- `http://schemas.microsoft.com/Edi/X12#X12_<997 or TA1>_Root`(pour un X12 accusé de réception)</span><span class="sxs-lookup"><span data-stu-id="df136-134">- `http://schemas.microsoft.com/Edi/X12#X12_<997 or TA1>_Root` (for an X12 acknowledgment)</span></span><br /><br /> <span data-ttu-id="df136-135">- `http://schemas.microsoft.com/Edi/Efact#Efact_Contrl_Root`(pour un accusé de réception EDIFACT)</span><span class="sxs-lookup"><span data-stu-id="df136-135">- `http://schemas.microsoft.com/Edi/Efact#Efact_Contrl_Root` (for an EDIFACT acknowledgment)</span></span>|  
  
## <a name="prerequisites"></a><span data-ttu-id="df136-136">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="df136-136">Prerequisites</span></span>  
 <span data-ttu-id="df136-137">Vous devez ouvrir une session en tant que membre du groupe Administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="df136-137">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
##  <span data-ttu-id="df136-138"><a name="BKMK_Proc"></a>Pour configurer BizTalk Server pour envoyer AS2 port d’envoi de messages via un dynamique</span><span class="sxs-lookup"><span data-stu-id="df136-138"><a name="BKMK_Proc"></a> To configure BizTalk Server to send AS2 messages over a dynamic send port</span></span>  
  
1.  <span data-ttu-id="df136-139">Dans la console Administration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], créez un port d'envoi unidirectionnel dynamique (si aucun MDN n'est demandé) ou un port d'envoi dynamique avec sollicitation-réponse (si un MDN est demandé) avec la configuration précédente.</span><span class="sxs-lookup"><span data-stu-id="df136-139">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, create a dynamic one-way send port (if an MDN is not requested) or a dynamic solicit response send port (if an MDN is requested) with the above configuration.</span></span>  
  
2.  <span data-ttu-id="df136-140">Pour l'accord qui s'applique à ce message, définissez les propriétés AS2 et EDI requises.</span><span class="sxs-lookup"><span data-stu-id="df136-140">For the agreement that applies to this message, set the AS2 and EDI properties required.</span></span>  
  
3.  <span data-ttu-id="df136-141">Faites la promotion des propriétés suivantes vers le contexte de message :</span><span class="sxs-lookup"><span data-stu-id="df136-141">Promote the following properties to the message context:</span></span>  
  
    -   `BTS.MessageType`  
  
    -   `EdiIntAS.MessageID`  
  
4.  <span data-ttu-id="df136-142">Ajoutez des fonctionnalités à une application principale pour écrire les propriétés suivantes pour le contexte de message, en les définissant sur les valeurs appropriées :</span><span class="sxs-lookup"><span data-stu-id="df136-142">Add functionality to a backend application to write the following properties to the message context, setting them to the appropriate values:</span></span>  
  
    -   `EdiIntAS.AS2To`  
  
    -   `BTS.OutboundTransportLocation`  
  
    -   `HTTP.EnableChunkedEncoding`  
  
    -   `BTS.EncryptionCert`  
  
    > [!NOTE]
    >  <span data-ttu-id="df136-143">Les propriétés de contexte `AS2To` et `OutboundTransportLocation` doivent être écrites vers le contexte de message afin que le port d'envoi dynamique fonctionne correctement.</span><span class="sxs-lookup"><span data-stu-id="df136-143">The `AS2To` context property and the `OutboundTransportLocation` context property must be written to the message context for the dynamic send port to function properly.</span></span> <span data-ttu-id="df136-144">La propriété `AS2To` est requise par le port pour déterminer l'accord à utiliser dans le traitement du message sortant et la propriété `OutboundTransportLocation` est requise par le port d'envoi pour déterminer la destination du message.</span><span class="sxs-lookup"><span data-stu-id="df136-144">The `AS2To` property is required for the port to determine the agreement to use in processing the outgoing message and the `OutboundTransportLocation` property is required for the send port to determine the destination of the message.</span></span> <span data-ttu-id="df136-145">Pour plus d’informations, consultez [génération d’un Message AS2 sortant](../core/generating-an-outgoing-as2-message.md).</span><span class="sxs-lookup"><span data-stu-id="df136-145">For more information, see [Generating an Outgoing AS2 Message](../core/generating-an-outgoing-as2-message.md).</span></span>  
  
## <a name="functionality"></a><span data-ttu-id="df136-146">Fonctionnalité</span><span class="sxs-lookup"><span data-stu-id="df136-146">Functionality</span></span>  
 <span data-ttu-id="df136-147">Le port d'envoi dynamique et le pipeline effectuent les tâches suivantes pour envoyer un message EDI ou non-EDI synchrone ou un accusé de réception via AS2 et traiter le MDN renvoyé :</span><span class="sxs-lookup"><span data-stu-id="df136-147">The dynamic send port and pipeline does the following to send a synchronous EDI or non-EDI message or acknowledgment over AS2 and process the returned MDN:</span></span>  
  
-   <span data-ttu-id="df136-148">Lors de l'envoi d'un message EDI, ils récupèrent celui-ci en filtrant sur la propriété `BTS.MessageType` définie sur le schéma de message dans `http://schemas.microsoft.com/BizTalk/EDI/X12/2006 namespace` (par exemple, X12_00401_864 pour un message 864).</span><span class="sxs-lookup"><span data-stu-id="df136-148">If sending an EDI message, picks up the EDI message by filtering on the property `BTS.MessageType` set to the message schema in the `http://schemas.microsoft.com/BizTalk/EDI/X12/2006 namespace` (for example, X12_00401_864 for an 864 message).</span></span>  
  
-   <span data-ttu-id="df136-149">Lors de l'envoi d'un accusé de réception EDI, ils récupèrent l'accusé de réception en filtrant sur la propriété `BTS.MessageType` définie sur l'un des schémas de contrôle suivants :</span><span class="sxs-lookup"><span data-stu-id="df136-149">If sending an EDI acknowledgment, picks up the acknowledgment by filtering on the property `BTS.MessageType` set to one of the following control schema:</span></span>  
  
    -   <span data-ttu-id="df136-150">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_997_Root` pour un accusé de réception 997 ;</span><span class="sxs-lookup"><span data-stu-id="df136-150">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_997_Root` for a 997 acknowledgment</span></span>  
  
    -   <span data-ttu-id="df136-151">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_TA1_Root` pour un accusé de réception TA1 ;</span><span class="sxs-lookup"><span data-stu-id="df136-151">`http://schemas.microsoft.com/BizTalk/EDI/X12#X12_TA1_Root` for a TA1 acknowledgment</span></span>  
  
    -   <span data-ttu-id="df136-152">`http://schemas.microsoft.com/BizTalk/EDI/Efact#Efact_Contrl_Root` pour un accusé de réception CONTRL.</span><span class="sxs-lookup"><span data-stu-id="df136-152">`http://schemas.microsoft.com/BizTalk/EDI/Efact#Efact_Contrl_Root` for a CONTRL acknowledgment</span></span>  
  
-   <span data-ttu-id="df136-153">Lors de l'envoi d'un message non-EDI, ils récupèrent le message à l'aide d'un filtre approprié.</span><span class="sxs-lookup"><span data-stu-id="df136-153">If sending a non-EDI message, picks up the message using an appropriate filter.</span></span>  
  
-   <span data-ttu-id="df136-154">Ils déploient un message AS2.</span><span class="sxs-lookup"><span data-stu-id="df136-154">Builds an AS2 message.</span></span> <span data-ttu-id="df136-155">Pour plus d’informations sur ce processus, consultez [génération d’un Message AS2 sortant](../core/generating-an-outgoing-as2-message.md).</span><span class="sxs-lookup"><span data-stu-id="df136-155">For more information about this process, see [Generating an Outgoing AS2 Message](../core/generating-an-outgoing-as2-message.md).</span></span>  
  
    > [!NOTE]
    >  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="df136-156"> détermine le type de transport utilisé par le port d'envoi dynamique selon le format de l'URL (http, smtp, ftp, etc.).</span><span class="sxs-lookup"><span data-stu-id="df136-156"> determines the transport type to be used by the dynamic send port from the format of the URL, i.e., http, smtp, ftp, etc.</span></span>  
  
-   <span data-ttu-id="df136-157">Ils acheminent le message ou l'accusé de réception jusqu'à son URL de destination pour le port d'envoi.</span><span class="sxs-lookup"><span data-stu-id="df136-157">Routes the message or acknowledgment to the destination URL for the send port.</span></span>  
  
-   <span data-ttu-id="df136-158">Si l'option a été activée et si le port est un port d'envoi avec sollicitation-réponse, ils réceptionnent la réponse MDN au message ou à l'accusé de réception.</span><span class="sxs-lookup"><span data-stu-id="df136-158">Receives the MDN response to the message or acknowledgment, if enabled and if a solicit-response send port.</span></span> <span data-ttu-id="df136-159">Pour plus d’informations sur ce processus, consultez [du traitement d’un MDN entrant](../core/processing-an-incoming-mdn.md).</span><span class="sxs-lookup"><span data-stu-id="df136-159">For more information about this process, see [Processing an Incoming MDN](../core/processing-an-incoming-mdn.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="df136-160">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="df136-160">See Also</span></span>  
 [<span data-ttu-id="df136-161">Configuration des Ports pour une Solution AS2</span><span class="sxs-lookup"><span data-stu-id="df136-161">Configuring Ports for an AS2 Solution</span></span>](../core/configuring-ports-for-an-as2-solution.md)