---
title: "Comment créer un serveur lié | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- servers, linking for backups
- backing up, linking servers
ms.assetid: 7d4aba3d-77c0-4cdf-8547-71e821ce34a1
caps.latest.revision: "26"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f3ae08df9b522e1a772d7c8a9ad7d02c36dcb999
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="how-to-create-a-linked-server"></a><span data-ttu-id="e741a-102">Comment créer un serveur lié</span><span class="sxs-lookup"><span data-stu-id="e741a-102">How to Create a Linked Server</span></span>
<span data-ttu-id="e741a-103">Lorsque [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] est installé dans une topologie distribuée, les bases de données appartenant à un groupe BizTalk existent sur plusieurs serveurs [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e741a-103">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is installed in a distributed topology, the databases that belong to a BizTalk Group exist on multiple [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span> <span data-ttu-id="e741a-104">Vous devez configurer une connexion au serveur lié avec chaque serveur distant avant que vous ne puissiez sauvegarder l'intégralité de l'environnement BizTalk Server à partir du serveur de gestion BizTalk.</span><span class="sxs-lookup"><span data-stu-id="e741a-104">You must configure a linked server connection to each of the remote servers before you can back up the entire BizTalk environment from the BizTalk Management server.</span></span> <span data-ttu-id="e741a-105">Un serveur lié est une source de données OLE DB qui est utilisée dans les requêtes distribuées [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e741a-105">A linked server is an OLE DB data source that is used in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] distributed queries.</span></span>  
  
 <span data-ttu-id="e741a-106">Dans le cadre du processus de sauvegarde et de restauration, le travail de sauvegarde de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] crée automatiquement des serveurs liés.</span><span class="sxs-lookup"><span data-stu-id="e741a-106">As a part of the backup and restore process, the Backup [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] job automatically creates linked servers.</span></span> <span data-ttu-id="e741a-107">Vous pouvez toutefois en créer manuellement à l'aide de cette procédure.</span><span class="sxs-lookup"><span data-stu-id="e741a-107">If necessary, however, you can manually create linked servers using this procedure.</span></span>  
  
 <span data-ttu-id="e741a-108">Serveurs liés peuvent également être créées à l’aide de la *sp_addlinkedserver* procédure stockée.</span><span class="sxs-lookup"><span data-stu-id="e741a-108">Linked servers can also be created using the *sp_addlinkedserver* stored procedure.</span></span> <span data-ttu-id="e741a-109">Il existe des mesures de sécurité concernant cette opération.</span><span class="sxs-lookup"><span data-stu-id="e741a-109">There are security considerations associated with this operation.</span></span> <span data-ttu-id="e741a-110">Lorsqu'un serveur lié est créé à l'aide de cette procédure, toutes les connexions locales sont mappées par défaut vers le nouveau serveur lié.</span><span class="sxs-lookup"><span data-stu-id="e741a-110">When a linked server is created using sp_addlinkedserver, all local logins will be mapped to the new linked server by default.</span></span> <span data-ttu-id="e741a-111">Pour contrôler l’accès au serveur lié, le *sp_droplinkedsvrlogin* procédure doit être utilisée pour supprimer le mappage de connexion global suivi *sp_addlinkedsvrlogin* pour mapper les comptes de connexion de votre choix pour le nouveau serveur lié.</span><span class="sxs-lookup"><span data-stu-id="e741a-111">To control access to the linked server, the *sp_droplinkedsvrlogin* procedure should be used to drop the global login mapping, followed by *sp_addlinkedsvrlogin* to map the desired login account(s) to the new linked server.</span></span> <span data-ttu-id="e741a-112">Lorsque vous utilisez la procédure sp_addlinkedsvrlogin, il est recommandé de définir la @useself paramètre = TRUE.</span><span class="sxs-lookup"><span data-stu-id="e741a-112">When using sp_addlinkedsvrlogin, it is recommended that you set the @useself parameter = TRUE.</span></span> <span data-ttu-id="e741a-113">De cette manière, vous n'avez pas besoin d'incorporer un nom d'utilisateur et un mot de passe dans votre script SQL.</span><span class="sxs-lookup"><span data-stu-id="e741a-113">This avoids the need to embed a user name and password into your SQL script.</span></span>  

> [!TIP]
> <span data-ttu-id="e741a-114">Ces étapes peuvent changer au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="e741a-114">These steps may change over time.</span></span> <span data-ttu-id="e741a-115">Nous vous recommandons de faire référence à la [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] documentation à l’adresse [créer des serveurs liés](https://docs.microsoft.com/sql/relational-databases/linked-servers/create-linked-servers-sql-server-database-engine).</span><span class="sxs-lookup"><span data-stu-id="e741a-115">We recommend referring to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] documentation at [Create Linked Servers](https://docs.microsoft.com/sql/relational-databases/linked-servers/create-linked-servers-sql-server-database-engine).</span></span>
  
## <a name="prerequisites"></a><span data-ttu-id="e741a-116">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="e741a-116">Prerequisites</span></span>  
  
-   <span data-ttu-id="e741a-117">Connectez-vous avec un compte qui est membre de la [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] **sysadmin** rôle serveur fixe</span><span class="sxs-lookup"><span data-stu-id="e741a-117">Sign in with an account that is a member of the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] **sysadmin** fixed server role</span></span>  
  
-   <span data-ttu-id="e741a-118">Créer une variable locale [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] connexion.</span><span class="sxs-lookup"><span data-stu-id="e741a-118">Create a local [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] login.</span></span> <span data-ttu-id="e741a-119">Dans les étapes suivantes, ce compte est mappé à une connexion sur le [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] souhaitée.</span><span class="sxs-lookup"><span data-stu-id="e741a-119">In the following steps, this account is mapped to a login on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] you will link to.</span></span> 
  
## <a name="create-a-linked-server"></a><span data-ttu-id="e741a-120">Créer un serveur lié</span><span class="sxs-lookup"><span data-stu-id="e741a-120">Create a linked server</span></span>
  
1.  <span data-ttu-id="e741a-121">Ouvrez **SQL Server Management Studio**, entrez le nom de votre revendeur local [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)], puis sélectionnez **Connect**.</span><span class="sxs-lookup"><span data-stu-id="e741a-121">Open **SQL Server Management Studio**, enter the name of your local [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)], and then select **Connect**.</span></span>  
  
2.  <span data-ttu-id="e741a-122">Développez **objets serveur**, avec le bouton droit **des serveurs liés**, puis sélectionnez **nouveau serveur lié**.</span><span class="sxs-lookup"><span data-stu-id="e741a-122">Expand **Server Objects**, right-click **Linked Servers**, and then select **New Linked Server**.</span></span>  

    <span data-ttu-id="e741a-123">Pour voir **objets serveur**, se connecter à un site local [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e741a-123">To see **Server Objects**, connect to a local on-premises [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span> <span data-ttu-id="e741a-124">Ensuite, **objets serveur** doit être affiché.</span><span class="sxs-lookup"><span data-stu-id="e741a-124">Then, **Server Objects** should be displayed.</span></span>
  
3.  <span data-ttu-id="e741a-125">Dans le **serveur lié** texte, entrez le nom complet du réseau le [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] vous voulez lier à.</span><span class="sxs-lookup"><span data-stu-id="e741a-125">In the **Linked server** text box, enter the full network name of the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] you want to link to.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="e741a-126">Cette procédure fait souvent référence au serveur auquel vous vous connectez avec le nom de serveur distant.</span><span class="sxs-lookup"><span data-stu-id="e741a-126">This procedure often refers to the server you are linking to as the remote server.</span></span> <span data-ttu-id="e741a-127">Ce nom est uniquement employé pour des raisons de commodité, dans le but d'expliciter la relation existant entre le serveur lié (ou « distant ») et le serveur local.</span><span class="sxs-lookup"><span data-stu-id="e741a-127">This is for convenience only, to indicate the relationship of the linked (“remote”) server to the local server.</span></span>  
  
4.  <span data-ttu-id="e741a-128">Sous **type de serveur**, sélectionnez **SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="e741a-128">Under **Server type**, select **SQL Server**.</span></span>  
  
5.  <span data-ttu-id="e741a-129">Dans le volet gauche, sélectionnez **Sécurité**.</span><span class="sxs-lookup"><span data-stu-id="e741a-129">In the left pane, select **Security**.</span></span> 

    <span data-ttu-id="e741a-130">Dans cette étape, vous mappez le compte local créé pour la connexion au serveur distant.</span><span class="sxs-lookup"><span data-stu-id="e741a-130">In this step, you map the local account you created to the remote server login.</span></span> <span data-ttu-id="e741a-131">Vos options :</span><span class="sxs-lookup"><span data-stu-id="e741a-131">Your options:</span></span> 
    
    | | | 
    |---|---|
    | <span data-ttu-id="e741a-132">**Être effectuées à l’aide du contexte de sécurité de la connexion en cours**</span><span class="sxs-lookup"><span data-stu-id="e741a-132">**Be made using the login’s current security context**</span></span> | <span data-ttu-id="e741a-133">Dans les environnements de domaine, les utilisateurs généralement se connecter avec leurs connexions de domaine.</span><span class="sxs-lookup"><span data-stu-id="e741a-133">In domain environments, users typically connect with their domain logins.</span></span> <span data-ttu-id="e741a-134">Cette option est préférable étant donné que le contexte de sécurité du compte de domaine connecté est mappé au compte local que vous avez créé.</span><span class="sxs-lookup"><span data-stu-id="e741a-134">This option may be best since the security context of the signed-in domain account is mapped to the local account you created.</span></span>|
    | <span data-ttu-id="e741a-135">**Seront effectuées dans ce contexte de sécurité**</span><span class="sxs-lookup"><span data-stu-id="e741a-135">**Be made using this security context**</span></span> | <span data-ttu-id="e741a-136">Lorsque les utilisateurs se connectent au serveur SQL local à l’aide d’une connexion SQL Server, cette option est préférable.</span><span class="sxs-lookup"><span data-stu-id="e741a-136">When users connect to the local SQL Server using a SQL Server login, then this option may be best.</span></span> <span data-ttu-id="e741a-137">Entrez ensuite la connexion et le mot de passe pour le compte sur le serveur lié.</span><span class="sxs-lookup"><span data-stu-id="e741a-137">Then enter the login and password for the account on the linked server.</span></span> |


6. <span data-ttu-id="e741a-138">Sélectionnez **ajouter**et entrez les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="e741a-138">Select **Add**, and enter the following:</span></span> 

    1. <span data-ttu-id="e741a-139">Sous **connexion locale**, sélectionnez le compte local que vous avez créé.</span><span class="sxs-lookup"><span data-stu-id="e741a-139">Under **Local Login**, select the local account you created.</span></span> 
    2. <span data-ttu-id="e741a-140">Vérifiez **Impersonate** si la connexion locale existe également sur le serveur distant.</span><span class="sxs-lookup"><span data-stu-id="e741a-140">Check **Impersonate** if the local login also exists on the remote server.</span></span> 
    3. <span data-ttu-id="e741a-141">Vous pouvez également, si la connexion locale est mappée à l’ordinateur distant [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] connexion, entrez le **utilisateur distant** nom et **mot de passe distant** pour la connexion au serveur distant.</span><span class="sxs-lookup"><span data-stu-id="e741a-141">Alternatively, if the local login will be mapped to a remote [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] login you, enter the **Remote User** name and **Remote Password** for the remote server login.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="e741a-142">Pour utiliser l'emprunt d'identité, la configuration de votre serveur [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] et vos comptes d'ouverture de session doivent satisfaire aux exigences de délégation.</span><span class="sxs-lookup"><span data-stu-id="e741a-142">To use impersonation, your [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] configuration and login accounts must meet the requirements for delegation.</span></span> <span data-ttu-id="e741a-143">Consultez [configuration des serveurs liés pour la délégation](https://msdn.microsoft.com/library/ms189580.aspx) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="e741a-143">See [Configuring Linked Servers for Delegation](https://msdn.microsoft.com/library/ms189580.aspx) for more details.</span></span>  

7. <span data-ttu-id="e741a-144">Dans le volet gauche, choisissez **Options de serveur**.</span><span class="sxs-lookup"><span data-stu-id="e741a-144">In the left pane, choose **Server Options**.</span></span> <span data-ttu-id="e741a-145">Définir le **RPC** et **sortie RPC** paramètres **True**, puis sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="e741a-145">Set the **RPC** and **RPC Out** parameters to **True**, and then select **OK**.</span></span> 
 
> [!TIP]
> <span data-ttu-id="e741a-146">Pour plus d’informations et les recommandations lors de la création de serveurs liés, à l’aide d’inclus de la `sp_addlinkedserver` stockées procedcure, consultez [créer des serveurs liés](https://docs.microsoft.com/sql/relational-databases/linked-servers/create-linked-servers-sql-server-database-engine).</span><span class="sxs-lookup"><span data-stu-id="e741a-146">For more details and recommendations when creating linked servers, includig using the `sp_addlinkedserver` stored procedcure, see [Create Linked Servers](https://docs.microsoft.com/sql/relational-databases/linked-servers/create-linked-servers-sql-server-database-engine).</span></span>

  
## <a name="see-also"></a><span data-ttu-id="e741a-147">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="e741a-147">See Also</span></span>  
 [<span data-ttu-id="e741a-148">Informations avancées sur la sauvegarde et restauration</span><span class="sxs-lookup"><span data-stu-id="e741a-148">Advanced Information About Backup and Restore</span></span>](../core/advanced-information-about-backup-and-restore1.md)