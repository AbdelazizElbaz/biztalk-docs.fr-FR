---
title: "Procédure pas à pas (AS2) : Envoi d’EDI via AS2 avec MDN asynchrone | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 83644ac9-7023-4b09-966c-7c41d36f6b11
caps.latest.revision: "30"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e80d5429f109167a91297f69963f0fc46d6e7948
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="walkthrough-as2-sending-edi-over-as2-with-an-asynchronous-mdn"></a><span data-ttu-id="346cf-102">Procédure (AS2) : Envoi d'EDI via AS2 avec un MDN asynchrone</span><span class="sxs-lookup"><span data-stu-id="346cf-102">Walkthrough (AS2): Sending EDI over AS2 with an Asynchronous MDN</span></span>
<span data-ttu-id="346cf-103">Cette procédure pas à pas fournit des instructions détaillées sur la création d'une solution pour l'envoi de messages EDI via le transport AS2 et le renvoi d'un MDN asynchrone.</span><span class="sxs-lookup"><span data-stu-id="346cf-103">This walkthrough provides a set of step-by-step procedures that creates a solution for sending EDI messages over AS2, with an asynchronous MDN.</span></span>  <span data-ttu-id="346cf-104">Vous pouvez créer et tester la solution complète de cette procédure pas à pas sur un seul ordinateur.</span><span class="sxs-lookup"><span data-stu-id="346cf-104">You can create and test the full solution in this walkthrough on a single computer</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="346cf-105">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="346cf-105">Prerequisites</span></span>  
 <span data-ttu-id="346cf-106">La configuration requise pour exécuter la procédure décrite dans cette rubrique est la suivante :</span><span class="sxs-lookup"><span data-stu-id="346cf-106">The following are prerequisites for performing the procedure in this topic:</span></span>  
  
-   <span data-ttu-id="346cf-107">Vous devez être connecté en tant que membre du groupe d'administrateurs [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ou du groupe Opérateurs B2B de  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="346cf-107">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators or [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] B2B Operators group.</span></span>  
  
-   <span data-ttu-id="346cf-108">Internet Information Services (IIS) 7 doit être installé sur l'ordinateur sur lequel est exécutée la procédure pas à pas.</span><span class="sxs-lookup"><span data-stu-id="346cf-108">The computer that runs the walkthrough must have Internet Information Services (IIS) 7 installed.</span></span>  
  
-   <span data-ttu-id="346cf-109">Si une version 64 bits de Windows est installée sur l'ordinateur sur lequel est exécutée la procédure pas à pas, vous devez vérifier que les hôtes BizTalk sont marqués comme applications 32 bits uniquement.</span><span class="sxs-lookup"><span data-stu-id="346cf-109">If the computer that runs the walkthrough is installed with a 64-bit version of Windows, you must ensure that the BizTalk hosts are marked as 32-bit only.</span></span> <span data-ttu-id="346cf-110">Vous devez également vérifier que le paramètre Activer les applications 32 bits pour les pools d'applications est défini sur True pour IIS.</span><span class="sxs-lookup"><span data-stu-id="346cf-110">You must also ensure IIS has the Enable 32-Bit Application Setting for the Application Pools set to True.</span></span> <span data-ttu-id="346cf-111">Pour plus d’informations, consultez [didacticiel 3 : didacticiel AS2](../core/tutorial-3-as2-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="346cf-111">For more information, see [Tutorial 3: AS2 Tutorial](../core/tutorial-3-as2-tutorial.md).</span></span>  
  
## <a name="how-the-solution-sends-an-edias2-message-and-returns-an-asynchronous-mdn"></a><span data-ttu-id="346cf-112">Envoi d'un message EDI/AS2 et renvoi d'un MDN asynchrone par la solution</span><span class="sxs-lookup"><span data-stu-id="346cf-112">How the Solution Sends an EDI/AS2 Message and Returns an Asynchronous MDN</span></span>  
 <span data-ttu-id="346cf-113">La solution effectue les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="346cf-113">The solution will do the following:</span></span>  
  
1.  <span data-ttu-id="346cf-114">Un port de réception FILE unidirectionnel reçoit un échange EDI de Contoso.</span><span class="sxs-lookup"><span data-stu-id="346cf-114">A one-way FILE receive port receives an EDI interchange from Contoso.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-115">Les événements dans cette liste peuvent se produire dans un ordre différent de celui indiqué.</span><span class="sxs-lookup"><span data-stu-id="346cf-115">The events in this list may not occur in the order shown.</span></span>  
  
2.  <span data-ttu-id="346cf-116">À l’aide d’un pipeline de réception passthrough, le port de réception dépose le message test dans MessageBox inchangée.</span><span class="sxs-lookup"><span data-stu-id="346cf-116">Using a passthrough receive pipeline, the receive port drops the test message into the MeassageBox unchanged.</span></span>  
  
3.  <span data-ttu-id="346cf-117">Un port d'envoi unidirectionnel statique récupère l'échange EDI et le code au format AS2.</span><span class="sxs-lookup"><span data-stu-id="346cf-117">A static one-way send port picks up the EDI interchange and encodes it into AS2 format.</span></span>  
  
4.  <span data-ttu-id="346cf-118">Le port d'envoi envoie l'échange EDI, via le transport AS2, au tiers Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="346cf-118">The send port sends the EDI interchange over AS2 transport to the Fabrikam party.</span></span>  
  
5.  <span data-ttu-id="346cf-119">Le port de réception unidirectionnel, au niveau de Fabrikam, reçoit le message AS2 à l'aide du répertoire virtuel de Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="346cf-119">The one-way receive port at Fabrikam receives the AS2 message using the Fabrikam virtual directory.</span></span> <span data-ttu-id="346cf-120">Le pipeline de réception décode l'échange EDI à partir d'AS2, puis dépose l'échange EDI dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="346cf-120">The receive pipeline decodes the EDI interchange from AS2, and drops the EDI interchange into the MessageBox.</span></span>  
  
6.  <span data-ttu-id="346cf-121">Le port de réception unidirectionnel génère également un MDN qu'il dépose dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="346cf-121">The same one-way receive port also generates an MDN and drops the MDN into the MessageBox.</span></span>  
  
7.  <span data-ttu-id="346cf-122">Un port d'envoi unidirectionnel statique récupère le message EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-122">A static one-way send port pick up the EDI message.</span></span>  
  
8.  <span data-ttu-id="346cf-123">Le port d'envoi unidirectionnel statique envoie le message EDI à un dossier local.</span><span class="sxs-lookup"><span data-stu-id="346cf-123">The static one-way send port sends the EDI message to a local folder.</span></span>  
  
9. <span data-ttu-id="346cf-124">Un port d'envoi dynamique unidirectionnel récupère le MDN asynchrone.</span><span class="sxs-lookup"><span data-stu-id="346cf-124">A one-way dynamic send port picks up the asynchronous MDN.</span></span>  
  
10. <span data-ttu-id="346cf-125">Le port d'envoi dynamique unidirectionnel envoie le MDN à Contoso.</span><span class="sxs-lookup"><span data-stu-id="346cf-125">The one-way dynamic send port sends the MDN to Contoso.</span></span>  
  
11. <span data-ttu-id="346cf-126">Un port de réception unidirectionnel reçoit le MDN et le dépose dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="346cf-126">A one-way receive port receives the MDN, and drops it into the MessageBox.</span></span>  
  
12. <span data-ttu-id="346cf-127">Un port d'envoi unidirectionnel statique, avec un pipeline d'envoi PassThrough, récupère le MDN.</span><span class="sxs-lookup"><span data-stu-id="346cf-127">A static one-way send port with a passthrough send pipeline picks up the MDN.</span></span>  
  
13. <span data-ttu-id="346cf-128">Le port d'envoi unidirectionnel envoie le MDN vers un dossier local.</span><span class="sxs-lookup"><span data-stu-id="346cf-128">The one-way send port sends the MDN to a local folder.</span></span>  
  
 <span data-ttu-id="346cf-129">L'architecture de cette solution est représentée dans la figure suivante.</span><span class="sxs-lookup"><span data-stu-id="346cf-129">The following figure shows the architecture for this solution.</span></span>  
  
 <span data-ttu-id="346cf-130">![Envoi AS2 avec MDN asynchrone](../core/media/343bbfcc-5387-426c-8700-db9738816218.gif "343bbfcc-5387-426c-8700-db9738816218")</span><span class="sxs-lookup"><span data-stu-id="346cf-130">![AS2 sending with an asynchronous MDN](../core/media/343bbfcc-5387-426c-8700-db9738816218.gif "343bbfcc-5387-426c-8700-db9738816218")</span></span>  
  
## <a name="the-functionality-in-this-solution"></a><span data-ttu-id="346cf-131">Fonctionnalités dans la solution</span><span class="sxs-lookup"><span data-stu-id="346cf-131">The Functionality in this Solution</span></span>  
 <span data-ttu-id="346cf-132">Les conditions suivantes s'appliquent aux fonctionnalités de cette procédure pas à pas :</span><span class="sxs-lookup"><span data-stu-id="346cf-132">The following applies to the functionality of this walkthrough:</span></span>  
  
-   <span data-ttu-id="346cf-133">Cette procédure pas à pas porte sur la fonctionnalité AS2, et non sur la fonctionnalité EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-133">This walkthrough deals with AS2 functionality, not EDI functionality.</span></span> <span data-ttu-id="346cf-134">Par conséquent, tous les ports impliqués dans le traitement AS2 utilisent le pipeline AS2Receive ou AS2Send, et non AS2EdiReceive ou AS2EdiSend.</span><span class="sxs-lookup"><span data-stu-id="346cf-134">As a result, all ports involved in AS2 processing use either AS2Receive or AS2Send pipelines, not AS2EdiReceive or AS2EdiSend.</span></span> <span data-ttu-id="346cf-135">Les ports qui ne sont pas impliqués dans le traitement AS2 utilisent le pipeline PassThruReceive ou PassThruTransmit.</span><span class="sxs-lookup"><span data-stu-id="346cf-135">Ports that are not involved in AS2 processing use PassThruReceive or PassThruTransmit pipelines.</span></span>  
  
-   <span data-ttu-id="346cf-136">Le rapport d'état n'est pas activé.</span><span class="sxs-lookup"><span data-stu-id="346cf-136">Status reporting is not enabled.</span></span>  
  
-   <span data-ttu-id="346cf-137">Cette solution ne configure pas la signature, la compression, le chiffrement ou le stockage des messages dans la base de données de non-répudiation.</span><span class="sxs-lookup"><span data-stu-id="346cf-137">This solution does not configure signing, compression, encryption, or message storage in the non-repudiation database.</span></span> <span data-ttu-id="346cf-138">Pour les procédures de configuration de ces propriétés, consultez [configuration des propriétés AS2](../core/configuring-as2-properties.md).</span><span class="sxs-lookup"><span data-stu-id="346cf-138">For procedures on configuring those properties, see [Configuring AS2 Properties](../core/configuring-as2-properties.md).</span></span>  
  
## <a name="configuring-and-testing-the-walkthrough"></a><span data-ttu-id="346cf-139">Configuration et test de la procédure pas à pas</span><span class="sxs-lookup"><span data-stu-id="346cf-139">Configuring and Testing the Walkthrough</span></span>  
 <span data-ttu-id="346cf-140">Les étapes suivantes sont requises pour configurer cette solution :</span><span class="sxs-lookup"><span data-stu-id="346cf-140">The procedures required for this solution include the following:</span></span>  
  
-   <span data-ttu-id="346cf-141">Créer et déployer un projet BizTalk avec le schéma de message requis, le schéma pouvant être utilisé par [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] dans le cadre du traitement de l'échange reçu.</span><span class="sxs-lookup"><span data-stu-id="346cf-141">Build and deploy a BizTalk project with the required message schema, making the schema available for use by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in processing the received interchange.</span></span>  
  
-   <span data-ttu-id="346cf-142">Activer le filtre BTS ISAPI utilisé pour la réception du message AS2.</span><span class="sxs-lookup"><span data-stu-id="346cf-142">Enable the BTS ISAPI filter used in receiving the AS2 message.</span></span>  
  
-   <span data-ttu-id="346cf-143">Créer un répertoire virtuel Fabrikam recevant le message AS2 de Contoso, comme configuré dans l'emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="346cf-143">Create a Fabrikam virtual directory that receives the AS2 message from Contoso, as configured in the receive location.</span></span>  
  
-   <span data-ttu-id="346cf-144">Créer un répertoire virtuel Contoso recevant le message AS2 de Fabrikam, comme configuré dans l'emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="346cf-144">Create a Contoso virtual directory that receives the AS2 message from Fabrikam, as configured in the receive location.</span></span>  
  
-   <span data-ttu-id="346cf-145">Spécifier que les répertoires virtuels Fabrikam et Contoso ne sont pas gérés par Windows SharePoint Services.</span><span class="sxs-lookup"><span data-stu-id="346cf-145">Specify that the Fabrikam and Contoso virtual directories are not managed by Windows SharePoint Services.</span></span>  
  
-   <span data-ttu-id="346cf-146">Créer un port de réception FILE unidirectionnel pour recevoir le message test EDI à envoyer via le transport AS2.</span><span class="sxs-lookup"><span data-stu-id="346cf-146">Create a one-way FILE receive port to receive the EDI test message that will be sent via AS2 transport.</span></span> <span data-ttu-id="346cf-147">Créer le dossier local pour recevoir le message test.</span><span class="sxs-lookup"><span data-stu-id="346cf-147">Create the local folder to receive the test message.</span></span>  
  
-   <span data-ttu-id="346cf-148">Créer un port d'envoi HTTP unidirectionnel statique pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour envoyer à Fabrikam le message AS2 contenant le document commercial EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-148">Create a static one-way HTTP send port for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to send the AS2 message containing the EDI business document to Fabrikam.</span></span> <span data-ttu-id="346cf-149">Configurer le pipeline d'envoi pour être le pipeline AS2Send.</span><span class="sxs-lookup"><span data-stu-id="346cf-149">Configure the send pipeline to be the AS2Send pipeline.</span></span>  
  
-   <span data-ttu-id="346cf-150">Créer un port de réception HTTP unidirectionnel pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour envoyer le message AS2.</span><span class="sxs-lookup"><span data-stu-id="346cf-150">Create a one-way HTTP receive port for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to receive the AS2 message.</span></span> <span data-ttu-id="346cf-151">Configurer le pipeline de réception pour être le pipeline AS2Receive.</span><span class="sxs-lookup"><span data-stu-id="346cf-151">Configure the receive pipeline to be the AS2Receive pipeline.</span></span> <span data-ttu-id="346cf-152">Configurer l'emplacement de réception pour recevoir le message AS2 via le répertoire virtuel de Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="346cf-152">Configure the receive location to receive the AS2 message via the Fabrikam virtual directory.</span></span>  
  
-   <span data-ttu-id="346cf-153">Créer un port d'envoi FILE unidirectionnel statique (avec un pipeline d'envoi PassThrough) pour router la charge de message vers un dossier local.</span><span class="sxs-lookup"><span data-stu-id="346cf-153">Create a static one-way FILE send port (with a passthrough send pipeline) to route the message payload to a local folder.</span></span> <span data-ttu-id="346cf-154">Créer le dossier local.</span><span class="sxs-lookup"><span data-stu-id="346cf-154">Create the local folder.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-155">Si vous n'avez aucun port d'envoi abonné à la charge de message, il est interrompu dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="346cf-155">If you do not have a send port to subscribe to the message payload, it will be suspended in the MessageBox.</span></span>  
  
-   <span data-ttu-id="346cf-156">Créer un port d'envoi HTTP unidirectionnel dynamique pour renvoyer le MDN à Contoso.</span><span class="sxs-lookup"><span data-stu-id="346cf-156">Create a dynamic one-way HTTP send port to return the MDN to Contoso.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-157">La solution test se trouve sur un seul et unique ordinateur. Par conséquent, le port d'envoi unidirectionnel qui envoie le message AS2 (de Contoso) et le port d'envoi unidirectionnel qui envoie la réponse MDN (depuis Fabrikam) sont sur le même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="346cf-157">The test solution is on a single computer; as a result, the one-way send port sending the AS2 message (from Contoso) and the one-way send port sending the MDN response (from Fabrikam) are on the same computer.</span></span>  
  
-   <span data-ttu-id="346cf-158">Créer un port de réception unidirectionnel pour [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] pour recevoir la réponse MDN de Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="346cf-158">Create a one-way receive port for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to receive the MDN response from Fabrikam.</span></span>  
  
-   <span data-ttu-id="346cf-159">Créer un port d'envoi FILE unidirectionnel statique (avec un pipeline d'envoi PassThrough) pour router le MDN vers un dossier local.</span><span class="sxs-lookup"><span data-stu-id="346cf-159">Create a static one-way FILE send port (with a passthrough send pipeline) to route the MDN to a local folder.</span></span> <span data-ttu-id="346cf-160">Créer le dossier local.</span><span class="sxs-lookup"><span data-stu-id="346cf-160">Create the local folder.</span></span>  
  
-   <span data-ttu-id="346cf-161">Créer un tiers (partenaire commercial) pour Fabrikam et Contoso.</span><span class="sxs-lookup"><span data-stu-id="346cf-161">Create a party (trading partner) for both Fabrikam and Contoso.</span></span>  
  
-   <span data-ttu-id="346cf-162">Créer un profil d'entreprise pour les deux parties commerciales.</span><span class="sxs-lookup"><span data-stu-id="346cf-162">Create a business profile each for both the trading parties.</span></span>  
  
-   <span data-ttu-id="346cf-163">Créer un accord AS2 entre les profils d'entreprise pour Fabrikam et Contoso.</span><span class="sxs-lookup"><span data-stu-id="346cf-163">Create an AS2 agreement between the business profiles for Fabrikam and Contoso.</span></span> <span data-ttu-id="346cf-164">L'accord AS2 contiendra les propriétés relatives à l'envoi d'un message AS2 et la réception d'un MDN asynchrone en retour.</span><span class="sxs-lookup"><span data-stu-id="346cf-164">The AS2 agreement would contain properties to send an AS2 message and receive an asynchronous MDN in return.</span></span>  
  
-   <span data-ttu-id="346cf-165">Tester la procédure pas à pas en utilisant un échange EDI test.</span><span class="sxs-lookup"><span data-stu-id="346cf-165">Test the walkthrough using a test EDI interchange.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-166">Pour un message test, vous pouvez utiliser le fichier SamplePO.txt utilisé dans le didacticiel pour développeur d'interface EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-166">For a test message, you can use the SamplePO.txt file that is used in the EDI Interface Developer tutorial.</span></span> <span data-ttu-id="346cf-167">Ce fichier figure dans le dossier [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\SDK\EDI Interface Developer Tutorial\.</span><span class="sxs-lookup"><span data-stu-id="346cf-167">That file is shipped in the [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\SDK\EDI Interface Developer Tutorial\ folder.</span></span> <span data-ttu-id="346cf-168">Il s'agit d'un message X12 850.</span><span class="sxs-lookup"><span data-stu-id="346cf-168">This is an X12 850 message.</span></span>  
  
### <a name="configuring-the-walkthrough"></a><span data-ttu-id="346cf-169">Configuration de la procédure pas à pas</span><span class="sxs-lookup"><span data-stu-id="346cf-169">Configuring the Walkthrough</span></span>  
 <span data-ttu-id="346cf-170">Cette section décrit les étapes de configuration de la procédure pas à pas.</span><span class="sxs-lookup"><span data-stu-id="346cf-170">This section describes the procedures to configure the walkthrough.</span></span>  
  
##### <a name="to-deploy-the-message-schema"></a><span data-ttu-id="346cf-171">Pour déployer le schéma de message</span><span class="sxs-lookup"><span data-stu-id="346cf-171">To deploy the message schema</span></span>  
  
1.  <span data-ttu-id="346cf-172">Dans [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], créez ou ouvrez un projet BizTalk.</span><span class="sxs-lookup"><span data-stu-id="346cf-172">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], create or open a BizTalk project.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-173">Cette rubrique part du principe que vous avez déjà ajouté une référence de votre application à l'application BizTalk EDI, qui contient les schémas, pipelines et orchestrations EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-173">This topic assumes that you have already added a reference from your application to the BizTalk EDI Application, which contains EDI schemas, pipelines, and orchestrations.</span></span> <span data-ttu-id="346cf-174">Dans le cas contraire, consultez [comment ajouter une référence à l’Application EDI de BizTalk Server](http://msdn.microsoft.com/library/7af066fb-372f-4709-b566-c8d6b4a9d782).</span><span class="sxs-lookup"><span data-stu-id="346cf-174">If not, see [How to Add a Reference to the BizTalk Server EDI Application](http://msdn.microsoft.com/library/7af066fb-372f-4709-b566-c8d6b4a9d782).</span></span>  
  
2.  <span data-ttu-id="346cf-175">Avec le bouton droit de votre projet, pointez sur **ajouter**, puis cliquez sur **élément existant**.</span><span class="sxs-lookup"><span data-stu-id="346cf-175">Right-click your project, point to **Add**, and then click **Existing Item**.</span></span> <span data-ttu-id="346cf-176">Pour utiliser le fichier SamplePO.txt pour tester votre solution, accédez au dossier [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\EDI Interface Developer Tutorial\Inbound_EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-176">To use the SamplePO.txt file to test your solution, move to the [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\EDI Interface Developer Tutorial\Inbound_EDI folder.</span></span> <span data-ttu-id="346cf-177">Sélectionnez le schéma X12_00401_850.xsd, puis cliquez sur **ajouter**.</span><span class="sxs-lookup"><span data-stu-id="346cf-177">Select the X12_00401_850.xsd schema, and then click **Add**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-178">Pour utiliser un autre schéma EDI, rendez-vous sur le [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]XSD_SchemaEDI dossier.</span><span class="sxs-lookup"><span data-stu-id="346cf-178">To use a different EDI schema, go to the [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]XSD_SchemaEDI folder.</span></span> <span data-ttu-id="346cf-179">Si les schémas EDI n’ont pas été décompressés dans les dossiers XSD_SchemaEDI, exécutez le **MicrosoftEdiXSDTemplates.exe** fichier dans le dossier XSD_SchemaEDI pour décompresser les schémas dans le dossier par défaut.</span><span class="sxs-lookup"><span data-stu-id="346cf-179">If the EDI schemas have not been unzipped into the XSD_SchemaEDI folders, execute the **MicrosoftEdiXSDTemplates.exe** file in the XSD_SchemaEDI folder to unzip the schemas into the default folder.</span></span>  
  
3.  <span data-ttu-id="346cf-180">Définissez le fichier de clé d'assembly, puis créez et déployez l'assembly.</span><span class="sxs-lookup"><span data-stu-id="346cf-180">Set the assembly key file, and then build and deploy the assembly.</span></span>  
  
##### <a name="to-enable-the-bts-isapi-filter"></a><span data-ttu-id="346cf-181">Pour activer le filtre ISAPI BTS</span><span class="sxs-lookup"><span data-stu-id="346cf-181">To enable the BTS ISAPI Filter</span></span>  
  
1.  <span data-ttu-id="346cf-182">Cliquez sur **Démarrer**, pointez sur **Tous les programmes**, puis sur **Outils d'administration**, puis cliquez sur **Gestionnaire des services Internet (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="346cf-182">Click **Start**, point to **All Programs**, point to **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
    > [!TIP]
    >  <span data-ttu-id="346cf-183">Selon le système d'exploitation utilisé, l'option Outils d'administration du menu Démarrer peut être indisponible.</span><span class="sxs-lookup"><span data-stu-id="346cf-183">Depending on the operating system, the Administrative Tools start menu option may not be available.</span></span> <span data-ttu-id="346cf-184">Dans ce cas, cliquez sur **Démarrer**, cliquez sur **exécuter**, puis entrez `inetmgr` pour ouvrir le Gestionnaire des Services Internet (IIS).</span><span class="sxs-lookup"><span data-stu-id="346cf-184">In such cases, click **Start**, click **Run**, and enter `inetmgr` to open Internet Information Services (IIS) Manager.</span></span>  
  
2.  <span data-ttu-id="346cf-185">Sélectionnez l’entrée de serveur Web racine et dans le **affichage des fonctionnalités**, double-cliquez sur **mappages de gestionnaires** , puis dans le volet Actions cliquez sur **ajouter un mappage de scripts**.</span><span class="sxs-lookup"><span data-stu-id="346cf-185">Select the root Web Server entry and in the **Features View**, double click **Handler Mappings** and then in the Actions pane click **Add Script Map**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-186">Configurer le mappage du script au niveau du serveur Web entraîne ce mappage à appliquer à tous les enfants de Sites Web.</span><span class="sxs-lookup"><span data-stu-id="346cf-186">Configuring the script mapping at the Web Server level will cause this mapping to apply to all child Web Sites.</span></span> <span data-ttu-id="346cf-187">Si vous souhaitez limiter le mappage à un Site Web ou un dossier virtuel spécifique, sélectionnez le site cible ou le dossier au lieu du serveur Web.</span><span class="sxs-lookup"><span data-stu-id="346cf-187">If you wish to restrict the mapping to a specific Web Site or Virtual Folder, select the target site or folder instead of the Web Server.</span></span>  
  
3.  <span data-ttu-id="346cf-188">Dans le **ajouter un mappage de scripts** boîte de dialogue, entrez `BtsHttpReceive.dll` dans les **chemin d’accès de la demande** champ.</span><span class="sxs-lookup"><span data-stu-id="346cf-188">In the **Add Script Map** dialog box, enter `BtsHttpReceive.dll` in the **Request path** field.</span></span>  
  
4.  <span data-ttu-id="346cf-189">Dans le **exécutable** , cliquez sur le **points de suspension (...)**  bouton et accédez à [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive.</span><span class="sxs-lookup"><span data-stu-id="346cf-189">In the **Executable** field, click the **ellipsis (…)** button and browse to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive.</span></span> <span data-ttu-id="346cf-190">Sélectionnez BtsHttpReceive.dll, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-190">Select BtsHttpReceive.dll and click **OK**.</span></span>  
  
5.  <span data-ttu-id="346cf-191">Entrez `BizTalk HTTP Receive` dans les `Name` champ, puis cliquez sur **Restrictions des demandes**.</span><span class="sxs-lookup"><span data-stu-id="346cf-191">Enter `BizTalk HTTP Receive` in the `Name` field, and then click **Request Restrictions**.</span></span>  
  
6.  <span data-ttu-id="346cf-192">Dans le **Restrictions des demandes** boîte de dialogue, sélectionnez le **verbes** onglet, puis sélectionnez **un des verbes suivants**.</span><span class="sxs-lookup"><span data-stu-id="346cf-192">In the **Request Restrictions** dialog box, select the **Verbs** tab and then select **One of the following verbs**.</span></span> <span data-ttu-id="346cf-193">Entrez `POST` le verbe.</span><span class="sxs-lookup"><span data-stu-id="346cf-193">Enter `POST` as the verb.</span></span>  
  
7.  <span data-ttu-id="346cf-194">Sur le **accès** onglet, sélectionnez **Script** puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-194">On the **Access** tab, select **Script** and then click **OK**.</span></span>  
  
8.  <span data-ttu-id="346cf-195">Cliquez sur **OK** lorsque vous êtes invité à autoriser l’extension ISAPI, cliquez sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="346cf-195">Click **OK** and when prompted to allow the ISAPI extension, click **Yes**.</span></span>  
  
##### <a name="to-configure-the-fabrikam-web-page"></a><span data-ttu-id="346cf-196">Pour configurer la page Web Fabrikam</span><span class="sxs-lookup"><span data-stu-id="346cf-196">To configure the Fabrikam Web page</span></span>  
  
1.  <span data-ttu-id="346cf-197">Avec le bouton droit dans le Gestionnaire des services Internet, **Pools d’applications** et sélectionnez **ajouter un Pool d’applications**.</span><span class="sxs-lookup"><span data-stu-id="346cf-197">In IIS Manager, right-click **Application Pools** and select **Add Application Pool**.</span></span>  
  
2.  <span data-ttu-id="346cf-198">Dans le **ajouter un Pool d’applications** boîte de dialogue, entrez **BizTalkAppPool** dans **nom**, puis sélectionnez **.NET Framework V4.0.30210** dans le **Version du .NET framework** liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="346cf-198">In the **Add Application Pool** dialog box, enter **BizTalkAppPool** in **Name**, and then select **.NET Framework V4.0.30210** in the **.NET Framework version** dropdown list.</span></span> <span data-ttu-id="346cf-199">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-199">Click **OK**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-200">Le numéro de version peut varier selon la version de [!INCLUDE[netfx40_short](../includes/netfx40-short-md.md)] installée sur l'ordinateur.</span><span class="sxs-lookup"><span data-stu-id="346cf-200">The version number may vary depending on the version of [!INCLUDE[netfx40_short](../includes/netfx40-short-md.md)] installed on the machine.</span></span>  
  
3.  <span data-ttu-id="346cf-201">Sélectionnez **Pools d’applications**, dans le **affichage des fonctionnalités** sélectionnez **BizTalkAppPool**, puis cliquez sur **paramètres avancés** dans les  **Actions** volet.</span><span class="sxs-lookup"><span data-stu-id="346cf-201">Select **Application Pools**, in the **Features View** select **BizTalkAppPool**, and then click **Advanced Settings** in the **Actions** pane.</span></span>  
  
4.  <span data-ttu-id="346cf-202">Dans le **paramètres avancés** boîte de dialogue, sélectionnez **identité** puis cliquez sur le bouton de sélection (...).</span><span class="sxs-lookup"><span data-stu-id="346cf-202">In the **Advanced Settings** dialog box, select **Identity** and then click the ellipsis (…) button.</span></span>  
  
5.  <span data-ttu-id="346cf-203">Dans le **identité du Pool d’applications** boîte de dialogue, sélectionnez **compte personnalisé** puis cliquez sur **définir**.</span><span class="sxs-lookup"><span data-stu-id="346cf-203">In the **Application Pool Identity** dialog box, select **Custom account** and then click **Set**.</span></span>  
  
6.  <span data-ttu-id="346cf-204">Entrez le **nom d’utilisateur** et **mot de passe** pour un compte d’utilisateur qui est membre du groupe Administrateurs, entrez le mot de passe **confirmer le mot de passe** puis cliquez sur **OK** trois fois pour retourner le Gestionnaire des services Internet.</span><span class="sxs-lookup"><span data-stu-id="346cf-204">Enter the **User name** and **Password** for a user account that is a member of the administrators group, enter the password in **Confirm password** and then click **OK** three times to return to the IIS Manager.</span></span>  
  
7.  <span data-ttu-id="346cf-205">Dans le Gestionnaire des services Internet, ouvrez le **Sites** dossier.</span><span class="sxs-lookup"><span data-stu-id="346cf-205">In IIS Manager, open the **Sites** folder.</span></span> <span data-ttu-id="346cf-206">Cliquez avec le bouton droit sur Site Web par défaut, puis sélectionnez Ajouter une application.</span><span class="sxs-lookup"><span data-stu-id="346cf-206">Right-click the Default Web Site and then select Add Application.</span></span>  
  
8.  <span data-ttu-id="346cf-207">Dans le **ajouter une Application** boîte de dialogue, entrez **Fabrikam** dans **Alias**, puis cliquez sur **sélectionnez**.</span><span class="sxs-lookup"><span data-stu-id="346cf-207">In the **Add Application** dialog box, enter **Fabrikam** in **Alias**, and then click **Select**.</span></span>  
  
9. <span data-ttu-id="346cf-208">Dans le **sélectionner un Pool d’applications** boîte de dialogue, sélectionnez **BizTalkAppPool** et cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-208">In the **Select Application Pool** dialog box, select **BizTalkAppPool** and click **OK**.</span></span>  
  
10. <span data-ttu-id="346cf-209">Cliquez sur le bouton de sélection (...) et accédez à [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive pour le **chemin d’accès physique**.</span><span class="sxs-lookup"><span data-stu-id="346cf-209">Click the ellipsis (…) button and browse to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive for the **Physical path**.</span></span>  
  
11. <span data-ttu-id="346cf-210">Cliquez sur **des paramètres de Test** et vérifiez qu’il n’y a aucune erreur affiché dans le **tester la connexion** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="346cf-210">Click **Test Settings** and verify that there are no errors displayed in the **Test Connection** dialog box.</span></span> <span data-ttu-id="346cf-211">Cliquez sur **Fermer**, puis sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-211">Click **Close**, and then click **OK**.</span></span>  
  
12. <span data-ttu-id="346cf-212">Dans le Gestionnaire des services Internet, sélectionnez le répertoire virtuel Contoso et dans le **affichage des fonctionnalités**, double-cliquez sur **authentification**.</span><span class="sxs-lookup"><span data-stu-id="346cf-212">In IIS Manager, select the Contoso virtual directory and in the **Features View**, double-click **Authentication**.</span></span>  
  
13. <span data-ttu-id="346cf-213">Dans **authentification**, sélectionnez **l’authentification anonyme** et vérifiez que le **état** est **activé**.</span><span class="sxs-lookup"><span data-stu-id="346cf-213">In **Authentication**, select **Anonymous Authentication** and verify that the **Status** is **Enabled**.</span></span> <span data-ttu-id="346cf-214">Si le **état** est **désactivé**, cliquez sur **activer** dans les **Actions** volet.</span><span class="sxs-lookup"><span data-stu-id="346cf-214">If the **Status** is **Disabled**, click **Enable** in the **Actions** pane.</span></span>  
  
##### <a name="to-configure-the-contoso-web-page"></a><span data-ttu-id="346cf-215">Pour configurer la page Web Contoso</span><span class="sxs-lookup"><span data-stu-id="346cf-215">To configure the Contoso Web page</span></span>  
  
1.  <span data-ttu-id="346cf-216">Dans le Gestionnaire des services Internet, ouvrez le **Sites** dossier.</span><span class="sxs-lookup"><span data-stu-id="346cf-216">In IIS Manager, open the **Sites** folder.</span></span> <span data-ttu-id="346cf-217">Cliquez avec le bouton droit sur Site Web par défaut, puis sélectionnez Ajouter une application.</span><span class="sxs-lookup"><span data-stu-id="346cf-217">Right-click the Default Web Site and then select Add Application.</span></span>  
  
2.  <span data-ttu-id="346cf-218">Dans le **ajouter une Application** boîte de dialogue, entrez **Contoso** dans **Alias**, puis cliquez sur **sélectionnez**.</span><span class="sxs-lookup"><span data-stu-id="346cf-218">In the **Add Application** dialog box, enter **Contoso** in **Alias**, and then click **Select**.</span></span>  
  
3.  <span data-ttu-id="346cf-219">Dans le **sélectionner un Pool d’applications** boîte de dialogue, sélectionnez **BizTalkAppPool** et cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-219">In the **Select Application Pool** dialog box, select **BizTalkAppPool** and click **OK**.</span></span>  
  
4.  <span data-ttu-id="346cf-220">Cliquez sur le bouton de sélection (...) et accédez à [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive pour le **chemin d’accès physique**.</span><span class="sxs-lookup"><span data-stu-id="346cf-220">Click the ellipsis (…) button and browse to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]HttpReceive for the **Physical path**.</span></span>  
  
5.  <span data-ttu-id="346cf-221">Cliquez sur **des paramètres de Test** et vérifiez qu’il n’y a aucune erreur affiché dans le **tester la connexion** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="346cf-221">Click **Test Settings** and verify that there are no errors displayed in the **Test Connection** dialog box.</span></span> <span data-ttu-id="346cf-222">Cliquez sur **Fermer**, puis sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-222">Click **Close**, and then click **OK**.</span></span>  
  
6.  <span data-ttu-id="346cf-223">Dans le Gestionnaire des services Internet, sélectionnez le répertoire virtuel Contoso et dans le **affichage des fonctionnalités**, double-cliquez sur **authentification**.</span><span class="sxs-lookup"><span data-stu-id="346cf-223">In IIS Manager, select the Contoso virtual directory and in the **Features View**, double-click **Authentication**.</span></span>  
  
7.  <span data-ttu-id="346cf-224">Dans **authentification**, sélectionnez **l’authentification anonyme** et vérifiez que le **état** est **activé**.</span><span class="sxs-lookup"><span data-stu-id="346cf-224">In **Authentication**, select **Anonymous Authentication** and verify that the **Status** is **Enabled**.</span></span> <span data-ttu-id="346cf-225">Si le **état** est **désactivé**, cliquez sur **activer** dans les **Actions** volet.</span><span class="sxs-lookup"><span data-stu-id="346cf-225">If the **Status** is **Disabled**, click **Enable** in the **Actions** pane.</span></span>  
  
##### <a name="to-specify-that-the-fabrikam-and-contoso-virtual-directories-are-not-managed-by-windows-sharepoint-services"></a><span data-ttu-id="346cf-226">Pour spécifier que les répertoires virtuels Fabrikam et Contoso ne sont pas gérés par Windows SharePoint Services</span><span class="sxs-lookup"><span data-stu-id="346cf-226">To specify that the Fabrikam and Contoso virtual directories are not managed by Windows SharePoint Services</span></span>  
  
1.  <span data-ttu-id="346cf-227">Si Windows SharePoint Services est installé sur votre ordinateur, cliquez sur **Démarrer**, pointez sur **tous les programmes**, pointez sur **outils d’administration**, puis cliquez sur **Administration centrale de SharePoint 3.0**.</span><span class="sxs-lookup"><span data-stu-id="346cf-227">If Windows SharePoint Services is installed on your computer, click **Start**, point to **All Programs**, point to **Administrative Tools**, and then click **SharePoint 3.0 Central Administration**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-228">Cette procédure est requise si Windows SharePoint Server est installé sur l'ordinateur sur lequel vous configurez la procédure pas à pas.</span><span class="sxs-lookup"><span data-stu-id="346cf-228">This procedure is required if Windows SharePoint Server is installed on the same computer that you are setting the walkthrough up on.</span></span> <span data-ttu-id="346cf-229">Dans ce cas, vous devez spécifier que votre répertoire virtuel IIS n'est pas géré par Windows SharePoint Server.</span><span class="sxs-lookup"><span data-stu-id="346cf-229">In that case, you must specify that your IIS virtual directory is not being managed by Windows SharePoint Server.</span></span>  
  
2.  <span data-ttu-id="346cf-230">Sur le **Administration centrale** sous **Administration centrale**, cliquez sur **gestion des applications**.</span><span class="sxs-lookup"><span data-stu-id="346cf-230">On the **Central Administration** page, under **Central Administration**, click **Application Management**.</span></span>  
  
3.  <span data-ttu-id="346cf-231">Sur le **gestion des applications** , cliquez sur **définir les chemins d’accès gérés**.</span><span class="sxs-lookup"><span data-stu-id="346cf-231">On the **Application Management** page, click **Define managed paths**.</span></span>  
  
4.  <span data-ttu-id="346cf-232">Dans le **définir les chemins d’accès gérés** sous **ajouter un nouveau chemin**, dans le **chemin d’accès** texte, entrez `Fabrikam`.</span><span class="sxs-lookup"><span data-stu-id="346cf-232">In the **Define Managed Paths** page, under **Add a New Path**, in the **Path** text box, enter `Fabrikam`.</span></span> <span data-ttu-id="346cf-233">Sous **Type**, cliquez sur **chemin d’accès exclu**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-233">Under **Type**, click **Excluded Path**, and then click **OK**.</span></span>  
  
5.  <span data-ttu-id="346cf-234">Répétez l'étape 4 pour le répertoire virtuel Contoso.</span><span class="sxs-lookup"><span data-stu-id="346cf-234">Repeat step 4 for the Contoso virtual directory.</span></span>  
  
6.  <span data-ttu-id="346cf-235">Fermer le **définir les chemins d’accès gérés** page.</span><span class="sxs-lookup"><span data-stu-id="346cf-235">Close the **Define Managed Paths** page.</span></span>  
  
##### <a name="to-create-a-receive-port-to-receive-the-edi-test-message"></a><span data-ttu-id="346cf-236">Pour créer un port de réception pour recevoir le message test EDI</span><span class="sxs-lookup"><span data-stu-id="346cf-236">To create a receive port to receive the EDI test message</span></span>  
  
1.  <span data-ttu-id="346cf-237">Dans l'Explorateur Windows, créez un dossier local pour recevoir l'échange EDI à partir de Contoso.</span><span class="sxs-lookup"><span data-stu-id="346cf-237">In Windows Explorer, create a local folder to receive the EDI interchange from Contoso.</span></span>  
  
2.  <span data-ttu-id="346cf-238">Dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] console d’Administration, avec le bouton droit le **Ports de réception** nœud sous la **BizTalk Application 1** nœud **nouveau**, puis cliquez sur **Unidirectionnel Port de réception**.</span><span class="sxs-lookup"><span data-stu-id="346cf-238">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click the **Receive Ports** node under the **BizTalk Application 1** node, point to **New**, and then click **One-way Receive Port**.</span></span>  
  
3.  <span data-ttu-id="346cf-239">Nommez le port de réception **RecvISAFromCont**, puis cliquez sur **emplacements de réception** dans l’arborescence de la console.</span><span class="sxs-lookup"><span data-stu-id="346cf-239">Name the receive port as **RecvISAFromCont**, and then click **Receive Locations** in the console tree.</span></span>  
  
4.  <span data-ttu-id="346cf-240">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="346cf-240">Click **New**.</span></span>  
  
5.  <span data-ttu-id="346cf-241">Nom de l’emplacement de réception, sélectionnez **fichier** pour **Type**, puis cliquez sur **configurer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-241">Name the receive location, select **FILE** for **Type**, and then click **Configure**.</span></span>  
  
6.  <span data-ttu-id="346cf-242">Pour **dossier de réception**, entrez le nom du dossier que vous avez créé à l’étape 1.</span><span class="sxs-lookup"><span data-stu-id="346cf-242">For **Receive folder**, enter the name of the folder that you created in step 1.</span></span>  
  
7.  <span data-ttu-id="346cf-243">Pour Masque de fichier, entrez l'extension de votre fichier.</span><span class="sxs-lookup"><span data-stu-id="346cf-243">For File mask, enter the extension of your file.</span></span> <span data-ttu-id="346cf-244">Si vous utilisez le fichier SamplePO.txt comme message test, entrez  **\*.txt**.</span><span class="sxs-lookup"><span data-stu-id="346cf-244">If you are using the SamplePO.txt file as your test message, enter **\*.txt**.</span></span> <span data-ttu-id="346cf-245">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-245">Click **OK**.</span></span>  
  
8.  <span data-ttu-id="346cf-246">Pour **pipeline de réception**, acceptez la valeur par défaut **PassThruReceive**.</span><span class="sxs-lookup"><span data-stu-id="346cf-246">For **Receive pipeline**, accept the default of **PassThruReceive**.</span></span>  
  
9. <span data-ttu-id="346cf-247">Cliquez sur **OK**, puis cliquez sur **OK** à nouveau.</span><span class="sxs-lookup"><span data-stu-id="346cf-247">Click **OK**, and then click **OK** again.</span></span>  
  
10. <span data-ttu-id="346cf-248">Cliquez sur le **emplacements de réception** nœud, cliquez sur votre emplacement de réception, puis cliquez sur **activer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-248">Click the **Receive Locations** node, right-click your receive location, and then click **Enable**.</span></span>  
  
##### <a name="to-create-a-send-port-to-send-the-edi-interchange-over-as2-to-fabrikam"></a><span data-ttu-id="346cf-249">Pour créer un port d'envoi pour envoyer l'échange EDI via AS2 à Fabrikam</span><span class="sxs-lookup"><span data-stu-id="346cf-249">To create a send port to send the EDI interchange over AS2 to Fabrikam</span></span>  
  
1.  <span data-ttu-id="346cf-250">Dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] console d’Administration, avec le bouton droit le **Ports d’envoi** nœud sous la **BizTalk Application 1** nœud, pointez sur **nouveau**, puis cliquez sur **Port d’envoi unidirectionnel statique**.</span><span class="sxs-lookup"><span data-stu-id="346cf-250">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click the **Send Ports** node under the **BizTalk Application 1** node, point to **New**, and then click **Static One-way Send Port**.</span></span>  
  
2.  <span data-ttu-id="346cf-251">Dans le **propriétés de Port d’envoi** boîte de dialogue, nommez le port d’envoi **SendISAToFab**.</span><span class="sxs-lookup"><span data-stu-id="346cf-251">In the **Send Port Properties** dialog box, name the send port as **SendISAToFab**.</span></span>  
  
3.  <span data-ttu-id="346cf-252">Dans le **Transport** section, sélectionnez **HTTP** pour **Type**, puis cliquez sur **configurer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-252">In the **Transport** section, select **HTTP** for **Type**, and then click **Configure**.</span></span>  
  
4.  <span data-ttu-id="346cf-253">Dans le **propriétés du Transport HTTP** boîte de dialogue, pour **URL de Destination**, entrez **http://localhost/Fabrikam/BTSHttpReceive.dll**.</span><span class="sxs-lookup"><span data-stu-id="346cf-253">In the **HTTP Transport Properties** dialog box, for **Destination URL**, enter **http://localhost/Fabrikam/BTSHttpReceive.dll**.</span></span>  
  
5.  <span data-ttu-id="346cf-254">Désactivez **activer le codage mémorisé en bloc**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-254">Clear **Enable Chunked Encoding**, and then click **OK**.</span></span>  
  
6.  <span data-ttu-id="346cf-255">Dans **pipeline d’envoi**, sélectionnez **AS2Send**.</span><span class="sxs-lookup"><span data-stu-id="346cf-255">In **Send pipeline**, select **AS2Send**.</span></span>  
  
7.  <span data-ttu-id="346cf-256">Dans l’arborescence de la console, sélectionnez **filtres**.</span><span class="sxs-lookup"><span data-stu-id="346cf-256">In the console tree, select **Filters**.</span></span> <span data-ttu-id="346cf-257">Pour **propriété**, entrez **BTS. ReceivePortName**; pour **opérateur**, entrez  **==** ; et pour **valeur** Entrez le nom du port de réception qui recevra l’EDI échange (`RecvISAFromCont`).</span><span class="sxs-lookup"><span data-stu-id="346cf-257">For **Property**, enter **BTS.ReceivePortName**; for **Operator**, enter **==**; and for **Value** enter the name of the receive port that will receive the EDI interchange (`RecvISAFromCont`).</span></span>  
  
8.  <span data-ttu-id="346cf-258">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-258">Click **OK**.</span></span>  
  
9. <span data-ttu-id="346cf-259">Cliquez sur le **Ports d’envoi** nœud dans la Console d’Administration, cliquez sur le port d’envoi, puis cliquez sur **Démarrer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-259">Click the **Send Ports** node in the Administration Console, right-click your send port, and then click **Start**.</span></span>  
  
##### <a name="to-create-a-receive-port-for-fabrikam-to-receive-the-as2-message"></a><span data-ttu-id="346cf-260">Pour créer un port de réception pour Fabrikam pour recevoir le message AS2</span><span class="sxs-lookup"><span data-stu-id="346cf-260">To create a receive port for Fabrikam to receive the AS2 message</span></span>  
  
1.  <span data-ttu-id="346cf-261">Dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] droit de la console d’Administration, sous le nœud BizTalk Application 1, **Ports de réception**, pointez sur **nouveau**, puis cliquez sur **Port de réception unidirectionnel**.</span><span class="sxs-lookup"><span data-stu-id="346cf-261">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, under the BizTalk Application 1 node, right-click **Receive Ports**, point to **New**, and then click **One-way Receive Port**.</span></span>  
  
2.  <span data-ttu-id="346cf-262">Nommez le port de réception **RecvAS2ForFabrikam**, puis cliquez sur **emplacements de réception** dans l’arborescence de la console.</span><span class="sxs-lookup"><span data-stu-id="346cf-262">Name the receive port as **RecvAS2ForFabrikam**, and then click **Receive Locations** in the console tree.</span></span>  
  
3.  <span data-ttu-id="346cf-263">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="346cf-263">Click **New**.</span></span>  
  
4.  <span data-ttu-id="346cf-264">Dans le **propriétés de l’emplacement de réception** boîte de dialogue, le nom de votre emplacement de réception, sélectionnez **HTTP** pour **Type**, puis cliquez sur **configurer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-264">In the **Receive Location Properties** dialog box, name your receive location, select **HTTP** for **Type**, and then click **Configure**.</span></span>  
  
5.  <span data-ttu-id="346cf-265">Dans le **propriétés du Transport HTTP** boîte de dialogue, entrez **/Fabrikam/BTSHttpReceive.dll** pour **répertoire virtuel assorti de l’extension ISAPI**.</span><span class="sxs-lookup"><span data-stu-id="346cf-265">In the **HTTP Transport Properties** dialog box, enter **/Fabrikam/BTSHttpReceive.dll** for **Virtual directory plus ISAPI extension**.</span></span> <span data-ttu-id="346cf-266">Désactivez **un descripteur de corrélation de retour en cas de réussite** et sélectionnez **suspendre les requêtes ayant échoué**.</span><span class="sxs-lookup"><span data-stu-id="346cf-266">Clear **Return correlation handle on success** and select **Suspend failed requests**.</span></span> <span data-ttu-id="346cf-267">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-267">Click **OK**.</span></span>  
  
6.  <span data-ttu-id="346cf-268">Sélectionnez **AS2Receive** pour le **Pipeline de réception**.</span><span class="sxs-lookup"><span data-stu-id="346cf-268">Select **AS2Receive** for the **Receive Pipeline**.</span></span> <span data-ttu-id="346cf-269">Cliquez sur **OK**, puis cliquez sur **OK** à nouveau.</span><span class="sxs-lookup"><span data-stu-id="346cf-269">Click **OK**, and then click **OK** again.</span></span>  
  
7.  <span data-ttu-id="346cf-270">Cliquez sur le **emplacements de réception** nœud, cliquez sur votre emplacement de réception, puis cliquez sur **activer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-270">Click the **Receive Locations** node, right-click your receive location, and then click **Enable**.</span></span>  
  
##### <a name="to-create-a-send-port-to-send-the-edi-payload-to-a-local-folder"></a><span data-ttu-id="346cf-271">Pour créer un port d'envoi pour envoyer la charge EDI vers un dossier local</span><span class="sxs-lookup"><span data-stu-id="346cf-271">To create a send port to send the EDI payload to a local folder</span></span>  
  
1.  <span data-ttu-id="346cf-272">Dans l'Explorateur Windows, créez un dossier local auquel envoyer l'échange EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-272">In Windows Explorer, create a local folder to send the EDI interchange to.</span></span>  
  
2.  <span data-ttu-id="346cf-273">Dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] console d’Administration, avec le bouton droit **Ports d’envoi**, pointez sur **nouveau**, puis cliquez sur **Port d’envoi unidirectionnel statique**.</span><span class="sxs-lookup"><span data-stu-id="346cf-273">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click **Send Ports**, point to **New**, and then click **Static One-Way Send Port**.</span></span>  
  
3.  <span data-ttu-id="346cf-274">Dans le **propriétés de Port d’envoi** boîte de dialogue Nom de votre port d’envoi **SendEDIToFab**.</span><span class="sxs-lookup"><span data-stu-id="346cf-274">In the **Send Port Properties** dialog box, name your send port as **SendEDIToFab**.</span></span> <span data-ttu-id="346cf-275">Sélectionnez **fichier** pour **Type**, puis cliquez sur **configurer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-275">Select **FILE** for **Type**, and then click **Configure**.</span></span>  
  
4.  <span data-ttu-id="346cf-276">Dans le **propriétés du Transport FILE** boîte de dialogue, pour **dossier de Destination**, entrez le dossier local que vous avez créé pour la charge EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-276">In the **FILE Transport Properties** dialog box, for **Destination folder**, enter the local folder that you created for the EDI payload.</span></span>  
  
5.  <span data-ttu-id="346cf-277">Pour **nom de fichier**, entrez le nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="346cf-277">For **File name**, enter the file name.</span></span> <span data-ttu-id="346cf-278">Si vous utilisez le fichier SamplePO.txt comme message test, entrez **%MessageID%.txt**.</span><span class="sxs-lookup"><span data-stu-id="346cf-278">If you are using the SamplePO.txt file as your test message, enter **%MessageID%.txt**.</span></span> <span data-ttu-id="346cf-279">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-279">Click **OK**.</span></span>  
  
6.  <span data-ttu-id="346cf-280">Acceptez la valeur par défaut **PassThruTransmit** pour **Pipeline d’envoi**.</span><span class="sxs-lookup"><span data-stu-id="346cf-280">Accept the default of **PassThruTransmit** for **Send Pipeline**.</span></span>  
  
7.  <span data-ttu-id="346cf-281">Cliquez sur **filtres** dans la console de l’arborescence et ajouter des propriétés de filtre pour la sélection de la charge EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-281">Click **Filters** in the console tree, and add filter properties for picking up the EDI payload.</span></span> <span data-ttu-id="346cf-282">Sur la première ligne, pour **propriété**, entrez **BTS. ReceivePortName**; pour **opérateur**, entrez  **==** ; pour **valeur**, entrez le nom du port de réception qui reçoit le AS2 message (`RecvAS2ForFabrikam`) ; et pour **regrouper par**, accepter **et**.</span><span class="sxs-lookup"><span data-stu-id="346cf-282">On the first line, for **Property**, enter **BTS.ReceivePortName**; for **Operator**, enter **==**; for **Value**, enter the name of the receive port that receives the AS2 message (`RecvAS2ForFabrikam`); and for **Group by**, accept **And**.</span></span> <span data-ttu-id="346cf-283">Sur la deuxième ligne, pour **propriété**, entrez **EdiIntAS.IsAS2PayloadMessage**; pour **opérateur**, entrez  **==** ; et **Valeur**, entrez **True**.</span><span class="sxs-lookup"><span data-stu-id="346cf-283">On the second line, for **Property**, enter **EdiIntAS.IsAS2PayloadMessage**; for **Operator**, enter **==**; and for **Value**, enter **True**.</span></span>  
  
8.  <span data-ttu-id="346cf-284">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-284">Click **OK**.</span></span>  
  
9. <span data-ttu-id="346cf-285">Cliquez sur le **Ports d’envoi** nœud, cliquez sur le port d’envoi, puis cliquez sur **Démarrer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-285">Click the **Send Ports** node, right-click your send port, and then click **Start**.</span></span>  
  
##### <a name="to-create-a-dynamic-one-way-send-port-to-return-the-mdn"></a><span data-ttu-id="346cf-286">Pour créer un port d'envoi unidirectionnel dynamique pour renvoyer le MDN</span><span class="sxs-lookup"><span data-stu-id="346cf-286">To create a dynamic one-way send port to return the MDN</span></span>  
  
1.  <span data-ttu-id="346cf-287">Dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] console d’Administration, avec le bouton droit **Ports d’envoi**, pointez sur **nouveau**, puis cliquez sur **Port d’envoi unidirectionnel dynamique**.</span><span class="sxs-lookup"><span data-stu-id="346cf-287">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click **Send Ports**, point to **New**, and then click **Dynamic One-Way Send Port**.</span></span>  
  
2.  <span data-ttu-id="346cf-288">Dans le **propriétés de Port d’envoi** boîte de dialogue Nom de votre port d’envoi **Send_MDN**.</span><span class="sxs-lookup"><span data-stu-id="346cf-288">In the **Send Port Properties** dialog box, name your send port as **Send_MDN**.</span></span>  
  
3.  <span data-ttu-id="346cf-289">Pour **Pipeline d’envoi**, entrez AS2Send.</span><span class="sxs-lookup"><span data-stu-id="346cf-289">For **Send Pipeline**, enter AS2Send.</span></span>  
  
4.  <span data-ttu-id="346cf-290">Cliquez sur **filtres** dans la console de l’arborescence et ajouter des propriétés de filtre pour la sélection de la charge EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-290">Click **Filters** in the console tree, and add filter properties for picking up the EDI payload.</span></span> <span data-ttu-id="346cf-291">Sur la première ligne, pour **propriété**, entrez **BTS. ReceivePortName**; pour **opérateur**, entrez  **==** ; pour **valeur**, entrez le nom du port de réception qui reçoit le AS2 message (`RecvAS2ForFabrikam`) ; et pour **regrouper par**, accepter **et**.</span><span class="sxs-lookup"><span data-stu-id="346cf-291">On the first line, for **Property**, enter **BTS.ReceivePortName**; for **Operator**, enter **==**; for **Value**, enter the name of the receive port that receives the AS2 message (`RecvAS2ForFabrikam`); and for **Group by**, accept **And**.</span></span> <span data-ttu-id="346cf-292">Sur la deuxième ligne, pour **propriété**, entrez **EdiIntAS.IsAS2AsynchronousMDN**; pour **opérateur**, entrez  **==** ; et **Valeur**, entrez **True**.</span><span class="sxs-lookup"><span data-stu-id="346cf-292">On the second line, for **Property**, enter **EdiIntAS.IsAS2AsynchronousMDN**; for **Operator**, enter **==**; and for **Value**, enter **True**.</span></span>  
  
5.  <span data-ttu-id="346cf-293">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-293">Click **OK**.</span></span>  
  
6.  <span data-ttu-id="346cf-294">Cliquez sur le **Ports d’envoi** nœud, cliquez sur le port d’envoi, puis cliquez sur **Démarrer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-294">Click the **Send Ports** node, right-click your send port, and then click **Start**.</span></span>  
  
##### <a name="to-create-a-receive-port-to-receive-the-mdn-from-fabrikam"></a><span data-ttu-id="346cf-295">Pour créer un port de réception pour recevoir le MDN de Fabrikam</span><span class="sxs-lookup"><span data-stu-id="346cf-295">To create a receive port to receive the MDN from Fabrikam</span></span>  
  
1.  <span data-ttu-id="346cf-296">Dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] droit de la console d’Administration, sous le nœud BizTalk Application 1, **Ports de réception**, pointez sur **nouveau**, puis cliquez sur **Port de réception unidirectionnel**.</span><span class="sxs-lookup"><span data-stu-id="346cf-296">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, under the BizTalk Application 1 node, right-click **Receive Ports**, point to **New**, and then click **One-way Receive Port**.</span></span>  
  
2.  <span data-ttu-id="346cf-297">Nommez le port de réception **RecvMDNFromFab**, puis cliquez sur **emplacements de réception** dans l’arborescence de la console.</span><span class="sxs-lookup"><span data-stu-id="346cf-297">Name the receive port as **RecvMDNFromFab**, and then click **Receive Locations** in the console tree.</span></span>  
  
3.  <span data-ttu-id="346cf-298">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="346cf-298">Click **New**.</span></span>  
  
4.  <span data-ttu-id="346cf-299">Dans le **propriétés de l’emplacement de réception** boîte de dialogue, le nom de votre emplacement de réception, sélectionnez **HTTP** pour **Type**, puis cliquez sur **configurer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-299">In the **Receive Location Properties** dialog box, name your receive location, select **HTTP** for **Type**, and then click **Configure**.</span></span>  
  
5.  <span data-ttu-id="346cf-300">Dans le **propriétés du Transport HTTP** boîte de dialogue, entrez **/Contoso/BTSHTTPReceive.dll** pour **répertoire virtuel assorti de l’extension ISAPI**.</span><span class="sxs-lookup"><span data-stu-id="346cf-300">In the **HTTP Transport Properties** dialog box, enter **/Contoso/BTSHTTPReceive.dll** for **Virtual directory plus ISAPI extension**.</span></span> <span data-ttu-id="346cf-301">Désactivez **un descripteur de corrélation de retour en cas de réussite** et sélectionnez **suspendre les requêtes ayant échoué**.</span><span class="sxs-lookup"><span data-stu-id="346cf-301">Clear **Return correlation handle on success** and select **Suspend failed requests**.</span></span> <span data-ttu-id="346cf-302">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-302">Click **OK**.</span></span>  
  
6.  <span data-ttu-id="346cf-303">Sélectionnez **AS2Receive** pour le **Pipeline de réception**.</span><span class="sxs-lookup"><span data-stu-id="346cf-303">Select **AS2Receive** for the **Receive Pipeline**.</span></span> <span data-ttu-id="346cf-304">Cliquez sur **OK**, puis cliquez sur **OK** à nouveau.</span><span class="sxs-lookup"><span data-stu-id="346cf-304">Click **OK**, and then click **OK** again.</span></span>  
  
7.  <span data-ttu-id="346cf-305">Cliquez sur le **emplacements de réception** nœud, cliquez sur votre emplacement de réception, puis cliquez sur **activer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-305">Click the **Receive Locations** node, right-click your receive location, and then click **Enable**.</span></span>  
  
##### <a name="to-create-a-send-port-to-send-the-mdn-to-a-local-folder"></a><span data-ttu-id="346cf-306">Pour créer un port d'envoi pour envoyer le MDN vers un dossier local</span><span class="sxs-lookup"><span data-stu-id="346cf-306">To create a send port to send the MDN to a local folder</span></span>  
  
1.  <span data-ttu-id="346cf-307">Dans l'Explorateur Windows, créez un dossier local auquel envoyer le MDN.</span><span class="sxs-lookup"><span data-stu-id="346cf-307">In Windows Explorer, create a local folder to send the MDN to.</span></span>  
  
2.  <span data-ttu-id="346cf-308">Dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] console d’Administration, avec le bouton droit **Ports d’envoi**, pointez sur **nouveau**, puis cliquez sur **Port d’envoi unidirectionnel statique**.</span><span class="sxs-lookup"><span data-stu-id="346cf-308">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click **Send Ports**, point to **New**, and then click **Static One-Way Send Port**.</span></span>  
  
3.  <span data-ttu-id="346cf-309">Dans le **propriétés de Port d’envoi** boîte de dialogue zone, nommez votre port d’envoi.</span><span class="sxs-lookup"><span data-stu-id="346cf-309">In the **Send Port Properties** dialog box, name your send port.</span></span> <span data-ttu-id="346cf-310">Sélectionnez **fichier** pour **Type**, puis cliquez sur **configurer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-310">Select **FILE** for **Type**, and then click **Configure**.</span></span>  
  
4.  <span data-ttu-id="346cf-311">Dans le **propriétés du Transport FILE** boîte de dialogue, pour **dossier de Destination**, entrez le dossier local que vous avez créé pour envoyer le MDN.</span><span class="sxs-lookup"><span data-stu-id="346cf-311">In the **FILE Transport Properties** dialog box, for **Destination folder**, enter the local folder you created to send the MDN to.</span></span>  
  
5.  <span data-ttu-id="346cf-312">Pour **nom de fichier**, entrez **%MessageID%.msg**. Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-312">For **File name**, enter **%MessageID%.msg**. Click **OK**.</span></span>  
  
6.  <span data-ttu-id="346cf-313">Acceptez la valeur par défaut **PassThruTransmit** pour **Pipeline d’envoi**.</span><span class="sxs-lookup"><span data-stu-id="346cf-313">Accept the default of **PassThruTransmit** for **Send Pipeline**.</span></span>  
  
7.  <span data-ttu-id="346cf-314">Cliquez sur **filtres** dans l’arborescence de la console.</span><span class="sxs-lookup"><span data-stu-id="346cf-314">Click **Filters** in the console tree.</span></span> <span data-ttu-id="346cf-315">Pour **propriété**, entrez **BTS. ReceivePortName**; pour **opérateur**, entrez  **==** ; pour **valeur**, entrez le nom du port de réception qui reçoit le MDN (`RecvMDNFromFab`); et pour **regrouper par**, accepter **et**.</span><span class="sxs-lookup"><span data-stu-id="346cf-315">For **Property**, enter **BTS.ReceivePortName**; for **Operator**, enter **==**; for **Value**, enter the name of the receive port that receives the MDN (`RecvMDNFromFab`); and for **Group by**, accept **And**.</span></span> <span data-ttu-id="346cf-316">Sur la deuxième ligne, pour **propriété**, entrez **EdiIntAS.IsAS2MdnResponseMessage**.</span><span class="sxs-lookup"><span data-stu-id="346cf-316">On a second line, for **Property**, enter **EdiIntAS.IsAS2MdnResponseMessage**.</span></span> <span data-ttu-id="346cf-317">Pour **opérateur**, entrez  **==** .</span><span class="sxs-lookup"><span data-stu-id="346cf-317">For **Operator**, enter **==**.</span></span> <span data-ttu-id="346cf-318">Pour **valeur**, entrez **True**.</span><span class="sxs-lookup"><span data-stu-id="346cf-318">For **Value**, enter **True**.</span></span>  
  
8.  <span data-ttu-id="346cf-319">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-319">Click **OK**.</span></span>  
  
9. <span data-ttu-id="346cf-320">Cliquez sur le **Ports d’envoi** nœud, cliquez sur le port d’envoi, puis cliquez sur **Démarrer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-320">Click the **Send Ports** node, right-click your send port, and then click **Start**.</span></span>  
  
##### <a name="to-create-a-party-and-a-business-profile-for-fabrikam"></a><span data-ttu-id="346cf-321">Pour créer un tiers et un profil d'entreprise pour Fabrikam</span><span class="sxs-lookup"><span data-stu-id="346cf-321">To create a party and a business profile for Fabrikam</span></span>  
  
1.  <span data-ttu-id="346cf-322">Avec le bouton droit le **Parties** nœud dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Console d’Administration, pointez sur **nouveau**, puis cliquez sur **tiers**.</span><span class="sxs-lookup"><span data-stu-id="346cf-322">Right-click the **Parties** node in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, point to **New**, and then click **Party**.</span></span>  
  
2.  <span data-ttu-id="346cf-323">Entrez un nom pour le tiers dans le **nom** zone de texte, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-323">Enter a name for the party in the **Name** text box, and then click **OK**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-324">En sélectionnant le **BizTalk Local traite les messages reçus par le tiers ou prend en charge l’envoi de messages à partir de ce tiers** case à cocher, vous pouvez spécifier que le tiers en cours de création est pour la même organisation qui héberge également [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="346cf-324">By selecting the **Local BizTalk processes messages received by the Party OR supports sending messages from this party** check box, you can specify that the party being created is for the same organization that is also hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="346cf-325">En prenant ces éléments en compte, certaines propriétés devront être activées et d'autres désactivées lors de la création d'un accord.</span><span class="sxs-lookup"><span data-stu-id="346cf-325">Based on that, some properties will be enabled or disabled when you create an agreement.</span></span> <span data-ttu-id="346cf-326">Toutefois, pour les besoins de cette procédure pas à pas, vous pouvez laisser cette case à cocher activée.</span><span class="sxs-lookup"><span data-stu-id="346cf-326">However, for this walkthrough, you can leave this check box selected.</span></span>  
  
3.  <span data-ttu-id="346cf-327">Cliquez sur le nom du tiers, pointez sur **nouveau**, puis cliquez sur **profil d’entreprise**.</span><span class="sxs-lookup"><span data-stu-id="346cf-327">Right-click the party name, point to **New**, and then click **Business Profile**.</span></span>  
  
4.  <span data-ttu-id="346cf-328">Dans le **propriétés de profil** boîte de dialogue le **général** , entrez **Fabrikam_Profile** dans les **nom** zone de texte.</span><span class="sxs-lookup"><span data-stu-id="346cf-328">In the **Profile Properties** dialog box, on the **General** page, enter **Fabrikam_Profile** in the **Name** text box.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-329">Lorsque vous créez un tiers, un profil est également créé.</span><span class="sxs-lookup"><span data-stu-id="346cf-329">When you create a party, a profile is also created.</span></span> <span data-ttu-id="346cf-330">Vous pouvez renommer et utiliser ce profil plutôt que d'en créer un nouveau.</span><span class="sxs-lookup"><span data-stu-id="346cf-330">You can rename and use that profile instead of creating a new one.</span></span> <span data-ttu-id="346cf-331">Pour renommer un profil, cliquez sur le profil et sélectionnez **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="346cf-331">To rename a profile, right-click the profile and select **Properties**.</span></span> <span data-ttu-id="346cf-332">Dans le **général** , spécifiez un nom pour le profil.</span><span class="sxs-lookup"><span data-stu-id="346cf-332">In the **General** page, specify a name for the profile.</span></span>  
  
##### <a name="to-create-a-party-and-a-business-profile-for-contoso"></a><span data-ttu-id="346cf-333">Pour créer un tiers et un profil d'entreprise pour Contoso</span><span class="sxs-lookup"><span data-stu-id="346cf-333">To create a party and a business profile for Contoso</span></span>  
  
1.  <span data-ttu-id="346cf-334">Avec le bouton droit le **Parties** nœud dans le [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Console d’Administration, pointez sur **nouveau**, puis cliquez sur **tiers**.</span><span class="sxs-lookup"><span data-stu-id="346cf-334">Right-click the **Parties** node in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, point to **New**, and then click **Party**.</span></span>  
  
2.  <span data-ttu-id="346cf-335">Entrez un nom pour le tiers dans le **nom** zone de texte, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-335">Enter a name for the party in the **Name** text box, and then click **OK**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-336">En sélectionnant le **BizTalk Local traite les messages reçus par le tiers ou prend en charge l’envoi de messages à partir de ce tiers** case à cocher, vous pouvez spécifier que le tiers en cours de création est pour la même organisation qui héberge également [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="346cf-336">By selecting the **Local BizTalk processes messages received by the Party OR supports sending messages from this party** check box, you can specify that the party being created is for the same organization that is also hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="346cf-337">En prenant ces éléments en compte, certaines propriétés devront être activées et d'autres désactivées lors de la création d'un accord.</span><span class="sxs-lookup"><span data-stu-id="346cf-337">Based on that, some properties will be enabled or disabled when you create an agreement.</span></span> <span data-ttu-id="346cf-338">Toutefois, pour les besoins de cette procédure pas à pas, vous pouvez laisser cette case à cocher activée.</span><span class="sxs-lookup"><span data-stu-id="346cf-338">However, for this walkthrough, you can leave this check box selected.</span></span>  
  
3.  <span data-ttu-id="346cf-339">Cliquez sur le nom du tiers, pointez sur **nouveau**, puis cliquez sur **profil d’entreprise**.</span><span class="sxs-lookup"><span data-stu-id="346cf-339">Right-click the party name, point to **New**, and then click **Business Profile**.</span></span>  
  
4.  <span data-ttu-id="346cf-340">Dans le **propriétés de profil** boîte de dialogue le **général** , entrez **Contoso_Profile** dans les **nom** zone de texte.</span><span class="sxs-lookup"><span data-stu-id="346cf-340">In the **Profile Properties** dialog box, on the **General** page, enter **Contoso_Profile** in the **Name** text box.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-341">Lorsque vous créez un tiers, un profil est également créé.</span><span class="sxs-lookup"><span data-stu-id="346cf-341">When you create a party, a profile is also created.</span></span> <span data-ttu-id="346cf-342">Vous pouvez renommer et utiliser ce profil plutôt que d'en créer un nouveau.</span><span class="sxs-lookup"><span data-stu-id="346cf-342">You can rename and use that profile instead of creating a new one.</span></span> <span data-ttu-id="346cf-343">Pour renommer un profil, cliquez sur le profil et sélectionnez **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="346cf-343">To rename a profile, right-click the profile and select **Properties**.</span></span> <span data-ttu-id="346cf-344">Dans le **général** , spécifiez un nom pour le profil.</span><span class="sxs-lookup"><span data-stu-id="346cf-344">In the **General** page, specify a name for the profile.</span></span>  
  
##### <a name="to-create-an-as2-agreement-between-the-two-business-profiles"></a><span data-ttu-id="346cf-345">Pour créer un accord AS2 entre les deux profils d'entreprise</span><span class="sxs-lookup"><span data-stu-id="346cf-345">To create an AS2 agreement between the two business profiles</span></span>  
  
1.  <span data-ttu-id="346cf-346">Avec le bouton droit **Contoso_Profile**, pointez sur **nouveau**, puis cliquez sur **accord**.</span><span class="sxs-lookup"><span data-stu-id="346cf-346">Right-click **Contoso_Profile**, point to **New**, and then click **Agreement**.</span></span>  
  
2.  <span data-ttu-id="346cf-347">Dans le **propriétés générales** page, pour le **nom** texte, entrez un nom pour l’accord.</span><span class="sxs-lookup"><span data-stu-id="346cf-347">In the **General Properties** page, for the **Name** text box, enter a name for the agreement.</span></span>  
  
3.  <span data-ttu-id="346cf-348">À partir de la **protocole** la liste déroulante, sélectionnez **AS2**.</span><span class="sxs-lookup"><span data-stu-id="346cf-348">From the **Protocol** drop-down list, select **AS2**.</span></span>  
  
4.  <span data-ttu-id="346cf-349">Dans le **deuxième partenaire** section, à partir de la **nom** la liste déroulante, sélectionnez **Fabrikam**.</span><span class="sxs-lookup"><span data-stu-id="346cf-349">In the **Second Partner** section, from the **Name** drop-down list, select **Fabrikam**.</span></span>  
  
5.  <span data-ttu-id="346cf-350">Dans le **deuxième partenaire** section, à partir de la **profil** la liste déroulante, sélectionnez **Fabrikam_Profile**.</span><span class="sxs-lookup"><span data-stu-id="346cf-350">In the **Second Partner** section, from the **Profile** drop-down list, select **Fabrikam_Profile**.</span></span>  
  
     <span data-ttu-id="346cf-351">Vous remarquerez que les deux nouveaux onglets sont ajoutés à côté du **général** onglet. Chaque onglet permet de configurer un accord AS2 unidirectionnel.</span><span class="sxs-lookup"><span data-stu-id="346cf-351">You will notice that two new tabs get added next to the **General** tab. Each tab is for configuring a one-way AS2 agreement.</span></span>  
  
6.  <span data-ttu-id="346cf-352">Effectuer les tâches suivantes sur le **Contoso -> Fabrikam** onglet.</span><span class="sxs-lookup"><span data-stu-id="346cf-352">Perform the following tasks on the **Contoso->Fabrikam** tab.</span></span>  
  
    1.  <span data-ttu-id="346cf-353">Sur le **identificateurs** , entrez des valeurs pour **AS2-de** et **AS2-pour**.</span><span class="sxs-lookup"><span data-stu-id="346cf-353">On the **Identifiers** page, enter values for **AS2-From** and **AS2-To**.</span></span> <span data-ttu-id="346cf-354">Pour **AS2-de**, entrez `Contoso`.</span><span class="sxs-lookup"><span data-stu-id="346cf-354">For **AS2-From**, enter `Contoso`.</span></span> <span data-ttu-id="346cf-355">Pour **AS2 - To**, entrez `Fabrikam`.</span><span class="sxs-lookup"><span data-stu-id="346cf-355">For **AS2- To**, enter `Fabrikam`.</span></span>  
  
    2.  <span data-ttu-id="346cf-356">Dans le **accusés de réception (MDN)** page, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="346cf-356">In the **Acknowledgements (MDNs)** page, do the following:</span></span>  
  
        1.  <span data-ttu-id="346cf-357">Sélectionnez le **traiter le MDN entrant dans MessageBox pour les options de routage/livraison** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="346cf-357">Select the **Process inbound MDN into MessageBox for routing/delivery options** check box.</span></span>  
  
            > [!NOTE]
            >  <span data-ttu-id="346cf-358">Vérification de la **traiter le MDN entrant dans MessageBox pour les options de routage/livraison** est requise pour le test de cette procédure pas à pas, car seuls puis sera le MDN renvoyé supprimé dans la MessageBox.</span><span class="sxs-lookup"><span data-stu-id="346cf-358">Checking the **Process inbound MDN into MessageBox for routing/delivery options** is required for the testing of this walkthrough, because only then will the returned MDN be dropped into the MessageBox.</span></span> <span data-ttu-id="346cf-359">Cela vous permet de créer un port d'envoi abonné au MDN et d'envoyer le MDN vers un répertoire local, afin que vous puissiez vérifier la transmission AS2.</span><span class="sxs-lookup"><span data-stu-id="346cf-359">That enables you to create a send port to subscribe to the MDN, and to send the MDN to a local directory, so you can verify the AS2 transmission.</span></span>  
  
        2.  <span data-ttu-id="346cf-360">Sélectionnez le **exiger le MDN** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="346cf-360">Select the **Request MDN** check box.</span></span>  
  
        3.  <span data-ttu-id="346cf-361">Assurez-vous que le **exiger le MDN signé** case à cocher est désactivée.</span><span class="sxs-lookup"><span data-stu-id="346cf-361">Make sure the **Request Signed MDN** check box is cleared.</span></span>  
  
        4.  <span data-ttu-id="346cf-362">Sélectionnez le **exiger le MDN asynchrone** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="346cf-362">Select the **Request asynchronous MDN** check box.</span></span>  
  
        5.  <span data-ttu-id="346cf-363">Dans **Receipt-Delivery-Option (URL)**, entrez **http://localhost/Contoso/BTSHttpReceive.dll**.</span><span class="sxs-lookup"><span data-stu-id="346cf-363">In **Receipt-Delivery-Option (URL)**, enter **http://localhost/Contoso/BTSHttpReceive.dll**.</span></span>  
  
        6.  <span data-ttu-id="346cf-364">Le **Disposition-Notification-To** est définie à la valeur par défaut vous avez spécifié pour **Receipt-Delivery-Option (URL)** propriété.</span><span class="sxs-lookup"><span data-stu-id="346cf-364">The **Disposition-Notification-To** is by default set to the value you specified for **Receipt-Delivery-Option (URL)** property.</span></span> <span data-ttu-id="346cf-365">La valeur de ce champ n'est pas utilisée lors du traitement d'AS2.</span><span class="sxs-lookup"><span data-stu-id="346cf-365">The value of this field is not used during AS2 processing.</span></span>  
  
    3.  <span data-ttu-id="346cf-366">Sur le **Ports d’envoi** page, associez le port d’envoi bidirectionnel qui envoie l’échange EDI à Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="346cf-366">On the **Send Ports** page, associate the two-way send port that will be sending the EDI interchange to Fabrikam.</span></span> <span data-ttu-id="346cf-367">Dans le **ports d’envoi** grille, sous la **nom** colonne, cliquez sur une cellule vide et dans la liste déroulante, sélectionnez le port d’envoi **SendISAToFab**.</span><span class="sxs-lookup"><span data-stu-id="346cf-367">In the **Send ports** grid, under the **Name** column, click an empty cell, and from the drop-down list, select the send port **SendISAToFab**.</span></span>  
  
7.  <span data-ttu-id="346cf-368">Effectuer les tâches suivantes sur le **Fabrikam -> Contoso** onglet.</span><span class="sxs-lookup"><span data-stu-id="346cf-368">Perform the following tasks on the **Fabrikam->Contoso** tab.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="346cf-369">Dans cette procédure pas à pas, la valeur requise est spécifiée sous l'onglet afin de permettre la création d'un accord.</span><span class="sxs-lookup"><span data-stu-id="346cf-369">In this walkthrough, we specify the required value in the tab so that an agreement can be successfully created.</span></span> <span data-ttu-id="346cf-370">Pour créer un accord, les deux onglets d’accord unidirectionnel doivent avoir des valeurs définies pour **AS2_From** et **AS2-pour**.</span><span class="sxs-lookup"><span data-stu-id="346cf-370">To successfully create an agreement, both one-way agreement tabs must have values defined for **AS2_From** and **AS2-To**.</span></span>  
  
    1.  <span data-ttu-id="346cf-371">Sur le **identificateurs** , entrez des valeurs pour **AS2-de** et **AS2-pour**.</span><span class="sxs-lookup"><span data-stu-id="346cf-371">On the **Identifiers** page, enter values for **AS2-From** and **AS2-To**.</span></span> <span data-ttu-id="346cf-372">Pour **AS2-de**, entrez `Fabrikam`.</span><span class="sxs-lookup"><span data-stu-id="346cf-372">For **AS2-From**, enter `Fabrikam`.</span></span> <span data-ttu-id="346cf-373">Pour **AS2 - To**, entrez `Contoso`.</span><span class="sxs-lookup"><span data-stu-id="346cf-373">For **AS2- To**, enter `Contoso`.</span></span>  
  
8.  <span data-ttu-id="346cf-374">Cliquez sur **Appliquer**.</span><span class="sxs-lookup"><span data-stu-id="346cf-374">Click **Apply**.</span></span>  
  
9. <span data-ttu-id="346cf-375">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="346cf-375">Click **OK**.</span></span> <span data-ttu-id="346cf-376">Le nouvel accord ajouté est répertorié dans le **accords** section de la **tiers et profils d’entreprise** volet.</span><span class="sxs-lookup"><span data-stu-id="346cf-376">The newly added agreement is listed in the **Agreements** section of the **Parties and Business Profiles** pane.</span></span> <span data-ttu-id="346cf-377">Le nouvel accord ajouté est activé par défaut.</span><span class="sxs-lookup"><span data-stu-id="346cf-377">The newly added agreement is enabled by default.</span></span>  
  
### <a name="testing-the-walkthrough"></a><span data-ttu-id="346cf-378">Test de la procédure pas à pas</span><span class="sxs-lookup"><span data-stu-id="346cf-378">Testing the Walkthrough</span></span>  
 <span data-ttu-id="346cf-379">Cette section fournit des informations sur le test de la procédure pas à pas.</span><span class="sxs-lookup"><span data-stu-id="346cf-379">This section provides information on how to test the walkthrough.</span></span>  
  
##### <a name="to-test-the-solution"></a><span data-ttu-id="346cf-380">Pour tester la solution</span><span class="sxs-lookup"><span data-stu-id="346cf-380">To test the solution</span></span>  
  
1.  <span data-ttu-id="346cf-381">Dans l'Explorateur Windows, accédez à [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\EDI Interface Developer Tutorial.</span><span class="sxs-lookup"><span data-stu-id="346cf-381">In Windows Explorer, move to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDK\EDI Interface Developer Tutorial.</span></span> <span data-ttu-id="346cf-382">Copie le **SamplePO.txt** fichier.</span><span class="sxs-lookup"><span data-stu-id="346cf-382">Copy the **SamplePO.txt** file.</span></span>  
  
2.  <span data-ttu-id="346cf-383">Coller le **SamplePO.txt** fichier dans le dossier local que vous avez créé pour recevoir le message de test de Contoso.</span><span class="sxs-lookup"><span data-stu-id="346cf-383">Paste the **SamplePO.txt** file into the local folder that you created to receive the test message from Contoso.</span></span>  
  
3.  <span data-ttu-id="346cf-384">Accédez au dossier local que vous avez créé, auquel envoyer la charge EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-384">Move to the local folder that you created to send the EDI payload to.</span></span> <span data-ttu-id="346cf-385">Confirmez que le dossier contient un fichier EDI.</span><span class="sxs-lookup"><span data-stu-id="346cf-385">Confirm that the folder contains an EDI file.</span></span> <span data-ttu-id="346cf-386">Ouvrez le fichier et le message test d'origine, puis vérifiez qu'ils ont le même contenu.</span><span class="sxs-lookup"><span data-stu-id="346cf-386">Open the file and the original test message, and verify that they have the same content.</span></span>  
  
4.  <span data-ttu-id="346cf-387">Accédez au dossier local que vous avez créé, auquel envoyer le MDN résultant.</span><span class="sxs-lookup"><span data-stu-id="346cf-387">Move to the local folder that you created to send the resulting MDN to.</span></span> <span data-ttu-id="346cf-388">Confirmez que le dossier contient bien un fichier test. Ouvrez le fichier, puis confirmez qu'il s'agit d'un fichier MDN.</span><span class="sxs-lookup"><span data-stu-id="346cf-388">Confirm that the folder contains a test file; open the file, and confirm that it is an MDN file.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="346cf-389">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="346cf-389">See Also</span></span>  
 [<span data-ttu-id="346cf-390">Développement et la configuration des Solutions AS2 BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="346cf-390">Developing and Configuring BizTalk Server AS2 Solutions</span></span>](../core/developing-and-configuring-biztalk-server-as2-solutions.md)