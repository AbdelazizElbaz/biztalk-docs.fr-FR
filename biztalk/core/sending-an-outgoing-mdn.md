---
title: "Envoi d’un MDN sortant | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2dce7620-d354-4b76-bcbc-f97dc93c3fc3
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d947751e06e0dc9892ab63e109b417047ad91b59
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="sending-an-outgoing-mdn"></a><span data-ttu-id="1a038-102">Envoi d'une réponse MDN sortante</span><span class="sxs-lookup"><span data-stu-id="1a038-102">Sending an Outgoing MDN</span></span>
<span data-ttu-id="1a038-103">Un MDN sortant est généré par le pipeline de réception AS2EDIReceive ou AS2Receive et envoyé par le pipeline AS2Send.</span><span class="sxs-lookup"><span data-stu-id="1a038-103">An outgoing MDN is generated by the AS2EDIReceive or AS2Receive receive pipeline, and sent by the AS2Send pipeline.</span></span> <span data-ttu-id="1a038-104">Cette rubrique explique comment un MDN est envoyé.</span><span class="sxs-lookup"><span data-stu-id="1a038-104">This topic describes how an MDN is sent.</span></span> <span data-ttu-id="1a038-105">Pour plus d’informations sur la façon dont un MDN est généré, consultez [générer un MDN sortant](../core/generating-an-outgoing-mdn.md).</span><span class="sxs-lookup"><span data-stu-id="1a038-105">For more information on how an MDN is generated, see [Generating an Outgoing MDN](../core/generating-an-outgoing-mdn.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1a038-106">Le pipeline de réception AS2EDISend ne permet pas d'envoyer un MDN sortant, car l'assembleur EDI de ce pipeline n'est pas utilisé pour traiter un MDN.</span><span class="sxs-lookup"><span data-stu-id="1a038-106">The AS2EDISend send pipeline is not used to send an outgoing MDN, because the EDI assembler in that pipeline is not used in processing an MDN.</span></span>  
  
## <a name="agreement-resolution-for-an-mdn"></a><span data-ttu-id="1a038-107">Résolution de l'accord pour un MDN</span><span class="sxs-lookup"><span data-stu-id="1a038-107">Agreement Resolution for an MDN</span></span>  
 <span data-ttu-id="1a038-108">Un MDN est acheminé automatiquement.</span><span class="sxs-lookup"><span data-stu-id="1a038-108">An MDN is self-routing.</span></span> <span data-ttu-id="1a038-109">Il contient les informations nécessaires pour être acheminé dans l'accord prévu.</span><span class="sxs-lookup"><span data-stu-id="1a038-109">It contains the information that it needs to be routed to the intended agreement.</span></span> <span data-ttu-id="1a038-110">Le pipeline d'envoi utilise les propriétés d'accord AS2 pour traiter le MDN sortant.</span><span class="sxs-lookup"><span data-stu-id="1a038-110">The send pipeline uses the AS2 agreement properties to process the outgoing MDN.</span></span> <span data-ttu-id="1a038-111">Il n'est cependant pas tenu d'avoir un accord résolu à acheminer vers le tiers.</span><span class="sxs-lookup"><span data-stu-id="1a038-111">However, the MDN does not have to have an agreement resolved for it to be routed to the party.</span></span>  
  
 <span data-ttu-id="1a038-112">Lorsque le pipeline AS2Send traite un MDN sortant, il utilise la valeur AS2-To dans le contexte du message pour obtenir les propriétés d'accord pour traiter le MDN.</span><span class="sxs-lookup"><span data-stu-id="1a038-112">When the AS2Send pipeline processes an outgoing MDN, it uses the AS2-To value in the message context to obtain the agreement properties to process the MDN.</span></span> <span data-ttu-id="1a038-113">Il le fait en faisant correspondre AS2-pour la propriété de contexte et AS2-pour la propriété d’accord dans le **identificateurs** page dans l’onglet d’accord unidirectionnel AS2 dans le **propriétés de l’accord** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="1a038-113">It does so by matching the AS2-To context property with the AS2-To agreement property in the **Identifiers** page in the one-way AS2 agreement tab in the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="1a038-114">Cette résolution d'accord pour le MDN peut échouer si la valeur AS2-To n'est pas définie pour l'accord.</span><span class="sxs-lookup"><span data-stu-id="1a038-114">This agreement resolution for the MDN can fail if the AS2-To value is not set for the agreement.</span></span> <span data-ttu-id="1a038-115">Si l'accord ne peut pas être déterminé, un accord par défaut permet de générer le MDN.</span><span class="sxs-lookup"><span data-stu-id="1a038-115">If the agreement cannot be determined, a default agreement is used to generate the MDN.</span></span>  
  
 <span data-ttu-id="1a038-116">Dans l'accord par défaut pour un MDN sortant, la vérification de la liste de résolution des certificats est effectuée.</span><span class="sxs-lookup"><span data-stu-id="1a038-116">In the default agreement for an outgoing MDN, the certificate resolution list verification is performed.</span></span> <span data-ttu-id="1a038-117">Si vous ne voulez pas que cette vérification ait lieu, vérifiez que la propriété AS2-To correcte est définie, de façon que le tiers qui reçoit puisse être résolu et les propriétés d'accord déterminées.</span><span class="sxs-lookup"><span data-stu-id="1a038-117">If you do not want this verification to be performed, verify that the correct AS2-To agreement property is set, so the receiving party can be resolved and the agreement properties can be determined.</span></span> <span data-ttu-id="1a038-118">Si c'est le cas, l'accord par défaut qui invite à vérifier la liste de résolution des certificats n'est pas utilisé.</span><span class="sxs-lookup"><span data-stu-id="1a038-118">If so, the default agreement that prompts verification of the certificate resolution list will not be used.</span></span> <span data-ttu-id="1a038-119">Vous devez également désactiver la **vérifier la liste de révocation** propriété sur le **Validation** page de l’onglet d’accord unidirectionnel AS2 dans le **propriétés de l’accord** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="1a038-119">You will also need to disable the **Check Certification Revocation List** property on the **Validation** page of the one-way AS2 agreement tab in the **Agreement Properties** dialog box.</span></span>  
  
## <a name="synchronous-and-asynchronous-transmission"></a><span data-ttu-id="1a038-120">Transmissions synchrones et asynchrones</span><span class="sxs-lookup"><span data-stu-id="1a038-120">Synchronous and Asynchronous Transmission</span></span>  
 <span data-ttu-id="1a038-121">Dans le traitement d'AS2 par défaut, un MDN est transmis de façon synchrone.</span><span class="sxs-lookup"><span data-stu-id="1a038-121">In default AS2 processing, an MDN is sent synchronously.</span></span> <span data-ttu-id="1a038-122">Le MDN est envoyé par l’envoi port associé à un double port de réception.</span><span class="sxs-lookup"><span data-stu-id="1a038-122">The MDN is sent by the send port associated with a two-way receive port.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="1a038-123">envoie le MDN sous la forme d’une réponse HTTP à une requête HTTP POST ou une réponse HTTPS à une requête HTTPS POST sur la même connexion TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="1a038-123"> sends the MDN as an HTTP response to an HTTP POST or as an HTTPS response to an HTTPS POST, on the same TCP/IP connection.</span></span> <span data-ttu-id="1a038-124">Le MDN est inclus dans le corps du message de la commande de la réponse HTTP.</span><span class="sxs-lookup"><span data-stu-id="1a038-124">The MDN is included in the message body of the HTTP Response command.</span></span>  
  
 <span data-ttu-id="1a038-125">Si le MDN est envoyé de façon asynchrone, le MDN doit être envoyé par un port d’envoi distinct, qui Récupère le MDN à partir de la MessageBox.</span><span class="sxs-lookup"><span data-stu-id="1a038-125">If the MDN is being sent asynchronously, the MDN must be sent by a separate send port, which picks the MDN up from the MessageBox.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="1a038-126">envoie le MDN comme un HTTP Post séparé remis sur une connexion TCP/IP unique, distincte de celle utilisée pour remettre le message AS2 d’origine.</span><span class="sxs-lookup"><span data-stu-id="1a038-126"> sends the MDN as a separate HTTP Post delivered on a unique TCP/IP connection, distinct from that used to deliver the original AS2 message.</span></span> <span data-ttu-id="1a038-127">Même si le MDN est défini comme HTTP Post séparé, une commande de réponse HTTP est nécessaire pour la publication.</span><span class="sxs-lookup"><span data-stu-id="1a038-127">Even though the MDN is set as a separate HTTP Post, an HTTP Response command is still required for the Post.</span></span>  
  
 <span data-ttu-id="1a038-128">Un MDN asynchrone est normalement envoyé à l'URL contenue dans l'en-tête Receipt-Delivery-Option du message AS2 d'origine.</span><span class="sxs-lookup"><span data-stu-id="1a038-128">An asynchronous MDN will normally be sent to the URL in the Receipt-Delivery-Option header of the original AS2 message.</span></span> <span data-ttu-id="1a038-129">Toutefois, si le **utiliser les paramètres de l’accord pour validation et MDN au lieu de l’en-tête de message** propriété est définie sur le sur le **Validation** page de l’onglet d’accord unidirectionnel AS2 dans le **accord Propriétés** boîte de dialogue, le MDN est envoyé à l’URL qui le **Receipt-Delivery-Option (URL)** a la valeur de propriété d’accord.</span><span class="sxs-lookup"><span data-stu-id="1a038-129">However, if the **Use agreement settings for validation and MDN instead of message header** property is set on the on the **Validation** page of the one-way AS2 agreement tab in the **Agreement Properties** dialog box, the MDN will be sent to the URL that the **Receipt-Delivery-Option (URL)** agreement property is set to.</span></span>  
  
## <a name="how-the-send-pipeline-processes-an-outgoing-mdn"></a><span data-ttu-id="1a038-130">Comment le pipeline d'envoi traite un MDN sortant</span><span class="sxs-lookup"><span data-stu-id="1a038-130">How the Send Pipeline Processes an Outgoing MDN</span></span>  
 <span data-ttu-id="1a038-131">Le pipeline AS2Send traite un MDN sortant comme suit :</span><span class="sxs-lookup"><span data-stu-id="1a038-131">The AS2Send pipeline processes an outgoing MDN are as follows:</span></span>  
  
-   <span data-ttu-id="1a038-132">Effectue le traitement MIME, y compris l’application d’une signature numérique, si activé dans les propriétés d’accord unidirectionnel AS2.</span><span class="sxs-lookup"><span data-stu-id="1a038-132">Performs MIME processing, including applying a digital signature, if enabled in the AS2 one-way agreement properties.</span></span>  
  
-   <span data-ttu-id="1a038-133">Établit des entrées de corrélation dans la base de données de non répudiation (la table  EdiMessageContent de la base de données BizTalkDTADb).</span><span class="sxs-lookup"><span data-stu-id="1a038-133">Makes correlation entries in the non-repudiation database (the EdiMessageContent table of the BizTalkDTADb database).</span></span>  
  
-   <span data-ttu-id="1a038-134">Effectue une copie du MDN (au format câble) et le stocke dans la base de données de non-répudiation, si activé dans le **NRR activé pour les MDN sortants** propriété d’accord.</span><span class="sxs-lookup"><span data-stu-id="1a038-134">Makes a copy of the MDN (in wire format) and stores it in the non-repudiation database, if enabled in the **NRR enabled for outbound MDN** agreement property.</span></span>  
  
-   <span data-ttu-id="1a038-135">Fournit le MDN à l'adaptateur HTTP.</span><span class="sxs-lookup"><span data-stu-id="1a038-135">Delivers the MDN to the HTTP adapter.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1a038-136">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1a038-136">See Also</span></span>  
 <span data-ttu-id="1a038-137">[Envoi des Messages AS2 par BizTalk Server](../core/how-biztalk-server-sends-as2-messages.md) </span><span class="sxs-lookup"><span data-stu-id="1a038-137">[How BizTalk Server Sends AS2 Messages](../core/how-biztalk-server-sends-as2-messages.md) </span></span>  
 [<span data-ttu-id="1a038-138">AS2 Composants d’envoi</span><span class="sxs-lookup"><span data-stu-id="1a038-138">AS2 Send Components</span></span>](../core/as2-send-components.md)