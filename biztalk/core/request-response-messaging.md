---
title: "Messages de requête-réponse | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- request/response messaging, about request/response messaging
- SOAP adapters, message processing
- SOAP adapters, request/response messaging
- request/response messaging
- patterns, messages
- messages, request/response messaging
- request/response messaging, processing
- request/response messaging, SOAP adapters
- messages, patterns
ms.assetid: 1a2f79b5-1f44-4191-8ce1-b3c9043be4f4
caps.latest.revision: "9"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cd612d5f41e4648625a2a28398f20ecf74e0a4e2
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="request-response-messaging"></a><span data-ttu-id="4706e-102">Messages de requête-réponse</span><span class="sxs-lookup"><span data-stu-id="4706e-102">Request-Response Messaging</span></span>
<span data-ttu-id="4706e-103">Dans un modèle de messages de type requête-réponse, le tiers expéditeur envoie un message de requête et le tiers destinataire renvoie un message de réponse.</span><span class="sxs-lookup"><span data-stu-id="4706e-103">In a request/response messaging pattern, one party sends a request message and the receiving party returns a response message.</span></span> <span data-ttu-id="4706e-104">Il existe deux exemples types de traitement requête/réponse : l'interaction entre un navigateur et un serveur Web via l'adaptateur HTTP et le traitement du service Web à l'aide de l'adaptateur SOAP (Simple Object Access Protocol).</span><span class="sxs-lookup"><span data-stu-id="4706e-104">Two typical examples of request/response processing are the interaction that a browser has with a Web server using the HTTP adapter, and Web service processing using the Simple Object Access Protocol (SOAP) adapter.</span></span> <span data-ttu-id="4706e-105">Dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], les messages de requête et de réponse sont tous deux traités d'une manière classique par publication/abonnement.</span><span class="sxs-lookup"><span data-stu-id="4706e-105">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], both the request and the response messages are handled in a typical publish/subscribe fashion.</span></span> <span data-ttu-id="4706e-106">Ceci est important pour savoir à quel moment vous devez ajuster les performances d'une application BizTalk, parce qu'un système nécessitant un débit élevé peut être configuré autrement qu'un système requérant une faible latence pour chaque message individuel.</span><span class="sxs-lookup"><span data-stu-id="4706e-106">This is an important consideration to understand when you performance-tune a BizTalk application, because a system requiring high throughput might be configured differently than one requiring low latency for individual messages.</span></span>  
  
 <span data-ttu-id="4706e-107">![Demande &#47; Messages de réponse](../core/media/arch-request-response-1.gif "arch_request-réponse-1")</span><span class="sxs-lookup"><span data-stu-id="4706e-107">![Request&#47;Response messaging](../core/media/arch-request-response-1.gif "arch_request-response-1")</span></span>  
  
 <span data-ttu-id="4706e-108">Lorsqu'un message est reçu par un adaptateur de réception de type requête/réponse, BizTalk Server publie le message demandé dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="4706e-108">When a message is received by a request/response style receive adapter, BizTalk Server first publishes the request message to the MessageBox database.</span></span> <span data-ttu-id="4706e-109">Ce message est ensuite reçu par l'abonné approprié qui correspond, sans doute, à une orchestration liée à un port de réception.</span><span class="sxs-lookup"><span data-stu-id="4706e-109">Next this message is received by the appropriate subscriber, which is likely an orchestration bound to a receive port.</span></span> <span data-ttu-id="4706e-110">Cet abonné formule un message de réponse et le publie dans la base de données MessageBox avec les propriétés qui ont provoqué son renvoi au port de réception duquel émane la requête.</span><span class="sxs-lookup"><span data-stu-id="4706e-110">This subscriber formulates a response message and publishes it to the MessageBox, along with properties that cause it to be sent back to the receive port from which the request came.</span></span> <span data-ttu-id="4706e-111">Enfin, le message de réponse est recueilli par le distributeur de la requête, à savoir l'adaptateur de réception qui a soumis la requête, et est renvoyé à l'application d'appel.</span><span class="sxs-lookup"><span data-stu-id="4706e-111">Finally, the response message is picked up by the publisher of the request, the receive adapter that submitted the request, and is returned to the calling application.</span></span> <span data-ttu-id="4706e-112">Le diagramme ci-dessous fournit une représentation graphique détaillée de cette procédure.</span><span class="sxs-lookup"><span data-stu-id="4706e-112">The diagram below provides a detailed graphical representation of these steps.</span></span>  
  
 <span data-ttu-id="4706e-113">![Demande &#47; message de réponse reçu par l’adaptateur SOAP](../core/media/arch-request-response-2.gif "arch_request-réponse-2")</span><span class="sxs-lookup"><span data-stu-id="4706e-113">![Request&#47;response message received by SOAP adapter](../core/media/arch-request-response-2.gif "arch_request-response-2")</span></span>  
  
 <span data-ttu-id="4706e-114">**Flux de message de demande/réponse reçu par l’adaptateur SOAP**</span><span class="sxs-lookup"><span data-stu-id="4706e-114">**Flow of request/response message received by SOAP adapter**</span></span>  
  
1.  <span data-ttu-id="4706e-115">L'adaptateur SOAP soumet des messages au Gestionnaire des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="4706e-115">The SOAP adapter submits messages to the Endpoint Manager.</span></span>  
  
2.  <span data-ttu-id="4706e-116">Ce gestionnaire publie le message dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="4706e-116">The Endpoint Manager publishes the message into the MessageBox.</span></span>  
  
3.  <span data-ttu-id="4706e-117">L'orchestration, qui est liée au port de réception et qui dispose donc d'un abonnement au message, reçoit celui-ci et le traite.</span><span class="sxs-lookup"><span data-stu-id="4706e-117">The orchestration, which is bound to the receive port and therefore has a subscription for the message, receives the message and processes it.</span></span>  
  
4.  <span data-ttu-id="4706e-118">L'orchestration envoie un message de réponse qui est publié dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="4706e-118">The orchestration sends a response message that is published to the MessageBox.</span></span>  
  
5.  <span data-ttu-id="4706e-119">Le Gestionnaire des points de terminaison reçoit le message de réponse.</span><span class="sxs-lookup"><span data-stu-id="4706e-119">The Endpoint Manager receives the response message.</span></span>  
  
6.  <span data-ttu-id="4706e-120">Il renvoie la réponse à l'adaptateur SOAP.</span><span class="sxs-lookup"><span data-stu-id="4706e-120">The Endpoint Manager returns the response to the SOAP adapter</span></span>  
  
 <span data-ttu-id="4706e-121">Les implications de ce type de comportement sur les performances risquent de ne pas être suffisamment appréciées si l'implémentation interne n'est pas comprise.</span><span class="sxs-lookup"><span data-stu-id="4706e-121">The implications of this type of behavior on performance can be overlooked if the internal implementation is not understood.</span></span> <span data-ttu-id="4706e-122">À l'origine, BizTalk Server est configuré pour des scénarios de débits élevés. Toutefois, il peut aussi être configuré pour un environnement avec de faibles débits et des besoins de latence peu élevée surtout dans des scénarios de requête/réponse.</span><span class="sxs-lookup"><span data-stu-id="4706e-122">BizTalk Server is initially tuned for high throughput scenarios, but it can also be configured for an environment with lower throughput and a need for lower latency, especially in request/response scenarios.</span></span> <span data-ttu-id="4706e-123">Plusieurs éléments doivent être pris en considération pour ce scénario.</span><span class="sxs-lookup"><span data-stu-id="4706e-123">You need to consider several components for tuning in this scenario.</span></span> <span data-ttu-id="4706e-124">Tout d'abord, les abonnés trouvent des messages publiés via un mécanisme d'interrogation.</span><span class="sxs-lookup"><span data-stu-id="4706e-124">First, subscribers find out about published messages through a polling mechanism.</span></span> <span data-ttu-id="4706e-125">Si l'intervalle d'interrogation est trop grand, les interactions de type requête/réponse risquent d'avoir une latence plus élevée que celle souhaitée.</span><span class="sxs-lookup"><span data-stu-id="4706e-125">If the polling interval is set too high, this could cause request/response style interactions to have a higher latency than you would want.</span></span>  
  
 <span data-ttu-id="4706e-126">Notez que dans ce scénario, il existe deux abonnements doivent être remplis : l’abonnement pour le message initial et celui pour le message de réponse et cela augmente l’impact de cet intervalle d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="4706e-126">Note that in this scenario, there are two subscriptions to be filled: the subscription for the initial message, as well as the one for the response message, and this increases the impact of this polling interval.</span></span> <span data-ttu-id="4706e-127">Ensuite, les adaptateurs de réception sont configurés pour insérer des messages dans la base de données MessageBox par lots de taille variable.</span><span class="sxs-lookup"><span data-stu-id="4706e-127">Second, receive adapters are configured to insert messages into the MessageBox in batches of varying sizes.</span></span> <span data-ttu-id="4706e-128">La plupart des adaptateurs vous permettent de configurer la taille de lot via l'interface de configuration type de l'adaptateur ou via des paramètres de BizTalk Server ou du Registre.</span><span class="sxs-lookup"><span data-stu-id="4706e-128">Most adapters enable you to configure the batch size through the typical adapter configuration interface or through parameters in BizTalk Server or the registry.</span></span> <span data-ttu-id="4706e-129">Si le lot est trop volumineux, la latence des messages individuels peut être augmentée.</span><span class="sxs-lookup"><span data-stu-id="4706e-129">If the batch size is set too high, the latency for individual messages may be increased.</span></span> <span data-ttu-id="4706e-130">Pour plus d’informations sur les caractéristiques de performances de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], consultez [planification des performances de débit soutenu](../core/planning-for-sustained-performance.md).</span><span class="sxs-lookup"><span data-stu-id="4706e-130">For more information about the performance characteristics of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], see [Planning for Sustained Performance](../core/planning-for-sustained-performance.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4706e-131">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="4706e-131">See Also</span></span>  
 [<span data-ttu-id="4706e-132">Architecture d’exécution</span><span class="sxs-lookup"><span data-stu-id="4706e-132">Runtime Architecture</span></span>](../core/runtime-architecture.md)