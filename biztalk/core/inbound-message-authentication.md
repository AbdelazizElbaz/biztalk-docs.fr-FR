---
title: Authentification de Message entrant | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- messages, authenticating
- processing, inbound messages
- messages, inbound
- processing, security
- security, messages
- inbound messages
ms.assetid: 34c06283-667d-4498-8544-dea6e87f276f
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 49ada514c771f4e6dbf0abad3f23cab54721299d
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="inbound-message-authentication"></a><span data-ttu-id="3c204-102">Authentification des messages entrants</span><span class="sxs-lookup"><span data-stu-id="3c204-102">Inbound Message Authentication</span></span>
<span data-ttu-id="3c204-103">BizTalk Server peut authentifier l'expéditeur d'un message (en utilisant soit les informations de certificat, soit la sécurité intégrée de Windows) afin de valider l'identité de celui-ci.</span><span class="sxs-lookup"><span data-stu-id="3c204-103">BizTalk Server can authenticate the sender of a message (either by using the certificate information or Windows integrated security) in order to validate the identity of the sender of the message.</span></span> <span data-ttu-id="3c204-104">La figure suivante montre les fonctionnalités de sécurité dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] permettant d'authentifier les messages entrants.</span><span class="sxs-lookup"><span data-stu-id="3c204-104">The following figure shows the security features in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that you can use to authenticate inbound messages.</span></span>  
  
 <span data-ttu-id="3c204-105">![Fonctionnalités de sécurité authentifiant des messages entrants](../core/media/ebiz-plan-secoverview-auth-inbound.gif "ebiz_plan_secoverview_auth_inbound")</span><span class="sxs-lookup"><span data-stu-id="3c204-105">![Security features authenticating inbound messages](../core/media/ebiz-plan-secoverview-auth-inbound.gif "ebiz_plan_secoverview_auth_inbound")</span></span>  
<span data-ttu-id="3c204-106">Fonctionnalités de sécurité utilisées par BizTalk Server pour authentifier les messages entrants.</span><span class="sxs-lookup"><span data-stu-id="3c204-106">Security features BizTalk Server uses to authenticate inbound messages.</span></span>  
  
 <span data-ttu-id="3c204-107">Lorsque BizTalk Server reçoit un message chiffré et signé, il entreprend les actions suivantes pour s'assurer que l'expéditeur est reconnu :</span><span class="sxs-lookup"><span data-stu-id="3c204-107">When BizTalk Server receives an encrypted and signed message, it takes the following steps to ensure that the sending party is recognized.</span></span>  
  
1.  <span data-ttu-id="3c204-108">Quand un message arrive à l'emplacement de réception de BizTalk Server, le gestionnaire de réception tente d'obtenir l'ID de sécurité Windows (SSID) de l'expéditeur du processus d'envoi.</span><span class="sxs-lookup"><span data-stu-id="3c204-108">When a message arrives at a BizTalk Server receive location, the receive handler attempts to obtain the sender's Windows security ID (SSID) from the sending process.</span></span> <span data-ttu-id="3c204-109">L'emplacement de réception transmet le SSID en aval pour prendre en charge des situations où l'écouteur a déjà authentifié un message signé.</span><span class="sxs-lookup"><span data-stu-id="3c204-109">The receive location passes the SSID downstream to support cases where the listener has already authenticated a signed message.</span></span> <span data-ttu-id="3c204-110">S'il est possible d'obtenir des informations sur le certificat côté client (depuis l'adaptateur HTTP ou Message Queuing BizTalk), l'emplacement de réception BizTalk Server obtient ces informations et les transmet pour la résolution du tiers dans le pipeline de réception.</span><span class="sxs-lookup"><span data-stu-id="3c204-110">If client-side certificate information can be obtained (for example by the BizTalk Message Queuing or HTTP adapter), the BizTalk Server receive location can obtain that certificate information and pass it along for party resolution later on in the receive pipeline.</span></span> <span data-ttu-id="3c204-111">Si le gestionnaire de réception ne peut pas obtenir le SSID, ce champ reste vide.</span><span class="sxs-lookup"><span data-stu-id="3c204-111">If the receive handler cannot obtain the SSID, this field is left blank.</span></span>  
  
     <span data-ttu-id="3c204-112">Le gestionnaire de réception envoie le message au pipeline de réception, où le message est déchiffré, la signature numérique est vérifiée et la résolution du tiers a lieu si le pipeline possède un composant Résolution du tiers.</span><span class="sxs-lookup"><span data-stu-id="3c204-112">The receive handler sends the message to the receive pipeline, where the message is decrypted, the digital signature is verified, and the party resolution takes place if the pipeline has a party resolution component.</span></span> <span data-ttu-id="3c204-113">Si l'expéditeur a utilisé un certificat de signature sur le message entrant, le composant Décodeur MIME/SMIME remplace toutes les informations de certificat obtenues de l'adaptateur.</span><span class="sxs-lookup"><span data-stu-id="3c204-113">If the sender used a signing certificate on the incoming message, then the MIME/SMIME decoder component overwrites any certificate information obtained from the adapter.</span></span>  
  
2.  <span data-ttu-id="3c204-114">Si l'expéditeur a chiffré le message, le décodeur MIME/SMIME récupère le certificat de déchiffrement du magasin de certificats personnel pour le compte de service d'une instance de l'hôte et utilise la clé privée afin de déchiffrer le message.</span><span class="sxs-lookup"><span data-stu-id="3c204-114">If the sender encrypted the message, the MIME/SMIME decoder retrieves the decryption certificate from the personal certificate store for the host instance service account and uses the private key to decrypt the message.</span></span>  
  
     <span data-ttu-id="3c204-115">Si l'expéditeur a signé le message, le décodeur MIME/SMIME authentifie la signature numérique en vérifiant si le hachage de la charge contient des signes de falsification et en récupérant le certificat du magasin de certificats afin de vérifier la signature.</span><span class="sxs-lookup"><span data-stu-id="3c204-115">If the sender signed the message, the MIME/SMIME decoder authenticates the digital signature by verifying the payload hash for signs of tampering, and then retrieving the certificate from the certificate store to verify the signature.</span></span> <span data-ttu-id="3c204-116">Si la clé publique du signataire se trouve dans le message même, le décodeur MIME/SMIME ne récupère pas le certificat du magasin de certificats, mais utilise la clé publique fournie avec le message.</span><span class="sxs-lookup"><span data-stu-id="3c204-116">If the public key of the signer is on the message itself, the MIME/SMIME decoder does not retrieve the certificate from the certificate store, but uses the public key that came with the message.</span></span>  
  
3.  <span data-ttu-id="3c204-117">En général, la dernière étape du traitement dans le pipeline correspond à la résolution du tiers.</span><span class="sxs-lookup"><span data-stu-id="3c204-117">Usually, the final processing step in the pipeline is party resolution.</span></span> <span data-ttu-id="3c204-118">Avec l'Explorateur BizTalk ou la console Administration de BizTalk, vous pouvez créer des tiers, faire correspondre un tiers à un certificat de signature ou créer des alias de tiers.</span><span class="sxs-lookup"><span data-stu-id="3c204-118">Using BizTalk Explorer or BizTalk Server Administration console, you can create parties, map the party to a signing certificate, or create party aliases.</span></span> <span data-ttu-id="3c204-119">Tous les tiers que vous définissez dans l'Explorateur BizTalk possèdent un ID de tiers (PID) unique.</span><span class="sxs-lookup"><span data-stu-id="3c204-119">All parties you define in BizTalk Explorer have a unique party identifier (PID).</span></span> <span data-ttu-id="3c204-120">BizTalk Server obtient le PID et le place dans le contexte du message.</span><span class="sxs-lookup"><span data-stu-id="3c204-120">BizTalk Server obtains the PID and places it in the message context.</span></span> <span data-ttu-id="3c204-121">BizTalk obtient le PID avec l'une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="3c204-121">BizTalk obtains the PID by one of the following methods:</span></span>  
  
    1.  <span data-ttu-id="3c204-122">Si l'expéditeur a signé le message ou si le gestionnaire de réception a pu obtenir un certificat côté client et que vous avez sélectionné l'option pour résoudre le tiers à l'aide du certificat, BizTalk se sert de la signature correspondante ou du certificat côté client pour rechercher le PID.</span><span class="sxs-lookup"><span data-stu-id="3c204-122">If the sender signed the message or if the receive handler was able to obtain a client-side certificate, and you selected the option to resolve the party by using the certificate, then BizTalk uses the corresponding signature or client-side certificate to lookup the PID.</span></span> <span data-ttu-id="3c204-123">Vous devez configurer le tiers avec le certificat en tant que propriété avant de commencer à recevoir des messages de sa part.</span><span class="sxs-lookup"><span data-stu-id="3c204-123">You must configure the party with the certificate as a property before you start receiving its messages.</span></span> <span data-ttu-id="3c204-124">Pour savoir comment configurer le tiers, voir [à l’aide de certificats pour la résolution de tiers](../core/using-certificates-for-party-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="3c204-124">For more information how to configure the party, see [Using Certificates for Party Resolution](../core/using-certificates-for-party-resolution.md).</span></span>  
  
    2.  <span data-ttu-id="3c204-125">Si l'expéditeur n'a pas utilisé un certificat de signature sur le message et que vous avez sélectionné l'option pour résoudre le tiers à l'aide de l'ID de sécurité de l'expéditeur (SSID), le composant Résolution du tiers se sert du SSID pour rechercher le PID.</span><span class="sxs-lookup"><span data-stu-id="3c204-125">If the sender did not use a signing certificate on the message, and you have selected the option to resolve the party by using the Sender's Security ID (SSID), the party resolution component uses the SSID to look up the PID.</span></span> <span data-ttu-id="3c204-126">Vous devez configurer le tiers pour qu'il utilise le SSID comme alias avant de commencer à recevoir des messages de sa part.</span><span class="sxs-lookup"><span data-stu-id="3c204-126">You must configure the party to use the SSID as an alias before you start receiving its messages.</span></span> <span data-ttu-id="3c204-127">Pour plus d’informations sur le composant résolution du tiers, consultez [composant de Pipeline résolution tiers](../core/party-resolution-pipeline-component.md).</span><span class="sxs-lookup"><span data-stu-id="3c204-127">For more information about the party resolution component, see [Party Resolution Pipeline Component](../core/party-resolution-pipeline-component.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="3c204-128">Lors de la définition d'alias pour des tiers, BizTalk Server se sert du nom de compte plutôt que du SID Windows.</span><span class="sxs-lookup"><span data-stu-id="3c204-128">BizTalk Server uses the account name rather than the actual Windows SID when defining aliases for parties.</span></span>  
  
    3.  <span data-ttu-id="3c204-129">Si le tiers ne peut pas être résolu, le pipeline définit le PID sur Invité.</span><span class="sxs-lookup"><span data-stu-id="3c204-129">If the party cannot be resolved, the pipeline sets the PID to Guest.</span></span>  
  
4.  <span data-ttu-id="3c204-130">Si vous avez marqué le port de réception comme Authentification requise et que BizTalk Server a obtenu un PID valide et l'a résolu à un tiers connu, le message est mis en file d'attente dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="3c204-130">If you marked the receive port as Authentication Required, and BizTalk Server obtained a valid PID and resolved it to a known party, the message is then queued to the MessageBox database.</span></span> <span data-ttu-id="3c204-131">Si le SSID est vide ou si le PID est un ID d'invité, BizTalk Server ignore le message ou l'envoie à la file d'attente suspendue (en fonction de votre configuration de la propriété Authentification requise).</span><span class="sxs-lookup"><span data-stu-id="3c204-131">If the SSID is blank or the PID is a guest ID, BizTalk Server either discards the message or sends it to the suspended queue (depending on your configuration of the Authentication Required property).</span></span> <span data-ttu-id="3c204-132">Vous pouvez utiliser la propriété Authentification requise pour limiter l'effet négatif de recevoir une grande quantité de messages d'un tiers inconnu.</span><span class="sxs-lookup"><span data-stu-id="3c204-132">You can use the Authentication Required property as a way of minimizing the negative effect of receiving a large quantity of messages from an unknown party.</span></span> <span data-ttu-id="3c204-133">Pour plus d’informations sur les options d’authentification pour les ports de réception, consultez [comment configurer les Options d’authentification pour un Port de réception](../core/how-to-configure-authentication-options-for-a-receive-port.md).</span><span class="sxs-lookup"><span data-stu-id="3c204-133">For more information about the authentication options for receive ports, see [How to Configure Authentication Options for a Receive Port](../core/how-to-configure-authentication-options-for-a-receive-port.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3c204-134">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="3c204-134">See Also</span></span>  
 <span data-ttu-id="3c204-135">[Authentification des Messages entre des processus](../core/authentication-of-messages-between-processes.md) </span><span class="sxs-lookup"><span data-stu-id="3c204-135">[Authentication of Messages Between Processes](../core/authentication-of-messages-between-processes.md) </span></span>  
 <span data-ttu-id="3c204-136">[Protection des messages sortants](../core/outbound-message-protection.md) </span><span class="sxs-lookup"><span data-stu-id="3c204-136">[Outbound Message Protection](../core/outbound-message-protection.md) </span></span>  
 <span data-ttu-id="3c204-137">[Authentification de l’expéditeur d’un Message](../core/authenticating-the-sender-of-a-message.md) </span><span class="sxs-lookup"><span data-stu-id="3c204-137">[Authenticating the Sender of a Message](../core/authenticating-the-sender-of-a-message.md) </span></span>  
 <span data-ttu-id="3c204-138">[Autorisation du récepteur d’un Message](../core/authorizing-the-receiver-of-a-message.md) </span><span class="sxs-lookup"><span data-stu-id="3c204-138">[Authorizing the Receiver of a Message](../core/authorizing-the-receiver-of-a-message.md) </span></span>  
 <span data-ttu-id="3c204-139">[Comment configurer BizTalk Server pour la réception des Messages signés](../core/how-to-configure-biztalk-server-for-receiving-signed-messages.md) </span><span class="sxs-lookup"><span data-stu-id="3c204-139">[How to Configure BizTalk Server for Receiving Signed Messages](../core/how-to-configure-biztalk-server-for-receiving-signed-messages.md) </span></span>  
 [<span data-ttu-id="3c204-140">Certificats utilisés par BizTalk Server pour les Messages signés</span><span class="sxs-lookup"><span data-stu-id="3c204-140">Certificates that BizTalk Server Uses for Signed Messages</span></span>](../core/certificates-that-biztalk-server-uses-for-signed-messages.md)