---
title: "Modèle d’hébergement de carte | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: cf9a8e6b-8c8d-47ec-b2a3-aed58206121d
caps.latest.revision: "14"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 645a1fcd41650c98c442549a898f7083be770842
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="adapter-hosting-model"></a><span data-ttu-id="09dd3-102">Modèle d’hébergement de carte</span><span class="sxs-lookup"><span data-stu-id="09dd3-102">Adapter Hosting Model</span></span>
<span data-ttu-id="09dd3-103">En général, les adaptateurs BizTalk sont hébergés dans le service BizTalk, Btsntsvc.exe.</span><span class="sxs-lookup"><span data-stu-id="09dd3-103">In general BizTalk adapters are hosted in the BizTalk service, Btsntsvc.exe.</span></span> <span data-ttu-id="09dd3-104">Cela signifie que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] gère la durée de vie de l’adaptateur.</span><span class="sxs-lookup"><span data-stu-id="09dd3-104">This means that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] manages the lifetime of the adapter.</span></span> <span data-ttu-id="09dd3-105">Il existe également des cas de figure (voir ci-dessous) où d'autres processus gèrent les adaptateurs.</span><span class="sxs-lookup"><span data-stu-id="09dd3-105">There are also situations, described below, where other processes manage the adapter.</span></span>  
  
## <a name="in-process-adapters"></a><span data-ttu-id="09dd3-106">Adaptateurs in-process</span><span class="sxs-lookup"><span data-stu-id="09dd3-106">In-Process Adapters</span></span>  
 <span data-ttu-id="09dd3-107">Les cartes qui sont gérés par [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] sont appelés adaptateurs in-process.</span><span class="sxs-lookup"><span data-stu-id="09dd3-107">Adapters that are managed by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] are called in-process adapters.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="09dd3-108">effectue l’opération suivante pour ces adaptateurs :</span><span class="sxs-lookup"><span data-stu-id="09dd3-108"> does the following for these adapters:</span></span>  
  
-   <span data-ttu-id="09dd3-109">Il instancie l'adaptateur dès que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] a démarré.</span><span class="sxs-lookup"><span data-stu-id="09dd3-109">Instantiate the adapter when [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is started</span></span>  
  
-   <span data-ttu-id="09dd3-110">Il transmet à l'adaptateur son proxy de transport durant l'initialisation.</span><span class="sxs-lookup"><span data-stu-id="09dd3-110">Passes the adapter's transport proxy to the adapter during initialization</span></span>  
  
-   <span data-ttu-id="09dd3-111">Il répond aux requêtes de l'adaptateur.</span><span class="sxs-lookup"><span data-stu-id="09dd3-111">Services the adapter's requests</span></span>  
  
-   <span data-ttu-id="09dd3-112">Il met fin à l'adaptateur à la fermeture du service [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09dd3-112">Terminates the adapter on shutdown of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] service</span></span>  
  
 <span data-ttu-id="09dd3-113">Au moment de l'exécution, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] fournit à l'adaptateur des informations sur la configuration des gestionnaires et des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="09dd3-113">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] delivers handler configuration and endpoint configuration information to the adapter at run time.</span></span> <span data-ttu-id="09dd3-114">D'autres points relatifs à la configuration sont spécifiés, comme ceux concernant les fenêtres de service qui définissent des périodes spécifiques durant lesquelles l'adaptateur est activé de manière à gérer activement les requêtes.</span><span class="sxs-lookup"><span data-stu-id="09dd3-114">Other aspects of configuration are specified, such as service windows that define specific time periods during which the adapter is enabled to actively handle requests.</span></span>  
  
 <span data-ttu-id="09dd3-115">Il est possible de fermer manuellement le service BizTalk à l'aide de la console Administration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ou du gestionnaire de contrôle des services.</span><span class="sxs-lookup"><span data-stu-id="09dd3-115">The BizTalk service may be manually shut down by using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console or by using the service control manager.</span></span> <span data-ttu-id="09dd3-116">Si la connectivité avec les bases de données [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] est perdue, le service se recycle automatiquement.</span><span class="sxs-lookup"><span data-stu-id="09dd3-116">If connectivity to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases is lost the service automatically recycles itself.</span></span>  
  
 <span data-ttu-id="09dd3-117">Dans le modèle d'hébergement typique, les adaptateurs côté réception et les adaptateurs côté envoi sont hébergés dans le même processus que le service BizTalk, avec le moteur de messagerie et le moteur d'orchestration.</span><span class="sxs-lookup"><span data-stu-id="09dd3-117">In the typical hosting model, receive-side adapters and send-side adapters are hosted in the same process as the BizTalk service, along with the Messaging Engine and the Orchestration Engine.</span></span> <span data-ttu-id="09dd3-118">Le modèle d'hébergement est suffisamment flexible pour permettre la séparation des hôtes de réception, d'envoi et d'orchestration et la combinaison de ces derniers.</span><span class="sxs-lookup"><span data-stu-id="09dd3-118">The hosting model is flexible enough to allow for separation of receive, send, and orchestration hosts and combinations of these.</span></span> <span data-ttu-id="09dd3-119">Dans la figure ci-dessous, l'hôte exécute les trois dans un même processus.</span><span class="sxs-lookup"><span data-stu-id="09dd3-119">In the following figure, the host is executing all three in the same process.</span></span>  
  
 <span data-ttu-id="09dd3-120">Du fait du modèle d'hébergement riche, il est important, lorsque vous développez des adaptateurs, que vous vous rappeliez que les adaptateurs d'envoi et de réception peuvent éventuellement ne jamais être configurés dans le même hôte.</span><span class="sxs-lookup"><span data-stu-id="09dd3-120">Because of the rich hosting model, it is important when developing adapters to remember that the send and receive adapters may never be configured in the same host.</span></span> <span data-ttu-id="09dd3-121">Il se peut même qu'ils soient configurés pour être exécutés sur plusieurs ordinateurs différents.</span><span class="sxs-lookup"><span data-stu-id="09dd3-121">They may even be configured to run on different computers.</span></span>  
  
 ![](../core/media/regularadapterhostingmodel.gif "RegularAdapterHostingModel")  
<span data-ttu-id="09dd3-122">Le modèle d'hébergement d'adaptateurs in-process</span><span class="sxs-lookup"><span data-stu-id="09dd3-122">The in-process adapter hosting model</span></span>  
  
## <a name="isolated-adapters"></a><span data-ttu-id="09dd3-123">Adaptateurs isolés</span><span class="sxs-lookup"><span data-stu-id="09dd3-123">Isolated Adapters</span></span>  
 <span data-ttu-id="09dd3-124">Il existe des cas où héberger des adaptateurs de réception dans le service BizTalk est impossible.</span><span class="sxs-lookup"><span data-stu-id="09dd3-124">There are scenarios when hosting receive adapters in the BizTalk service is not possible.</span></span> <span data-ttu-id="09dd3-125">Ainsi, le modèle de processus IIS (Internet Information Services) est tel qu'IIS gère la durée de vie des applications ASP.NET et des extensions ISAPI.</span><span class="sxs-lookup"><span data-stu-id="09dd3-125">For example, the Internet Information Services (IIS) process model is such that IIS manages the lifetime of ASP.NET applications and ISAPI extensions.</span></span> <span data-ttu-id="09dd3-126">L'adaptateur SOAP BizTalk doit être exécuté dans le même espace de processus qu'ISS pour que [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ne puisse pas contrôler la durée de vie des instances de l'adaptateur SOAP.</span><span class="sxs-lookup"><span data-stu-id="09dd3-126">The BizTalk SOAP adapter must run within the same process space as IIS, thus making it impossible for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to control the lifetime of any instances of the SOAP adapter.</span></span>  
  
 <span data-ttu-id="09dd3-127">Pour ces types d'adaptateurs, il existe un autre modèle d'hébergement appelé «°adaptateurs de réception isolés », ou simplement « adaptateurs isolés ».</span><span class="sxs-lookup"><span data-stu-id="09dd3-127">For these types of adapters there is another hosting model referred to as isolated receive adapters, or simply isolated adapters.</span></span> <span data-ttu-id="09dd3-128">Par contre, on ne parle pas d'adaptateurs d'envoi isolés.</span><span class="sxs-lookup"><span data-stu-id="09dd3-128">There is no concept of an isolated send adapter.</span></span>  
  
 <span data-ttu-id="09dd3-129">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ne pouvant pas créer un adaptateur isolé, l'adaptateur doit acquérir son propre proxy de transport et s'inscrire lui-même auprès de ce proxy.</span><span class="sxs-lookup"><span data-stu-id="09dd3-129">Because [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] cannot create an isolated adapter, the adapter must acquire its own transport proxy and register itself with that transport proxy.</span></span>  
  
 <span data-ttu-id="09dd3-130">Le schéma suivant illustre l'architecture d'hébergement de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09dd3-130">The following figure illustrates the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] hosting architecture.</span></span> <span data-ttu-id="09dd3-131">Pour des raisons de performances, l'architecture de l'hôte isolé tente d'éliminer toute communication inutile entre processus.</span><span class="sxs-lookup"><span data-stu-id="09dd3-131">For the sake of performance, the isolated host architecture tries to eliminate any unnecessary interprocess communication.</span></span> <span data-ttu-id="09dd3-132">L'adaptateur isolé et la pile du moteur de messagerie BizTalk faisant partie d'un même processus, il n'y a pas de communication entre processus lorsque l'adaptateur appelle le moteur de messagerie.</span><span class="sxs-lookup"><span data-stu-id="09dd3-132">Because the isolated adapter and the BizTalk Messaging Engine stack are in the same process, there is no interprocess communication when the adapter is calling the Messaging Engine.</span></span> <span data-ttu-id="09dd3-133">Dans ce cas, la seule communication entre processus intervient entre le moteur de messagerie et la base de données, ce qui est inévitable.</span><span class="sxs-lookup"><span data-stu-id="09dd3-133">In that scenario the only interprocess communication is between the Messaging Engine and the database, which is unavoidable.</span></span>  
  
 ![](../core/media/isolatedadapters.gif "IsolatedAdapters")  
<span data-ttu-id="09dd3-134">Le modèle d'hébergement d'adaptateurs isolés</span><span class="sxs-lookup"><span data-stu-id="09dd3-134">The isolated adapter hosting model</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="09dd3-135">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="09dd3-135">See Also</span></span>  
 [<span data-ttu-id="09dd3-136">Quelle est l’infrastructure d’adaptateurs ?</span><span class="sxs-lookup"><span data-stu-id="09dd3-136">What Is the Adapter Framework?</span></span>](../core/what-is-the-adapter-framework.md)