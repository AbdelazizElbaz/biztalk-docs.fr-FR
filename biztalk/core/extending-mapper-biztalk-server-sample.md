---
title: Extension du Mappeur (exemple BizTalk Server) | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- BizTalk Mapper, examples
- XML tools
- BizTalk Mapper, extending
- examples, BizTalk Mapper
- examples, XML tools
ms.assetid: 6010a13f-b715-4766-ad91-5aa9b98589e3
caps.latest.revision: "17"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1b2b4538d8bff60330de24f00b6565ed43a9c079
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="extending-mapper-biztalk-server-sample"></a><span data-ttu-id="bd373-102">Extension du Mappeur (exemple BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="bd373-102">Extending Mapper (BizTalk Server Sample)</span></span>
<span data-ttu-id="bd373-103">L'exemple Extending Mapper présente l'utilisation et l'extension du Mappeur BizTalk.</span><span class="sxs-lookup"><span data-stu-id="bd373-103">The Extending Mapper sample demonstrates how to use and extend BizTalk Mapper.</span></span> <span data-ttu-id="bd373-104">L'exemple inclut plusieurs fichiers de mappage (.btm) [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], chacun illustrant des aspects différents du Mappeur BizTalk.</span><span class="sxs-lookup"><span data-stu-id="bd373-104">The sample includes several [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] map files (.btm), each of which illustrates different features of BizTalk Mapper.</span></span>  
  
## <a name="what-this-sample-does"></a><span data-ttu-id="bd373-105">Fonctions de l'exemple</span><span class="sxs-lookup"><span data-stu-id="bd373-105">What This Sample Does</span></span>  
 <span data-ttu-id="bd373-106">L'exemple Extending Mapper s'appuie sur le routage basé sur le contenu et n'utilise pas d'orchestration.</span><span class="sxs-lookup"><span data-stu-id="bd373-106">The Extending Mapper sample uses content-based routing (CBR) and does not use an orchestration.</span></span> <span data-ttu-id="bd373-107">En spécifiant un filtre sur l'exemple de port d'envoi, il est connecté directement à l'exemple de port de réception.</span><span class="sxs-lookup"><span data-stu-id="bd373-107">By specifying a filter on the sample send port, it is connected directly to the sample receive port.</span></span> <span data-ttu-id="bd373-108">Un mappage est spécifié sur le port d'envoi à appliquer au document traité.</span><span class="sxs-lookup"><span data-stu-id="bd373-108">A map is specified on the send port to be applied to the processed document.</span></span>  
  
## <a name="where-to-find-this-sample"></a><span data-ttu-id="bd373-109">Accès à l'exemple</span><span class="sxs-lookup"><span data-stu-id="bd373-109">Where to Find This Sample</span></span>  
 <span data-ttu-id="bd373-110">*\<Exemples de chemin d’accès\>*\XmlTools\ExtendingMapper</span><span class="sxs-lookup"><span data-stu-id="bd373-110">*\<Samples Path\>*\XmlTools\ExtendingMapper</span></span>  
  
 <span data-ttu-id="bd373-111">Le tableau suivant présente les fichiers de cet exemple et décrit leur fonction.</span><span class="sxs-lookup"><span data-stu-id="bd373-111">The following table shows the files in this sample and describes their purpose.</span></span>  
  
|<span data-ttu-id="bd373-112">Fichier(s)</span><span class="sxs-lookup"><span data-stu-id="bd373-112">File(s)</span></span>|<span data-ttu-id="bd373-113"> Description</span><span class="sxs-lookup"><span data-stu-id="bd373-113">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="bd373-114">MapperClassLibrary\AssemblyInfo.cs, MapperClassLibrary\MapperClassLibrary.csproj, MapperClassLibrary\MapperHelper.cs, MapperClassLibrary\MapperClassLibrary.sln</span><span class="sxs-lookup"><span data-stu-id="bd373-114">MapperClassLibrary\AssemblyInfo.cs, MapperClassLibrary\MapperClassLibrary.csproj, MapperClassLibrary\MapperHelper.cs, MapperClassLibrary\MapperClassLibrary.sln</span></span>|<span data-ttu-id="bd373-115">Fichier de projet Microsoft® [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]® et fichiers sources Visual C#®.</span><span class="sxs-lookup"><span data-stu-id="bd373-115">Microsoft® [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]® project file and Visual C#® source files.</span></span>|  
|<span data-ttu-id="bd373-116">Cleanup.bat</span><span class="sxs-lookup"><span data-stu-id="bd373-116">Cleanup.bat</span></span>|<span data-ttu-id="bd373-117">Utilisé pour annuler le déploiement des assemblys et les supprimer du Global Assembly Cache (GAC).</span><span class="sxs-lookup"><span data-stu-id="bd373-117">Used to undeploy assemblies and remove them from the global assembly cache (GAC).</span></span>|  
|<span data-ttu-id="bd373-118">Destination.xsd</span><span class="sxs-lookup"><span data-stu-id="bd373-118">Destination.xsd</span></span>|<span data-ttu-id="bd373-119">Fichier de schéma.</span><span class="sxs-lookup"><span data-stu-id="bd373-119">Schema file.</span></span>|  
|<span data-ttu-id="bd373-120">ExtendingMapper.btproj, ExtendingMapper.sln</span><span class="sxs-lookup"><span data-stu-id="bd373-120">ExtendingMapper.btproj, ExtendingMapper.sln</span></span>|<span data-ttu-id="bd373-121">Fichiers de projet et de solution BizTalk pour cet exemple.</span><span class="sxs-lookup"><span data-stu-id="bd373-121">BizTalk project and solution files for this sample.</span></span>|  
|<span data-ttu-id="bd373-122">ExtendingMapper.xml</span><span class="sxs-lookup"><span data-stu-id="bd373-122">ExtendingMapper.xml</span></span>|<span data-ttu-id="bd373-123">Fichier XML source.</span><span class="sxs-lookup"><span data-stu-id="bd373-123">Source XML.</span></span>|  
|<span data-ttu-id="bd373-124">ExtendingMapperBinding.xml</span><span class="sxs-lookup"><span data-stu-id="bd373-124">ExtendingMapperBinding.xml</span></span>|<span data-ttu-id="bd373-125">Fichier XML de liaison.</span><span class="sxs-lookup"><span data-stu-id="bd373-125">Binding XML.</span></span>|  
|<span data-ttu-id="bd373-126">ExternalAssembly.xml</span><span class="sxs-lookup"><span data-stu-id="bd373-126">ExternalAssembly.xml</span></span>|<span data-ttu-id="bd373-127">Fichier XML d'assembly externe.</span><span class="sxs-lookup"><span data-stu-id="bd373-127">External assembly XML.</span></span>|  
|<span data-ttu-id="bd373-128">OverridingMapXslt.btm</span><span class="sxs-lookup"><span data-stu-id="bd373-128">OverridingMapXslt.btm</span></span>|<span data-ttu-id="bd373-129">Fichier de mappage.</span><span class="sxs-lookup"><span data-stu-id="bd373-129">Map file.</span></span>|  
|<span data-ttu-id="bd373-130">OverridingMapXslt.xml</span><span class="sxs-lookup"><span data-stu-id="bd373-130">OverridingMapXslt.xml</span></span>|<span data-ttu-id="bd373-131">Fichier XML de mappage de remplacement.</span><span class="sxs-lookup"><span data-stu-id="bd373-131">Overriding Map XML.</span></span>|  
|<span data-ttu-id="bd373-132">OverridingMapXslt.xslt</span><span class="sxs-lookup"><span data-stu-id="bd373-132">OverridingMapXslt.xslt</span></span>|<span data-ttu-id="bd373-133">Feuille de style de mappage de remplacement.</span><span class="sxs-lookup"><span data-stu-id="bd373-133">Overriding Map style sheet.</span></span>|  
|<span data-ttu-id="bd373-134">Scriptor_CallExternalAssembly.btm</span><span class="sxs-lookup"><span data-stu-id="bd373-134">Scriptor_CallExternalAssembly.btm</span></span>|<span data-ttu-id="bd373-135">Exemple de fichier de mappage.</span><span class="sxs-lookup"><span data-stu-id="bd373-135">Sample map file.</span></span>|  
|<span data-ttu-id="bd373-136">Scriptor_GlobalVariableInInlineScript.btm</span><span class="sxs-lookup"><span data-stu-id="bd373-136">Scriptor_GlobalVariableInInlineScript.btm</span></span>|<span data-ttu-id="bd373-137">Exemple de fichier de mappage.</span><span class="sxs-lookup"><span data-stu-id="bd373-137">Sample map file.</span></span>|  
|<span data-ttu-id="bd373-138">Scriptor_InlineScripts.btm</span><span class="sxs-lookup"><span data-stu-id="bd373-138">Scriptor_InlineScripts.btm</span></span>|<span data-ttu-id="bd373-139">Exemple de fichier de mappage.</span><span class="sxs-lookup"><span data-stu-id="bd373-139">Sample map file.</span></span>|  
|<span data-ttu-id="bd373-140">Scriptor_InlineXslt.btm</span><span class="sxs-lookup"><span data-stu-id="bd373-140">Scriptor_InlineXslt.btm</span></span>|<span data-ttu-id="bd373-141">Exemple de fichier de mappage.</span><span class="sxs-lookup"><span data-stu-id="bd373-141">Sample map file.</span></span>|  
|<span data-ttu-id="bd373-142">Scriptor_InlineXsltCallingExternalAssembly.btm</span><span class="sxs-lookup"><span data-stu-id="bd373-142">Scriptor_InlineXsltCallingExternalAssembly.btm</span></span>|<span data-ttu-id="bd373-143">Exemple de fichier de mappage.</span><span class="sxs-lookup"><span data-stu-id="bd373-143">Sample map file.</span></span>|  
|<span data-ttu-id="bd373-144">Scriptor_XsltCalltemplate.btm</span><span class="sxs-lookup"><span data-stu-id="bd373-144">Scriptor_XsltCalltemplate.btm</span></span>|<span data-ttu-id="bd373-145">Exemple de fichier de mappage.</span><span class="sxs-lookup"><span data-stu-id="bd373-145">Sample map file.</span></span>|  
|<span data-ttu-id="bd373-146">Setup.bat</span><span class="sxs-lookup"><span data-stu-id="bd373-146">Setup.bat</span></span>|<span data-ttu-id="bd373-147">Utilisé pour créer et initialiser l'exemple.</span><span class="sxs-lookup"><span data-stu-id="bd373-147">Used to build and initialize the sample.</span></span>|  
|<span data-ttu-id="bd373-148">Source.xsd</span><span class="sxs-lookup"><span data-stu-id="bd373-148">Source.xsd</span></span>|<span data-ttu-id="bd373-149">Fichier de schéma.</span><span class="sxs-lookup"><span data-stu-id="bd373-149">Schema file.</span></span>|  
  
## <a name="building-and-initializing-this-sample"></a><span data-ttu-id="bd373-150">Création et initialisation de cet exemple</span><span class="sxs-lookup"><span data-stu-id="bd373-150">Building and Initializing This Sample</span></span>  
 <span data-ttu-id="bd373-151">La procédure suivante permet de créer et d'initialiser l'exemple Extending Mapper.</span><span class="sxs-lookup"><span data-stu-id="bd373-151">Use the following procedure to build and initialize the Extending Mapper sample.</span></span>  
  
#### <a name="to-build-and-initialize-this-sample"></a><span data-ttu-id="bd373-152">Pour créer et initialiser l'exemple</span><span class="sxs-lookup"><span data-stu-id="bd373-152">To build and initialize this sample</span></span>  
  
1.  <span data-ttu-id="bd373-153">Dans une fenêtre de commande, accédez au répertoire (**cd**) dans le dossier suivant :</span><span class="sxs-lookup"><span data-stu-id="bd373-153">In a command window, change directory (**cd**) to the following folder:</span></span>  
  
     <span data-ttu-id="bd373-154">*\<Exemples de chemin d’accès\>*\XmlTools\ExtendingMapper</span><span class="sxs-lookup"><span data-stu-id="bd373-154">*\<Samples Path\>*\XmlTools\ExtendingMapper</span></span>  
  
2.  <span data-ttu-id="bd373-155">Exécutez le fichier Setup.bat, qui effectue les actions suivantes :</span><span class="sxs-lookup"><span data-stu-id="bd373-155">Run the file Setup.bat, which performs the following actions:</span></span>  
  
    -   <span data-ttu-id="bd373-156">Création des dossiers d'entrée (\In) et de sortie (\Out) pour cet exemple</span><span class="sxs-lookup"><span data-stu-id="bd373-156">Creates the input (\In) and output (\Out) folders for this sample.</span></span>  
  
    -   <span data-ttu-id="bd373-157">Compilation et déploiement du projet [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] pour cet exemple</span><span class="sxs-lookup"><span data-stu-id="bd373-157">Compiles and deploys the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] project for this sample.</span></span>  
  
    -   <span data-ttu-id="bd373-158">crée et lie l'emplacement de réception de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], ainsi que les ports d'envoi et de réception :</span><span class="sxs-lookup"><span data-stu-id="bd373-158">Creates and binds the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receive location, and the send and receive ports.</span></span>  
  
     <span data-ttu-id="bd373-159">Si vous voulez utiliser le mappage Scriptor_CallExternalAssembly.btm ou Scriptor_InlineXsltCallingExternalAssembly.btm, ouvrez ExtendingMapper.sln dans Visual Studio et apportez les modifications suivantes (sinon, passez à l'étape 3) :</span><span class="sxs-lookup"><span data-stu-id="bd373-159">If you want to use the Scriptor_CallExternalAssembly.btm or Scriptor_InlineXsltCallingExternalAssembly.btm maps, open ExtendingMapper.sln in Visual Studio and make the following modifications (otherwise go to step 3):</span></span>  
  
    1.  <span data-ttu-id="bd373-160">Dans l'Explorateur de solutions, ouvrez Scriptor_CallExternalAssembly.btm.</span><span class="sxs-lookup"><span data-stu-id="bd373-160">In Solution Explorer, open Scriptor_CallExternalAssembly.btm.</span></span>  
  
    2.  <span data-ttu-id="bd373-161">Dans la grille du Mappeur, sélectionnez le fonctoid Script.</span><span class="sxs-lookup"><span data-stu-id="bd373-161">On the mapper grid, select the Scripting functoid.</span></span>  
  
    3.  <span data-ttu-id="bd373-162">Dans la grille des propriétés, sélectionnez le **Script** propriété, puis cliquez sur le bouton de sélection (...) pour configurer le script du fonctoid.</span><span class="sxs-lookup"><span data-stu-id="bd373-162">In the property grid, select the **Script** property, and click the ellipsis (...) button to configure the functoid script.</span></span>  
  
    4.  <span data-ttu-id="bd373-163">Dans le **configurer le fonctoid script** boîte de dialogue, sélectionnez le **Configuration du fonctoid Script**, spécifiez les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="bd373-163">In the **Configure Scripting Functoid** dialog box, select the **Script Functoid Configuration**, and specify the following:</span></span>  
  
        |<span data-ttu-id="bd373-164">Définition de</span><span class="sxs-lookup"><span data-stu-id="bd373-164">Set this</span></span>|<span data-ttu-id="bd373-165">Sur</span><span class="sxs-lookup"><span data-stu-id="bd373-165">To this</span></span>|  
        |--------------|-------------|  
        |<span data-ttu-id="bd373-166">**Type de script**</span><span class="sxs-lookup"><span data-stu-id="bd373-166">**Script Type**</span></span>|<span data-ttu-id="bd373-167">Assembly externe</span><span class="sxs-lookup"><span data-stu-id="bd373-167">External assembly</span></span>|  
        |<span data-ttu-id="bd373-168">**Assembly du script**</span><span class="sxs-lookup"><span data-stu-id="bd373-168">**Script Assembly**</span></span>|<span data-ttu-id="bd373-169">Microsoft.Samples.BizTalk.ExtendingMapper.MapperClassLibrary</span><span class="sxs-lookup"><span data-stu-id="bd373-169">Microsoft.Samples.BizTalk.ExtendingMapper.MapperClassLibrary</span></span>|  
        |<span data-ttu-id="bd373-170">**Classe du script**</span><span class="sxs-lookup"><span data-stu-id="bd373-170">**Script Class**</span></span>|<span data-ttu-id="bd373-171">Microsoft.Samples.BizTalk.ExtendingMapper.MapperHelper</span><span class="sxs-lookup"><span data-stu-id="bd373-171">Microsoft.Samples.BizTalk.ExtendingMapper.MapperHelper</span></span>|  
        |<span data-ttu-id="bd373-172">**Méthode de script**</span><span class="sxs-lookup"><span data-stu-id="bd373-172">**Script Method**</span></span>|<span data-ttu-id="bd373-173">MyConcat</span><span class="sxs-lookup"><span data-stu-id="bd373-173">MyConcat</span></span>|  
  
    5.  <span data-ttu-id="bd373-174">À partir de la [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] **fichier** menu, choisissez **enregistrer** pour enregistrer les modifications dans le fichier de mappage, puis fermez la solution.</span><span class="sxs-lookup"><span data-stu-id="bd373-174">From the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]**File** menu, choose **Save** to save changes to the map file, and close the solution.</span></span>  
  
3.  <span data-ttu-id="bd373-175">Appuyez sur n'importe quelle touche pour continuer avec Setup.bat.</span><span class="sxs-lookup"><span data-stu-id="bd373-175">Press any key to continue with Setup.bat.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="bd373-176">Si vous voulez utiliser Scriptor_InlineXsltCallingExternalAssembly.btm, vous devez modifier le fichier ExternalAssembly.xml.</span><span class="sxs-lookup"><span data-stu-id="bd373-176">If you want to use Scriptor_InlineXsltCallingExternalAssembly.btm, you must edit the ExternalAssembly.xml file.</span></span> <span data-ttu-id="bd373-177">ExternalAssembly.xml est utilisé par BizTalk pour mapper un espace de noms enregistré comme objet d'extension de mappeur à un assembly .NET.</span><span class="sxs-lookup"><span data-stu-id="bd373-177">ExternalAssembly.xml is used by BizTalk to map a mapper extension object registered namespace to a .NET assembly.</span></span> <span data-ttu-id="bd373-178">Comme l'assembly dépendant est référencé avec son nom complet (y compris son jeton de clé publique automatiquement généré), vous devez mettre à jour cette valeur.</span><span class="sxs-lookup"><span data-stu-id="bd373-178">Because the dependent assembly is referenced by its fully qualified name (including its public key token, which is automatically generated), you must update this value.</span></span> <span data-ttu-id="bd373-179">Si vous ne voulez pas utiliser Scriptor_InlineXsltCallingExternalAssembly.btm, vous ne devez pas effectuer les étapes a à e.</span><span class="sxs-lookup"><span data-stu-id="bd373-179">If you do not want to use Scriptor_InlineXsltCallingExternalAssembly.btm, you do not need to complete steps a through e.</span></span>  
  
4.  <span data-ttu-id="bd373-180">Dans l’Explorateur Windows, accédez à \<dossier Windows\>\assembly\\.</span><span class="sxs-lookup"><span data-stu-id="bd373-180">In Windows Explorer, navigate to \<Windows folder\>\assembly\\.</span></span>  
  
    1.  <span data-ttu-id="bd373-181">Avec le bouton droit **Microsoft.Samples.BizTalk.ExtendingMapper.MapperClassLibrary** et sélectionnez **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="bd373-181">Right-click **Microsoft.Samples.BizTalk.ExtendingMapper.MapperClassLibrary** and select **Properties**.</span></span>  
  
    2.  <span data-ttu-id="bd373-182">Copiez la valeur du jeton de clé publique.</span><span class="sxs-lookup"><span data-stu-id="bd373-182">Copy the public key token value.</span></span>  
  
    3.  <span data-ttu-id="bd373-183">Dans un éditeur de texte, ouvrez  *\<exemples de chemin\>*\XML Tools\ExtendingMapper\ExternalAssembly.xml.</span><span class="sxs-lookup"><span data-stu-id="bd373-183">In a text editor, open *\<Samples Path\>*\XML Tools\ExtendingMapper\ExternalAssembly.xml.</span></span>  
  
    4.  <span data-ttu-id="bd373-184">Sélectionnez le **Microsoft.Samples.BizTalk.extendingmapper.mapperclasslibrary, Version = 1.0.0.0, Culture = neutral, PublicKeyToken = 68496d20c737d84b »**d’attribut, puis remplacez le  **PublicKeyToken** valeur avec le jeton de clé publique valeur que vous avez copiée à l’étape c.</span><span class="sxs-lookup"><span data-stu-id="bd373-184">Select the **AssemblyName="Microsoft.Samples.BizTalk.ExtendingMapper.MapperClassLibrary, Version=1.0.0.0, Culture=neutral, PublicKeyToken=68496d20c737d84b"**attribute, and replace the **PublicKeyToken** value with the public key token value you copied in step c.</span></span>  
  
    5.  <span data-ttu-id="bd373-185">Enregistrez et fermez ExternalAssembly.xml.</span><span class="sxs-lookup"><span data-stu-id="bd373-185">Save and close ExternalAssembly.xml.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="bd373-186">Avant de tenter d'exécuter cet exemple, vous devez vérifier qu'aucune erreur n'a été signalée durant le processus de création et d'initialisation.</span><span class="sxs-lookup"><span data-stu-id="bd373-186">You should confirm that no errors were reported during the build and initialization process before attempting to run this sample.</span></span>  
  
#### <a name="to-configure-enlist-and-start-the-send-port"></a><span data-ttu-id="bd373-187">Pour configurer, inscrire et démarrer le port d'envoi</span><span class="sxs-lookup"><span data-stu-id="bd373-187">To configure, enlist, and start the send port</span></span>  
  
1.  <span data-ttu-id="bd373-188">Cliquez sur **Démarrer**, sélectionnez **tous les programmes**, sélectionnez **Microsoft BizTalk Server**, puis sélectionnez **Administration de BizTalk Server**.</span><span class="sxs-lookup"><span data-stu-id="bd373-188">Click **Start**, select **All Programs**, select **Microsoft BizTalk Server**, and then select **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="bd373-189">Dans la console Administration de BizTalk Server, cliquez pour développer **Administration de BizTalk Server**, cliquez pour développer **groupe BizTalk [\<nom_serveur\>:\<base de données de gestion \>]**et développez **Applications**.</span><span class="sxs-lookup"><span data-stu-id="bd373-189">In the BizTalk Server Administration console, click to expand **BizTalk Server Administration**, click to expand **BizTalk Group [\<servername\>:\<management database\>]**, and click to expand **Applications**.</span></span>  
  
3.  <span data-ttu-id="bd373-190">Cliquez pour développer **ExtendingMapperApplication**, puis cliquez sur **Ports d’envoi**.</span><span class="sxs-lookup"><span data-stu-id="bd373-190">Click to expand **ExtendingMapperApplication**, and then click **Send Ports**.</span></span>  
  
4.  <span data-ttu-id="bd373-191">Dans le volet droit, cliquez sur **Ports d’envoi**, puis cliquez sur **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="bd373-191">In the right pane, right-click **Send Ports**, and then click **Properties**.</span></span>  
  
5.  <span data-ttu-id="bd373-192">Dans le **ExtendingMapperSP – propriétés de Port d’envoi** boîte de dialogue, cliquez sur le **mappages sortants** page.</span><span class="sxs-lookup"><span data-stu-id="bd373-192">In the **ExtendingMapperSP – Send Port Properties** dialog box, click the **Outbound Maps** page.</span></span>  
  
     <span data-ttu-id="bd373-193">Dans le **carte** colonne, sélectionnez le mappage requis dans la liste déroulante, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="bd373-193">In the **Map** column, select the required map from the drop-down list, and then click **OK**.</span></span> <span data-ttu-id="bd373-194">Ces mappages sont décrits dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="bd373-194">The maps are described in the following table.</span></span>  
  
    |<span data-ttu-id="bd373-195">Propriété Mappage à appliquer</span><span class="sxs-lookup"><span data-stu-id="bd373-195">Map to apply Property</span></span>|<span data-ttu-id="bd373-196"> Description</span><span class="sxs-lookup"><span data-stu-id="bd373-196">Description</span></span>|  
    |---------------------------|-----------------|  
    |<span data-ttu-id="bd373-197">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="bd373-197">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="bd373-198">Scriptor_CallExternalAssembly</span><span class="sxs-lookup"><span data-stu-id="bd373-198">Scriptor_CallExternalAssembly</span></span>|<span data-ttu-id="bd373-199">Montre comment appeler une fonction dans un assembly .NET externe depuis un **script** fonctoid dans un mappage, en fonction des paramètres d’entrée pour ce fonctoid.</span><span class="sxs-lookup"><span data-stu-id="bd373-199">Demonstrates how to call into a function in an external .NET assembly from a **Scripting** functoid in a map, based on the input parameters to this functoid.</span></span> <span data-ttu-id="bd373-200">Cela permet de séparer clairement toute logique de traitement du fichier de mappage.</span><span class="sxs-lookup"><span data-stu-id="bd373-200">This helps cleanly separate any processing logic from the map file.</span></span> <span data-ttu-id="bd373-201">Ce fichier de mappage utilise l'assembly MapperClassLibrary.dll qui est livré avec cet exemple.</span><span class="sxs-lookup"><span data-stu-id="bd373-201">This map file uses the assembly MapperClassLibrary.dll that ships with this sample.</span></span>|  
    |<span data-ttu-id="bd373-202">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="bd373-202">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="bd373-203">Scriptor_InlineScripts</span><span class="sxs-lookup"><span data-stu-id="bd373-203">Scriptor_InlineScripts</span></span>|<span data-ttu-id="bd373-204">Montre comment écrire de simples scripts inline **script** fonctoids dans un fichier de mappage à l’aide des langages .NET tels que c#, Visual Basic.NET et JScript.NET.</span><span class="sxs-lookup"><span data-stu-id="bd373-204">Demonstrates how to write simple inline scripts inside **Scripting** functoids in a map file using .NET languages such as C#, Visual Basic.NET, and JScript.NET.</span></span>|  
    |<span data-ttu-id="bd373-205">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="bd373-205">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="bd373-206">Scriptor_GlobalVariableInInlineScript</span><span class="sxs-lookup"><span data-stu-id="bd373-206">Scriptor_GlobalVariableInInlineScript</span></span>|<span data-ttu-id="bd373-207">Montre comment utiliser des variables globales dans les scripts inline de **script** fonctoids.</span><span class="sxs-lookup"><span data-stu-id="bd373-207">Demonstrates how to use global variables in the inline scripts of **Scripting** functoids.</span></span> <span data-ttu-id="bd373-208">Les variables globales sont généralement utilisées pour mettre à jour les informations d’état dans un fichier de mappage entre les différentes **script** fonctoids.</span><span class="sxs-lookup"><span data-stu-id="bd373-208">Global variables are usually used to maintain state information in a map file across different **Scripting** functoids.</span></span>|  
    |<span data-ttu-id="bd373-209">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="bd373-209">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="bd373-210">Scriptor_InlineXslt</span><span class="sxs-lookup"><span data-stu-id="bd373-210">Scriptor_InlineXslt</span></span>|<span data-ttu-id="bd373-211">Montre comment construire la structure du document de destination à l’aide d’un inline XSLT brut à l’intérieur d’un **script** fonctoid dans le mappage.</span><span class="sxs-lookup"><span data-stu-id="bd373-211">Demonstrates how to construct structure in the destination document using raw inline XSLT inside a **Scripting** functoid in the map.</span></span> <span data-ttu-id="bd373-212">Vous pouvez construire certaines parties du document de destination avec **script** fonctoids avec inline XSLT, lorsqu’il n’est pas possible de le faire dans le Mappeur BizTalk à l’aide d’autres fonctoids.</span><span class="sxs-lookup"><span data-stu-id="bd373-212">You can construct some parts of the destination document using **Scripting** functoids with inline XSLT whenever it is not possible to do that in BizTalk Mapper using other functoids.</span></span>|  
    |<span data-ttu-id="bd373-213">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="bd373-213">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="bd373-214">Scriptor_XsltCalltemplate</span><span class="sxs-lookup"><span data-stu-id="bd373-214">Scriptor_XsltCalltemplate</span></span>|<span data-ttu-id="bd373-215">Montre comment créer la structure du document de destination à l’aide d’un modèle d’appel XSLT à l’intérieur d’un **script** fonctoid dans le mappage.</span><span class="sxs-lookup"><span data-stu-id="bd373-215">Demonstrates how to create structure in the destination document using an XSLT Call template inside a **Scripting** functoid in the map.</span></span> <span data-ttu-id="bd373-216">L’avantage d’un modèle d’appel XSLT inline XSLT est que le modèle d’appel peut accepter des paramètres, vous pouvez donc créer la structure en fonction des paramètres d’entrée pour le **script** fonctoid.</span><span class="sxs-lookup"><span data-stu-id="bd373-216">The advantage of an XSLT Call template over inline XSLT is that the call template can accept parameters, so you can create the structure based on input parameters to the **Scripting** functoid.</span></span> <span data-ttu-id="bd373-217">Vous pouvez construire certaines parties du document de destination avec **script** fonctoids avec inline XSLT, lorsqu’il n’est pas possible de le faire dans le Mappeur BizTalk à l’aide d’autres fonctoids.</span><span class="sxs-lookup"><span data-stu-id="bd373-217">You can construct some parts of the destination document using **Scripting** functoids with inline XSLT whenever it is not possible to do that in BizTalk Mapper using other functoids.</span></span>|  
    |<span data-ttu-id="bd373-218">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="bd373-218">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="bd373-219">Scriptor_InlineXsltCallingExternalAssembly</span><span class="sxs-lookup"><span data-stu-id="bd373-219">Scriptor_InlineXsltCallingExternalAssembly</span></span>|<span data-ttu-id="bd373-220">Montre comment appeler un assembly .NET externe depuis l’Inline XSLT d’un **script** fonctoid dans un mappage.</span><span class="sxs-lookup"><span data-stu-id="bd373-220">Demonstrates how to call into an external .NET assembly from inside The inline XSLT of a **Scripting** functoid in a map.</span></span> <span data-ttu-id="bd373-221">Explique comment vous pouvez substituer le **XML avec extensions personnalisées** propriété de la grille du Mappeur BizTalk avec le fichier d’extension personnalisé ExternalAssembly_extxml.xml qui contient les détails de l’assembly .NET externe à appeler.</span><span class="sxs-lookup"><span data-stu-id="bd373-221">Explains how you can override the **Custom Extension XML** property of the BizTalk Mapper grid with the custom extension file ExternalAssembly_extxml.xml that contains the details of the external .NET assembly to invoke.</span></span> <span data-ttu-id="bd373-222">Vous pouvez construire certaines parties du document de destination avec **script** fonctoids avec inline XSLT, lorsqu’il n’est pas possible de le faire dans l’interface utilisateur du Mappeur à l’aide d’autres fonctoids.</span><span class="sxs-lookup"><span data-stu-id="bd373-222">You can construct some parts of the destination document using **Scripting** functoids with inline XSLT whenever it is not possible to do that in the Mapper UI using other functoids.</span></span>|  
    |<span data-ttu-id="bd373-223">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="bd373-223">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="bd373-224">OverridingMapXslt</span><span class="sxs-lookup"><span data-stu-id="bd373-224">OverridingMapXslt</span></span>|<span data-ttu-id="bd373-225">Illustre le remplacement complet du XSLT compilé du fichier du Mappeur BizTalk par un fichier XSLT personnalisé.</span><span class="sxs-lookup"><span data-stu-id="bd373-225">Demonstrates how to completely override the compiled XSLT of the BizTalk Mapper file with a custom XSLT file.</span></span> <span data-ttu-id="bd373-226">Vous faire cela en substituant le **chemin du XSL personnalisé**propriété et éventuellement le **XML avec extensions personnalisées** propriété de la grille du Mappeur BizTalk.</span><span class="sxs-lookup"><span data-stu-id="bd373-226">You can do this by overriding the **Custom XSL Path**property and optionally the **Custom Extension XML** property of the BizTalk Mapper grid.</span></span> <span data-ttu-id="bd373-227">Le fichier XSLT personnalisé que vous fournissez est inclus dans l'assembly [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] compilé du projet à utiliser au moment de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="bd373-227">The custom XSLT file that you provide is included in the compiled [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] assembly of the project you want to use at run time.</span></span> <span data-ttu-id="bd373-228">Dans ce cas, le contenu du fichier de mappage (.btm) est ignoré.</span><span class="sxs-lookup"><span data-stu-id="bd373-228">In this case, the contents of the map file (.btm) are ignored.</span></span> <span data-ttu-id="bd373-229">Ce fichier de mappage utilise OverridingMapXslt.xslt et OverridingMapXslt.xml pour le **chemin du XSL personnalisé** et **XML avec extensions personnalisées** propriétés, respectivement.</span><span class="sxs-lookup"><span data-stu-id="bd373-229">This map file uses OverridingMapXslt.xslt and OverridingMapXslt.xml for the **Custom XSL Path** and **Custom Extension XML** properties, respectively.</span></span><br /><br /> <span data-ttu-id="bd373-230">Vous pouvez valider un fichier de mappage dans l'Explorateur de solutions.</span><span class="sxs-lookup"><span data-stu-id="bd373-230">You can validate a map file in Solution Explorer.</span></span> <span data-ttu-id="bd373-231">Vous pouvez ensuite l’utiliser en tant que fichier de modèle que vous pouvez modifier et utiliser pour la **chemin du XSL personnalisé** propriété de la grille du Mappeur BizTalk.</span><span class="sxs-lookup"><span data-stu-id="bd373-231">You can then use it as a template file that you can edit and use for the **Custom XSL Path** property of the BizTalk Mapper grid.</span></span> <span data-ttu-id="bd373-232">Vous pouvez recourir à cette option lorsqu'il n'est pas possible de produire ce XSLT à l'aide du Mappeur BizTalk.</span><span class="sxs-lookup"><span data-stu-id="bd373-232">You can resort to this option whenever it is not possible to produce this XSLT using BizTalk Mapper.</span></span>|  
  
## <a name="running-this-sample"></a><span data-ttu-id="bd373-233">Cet exemple en cours d’exécution</span><span class="sxs-lookup"><span data-stu-id="bd373-233">Running This Sample</span></span>  
 <span data-ttu-id="bd373-234">La procédure suivante permet d'exécuter l'exemple Extending Mapper.</span><span class="sxs-lookup"><span data-stu-id="bd373-234">Use the following procedure to run the Extending Mapper sample.</span></span>  
  
#### <a name="to-run-this-sample"></a><span data-ttu-id="bd373-235">Pour exécuter l'exemple</span><span class="sxs-lookup"><span data-stu-id="bd373-235">To run this sample</span></span>  
  
1.  <span data-ttu-id="bd373-236">Copie l’entrée de fichier ExtendingMapper.xml dans le dossier d’entrée à  *\<exemples de chemin\>*\XmlTools\ExtendingMapper\In.</span><span class="sxs-lookup"><span data-stu-id="bd373-236">Copy the input file ExtendingMapper.xml into the input folder at *\<Samples Path\>*\XmlTools\ExtendingMapper\In.</span></span>  
  
2.  <span data-ttu-id="bd373-237">Remarquez que le fichier est transformé et acheminé vers le  *\<exemples de chemin\>*dossier \XmlTools\ExtendingMapper\Out.</span><span class="sxs-lookup"><span data-stu-id="bd373-237">Notice how the file is transformed and routed to the *\<Samples Path\>*\XmlTools\ExtendingMapper\Out folder.</span></span> <span data-ttu-id="bd373-238">La transformation qui se produit est basée sur le mappage que vous avez appliqué.</span><span class="sxs-lookup"><span data-stu-id="bd373-238">The transformation that occurs is based on the map you applied.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bd373-239">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="bd373-239">See Also</span></span>  
 [<span data-ttu-id="bd373-240">Outils XML (dossier d’exemples BizTalk Server)</span><span class="sxs-lookup"><span data-stu-id="bd373-240">XML Tools (BizTalk Server Samples Folder)</span></span>](../core/xml-tools-biztalk-server-samples-folder.md)