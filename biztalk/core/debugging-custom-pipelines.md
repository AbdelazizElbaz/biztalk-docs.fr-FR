---
title: "Débogage des Pipelines personnalisés | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 27e5445a-6415-4c52-a450-b74a71fc4aa2
caps.latest.revision: "10"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: be0c8714f0349ad415beca010795d2cb0b57aabb
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="debugging-custom-pipelines"></a><span data-ttu-id="8236d-102">Débogage des pipelines personnalisés</span><span class="sxs-lookup"><span data-stu-id="8236d-102">Debugging Custom Pipelines</span></span>
<span data-ttu-id="8236d-103">Lorsque le traitement d'un message dans votre pipeline personnalisé échoue, utilisez les outils de débogage au niveau du code source pour identifier et corriger les problèmes.</span><span class="sxs-lookup"><span data-stu-id="8236d-103">When message processing fails in your custom pipeline, you can use source level debugging to identify and correct problems.</span></span> <span data-ttu-id="8236d-104">Le débogage au niveau du code source s'effectue par l'intermédiaire du débogueur  [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] en joignant BTSNTSVC.exe (si le pipeline personnalisé est déployé) ou Pipeline.exe (en cas d'utilisation de l'outil pipeline autonome).</span><span class="sxs-lookup"><span data-stu-id="8236d-104">Source level debugging is done using the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] debugger by attaching to BTSNTSVC.exe (if the custom pipeline is deployed) or Pipeline.exe (if using the stand-alone pipeline tool).</span></span>  
  
## <a name="procedures"></a><span data-ttu-id="8236d-105">Procédures</span><span class="sxs-lookup"><span data-stu-id="8236d-105">Procedures</span></span>  
 <span data-ttu-id="8236d-106">Les procédures suivantes permettent de déboguer les pipelines personnalisés.</span><span class="sxs-lookup"><span data-stu-id="8236d-106">Use the following procedures to debug custom pipelines.</span></span>  
  
### <a name="how-to-debug-a-deployed-pipeline"></a><span data-ttu-id="8236d-107">Débogage d'un pipeline déployé</span><span class="sxs-lookup"><span data-stu-id="8236d-107">How to Debug a Deployed Pipeline</span></span>  
 <span data-ttu-id="8236d-108">Les requêtes de suivi via la page Hub du groupe et les observateurs d'événements fournissent des informations utiles au sujet des échecs de traitement des messages dans les composants déployés.</span><span class="sxs-lookup"><span data-stu-id="8236d-108">Tracking queries from the Group Hub page, and the event viewers, provide useful information about message processing failures in deployed components.</span></span> <span data-ttu-id="8236d-109">Ces informations permettent souvent de déterminer l'origine d'un problème.</span><span class="sxs-lookup"><span data-stu-id="8236d-109">This information can often be used to narrow down the origin of a problem.</span></span> <span data-ttu-id="8236d-110">Dans le cas d'un pipeline personnalisé, le débogage au niveau du code source permet d'identifier les sections de code problématiques.</span><span class="sxs-lookup"><span data-stu-id="8236d-110">Once a custom pipeline has been implicated, source level debugging can be used to identify any problematic code.</span></span>  
  
##### <a name="to-debug-a-deployed-custom-pipeline-using-visual-studio"></a><span data-ttu-id="8236d-111">Pour déboguer un pipeline personnalisé déployé à l'aide de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="8236d-111">To Debug a Deployed Custom Pipeline using Visual Studio</span></span>  
  
1.  <span data-ttu-id="8236d-112">Chargez la solution de projet du pipeline personnalisé dans [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8236d-112">Load the custom pipeline project solution into [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span>  
  
2.  <span data-ttu-id="8236d-113">Modifiez le chemin de sortie pour votre solution à  *\<dossier d’Installation\>*\Pipeline Components.</span><span class="sxs-lookup"><span data-stu-id="8236d-113">Change the output path for your solution to *\<Installation Folder\>*\Pipeline Components.</span></span> <span data-ttu-id="8236d-114">Dans l’Explorateur de solutions, cliquez sur votre projet et cliquez sur l’onglet Générer, puis modifiez le chemin de sortie en cliquant sur le **Parcourir** bouton et en sélectionnant le  *\<dossier d’Installation\>* Répertoire \Pipeline components.</span><span class="sxs-lookup"><span data-stu-id="8236d-114">In Solution Explorer, right-click your project, click the Build tab, and then change the Output Path by clicking the **Browse** button and selecting the *\<Installation Folder\>*\Pipeline Components directory.</span></span>  
  
3.  <span data-ttu-id="8236d-115">Depuis [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], déployez la solution en cliquant sur **générer** &#124; **Déployer**.</span><span class="sxs-lookup"><span data-stu-id="8236d-115">From within [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], deploy the solution by clicking **Build** &#124; **Deploy**.</span></span>  
  
4.  <span data-ttu-id="8236d-116">Redémarrez l'instance de l'hôte qui exécute le pipeline.</span><span class="sxs-lookup"><span data-stu-id="8236d-116">Restart the host instance that runs the pipeline.</span></span> <span data-ttu-id="8236d-117">À l’aide de la console Administration de BizTalk Server, accédez à l’instance d’hôte qui exécute le pipeline, cliquez sur l’instance d’hôte, puis cliquez sur **redémarrer**.</span><span class="sxs-lookup"><span data-stu-id="8236d-117">Using the BizTalk Server Management console, navigate to the host instance that runs the pipeline, right-click the host instance then click **Restart**.</span></span>  
  
5.  <span data-ttu-id="8236d-118">Attacher le [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] débogueur BTSNtSvc.exe.</span><span class="sxs-lookup"><span data-stu-id="8236d-118">Attach the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] debugger to BTSNTSVC.exe.</span></span> <span data-ttu-id="8236d-119">Cela est possible en cliquant sur **déboguer** &#124; **Attacher au processus**et cliquez sur Afficher les processus de toutes les sessions, puis double-cliquez sur BTSNTSVC.exe.</span><span class="sxs-lookup"><span data-stu-id="8236d-119">This can be done by clicking **Debug** &#124; **Attach to Process**, click Show processes in all sessions, and then double-click BTSNTSVC.exe.</span></span>  
  
6.  <span data-ttu-id="8236d-120">Définir les points d'arrêt.</span><span class="sxs-lookup"><span data-stu-id="8236d-120">Set breakpoints.</span></span>  
  
7.  <span data-ttu-id="8236d-121">Laissez un message à l'emplacement approprié pour initier le composant de pipeline personnalisé.</span><span class="sxs-lookup"><span data-stu-id="8236d-121">Drop a message in the appropriate location to initiate the custom pipeline component.</span></span> <span data-ttu-id="8236d-122">Le traitement doit s'arrêter aux points d'arrêt définis.</span><span class="sxs-lookup"><span data-stu-id="8236d-122">Processing should halt on the breakpoints you set.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8236d-123">Si votre code génère une exception, BizTalk Server l'intercepte et suspend le message.</span><span class="sxs-lookup"><span data-stu-id="8236d-123">If your code throws an exception, BizTalk Server will catch it and ultimately suspend the message.</span></span> <span data-ttu-id="8236d-124">Pour éviter cela, interrompez le traitement aux exceptions de première chance.</span><span class="sxs-lookup"><span data-stu-id="8236d-124">To avoid this behavior, you should break on first chance exceptions.</span></span>  
  
### <a name="how-to-debug-using-pipelineexe"></a><span data-ttu-id="8236d-125">Débogage à l'aide de Pipeline.exe</span><span class="sxs-lookup"><span data-stu-id="8236d-125">How to Debug Using Pipeline.exe</span></span>  
 <span data-ttu-id="8236d-126">Vous pouvez également tester des pipelines personnalisés à l’aide de Pipeline.exe.</span><span class="sxs-lookup"><span data-stu-id="8236d-126">You can also test custom pipelines using Pipeline.exe.</span></span> <span data-ttu-id="8236d-127">Cela a l’avantage de ne pas vous obliger à déployer le pipeline au ne pas en cours d’exécution dans des conditions similaires en production.</span><span class="sxs-lookup"><span data-stu-id="8236d-127">This has the advantage of not requiring you to deploy the pipeline at the expense of not running under conditions similar to production.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8236d-128">Si votre pipeline personnalisé utilise l'assembleur ou le désassembleur de fichier plat, Pipeline.exe ne s'exécutera pas correctement.</span><span class="sxs-lookup"><span data-stu-id="8236d-128">If your custom pipeline uses the flat file assembler / disassembler, Pipeline.exe will not execute properly.</span></span> <span data-ttu-id="8236d-129">Cela est dû au fait que Pipeline.exe n'a pas accès à la base de données BizTalk.</span><span class="sxs-lookup"><span data-stu-id="8236d-129">This is because Pipeline.exe does not access the BizTalk database.</span></span> <span data-ttu-id="8236d-130">Une solution consiste à supprimer de l’assembleur / composants désassembleur et de les tester séparément avec FFDasm.exe et FFAsm.exe.</span><span class="sxs-lookup"><span data-stu-id="8236d-130">One solution is to remove the assembler / disassembler components and test them separately with FFDasm.exe and FFAsm.exe.</span></span> <span data-ttu-id="8236d-131">Consultez [outils de Pipeline](../core/pipeline-tools.md) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="8236d-131">See [Pipeline Tools](../core/pipeline-tools.md) for more information.</span></span>  
  
##### <a name="to-debug-a-custom-pipeline-using-pipelineexe-and-visual-studio"></a><span data-ttu-id="8236d-132">Pour déboguer un pipeline personnalisé à l'aide de Pipeline.exe et de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="8236d-132">To Debug a Custom Pipeline using Pipeline.exe and Visual Studio</span></span>  
  
1.  <span data-ttu-id="8236d-133">Chargez la solution de projet du pipeline personnalisé dans [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8236d-133">Load the custom pipeline project solution into [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span>  
  
2.  <span data-ttu-id="8236d-134">Modifiez le chemin de sortie pour votre solution à  *\<dossier d’Installation\>*\Pipeline Components.</span><span class="sxs-lookup"><span data-stu-id="8236d-134">Change the output path for your solution to *\<Installation Folder\>*\Pipeline Components.</span></span> <span data-ttu-id="8236d-135">Dans l’Explorateur de solutions, cliquez sur votre projet et cliquez sur l’onglet Générer, puis modifiez le chemin de sortie en cliquant sur le **Parcourir** bouton et en sélectionnant le  *\<dossier d’Installation\>* Répertoire \Pipeline components.</span><span class="sxs-lookup"><span data-stu-id="8236d-135">In Solution Explorer, right-click your project, click the Build tab, and then change the Output Path by clicking the **Browse** button and selecting the *\<Installation Folder\>*\Pipeline Components directory.</span></span>  
  
3.  <span data-ttu-id="8236d-136">Modifiez l'action de démarrage pour votre solution.</span><span class="sxs-lookup"><span data-stu-id="8236d-136">Change the start action for your solution.</span></span> <span data-ttu-id="8236d-137">Dans l’Explorateur de solutions, cliquez sur votre projet, cliquez sur l’onglet Déboguer, cliquez sur Démarrer le programme externe, puis cliquez sur **...**</span><span class="sxs-lookup"><span data-stu-id="8236d-137">In Solution Explorer, right-click your project, click the Debug tab, click Start external program, then click **…**</span></span> <span data-ttu-id="8236d-138">Accédez à  *\<dossier d’Installation\>*\SDK\Utilities\PipelineTools et choisissez Pipeline.exe.</span><span class="sxs-lookup"><span data-stu-id="8236d-138">and navigate to *\<Installation Folder\>*\SDK\Utilities\PipelineTools and choose Pipeline.exe.</span></span> <span data-ttu-id="8236d-139">Sous les Options de démarrage, entrez les arguments de ligne de commande appropriées pour votre composant.</span><span class="sxs-lookup"><span data-stu-id="8236d-139">Under Start Options, enter the command line arguments appropriate for your component.</span></span> <span data-ttu-id="8236d-140">Pour plus d’informations sur Pipeline.exe, voir [outils de Pipeline](../core/pipeline-tools.md).</span><span class="sxs-lookup"><span data-stu-id="8236d-140">For more information on Pipeline.exe, see [Pipeline Tools](../core/pipeline-tools.md).</span></span> <span data-ttu-id="8236d-141">La configuration typique spécifie le pipeline et un exemple de fichier :</span><span class="sxs-lookup"><span data-stu-id="8236d-141">A typical configuration specifies the pipeline and a sample file:</span></span>  
  
    ```  
    <Path>\YourPipeline.btp -d <Path>\YourTestFile.txt -c  
    ```  
  
4.  <span data-ttu-id="8236d-142">Définissez vos points d'arrêt.</span><span class="sxs-lookup"><span data-stu-id="8236d-142">Set your breakpoints.</span></span>  
  
5.  <span data-ttu-id="8236d-143">Appuyez sur F5 pour commencer le débogage.</span><span class="sxs-lookup"><span data-stu-id="8236d-143">Press F5 to begin debugging.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8236d-144">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="8236d-144">See Also</span></span>  
 [<span data-ttu-id="8236d-145">Outils de pipeline</span><span class="sxs-lookup"><span data-stu-id="8236d-145">Pipeline Tools</span></span>](../core/pipeline-tools.md)