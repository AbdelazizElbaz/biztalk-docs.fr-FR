---
title: "Comment BizTalk Server implémente la limitation des hôtes | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- host throttling, rate based throttling
- host throttling, outbound
- host throttling, algorithm
- host throttling, components
- host throttling, inbound
- host throttling, resource based throttling
- host throttling, user controlled throttling
- host throttling, strategies
ms.assetid: 46d3c3de-66b9-4c8a-8369-e68563fc9c40
caps.latest.revision: "27"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1944b61f9710b02f4e6db18a38972849847c532e
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="how-biztalk-server-implements-host-throttling"></a><span data-ttu-id="e6f40-102">Implémentation de la limitation des hôtes par BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="e6f40-102">How BizTalk Server Implements Host Throttling</span></span>
<span data-ttu-id="e6f40-103">Le mécanisme de limitation des hôtes de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] recherche en permanence la présence d'une condition de limitation, calcule la gravité de la condition de limitation et applique la limitation progressivement en fonction de la gravité calculée.</span><span class="sxs-lookup"><span data-stu-id="e6f40-103">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] host throttling mechanism continually monitors for a throttling condition, calculates the severity of the throttling condition, and applies host throttling progressively depending on the calculated severity.</span></span> <span data-ttu-id="e6f40-104">Le mécanisme de limitation est autoréglable et les options de configuration par défaut sont adaptées à la majorité des [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] des scénarios de traitement.</span><span class="sxs-lookup"><span data-stu-id="e6f40-104">The throttling mechanism is self tuning and the default configuration options are suitable for the majority of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] processing scenarios.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="e6f40-105">limitation de l’hôte expose plusieurs options configurables qui peuvent être utilisées pour régler la limitation pour des scénarios spécifiques.</span><span class="sxs-lookup"><span data-stu-id="e6f40-105"> host throttling exposes several configurable options that can be used to tune throttling for specific scenarios.</span></span> <span data-ttu-id="e6f40-106">Pour plus d’informations sur la modification de ces options de configuration, consultez [comment modifier les paramètres de l’hôte](../core/how-to-modify-host-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-106">For information about changing these configuration options, see [How to Modify Host Settings](../core/how-to-modify-host-settings.md).</span></span>  
  
## <a name="components-of-the-host-throttling-algorithm"></a><span data-ttu-id="e6f40-107">Composants de l'algorithme de limitation des hôtes</span><span class="sxs-lookup"><span data-stu-id="e6f40-107">Components of the host throttling algorithm</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="e6f40-108"> applique la limitation des hôtes à l'aide de l'algorithme suivant :</span><span class="sxs-lookup"><span data-stu-id="e6f40-108"> uses the following algorithm when applying host throttling:</span></span>  
  
1.  <span data-ttu-id="e6f40-109">Surveille en permanence les paramètres pour vérifier qu'ils ne dépassent pas certains seuils.</span><span class="sxs-lookup"><span data-stu-id="e6f40-109">Continuously monitor the following parameters to see if they exceed certain thresholds.</span></span> <span data-ttu-id="e6f40-110">Si les valeurs du paramètre dépassent le seuil qui lui est associé, cela signifie qu'une condition de limitation existe.</span><span class="sxs-lookup"><span data-stu-id="e6f40-110">If the values for the parameter exceed the threshold for the parameter then a throttling condition exists.</span></span>  
  
    -   <span data-ttu-id="e6f40-111">Quantité de mémoire en cours d'utilisation (à la fois la mémoire du système et la mémoire de processus de l'hôte).</span><span class="sxs-lookup"><span data-stu-id="e6f40-111">Amount of memory in use (both systemwide and host process memory).</span></span>  
  
    -   <span data-ttu-id="e6f40-112">Nombre de messages en cours de remise ou de traitement (seuil pour la limitation des sorties).</span><span class="sxs-lookup"><span data-stu-id="e6f40-112">Number of in-process messages being delivered or processed (threshold for outbound throttling).</span></span>  
  
    -   <span data-ttu-id="e6f40-113">Nombre de threads en cours d'utilisation.</span><span class="sxs-lookup"><span data-stu-id="e6f40-113">Number of threads in use.</span></span>  
  
    -   <span data-ttu-id="e6f40-114">Taille de la base de données, mesurée par le nombre d'éléments dans les tables de file d'attente pour tous les hôtes et le nombre d'éléments dans les tables du spouleur et de suivi.</span><span class="sxs-lookup"><span data-stu-id="e6f40-114">Database size, measured by the number of items in the queue tables for all hosts and the number of items in the spool and tracking tables.</span></span>  
  
    -   <span data-ttu-id="e6f40-115">Nombre de connexions simultanées à la base de données. </span><span class="sxs-lookup"><span data-stu-id="e6f40-115">Number of concurrent database connections.</span></span>  
  
    -   <span data-ttu-id="e6f40-116">Fréquence de publication des messages (entrants) et de remise ou de traitement des messages (sortants).</span><span class="sxs-lookup"><span data-stu-id="e6f40-116">Rate of message publishing (inbound) and delivery or processing (outbound).</span></span>  
  
2.  <span data-ttu-id="e6f40-117">Détermine la gravité de la condition de limitation.</span><span class="sxs-lookup"><span data-stu-id="e6f40-117">Determine the severity of the throttling condition.</span></span> <span data-ttu-id="e6f40-118">Les conditions de limitation sont classées par gravité comme ceci (par ordre de gravité décroissant).</span><span class="sxs-lookup"><span data-stu-id="e6f40-118">Throttling conditions are ranked in severity as follows (from most severe to least severe).</span></span>  
  
    -   <span data-ttu-id="e6f40-119">La mémoire de processus de l'hôte en cours d'utilisation dépasse le seuil.</span><span class="sxs-lookup"><span data-stu-id="e6f40-119">Host process memory in use exceeds threshold.</span></span>  
  
    -   <span data-ttu-id="e6f40-120">Le nombre de messages en cours de traitement dépasse le seuil.</span><span class="sxs-lookup"><span data-stu-id="e6f40-120">Number of in-process messages exceeds threshold.</span></span>  
  
    -   <span data-ttu-id="e6f40-121">Le nombre de threads en cours d'utilisation dépasse le seuil..</span><span class="sxs-lookup"><span data-stu-id="e6f40-121">Count of threads in use exceeds threshold.</span></span>  
  
    -   <span data-ttu-id="e6f40-122">La taille de la base de données dépasse le seuil.</span><span class="sxs-lookup"><span data-stu-id="e6f40-122">Database size exceeds threshold.</span></span>  
  
    -   <span data-ttu-id="e6f40-123">Toutes les autres conditions de limitation.</span><span class="sxs-lookup"><span data-stu-id="e6f40-123">All other throttling conditions.</span></span>  
  
3.  <span data-ttu-id="e6f40-124">Applique progressivement la limitation en fonction de la gravité de la ou des conditions.</span><span class="sxs-lookup"><span data-stu-id="e6f40-124">Progressively apply throttling based upon the severity of the throttling condition(s).</span></span> <span data-ttu-id="e6f40-125">Plus le niveau de gravité de la condition augmente, plus la limitation est appliquée de manière agressive.</span><span class="sxs-lookup"><span data-stu-id="e6f40-125">Throttling is applied more aggressively as the severity level increases.</span></span> <span data-ttu-id="e6f40-126">La limitation progressive est effectuée de la manière suivante :</span><span class="sxs-lookup"><span data-stu-id="e6f40-126">Progressive throttling is achieved as follows:</span></span>  
  
    -   <span data-ttu-id="e6f40-127">Une ou plusieurs conditions de limitation sont détectées et se voient affecter un niveau de gravité.</span><span class="sxs-lookup"><span data-stu-id="e6f40-127">One or more throttling conditions are detected and assigned a severity.</span></span>  
  
    -   <span data-ttu-id="e6f40-128">Une instruction de mise en œuvre de la limitation est émise en fonction de la condition ayant le niveau de gravité le plus élevé.</span><span class="sxs-lookup"><span data-stu-id="e6f40-128">An instruction to implement throttling is issued based on the condition with the highest severity.</span></span> <span data-ttu-id="e6f40-129">En fonction de la condition de limitation, si la condition persiste, la taille des diverses réserves de threads peut être réduite et de la mémoire peut être libérée en mettant en attente des orchestrations en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="e6f40-129">Depending on the throttling condition, if the condition persists, the size of various thread pools may be reduced and memory may be freed by dehydrating running orchestrations.</span></span>  
  
    -   <span data-ttu-id="e6f40-130">Un délai est appliqué à la publication ou au traitement du message, selon qu'il s'agit d'un message entrant ou sortant.</span><span class="sxs-lookup"><span data-stu-id="e6f40-130">A delay is applied in the publishing or processing of the message, depending on whether the message is inbound or outbound.</span></span> <span data-ttu-id="e6f40-131">La durée du délai est proportionnelle à la gravité de la condition de limitation. Ainsi, plus le niveau de gravité des conditions est élevé, plus la période de limitation est longue.</span><span class="sxs-lookup"><span data-stu-id="e6f40-131">The delay period is proportional to the severity of the throttling condition, so higher severity throttling conditions will initiate a longer throttling period than lower severity throttling conditions.</span></span> <span data-ttu-id="e6f40-132">La durée du délai est ajustée à la baisse ou à la hausse dans la limite de plages par le mécanisme de limitation au fur et à mesure que les conditions évoluent.</span><span class="sxs-lookup"><span data-stu-id="e6f40-132">This delay period is adjusted up and down within certain ranges by the throttling mechanism as conditions change.</span></span> <span data-ttu-id="e6f40-133">La durée du délai est exposée via le **délai de remise (ms) du Message** et le **délai de publication (ms) du Message** les compteurs de performances associés à le **BizTalk : Agent**  catégorie d’objet de performance.</span><span class="sxs-lookup"><span data-stu-id="e6f40-133">The current delay period is exposed through the **Message delivery delay (ms)** and the **Message publishing delay (ms)** performance counters associated with the **BizTalk:Message Agent** performance object category.</span></span> <span data-ttu-id="e6f40-134">Ces compteurs de performance sont documentés dans la rubrique [hôte la limitation des compteurs de Performance](../core/host-throttling-performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-134">These performance object counters are documented in the topic [Host Throttling Performance Counters](../core/host-throttling-performance-counters.md).</span></span>  
  
    -   <span data-ttu-id="e6f40-135">Le mécanisme de limitation continue de vérifier la présence d'une condition de limitation.</span><span class="sxs-lookup"><span data-stu-id="e6f40-135">The throttling mechanism continues to check if a throttling condition is present.</span></span> <span data-ttu-id="e6f40-136">Si les conditions de limitation sont réduites, les messages limités par le mécanisme sont débloqués, la réserve de threads et d'autres ressources sont autorisées à fonctionner en mode non restreint.</span><span class="sxs-lookup"><span data-stu-id="e6f40-136">If the throttling conditions are mitigated then the throttled messages are unblocked and the thread pool and other resources are allowed to operate in an unrestricted mode.</span></span> <span data-ttu-id="e6f40-137">Si le système continue de fonctionner sans condition de limitation, la durée du délai est sensiblement réduite.</span><span class="sxs-lookup"><span data-stu-id="e6f40-137">If the system continues to operate without any throttling conditions, the delay period is greatly reduced.</span></span> <span data-ttu-id="e6f40-138">Dans le cas contraire, la durée du délai est augmentée en fonction de la gravité de la condition et les messages suivants sont soumis à un délai plus long.</span><span class="sxs-lookup"><span data-stu-id="e6f40-138">If the throttling condition persists, the delay amount is incremented proportional to the severity of the condition and subsequent messages are subject to the higher delay.</span></span>  
  
    -   <span data-ttu-id="e6f40-139">La limitation n'est plus appliquée lorsque le délai est écoulé.</span><span class="sxs-lookup"><span data-stu-id="e6f40-139">Throttling is no longer implemented when the delay period has elapsed.</span></span>  
  
## <a name="type-of-throttling-conditions"></a><span data-ttu-id="e6f40-140">Types de conditions de limitation</span><span class="sxs-lookup"><span data-stu-id="e6f40-140">Type of throttling conditions</span></span>  
 <span data-ttu-id="e6f40-141">Il existe trois types principaux de conditions de limitation : taux basé, en fonction des ressources et orchestration.</span><span class="sxs-lookup"><span data-stu-id="e6f40-141">There are three primary types of throttling conditions: rate based, resource based, and orchestration.</span></span>  
  
1.  <span data-ttu-id="e6f40-142">**Selon la fréquence** est divisé en deux catégories ; entrants (publiés) et sortants (remis) :</span><span class="sxs-lookup"><span data-stu-id="e6f40-142">**Rate based throttling** is divided into two categories; inbound (published) and outbound (delivered):</span></span>  
  
    -   <span data-ttu-id="e6f40-143">Pour les messages entrants (publiés), BizTalk Server limite la publication des messages si le **vitesse d’entrée de publication de messages** de l’hôte instance dépasse le **vitesse de sortie de publication de messages\***  spécifié **facteur de dépassement de vitesse (en pourcentage)** valeur.</span><span class="sxs-lookup"><span data-stu-id="e6f40-143">For inbound (published) messages, BizTalk Server throttles publishing of messages if The **Message publishing incoming rate** for the host instance exceeds the **Message publishing outgoing rate\*** the specified **Rate overdrive factor (percent)** value.</span></span> <span data-ttu-id="e6f40-144">Le **facteur de dépassement de vitesse (en pourcentage)** paramètre est configurable sur le **Message des paramètres de limitation de publication** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="e6f40-144">The **Rate overdrive factor (percent)** parameter is configurable on the **Message Publishing Throttling Settings** dialog box.</span></span> <span data-ttu-id="e6f40-145">La limitation basée sur la fréquence des messages entrants est réalisée en induisant un délai avant de publier le lot de messages dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="e6f40-145">Rate based throttling for inbound messages is accomplished primarily by inducing a delay before publishing the batch of messages into the MessageBox database.</span></span> <span data-ttu-id="e6f40-146">Aucune autre action n'est prise pour mettre en œuvre la limitation basée sur la fréquence des messages entrants.</span><span class="sxs-lookup"><span data-stu-id="e6f40-146">No other action is taken to accomplish rate based throttling for inbound messages.</span></span>  
  
    -   <span data-ttu-id="e6f40-147">Pour les messages sortants (remis), BizTalk Server limite la remise des messages si le **vitesse de remise de messages entrant** de l’hôte instance dépasse le **vitesse de sortie de remise de messages** \*spécifié **facteur de dépassement de vitesse (en pourcentage)** valeur.</span><span class="sxs-lookup"><span data-stu-id="e6f40-147">For outbound (delivered) messages, BizTalk Server throttles delivery of messages if The **Message delivery incoming rate** for the host instance exceeds the **Message delivery outgoing rate** \* the specified **Rate overdrive factor (percent)** value.</span></span> <span data-ttu-id="e6f40-148">Le **facteur de dépassement de vitesse (en pourcentage)** paramètre est configurable sur le **paramètres de limitation du traitement des messages** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="e6f40-148">The **Rate overdrive factor (percent)** parameter is configurable on the **Message Processing Throttling Settings** dialog box.</span></span> <span data-ttu-id="e6f40-149">La limitation basée sur la fréquence des messages sortants est réalisée en induisant un délai avant de supprimer les messages dans la file d'attente en mémoire et de les remettre au Gestionnaire des points de terminaison ou du moteur d'orchestration pour leur traitement.</span><span class="sxs-lookup"><span data-stu-id="e6f40-149">Rate based throttling for outbound messages is accomplished primarily by inducing a delay before removing the messages from the in-memory queue and delivering the messages to the End Point Manager (EPM) or orchestration engine for processing.</span></span> <span data-ttu-id="e6f40-150">Aucune autre action n'est prise pour mettre en œuvre la limitation basée sur la fréquence des messages sortants.</span><span class="sxs-lookup"><span data-stu-id="e6f40-150">No other action is taken to accomplish rate based throttling for outbound messages.</span></span>  
  
         <span data-ttu-id="e6f40-151">Pour plus d’informations sur le facteur de dépassement de vitesse et d’autres valeurs de limitation basée sur la fréquence, consultez [comment modifier les taux de limitation paramètres](../core/how-to-modify-rate-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-151">For more information about the rate overdrive factor and other rate-based throttling values, see [How to Modify Rate Based Throttling Settings](../core/how-to-modify-rate-based-throttling-settings.md).</span></span>  
  
2.  <span data-ttu-id="e6f40-152">**Selon les ressources** surveille les ressources système telles que des threads, mémoire et la taille de la base de données et peuvent être appliquées à n’importe quelle classe de service.</span><span class="sxs-lookup"><span data-stu-id="e6f40-152">**Resource based throttling** monitors system resources such as threads, memory, and database size and can be applied to any service class.</span></span> <span data-ttu-id="e6f40-153">Pour plus d’informations sur les valeurs de limitation basée sur les ressources, consultez [comment modifier les ressources de limitation paramètres](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-153">For more information about resource-based throttling values, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>  
  
3.  <span data-ttu-id="e6f40-154">**Limitation d’orchestration** peut empêcher la mise en attente et quand mettre en pause/reprise d’abonnements.</span><span class="sxs-lookup"><span data-stu-id="e6f40-154">**Orchestration throttling** can prevent dehydration and when to pause/resume subscriptions.</span></span> <span data-ttu-id="e6f40-155">Pour plus d’informations sur les valeurs de limitation d’orchestration, consultez [comment modifier les paramètres de limitation d’Orchestration](../core/how-to-modify-orchestration-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-155">For more information about orchestration throttling values, see [How to Modify Orchestration Throttling Settings](../core/how-to-modify-orchestration-throttling-settings.md).</span></span>  
  
## <a name="throttling-condition-triggers-actions-and-mitigation-strategies"></a><span data-ttu-id="e6f40-156">Déclencheurs, actions et stratégies de réduction des conditions de limitations</span><span class="sxs-lookup"><span data-stu-id="e6f40-156">Throttling condition triggers, actions, and mitigation strategies</span></span>  
 <span data-ttu-id="e6f40-157">Cette section décrit les déclencheurs des diverses conditions de limitation, les actions prises par le mécanisme de limitation et les techniques qui peuvent être employées pour réduire la condition de limitation.</span><span class="sxs-lookup"><span data-stu-id="e6f40-157">This section describes the triggers for various throttling conditions, the resultant actions by the throttling mechanism, and techniques that may be employed to mitigate the throttling condition.</span></span>  
  
### <a name="inbound-throttling"></a><span data-ttu-id="e6f40-158">Limitation au niveau des entrées</span><span class="sxs-lookup"><span data-stu-id="e6f40-158">Inbound Throttling</span></span>  
 <span data-ttu-id="e6f40-159">Le mécanisme de limitation BizTalk applique une limitation au niveau des entrées au moteur d'orchestration (XLANG) et des adaptateurs entrants.</span><span class="sxs-lookup"><span data-stu-id="e6f40-159">The BizTalk throttling mechanism applies inbound throttling to the orchestration engine (XLANG) and to inbound adapters.</span></span>  
  
 <span data-ttu-id="e6f40-160">Utilisez le **état de limitation de publication de messages** et **durée de limitation de publication de messages** compteurs associés **BizTalk:MessageAgent** performances pour mesurer l’état de limitation actuel et la durée de la catégorie d’objet.</span><span class="sxs-lookup"><span data-stu-id="e6f40-160">Use the **Message publishing throttling state** and **Message publishing throttling state duration** counters associated with **BizTalk:MessageAgent** performance object category to measure the current throttling state and duration of throttling.</span></span> <span data-ttu-id="e6f40-161">Pour plus d’informations sur le compteurs de performance de limitation d’hôte, consultez [hôte la limitation des compteurs de Performance](../core/host-throttling-performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-161">For more information about the available host throttling performance counters, see [Host Throttling Performance Counters](../core/host-throttling-performance-counters.md).</span></span>  
  
 <span data-ttu-id="e6f40-162">La limitation au niveau des entrées peut engendrer une accumulation des messages entrants à la source.</span><span class="sxs-lookup"><span data-stu-id="e6f40-162">Inbound throttling can cause inbound messages to backlog at the source.</span></span> <span data-ttu-id="e6f40-163">Si elle est appliquée à un adaptateur de réception, cet adaptateur risque d'arrêter de recevoir des messages jusqu'à ce que la condition de limitation soit réduite.</span><span class="sxs-lookup"><span data-stu-id="e6f40-163">If inbound throttling is applied to a receive adapter then the receive adapter may stop receiving messages until the throttling condition is mitigated.</span></span>  
  
|<span data-ttu-id="e6f40-164">Publication des messages</span><span class="sxs-lookup"><span data-stu-id="e6f40-164">Message Publishing</span></span><br /><br /> <span data-ttu-id="e6f40-165">État de limitation</span><span class="sxs-lookup"><span data-stu-id="e6f40-165">throttling state</span></span>|<span data-ttu-id="e6f40-166">Déclencheur de la condition de limitation</span><span class="sxs-lookup"><span data-stu-id="e6f40-166">Trigger for throttling condition</span></span>|<span data-ttu-id="e6f40-167">Actions de limitation prises</span><span class="sxs-lookup"><span data-stu-id="e6f40-167">Throttling actions taken</span></span>|<span data-ttu-id="e6f40-168">Stratégie de réduction</span><span class="sxs-lookup"><span data-stu-id="e6f40-168">Mitigation strategy</span></span>|<span data-ttu-id="e6f40-169">Objet de performance</span><span class="sxs-lookup"><span data-stu-id="e6f40-169">Performance object</span></span>|<span data-ttu-id="e6f40-170">Compteur de performances</span><span class="sxs-lookup"><span data-stu-id="e6f40-170">Performance counter</span></span>|  
|---------------------------------------------|--------------------------------------|------------------------------|-------------------------|------------------------|-------------------------|  
|<span data-ttu-id="e6f40-171">2</span><span class="sxs-lookup"><span data-stu-id="e6f40-171">2</span></span>|<span data-ttu-id="e6f40-172">**Vitesse d’entrée de publication de messages** de l’hôte instance dépasse le **vitesse de sortie de publication de messages\***  spécifié **facteur de dépassement de vitesse (en pourcentage)** valeur.</span><span class="sxs-lookup"><span data-stu-id="e6f40-172">**Message publishing incoming rate** for the host instance exceeds the **Message publishing outgoing rate\*** the specified **Rate overdrive factor (percent)** value.</span></span> <span data-ttu-id="e6f40-173">La base de données ne parvient pas à suivre la vitesse de publication.</span><span class="sxs-lookup"><span data-stu-id="e6f40-173">The database cannot keep up with the publishing rate.</span></span>|<span data-ttu-id="e6f40-174">Bloquer le thread de publication pour une période calculée de façon dynamique jusqu'à ce que le **Message vitesse d’entrée de publication** est équivalente à la **vitesse de sortie de publication messages** \* le spécifié **Facteur de dépassement de vitesse (en pourcentage)** valeur.</span><span class="sxs-lookup"><span data-stu-id="e6f40-174">Block the publishing thread for a dynamically computed time period until the **Message Publishing Incoming Rate** is at par with the **Message Publishing Outgoing Rate** \* the specified **Rate overdrive factor (percent)** value.</span></span>|<span data-ttu-id="e6f40-175">Utilisez des compteurs de performance pour déterminer la vitesse d'entrée et de sortie de publication des messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-175">Use performance counters to determine the message publishing incoming and message publishing outgoing rate.</span></span> <span data-ttu-id="e6f40-176">Utilisez un facteur de dépassement adapté à votre environnement.</span><span class="sxs-lookup"><span data-stu-id="e6f40-176">Consider an appropriate overdrive factor for your environment.</span></span><br /><br /> <span data-ttu-id="e6f40-177">Vérifiez que les valeurs fournies pour le **durée de fenêtre d’échantillonnage** et **nombre minimal d’exemples** paramètres sont appropriés pour votre scénario.</span><span class="sxs-lookup"><span data-stu-id="e6f40-177">Verify that the values supplied for the **Sampling window duration** and **Minimum number of samples** parameters are appropriate for your scenario.</span></span><br /><br /> <span data-ttu-id="e6f40-178">Pour plus d’informations sur ces paramètres, consultez [comment modifier les taux de limitation paramètres](../core/how-to-modify-rate-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-178">For more information about these parameters, see [How to Modify Rate Based Throttling Settings](../core/how-to-modify-rate-based-throttling-settings.md).</span></span>|<span data-ttu-id="e6f40-179">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="e6f40-179">BizTalk:MessageAgent</span></span>|<span data-ttu-id="e6f40-180">Vitesse d'entrée de publication de messages</span><span class="sxs-lookup"><span data-stu-id="e6f40-180">Message publishing incoming rate</span></span><br /><br /> <span data-ttu-id="e6f40-181">Vitesse de sortie de publication de messages</span><span class="sxs-lookup"><span data-stu-id="e6f40-181">Message publishing outgoing rate</span></span>|  
|<span data-ttu-id="e6f40-182">4</span><span class="sxs-lookup"><span data-stu-id="e6f40-182">4</span></span>|<span data-ttu-id="e6f40-183">La mémoire de processus dépasse le seuil spécifié.</span><span class="sxs-lookup"><span data-stu-id="e6f40-183">Process memory exceeds the specified threshold.</span></span><br /><br /> <span data-ttu-id="e6f40-184">Ceci peut se produire lorsque le lot à publier utilise beaucoup de mémoire ou lorsqu'un trop grand nombre de threads sont utilisés pour traiter les messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-184">This can occur if the batch to be published has steep memory requirements or too many threads are processing messages</span></span>|<span data-ttu-id="e6f40-185">Réduisez la taille de la réserve de threads utilisée par le Gestionnaire des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="e6f40-185">Reduce the size of the thread pool used by EPM.</span></span><br /><br /> <span data-ttu-id="e6f40-186">Bloquez les threads utilisés par le Gestionnaires des points de terminaison pour empêcher le traitement de nouveaux lots de messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-186">Block the EPM threads to prevent processing of new messages batches.</span></span><br /><br /> <span data-ttu-id="e6f40-187">Si la persistance des messages d'un lot dans la base de données utilise beaucoup de mémoire, le thread de publication est également soumis à un délai progressif avant que les messages ne soient rendus persistants dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="e6f40-187">If there is a steep memory requirement to persist the messages in a batch to the database, the publishing thread is also subject to a progressive delay before the messages are persisted to the database.</span></span><br /><br /> <span data-ttu-id="e6f40-188">Le blocage du lot de publication en raison des fortes exigences en mémoire de processus est déterminé en fonction de plusieurs facteurs, notamment le nombre de messages contenus dans le lot ou si le lot comporte des commandes de mise en attente ou de suppression de messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-188">Whether the publishing batch will be blocked or not due to process memory pressure depends on several factors including the number of messages in the batch or if there are dehydration or message deletion commands in the batch.</span></span>|<span data-ttu-id="e6f40-189">Envisagez de réduire la charge en réduisant la réserve de threads du Gestionnaire des points de terminaison et/ou la taille des lots de l'adaptateur.</span><span class="sxs-lookup"><span data-stu-id="e6f40-189">Consider reducing the amount of load by reducing the EPM thread pool, and/or the size of adapter batches.</span></span><br /><br /> <span data-ttu-id="e6f40-190">Si le processus ne consomme pas trop de mémoire, envisagez d’augmenter la **virtuelle de processus** seuil pour l’hôte.</span><span class="sxs-lookup"><span data-stu-id="e6f40-190">If the process is not consuming excessive memory, consider increasing the **Process virtual** threshold for the host.</span></span><br /><br /> <span data-ttu-id="e6f40-191">Pour plus d’informations sur la modification de la **virtuelle de processus** valeur, consultez [comment modifier les ressources de limitation paramètres](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-191">For more information about changing the **Process virtual** value, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="e6f40-192">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="e6f40-192">BizTalk:MessageAgent</span></span>|<span data-ttu-id="e6f40-193">Mémoire de processus élevée</span><span class="sxs-lookup"><span data-stu-id="e6f40-193">High process memory</span></span><br /><br /> <span data-ttu-id="e6f40-194">Utilisation de la mémoire de processus (Mo)</span><span class="sxs-lookup"><span data-stu-id="e6f40-194">Process memory usage (MB)</span></span><br /><br /> <span data-ttu-id="e6f40-195">Seuil d'utilisation de la mémoire de processus (Mo)</span><span class="sxs-lookup"><span data-stu-id="e6f40-195">Process memory usage threshold (MB)</span></span>|  
|<span data-ttu-id="e6f40-196">6</span><span class="sxs-lookup"><span data-stu-id="e6f40-196">6</span></span>|<span data-ttu-id="e6f40-197">La taille de la file d'attente des messages de l'hôte, de la table Spool ou de la table de suivi dépasse le seuil spécifié.</span><span class="sxs-lookup"><span data-stu-id="e6f40-197">Host message queue size, the spool table size or the tracking table size exceed the specified threshold.</span></span><br /><br /> <span data-ttu-id="e6f40-198">Les raisons possibles pour cette condition sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="e6f40-198">Possible reasons for this condition include:</span></span><br /><br /> <span data-ttu-id="e6f40-199">-Les travaux SQL Agent utilisé par BizTalk Server pour gérer les bases de données BizTalk Server ne pas en cours d’exécution ou sont exécutent lentement.</span><span class="sxs-lookup"><span data-stu-id="e6f40-199">-   The SQL Agent jobs used by BizTalk Server to maintain the BizTalk Server databases not running or are running slowly.</span></span><br /><span data-ttu-id="e6f40-200">-Les composants ne traitent pas les messages à partir de la file d’attente en mémoire en temps voulu.</span><span class="sxs-lookup"><span data-stu-id="e6f40-200">-   Down-stream components are not processing messages from the in-memory queue in a timely manner.</span></span><br /><span data-ttu-id="e6f40-201">-Nombre de messages suspendus est élevé.</span><span class="sxs-lookup"><span data-stu-id="e6f40-201">-   Number of suspended messages is high.</span></span><br /><span data-ttu-id="e6f40-202">-Maximum charge maximale pour le système a été atteint.</span><span class="sxs-lookup"><span data-stu-id="e6f40-202">-   Maximum sustainable load for the system has been reached.</span></span>|<span data-ttu-id="e6f40-203">Réduisez la taille de la réserve de threads utilisée par le Gestionnaire des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="e6f40-203">Reduce the size of the thread pool used by EPM.</span></span><br /><br /> <span data-ttu-id="e6f40-204">Bloquez les threads utilisés par le Gestionnaires des points de terminaison pour empêcher le traitement de nouveaux lots de messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-204">Block the EPM threads to prevent processing of new messages batches.</span></span><br /><br /> <span data-ttu-id="e6f40-205">Le thread de publication est également soumis à un délai progressif avant que les messages ne soient rendus persistants dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="e6f40-205">The publishing thread is also subject to a progressive delay before the messages are persisted to the database.</span></span>|<span data-ttu-id="e6f40-206">Vérifiez que les travaux d'Agent SQL utilisés par BizTalk Server pour gérer les bases de données BizTalk Server fonctionnent.</span><span class="sxs-lookup"><span data-stu-id="e6f40-206">Ensure that the SQL Agent jobs used by BizTalk Server to maintain the BizTalk Server databases are running and are not failing.</span></span><br /><br /> <span data-ttu-id="e6f40-207">Mettez fin aux instances suspendues et reprenez-les, selon les besoins.</span><span class="sxs-lookup"><span data-stu-id="e6f40-207">Terminate and resume suspended instances as needed.</span></span><br /><br /> <span data-ttu-id="e6f40-208">Augmentez la valeur par défaut pour le **nombre dans la base de données de messages** seuil en prenant en compte l’espace requis par le serveur SQL server qui héberge les bases de données BizTalk.</span><span class="sxs-lookup"><span data-stu-id="e6f40-208">Increase the default value for the **Message count in DB** threshold taking into consideration the space requirements of the SQL server that houses the BizTalk databases.</span></span><br /><br /> <span data-ttu-id="e6f40-209">Si votre base de données est conçue pour gérer les messages en souffrance, envisagez d’augmenter la **multiplicateur de Spool** et **multiplicateur de données de suivi** valeurs pour permettre d’en souffrance dans la file d’attente et les tables de suivi.</span><span class="sxs-lookup"><span data-stu-id="e6f40-209">If your database is sized appropriately to handle additional message backlog, consider increasing the **Spool multiplier** and **Tracking data multiplier** values to allow additional backlog in the Spool and Tracking tables.</span></span><br /><br /> <span data-ttu-id="e6f40-210">Pour plus d’informations sur la modification des valeurs, consultez [comment modifier les ressources de limitation paramètres](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-210">For more information about changing the values, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="e6f40-211">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="e6f40-211">BizTalk:MessageAgent</span></span><br /><br /> <span data-ttu-id="e6f40-212">BizTalk:MessageBox:compteurs généraux</span><span class="sxs-lookup"><span data-stu-id="e6f40-212">BizTalk:Message Box:General Counters</span></span><br /><br /> <span data-ttu-id="e6f40-213">BizTalk:MessageBox:compteurs de l'hôte</span><span class="sxs-lookup"><span data-stu-id="e6f40-213">BizTalk:Message Box:Host Counters</span></span>|<span data-ttu-id="e6f40-214">Agent des messages/Taille des bases de données</span><span class="sxs-lookup"><span data-stu-id="e6f40-214">MessageAgent /Database size</span></span><br /><br /> <span data-ttu-id="e6f40-215">BizTalk:MessageBox:compteurs généraux/Taille mise en file d'attente</span><span class="sxs-lookup"><span data-stu-id="e6f40-215">Message Box:General Counters /Spool size</span></span><br /><br /> <span data-ttu-id="e6f40-216">BizTalk:MessageBox:compteurs généraux/Taille données de suivi</span><span class="sxs-lookup"><span data-stu-id="e6f40-216">Message Box:General Counters /Tracking data size</span></span><br /><br /> <span data-ttu-id="e6f40-217">MessageBox:compteurs de l'hôte/File d'attente hôte - Longueur</span><span class="sxs-lookup"><span data-stu-id="e6f40-217">Message Box:Host Counters/Host queue – length</span></span><br /><br /> <span data-ttu-id="e6f40-218">MessageBox:compteurs de l'hôte/File d'attente hôte - Msgs suspendus - Longueur</span><span class="sxs-lookup"><span data-stu-id="e6f40-218">Message Box:Host Counters/Host queue - suspended msgs – length</span></span>|  
|<span data-ttu-id="e6f40-219">8</span><span class="sxs-lookup"><span data-stu-id="e6f40-219">8</span></span>|<span data-ttu-id="e6f40-220">Les sessions de base de données utilisées par l'instance de l'hôte dépassent le seuil spécifié.</span><span class="sxs-lookup"><span data-stu-id="e6f40-220">Database sessions being used by the host instance exceed the specified threshold.</span></span>|<span data-ttu-id="e6f40-221">Réduisez la taille de la réserve de threads utilisée par le Gestionnaire des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="e6f40-221">Reduce the size of the thread pool used by EPM.</span></span><br /><br /> <span data-ttu-id="e6f40-222">Bloquez les threads utilisés par le Gestionnaires des points de terminaison pour empêcher le traitement de nouveaux lots de messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-222">Block the EPM threads to prevent processing of new messages batches.</span></span><br /><br /> <span data-ttu-id="e6f40-223">Le thread de publication est également soumis à un délai progressif avant que les messages ne soient rendus persistants dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="e6f40-223">The publishing thread is also subject to a progressive delay before the messages are persisted to the database.</span></span>|<span data-ttu-id="e6f40-224">Envisagez d’augmenter la **les connexions de base de données** seuil pour l’hôte.</span><span class="sxs-lookup"><span data-stu-id="e6f40-224">Consider increasing the **Database connections** threshold for the host.</span></span><br /><br /> <span data-ttu-id="e6f40-225">Pour plus d’informations sur la modification de cette valeur, consultez [comment modifier les ressources de limitation paramètres](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-225">For more information on changing this value, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="e6f40-226">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="e6f40-226">BizTalk:MessageAgent</span></span>|<span data-ttu-id="e6f40-227">Session de base de données</span><span class="sxs-lookup"><span data-stu-id="e6f40-227">Database session</span></span>|  
|<span data-ttu-id="e6f40-228">9</span><span class="sxs-lookup"><span data-stu-id="e6f40-228">9</span></span>|<span data-ttu-id="e6f40-229">Le nombre de threads de processus dépasse le seuil spécifié.</span><span class="sxs-lookup"><span data-stu-id="e6f40-229">Process thread count exceeds the specified threshold.</span></span>|<span data-ttu-id="e6f40-230">Réduisez la taille de la réserve de threads utilisée par le Gestionnaire des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="e6f40-230">Reduce the size of the thread pool used by EPM.</span></span><br /><br /> <span data-ttu-id="e6f40-231">Bloquez les threads utilisés par le Gestionnaires des points de terminaison pour empêcher le traitement de nouveaux lots de messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-231">Block the EPM threads to prevent processing of new messages batches.</span></span><br /><br /> <span data-ttu-id="e6f40-232">Le thread de publication est également soumis à un délai progressif avant que les messages ne soient rendus persistants dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="e6f40-232">The publishing thread is also subject to a progressive delay before the messages are persisted to the database.</span></span>|<span data-ttu-id="e6f40-233">Envisagez d'ajuster les différentes tailles de réserves de threads pour que le système ne puisse pas créer un grand nombre de threads.</span><span class="sxs-lookup"><span data-stu-id="e6f40-233">Consider adjusting the different thread pool sizes to ensure that the system does not create a large number of threads.</span></span><br /><br /> <span data-ttu-id="e6f40-234">Pour plus d’informations sur la modification des tailles de pool de threads, consultez [comment modifier les paramètres généraux](../core/how-to-modify-general-settings.md) et [comment modifier les ressources de limitation paramètres](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-234">For more information about modifying the thread pool sizes, see [How to Modify General Settings](../core/how-to-modify-general-settings.md) and [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="e6f40-235">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="e6f40-235">BizTalk:MessageAgent</span></span>|<span data-ttu-id="e6f40-236">Nombre de threads</span><span class="sxs-lookup"><span data-stu-id="e6f40-236">Thread count</span></span><br /><br /> <span data-ttu-id="e6f40-237">Seuil de nombre de threads</span><span class="sxs-lookup"><span data-stu-id="e6f40-237">Thread count threshold</span></span>|  
|<span data-ttu-id="e6f40-238">5</span><span class="sxs-lookup"><span data-stu-id="e6f40-238">5</span></span>|<span data-ttu-id="e6f40-239">La mémoire système dépasse le seuil spécifié.</span><span class="sxs-lookup"><span data-stu-id="e6f40-239">System memory exceeds the specified threshold.</span></span>|<span data-ttu-id="e6f40-240">Réduisez la taille de la réserve de threads utilisée par le Gestionnaire des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="e6f40-240">Reduce the size of the thread pool used by EPM.</span></span><br /><br /> <span data-ttu-id="e6f40-241">Bloquez les threads utilisés par le Gestionnaires des points de terminaison pour empêcher le traitement de nouveaux lots de messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-241">Block the EPM threads to prevent processing of new messages batches.</span></span><br /><br /> <span data-ttu-id="e6f40-242">Si la persistance des messages d'un lot dans la base de données utilise beaucoup de mémoire, le thread de publication est également soumis à un délai progressif avant que les messages ne soient rendus persistants dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="e6f40-242">If there is a steep memory requirement to persist the messages in a batch to the database, the publishing thread is also subject to a progressive delay before the messages are persisted to the database.</span></span><br /><br /> <span data-ttu-id="e6f40-243">Le blocage du lot de publication en raison des fortes exigences en mémoire de processus est déterminé en fonction de plusieurs facteurs, notamment le nombre de messages contenus dans le lot ou si le lot comporte des commandes de mise en attente ou de suppression de messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-243">Whether the publishing batch will be blocked or not due to process memory pressure depends on several factors including the number of messages in the batch or if there are dehydration or message deletion commands in the batch.</span></span>|<span data-ttu-id="e6f40-244">Envisagez de réduire la charge en réduisant la taille par défaut de la réserve de threads du Gestionnaire des points de terminaison et/ou la taille des lots de l'adaptateur.</span><span class="sxs-lookup"><span data-stu-id="e6f40-244">Consider reducing load by reducing the default size of the EPM thread pool, and/or the size of adapter batches.</span></span><br /><br /> <span data-ttu-id="e6f40-245">Si le processus ne consomme pas trop de mémoire, envisagez d’augmenter la **physique globale** seuil pour l’hôte.</span><span class="sxs-lookup"><span data-stu-id="e6f40-245">If the process is not consuming excessive memory, consider increasing the **Global Physical** threshold for the host.</span></span><br /><br /> <span data-ttu-id="e6f40-246">Pour plus d’informations sur la modification de la **physique globale** seuil, consultez [comment modifier les ressources de limitation paramètres](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-246">For more information on changing the **Global Physical** threshold, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="e6f40-247">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="e6f40-247">BizTalk:MessageAgent</span></span>|<span data-ttu-id="e6f40-248">Utilisation de la mémoire physique (Mo)</span><span class="sxs-lookup"><span data-stu-id="e6f40-248">Physical memory usage (MB)</span></span><br /><br /> <span data-ttu-id="e6f40-249">Seuil d'utilisation de la mémoire physique (Mo)</span><span class="sxs-lookup"><span data-stu-id="e6f40-249">Physical memory usage threshold (MB)</span></span>|  
  
### <a name="outbound-throttling"></a><span data-ttu-id="e6f40-250">Limitation au niveau des sorties</span><span class="sxs-lookup"><span data-stu-id="e6f40-250">Outbound Throttling</span></span>  
 <span data-ttu-id="e6f40-251">Le mécanisme de limitation BizTalk applique une limitation au niveau des sorties au moteur d'orchestration (XLANG) et des adaptateurs sortants.</span><span class="sxs-lookup"><span data-stu-id="e6f40-251">The BizTalk throttling mechanism applies outbound throttling to the orchestration engine (XLANG) and to outbound adapters.</span></span>  
  
 <span data-ttu-id="e6f40-252">Utilisez le **état de limitation de remise de messages** et **durée de limitation de remise de messages** compteurs associés **BizTalk:MessageAgent** objet de performance catégorie pour mesurer l’état de limitation actuel et la durée de limitation.</span><span class="sxs-lookup"><span data-stu-id="e6f40-252">Use the **Message delivery throttling state** and **Message delivery throttling state duration** counters associated with **BizTalk:MessageAgent** performance object category to measure the current throttling state and duration of throttling.</span></span> <span data-ttu-id="e6f40-253">Pour plus d’informations sur le performances de la limitation d’hôte compteurs, consultez [hôte la limitation des compteurs de Performance](../core/host-throttling-performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-253">For more information about the available host throttling performance counters see [Host Throttling Performance Counters](../core/host-throttling-performance-counters.md).</span></span>  
  
 <span data-ttu-id="e6f40-254">La limitation au niveau des sorties peut provoquer une retard de remise des messages et les messages peuvent s'accumuler dans la file d'attente en mémoire et engendrer le blocage des threads jusqu'à ce que la condition de limitation soit réduite.</span><span class="sxs-lookup"><span data-stu-id="e6f40-254">Outbound throttling can cause delayed message delivery and messages may build up in the in-memory queue and cause de-queue threads to be blocked until the throttling condition is mitigated.</span></span> <span data-ttu-id="e6f40-255">Lorsque les threads retirés de la file d'attente sont bloqués, aucun autre message n'est transféré de la base de données MessageBox vers la file d'attente en mémoire pour être remis.</span><span class="sxs-lookup"><span data-stu-id="e6f40-255">When de-queue threads are blocked no additional messages are pulled from the MessageBox into the in-memory queue for outbound delivery.</span></span>  
  
|<span data-ttu-id="e6f40-256">Remise des messages</span><span class="sxs-lookup"><span data-stu-id="e6f40-256">Message Delivery</span></span><br /><br /> <span data-ttu-id="e6f40-257">État de limitation</span><span class="sxs-lookup"><span data-stu-id="e6f40-257">throttling state</span></span>|<span data-ttu-id="e6f40-258">Déclencheur de la condition de limitation</span><span class="sxs-lookup"><span data-stu-id="e6f40-258">Trigger for throttling condition</span></span>|<span data-ttu-id="e6f40-259">Actions de limitation prises</span><span class="sxs-lookup"><span data-stu-id="e6f40-259">Throttling actions taken</span></span>|<span data-ttu-id="e6f40-260">Stratégie de réduction</span><span class="sxs-lookup"><span data-stu-id="e6f40-260">Mitigation Strategy</span></span>|<span data-ttu-id="e6f40-261">Objet de performance</span><span class="sxs-lookup"><span data-stu-id="e6f40-261">Performance Object</span></span>|<span data-ttu-id="e6f40-262">Compteur de performances</span><span class="sxs-lookup"><span data-stu-id="e6f40-262">Performance Counter</span></span>|  
|-------------------------------------------|--------------------------------------|------------------------------|-------------------------|------------------------|-------------------------|  
|<span data-ttu-id="e6f40-263">1</span><span class="sxs-lookup"><span data-stu-id="e6f40-263">1</span></span>|<span data-ttu-id="e6f40-264">**Vitesse de remise de messages entrant** de l’hôte instance dépasse le **vitesse de sortie de remise de messages \***  spécifié **facteur de dépassement de vitesse (en pourcentage)** valeur</span><span class="sxs-lookup"><span data-stu-id="e6f40-264">**Message delivery incoming rate** for the host instance exceeds the **Message delivery outgoing rate \*** the specified **Rate overdrive factor (percent)** value</span></span><br /><br /> <span data-ttu-id="e6f40-265">Ceci peut être dû à la grande complexité des processus, à des adaptateurs de sortie lents ou à des ressources système momentanément faibles.</span><span class="sxs-lookup"><span data-stu-id="e6f40-265">This can be caused by high processing complexity, slow outbound adapters, or a momentary shortage of system resources.</span></span>|<span data-ttu-id="e6f40-266">Bloquer le thread de remise pour une période calculée de façon dynamique jusqu'à ce que la remise de messages vitesse d’entrée est équivalente à la **vitesse de sortie de remise de messages \***  spécifié **(de facteur de dépassement de vitesse pour cent)** valeur.</span><span class="sxs-lookup"><span data-stu-id="e6f40-266">Block the delivery thread for a dynamically computed time period until the Message delivery incoming rate is at par with the **Message delivery outgoing rate \*** the specified **Rate overdrive factor (percent)** value.</span></span>|<span data-ttu-id="e6f40-267">Utilisez des compteurs de performance pour déterminer la vitesse d'entrée et de sortie de remise des messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-267">Use performance counters to determine the message delivery incoming and message delivery outgoing rate.</span></span> <span data-ttu-id="e6f40-268">Considérez la fonction appropriée sur un facteur de lecteur pour votre environnement.</span><span class="sxs-lookup"><span data-stu-id="e6f40-268">Consider an appropriate over drive factor for your environment.</span></span><br /><br /> <span data-ttu-id="e6f40-269">Vérifiez que les valeurs fournies pour le **durée de fenêtre d’échantillonnage** et **nombre minimal d’exemples** paramètres sont appropriés pour votre scénario.</span><span class="sxs-lookup"><span data-stu-id="e6f40-269">Verify that the values supplied for the **Sampling window duration** and **Minimum number of samples** parameters are appropriate for your scenario.</span></span><br /><br /> <span data-ttu-id="e6f40-270">Pour plus d’informations sur ces paramètres, consultez [comment modifier les taux de limitation paramètres](../core/how-to-modify-rate-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-270">For more information about these parameters, see [How to Modify Rate Based Throttling Settings](../core/how-to-modify-rate-based-throttling-settings.md).</span></span>|<span data-ttu-id="e6f40-271">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="e6f40-271">BizTalk:MessageAgent</span></span>|<span data-ttu-id="e6f40-272">Vitesse d'entrée de remise de messages</span><span class="sxs-lookup"><span data-stu-id="e6f40-272">Message delivery incoming rate</span></span><br /><br /> <span data-ttu-id="e6f40-273">Vitesse de sortie de publication de messages</span><span class="sxs-lookup"><span data-stu-id="e6f40-273">Message publishing outgoing rate</span></span>|  
|<span data-ttu-id="e6f40-274">4</span><span class="sxs-lookup"><span data-stu-id="e6f40-274">4</span></span>|<span data-ttu-id="e6f40-275">La mémoire de processus dépasse le seuil spécifié.</span><span class="sxs-lookup"><span data-stu-id="e6f40-275">Process memory exceeds the specified threshold.</span></span><br /><br /> <span data-ttu-id="e6f40-276">Ceci peut se produire dans des scénarios qui utilisent beaucoup de mémoire, lors du traitement de messages volumineux ou lorsque les adaptateurs d'envoi essaient de traiter simultanément un grand nombre de messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-276">This can occur in memory intensive processing scenarios, when processing large messages, or when send adapters are attempting to process a high number of messages simultaneously.</span></span>|<span data-ttu-id="e6f40-277">Ralentissez la remise des messages vers les adaptateurs ou XLANG.</span><span class="sxs-lookup"><span data-stu-id="e6f40-277">Slow down message delivery to adapters or XLANG.</span></span><br /><br /> <span data-ttu-id="e6f40-278">Réduisez la consommation de mémoire en mettant en attente des instances de service et en réduisant la taille du cache, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="e6f40-278">Reduce process memory consumption by dehydrating service instances and shrinking cache when applicable.</span></span><br /><br /> <span data-ttu-id="e6f40-279">Réduisez la taille des réserves de threads utilisées par le Gestionnaire des points de terminaison et/ou l'agent des messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-279">Reduce the size of the thread pools used by the EPM and/or the Message Agent.</span></span><br /><br /> <span data-ttu-id="e6f40-280">Effectuez un nettoyage forcé de la mémoire .NET.</span><span class="sxs-lookup"><span data-stu-id="e6f40-280">Periodically force a .NET garbage collection (GC).</span></span>|<span data-ttu-id="e6f40-281">Si le système ne devient pas inactif en raison d’une limitation basée sur la mémoire de processus, il se peut qu’aucune action ne soit nécessaire.</span><span class="sxs-lookup"><span data-stu-id="e6f40-281">If the system is not becoming idle due to process memory based throttling, no action may be required.</span></span><br /><br /> <span data-ttu-id="e6f40-282">Si le **nombre de messages In-process** compteur est élevé et l’utilisation du processeur n’est pas excessif même quand il est limitation, aucune action supplémentaire ne peut être nécessaire.</span><span class="sxs-lookup"><span data-stu-id="e6f40-282">If the **In-process message count** counter is high and the CPU utilization is not excessive even when there is process memory based throttling, no additional action may be required.</span></span><br /><br /> <span data-ttu-id="e6f40-283">Si le système semble être une limitation trop forte, envisagez d’augmenter la valeur associée à la **virtuelle de processus** seuil pour l’hôte et vérifiez que l’instance d’hôte ne génère pas d’une erreur « mémoire insuffisante ».</span><span class="sxs-lookup"><span data-stu-id="e6f40-283">If the system appears to be over-throttling, consider increasing the value associated with the **Process virtual** threshold for the host and verify that the host instance does not generate an "out of memory" error.</span></span> <span data-ttu-id="e6f40-284">Si une erreur « mémoire insuffisante » est déclenchée en augmentant la **virtuelle de processus** seuil, pensez à réduire les valeurs pour le **taille de file d’attente de messages internes** et **demessagesIn-process** seuils.</span><span class="sxs-lookup"><span data-stu-id="e6f40-284">If an "out of memory" error is raised by increasing the **Process virtual** threshold, then consider reducing the values for the **Internal message queue size** and **In-process messages** thresholds.</span></span> <span data-ttu-id="e6f40-285">Cette stratégie est particulièrement adaptée aux scénarios traitant de nombreux messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-285">This strategy is particularly relevant in large message processing scenarios.</span></span><br /><br /> <span data-ttu-id="e6f40-286">Pour plus d’informations sur ces paramètres, consultez [comment modifier les ressources de limitation paramètres](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-286">For more information about these parameters, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="e6f40-287">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="e6f40-287">BizTalk:MessageAgent</span></span>|<span data-ttu-id="e6f40-288">Mémoire de processus élevée</span><span class="sxs-lookup"><span data-stu-id="e6f40-288">High process memory</span></span><br /><br /> <span data-ttu-id="e6f40-289">Mémoire de processus usage(MB)</span><span class="sxs-lookup"><span data-stu-id="e6f40-289">Process memory usage(MB)</span></span><br /><br /> <span data-ttu-id="e6f40-290">Seuil d'utilisation de la mémoire de processus (Mo)</span><span class="sxs-lookup"><span data-stu-id="e6f40-290">Process memory usage threshold (MB)</span></span><br /><br /> <span data-ttu-id="e6f40-291">Nombre de messages en cours de traitement</span><span class="sxs-lookup"><span data-stu-id="e6f40-291">In-process message count</span></span><br /><br /> <span data-ttu-id="e6f40-292">Nombre d'instances actives</span><span class="sxs-lookup"><span data-stu-id="e6f40-292">Active instance count</span></span>|  
|<span data-ttu-id="e6f40-293">3</span><span class="sxs-lookup"><span data-stu-id="e6f40-293">3</span></span>|<span data-ttu-id="e6f40-294">Le nombre de messages en cours de remise à une classe de service dépasse le seuil spécifié.</span><span class="sxs-lookup"><span data-stu-id="e6f40-294">Number of in-process messages delivered to a service class exceeds the specified threshold.</span></span><br /><br /> <span data-ttu-id="e6f40-295">Ceci peut être dû à la grande complexité des processus, à des adaptateurs de sortie lents ou à des ressources système momentanément faibles.</span><span class="sxs-lookup"><span data-stu-id="e6f40-295">This can be caused by high processing complexity, slow outbound adapters, or a momentary shortage of system resources.</span></span>|<span data-ttu-id="e6f40-296">Ralentissez la remise des messages vers les adaptateurs ou XLANG.</span><span class="sxs-lookup"><span data-stu-id="e6f40-296">Slow down message delivery to adapters or XLANG.</span></span><br /><br /> <span data-ttu-id="e6f40-297">Réduisez la taille de la réserve de threads utilisée par l'agent des messages..</span><span class="sxs-lookup"><span data-stu-id="e6f40-297">Reduce the size of the thread pool used by the Message Agent.</span></span>|<span data-ttu-id="e6f40-298">En cas de limitation trop forte, envisagez d’augmenter la valeur associée à la **messages In-process** seuil.</span><span class="sxs-lookup"><span data-stu-id="e6f40-298">If over-throttling occurs, consider increasing the value associated with the **In-process messages** threshold.</span></span><br /><br /> <span data-ttu-id="e6f40-299">Pour plus d’informations sur ce paramètre, consultez [comment modifier les ressources de limitation paramètres](../core/how-to-modify-resource-based-throttling-settings.md) **Remarque :** l’augmentation de cette valeur peut avoir une influence négative impact sur les performances de l’adaptateur d’envoi et/ou augmenter la mémoire utilisation du processus.</span><span class="sxs-lookup"><span data-stu-id="e6f40-299">For more information about this parameter, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md) **Note:**  Increasing this value may adversely impact send adapter performance and/or increase the memory usage of the process.</span></span>|<span data-ttu-id="e6f40-300">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="e6f40-300">BizTalk:MessageAgent</span></span>|<span data-ttu-id="e6f40-301">Nombre de messages en cours de traitement</span><span class="sxs-lookup"><span data-stu-id="e6f40-301">In-process message count</span></span><br /><br /> <span data-ttu-id="e6f40-302">Seuil du nombre de messages en cours de traitement</span><span class="sxs-lookup"><span data-stu-id="e6f40-302">In-process message count threshold</span></span>|  
|<span data-ttu-id="e6f40-303">9</span><span class="sxs-lookup"><span data-stu-id="e6f40-303">9</span></span>|<span data-ttu-id="e6f40-304">Le nombre de threads de processus dépasse le seuil spécifié.</span><span class="sxs-lookup"><span data-stu-id="e6f40-304">Process thread count exceeds the specified threshold.</span></span>|<span data-ttu-id="e6f40-305">Réduire la taille des pools de threads utilisés par la terminaison et/ou l’Agent des messages</span><span class="sxs-lookup"><span data-stu-id="e6f40-305">Reduce the size of the thread pools used by the EPM and/or the Message Agent</span></span>|<span data-ttu-id="e6f40-306">Envisagez d'ajuster les différentes tailles de réserves de threads pour que le système ne puisse pas créer un grand nombre de threads.</span><span class="sxs-lookup"><span data-stu-id="e6f40-306">Consider adjusting the different thread pool sizes to ensure that the system does not create a large number of threads.</span></span><br /><br /> <span data-ttu-id="e6f40-307">Pour plus d’informations sur la modification des tailles de pool de threads, consultez [comment modifier les paramètres généraux](../core/how-to-modify-general-settings.md) et [comment modifier les ressources de limitation paramètres](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-307">For more information about modifying the thread pool sizes, see [How to Modify General Settings](../core/how-to-modify-general-settings.md) and [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="e6f40-308">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="e6f40-308">BizTalk:MessageAgent</span></span>|<span data-ttu-id="e6f40-309">Nombre de threads</span><span class="sxs-lookup"><span data-stu-id="e6f40-309">Thread count</span></span><br /><br /> <span data-ttu-id="e6f40-310">Seuil de nombre de threads</span><span class="sxs-lookup"><span data-stu-id="e6f40-310">Thread count threshold</span></span>|  
|<span data-ttu-id="e6f40-311">5</span><span class="sxs-lookup"><span data-stu-id="e6f40-311">5</span></span>|<span data-ttu-id="e6f40-312">La mémoire système dépasse un seuil.</span><span class="sxs-lookup"><span data-stu-id="e6f40-312">System memory exceeds a threshold.</span></span>|<span data-ttu-id="e6f40-313">Ralentissez la remise des messages vers les adaptateurs ou XLANG.</span><span class="sxs-lookup"><span data-stu-id="e6f40-313">Slow down message delivery to adapters or XLANG.</span></span><br /><br /> <span data-ttu-id="e6f40-314">Réduisez la consommation de mémoire en mettant en attente des instances de service et en réduisant la taille du cache, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="e6f40-314">Reduce process memory consumption by dehydrating service instances and shrinking cache when applicable.</span></span><br /><br /> <span data-ttu-id="e6f40-315">Réduisez la taille des réserves de threads utilisées par le Gestionnaire des points de terminaison et/ou l'agent des messages.</span><span class="sxs-lookup"><span data-stu-id="e6f40-315">Reduce the size of the thread pools used by the EPM and/or the Message Agent.</span></span>|<span data-ttu-id="e6f40-316">Envisagez de réduire la charge en réduisant la taille par défaut de la réserve de threads du Gestionnaire des points de terminaison et/ou la taille des lots de l'adaptateur.</span><span class="sxs-lookup"><span data-stu-id="e6f40-316">Consider reducing load by reducing the default size of the EPM thread pool, and/or the size of adapter batches.</span></span><br /><br /> <span data-ttu-id="e6f40-317">Si le processus ne consomme pas trop de mémoire, envisagez d’augmenter la **physique globale** seuil pour l’hôte.</span><span class="sxs-lookup"><span data-stu-id="e6f40-317">If the process is not consuming excessive memory, consider increasing the **Global Physical** threshold for the host.</span></span><br /><br /> <span data-ttu-id="e6f40-318">Pour plus d’informations sur la modification de la **physique globale** seuil, consultez [comment modifier les ressources de limitation paramètres](../core/how-to-modify-resource-based-throttling-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e6f40-318">For more information about changing the **Global Physical** threshold, see [How to Modify Resource Based Throttling Settings](../core/how-to-modify-resource-based-throttling-settings.md).</span></span>|<span data-ttu-id="e6f40-319">BizTalk:MessageAgent</span><span class="sxs-lookup"><span data-stu-id="e6f40-319">BizTalk:MessageAgent</span></span>|<span data-ttu-id="e6f40-320">Utilisation de la mémoire physique (Mo)</span><span class="sxs-lookup"><span data-stu-id="e6f40-320">Physical memory usage (MB)</span></span>|