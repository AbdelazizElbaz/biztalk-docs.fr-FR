---
title: "FAQ sur les adaptateurs WCF : Informations conceptuelles générales | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: bbeac135-3ba8-4b0b-a8ca-4eb5eb3d3ca3
caps.latest.revision: "8"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 6a33e6ba26f0ba97cb10aa2f9ee728683719dd66
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/01/2017
---
# <a name="wcf-adapter-faq-general-conceptual"></a><span data-ttu-id="9ff6d-102">FAQ sur les adaptateurs WCF : informations conceptuelles générales</span><span class="sxs-lookup"><span data-stu-id="9ff6d-102">WCF Adapter FAQ: General Conceptual</span></span>
<span data-ttu-id="9ff6d-103">Ci-dessous figurent certaines questions générales et conceptuelles fréquemment posées concernant les adaptateurs Windows ® Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="9ff6d-103">Below are some frequently asked general and conceptual questions about Windows® Communication Foundation (WCF) adapters.</span></span>  
  
## <a name="what-is-a-wcf-adapter"></a><span data-ttu-id="9ff6d-104">Qu'est-ce qu'un adaptateur WCF ?</span><span class="sxs-lookup"><span data-stu-id="9ff6d-104">What is a WCF adapter?</span></span>  
 <span data-ttu-id="9ff6d-105">Un adaptateur BizTalk est un élément clé de la communication entre Microsoft® BizTalk® Server et le monde extérieur.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-105">A BizTalk adapter is a key part of the way Microsoft® BizTalk® Server communicates with the outside world.</span></span> <span data-ttu-id="9ff6d-106">Un adaptateur WCF est un composant qui gère le processus de communication entre une application BizTalk et son besoin d'échanger des messages avec un point de terminaison WCF.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-106">A WCF adapter is a component that manages the communication process between a BizTalk application and its need to send messages to, and receive messages from, a WCF endpoint.</span></span> <span data-ttu-id="9ff6d-107">Avec BizTalk Server, les adaptateurs WCF sont exposés en tant que liaisons WCF.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-107">With the BizTalk Server, WCF adapters are exposed as WCF bindings.</span></span> <span data-ttu-id="9ff6d-108">Cela signifie que toute application WCF capable d'utiliser une liaison WCF peut communiquer directement avec les adaptateurs, sans intervention de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-108">This means that any WCF application that can use a WCF binding can communicate with the WCF adapters directly, without needing BizTalk Server to intervene.</span></span> <span data-ttu-id="9ff6d-109">Toutefois, l'utilisation des adaptateurs WCF via BizTalk Server offre un grand nombre des avantages d'infrastructure pour les applications offerts par BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-109">However, using the WCF adapters through BizTalk Server gives you many of the application infrastructure benefits that BizTalk Server provides.</span></span> <span data-ttu-id="9ff6d-110">Ce Forum Aux Questions (FAQ) est essentiellement consacré à l'utilisation des adaptateurs WCF à partir de l'environnement BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-110">The focus of these FAQs is primarily using the WCF adapters from within the BizTalk Server environment.</span></span>  
  
 <span data-ttu-id="9ff6d-111">Un adaptateur WCF permet à BizTalk Server d'utiliser les liaisons WCF pour envoyer et recevoir des messages WCF.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-111">A WCF adapter allows BizTalk Server to use the WCF bindings to send and receive WCF messages.</span></span> <span data-ttu-id="9ff6d-112">Une application WCF cliente peut envoyer un message WCF à un emplacement de réception BizTalk, où le message est reçu par un adaptateur de réception WCF.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-112">A WCF client application can send a WCF message to a BizTalk receive location, where the message is received by a WCF receive adapter.</span></span> <span data-ttu-id="9ff6d-113">L'adaptateur convertit le message WCF en un message BizTalk.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-113">The adapter takes the WCF message and converts it to a BizTalk message.</span></span> <span data-ttu-id="9ff6d-114">Le mode de conversion dépend de certains paramètres de configuration d'adaptateur qui sont définis à l'aide de la console Administration de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-114">How the conversion takes place depends upon certain adapter configuration settings which are configured using the BizTalk Server Administration console.</span></span> <span data-ttu-id="9ff6d-115">L'adaptateur soumet le message BizTalk à la base de données MessageBox BizTalk interne.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-115">The adapter submits the BizTalk message to the internal BizTalk MessageBox database.</span></span> <span data-ttu-id="9ff6d-116">Ensuite, un port d'envoi BizTalk utilisant un adaptateur WCF peut s'abonner à ce type de message, obtenir le message BizTalk, le convertir en message WCF, puis transmettre ce dernier à un point de terminaison de service WCF à l'aide de l'un des protocoles WCF pris en charge.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-116">Correspondingly, a BizTalk send port using a WCF adapter can subscribe to this message type, obtain the BizTalk message, convert it to a WCF message, and transmit the WCF message to a WCF service endpoint using one of the supported WCF protocols.</span></span>  
  
 <span data-ttu-id="9ff6d-117">L'utilisation des adaptateurs WCF à partir de BizTalk Server permet d'éviter les complexités masquées liées à une solution d'application BizTalk-WCF, telles que le choix et l'implémentation de protocoles de communication, les problèmes de sécurité et les opérations transactionnelles.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-117">Using the WCF adapters from within BizTalk Server abstracts the hidden complexities of a BizTalk-WCF application solution, such as the choice and implementation of communication protocols, security issues, and transactional operations.</span></span>  
  
## <a name="what-are-the-wcf-adapter-bindings"></a><span data-ttu-id="9ff6d-118">Quelles sont les liaisons de l'adaptateur WCF ?</span><span class="sxs-lookup"><span data-stu-id="9ff6d-118">What are the WCF adapter bindings?</span></span>  
 <span data-ttu-id="9ff6d-119">Les liaisons WCF se classent en deux catégories :</span><span class="sxs-lookup"><span data-stu-id="9ff6d-119">WCF bindings fall into one of two categories:</span></span>  
  
-   <span data-ttu-id="9ff6d-120">**Liaisons personnalisées :** pour améliorer la flexibilité de liaison, la liaison personnalisée spéciale existe.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-120">**Custom Bindings:** For increased binding flexibility, the special custom binding exists.</span></span> <span data-ttu-id="9ff6d-121">Celle-ci a trait à des situations de communication qui nécessitent des écarts par rapport aux liaisons standard.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-121">This covers communication situations that require deviations from the standard bindings.</span></span> <span data-ttu-id="9ff6d-122">Les adaptateurs WCF-Custom et WCF-CustomIsolated permettent le développement de personnalisations de liaison étendues.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-122">The WCF-Custom and WCF-CustomIsolated adapters allow development of extensive binding customizations.</span></span> <span data-ttu-id="9ff6d-123">Cela est effectué en autorisant la composition d'éléments de liaison existants (classe BindingElement) avec l'application de comportements (classe Behavior).</span><span class="sxs-lookup"><span data-stu-id="9ff6d-123">This is done by allowing the composition of existing binding elements (the BindingElement class) and the application of behaviors (the Behavior class).</span></span>  
  
-   <span data-ttu-id="9ff6d-124">**Les liaisons standard :** l’objectif de Microsoft consiste à développer des adaptateurs axés sur les scénarios de communication les plus courants.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-124">**Standard bindings:** Microsoft’s goal is to develop adapters focused on the most common communication scenarios.</span></span> <span data-ttu-id="9ff6d-125">L'utilisation de liaisons standard simplifie l'expérience du développeur en masquant de nombreux détails des protocoles de communication.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-125">Using standard bindings simplifies the developer’s experience by hiding many details of the communication protocols.</span></span> <span data-ttu-id="9ff6d-126">L’ensemble des adaptateurs WCF dans BizTalk Server reflète l’ensemble des liaisons disponibles dans les bibliothèques WCF .NET Framework 4.0.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-126">The set of WCF adapters in BizTalk Server reflects the set of bindings available in the .NET Framework 4.0 WCF libraries.</span></span> <span data-ttu-id="9ff6d-127">Les liaisons standard ont été introduites dans les bibliothèques WCF .NET afin de faciliter l'utilisation des modèles de liaison classiques.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-127">Standard bindings were introduced to the .NET WCF libraries to make typical binding patterns easier to use.</span></span> <span data-ttu-id="9ff6d-128">Elles recouvrent les scénarios de communication les plus couramment utilisés et comprennent les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="9ff6d-128">They cover the most commonly used communication scenarios and include:</span></span>  
  
    -   <span data-ttu-id="9ff6d-129">WCF-WsHttp</span><span class="sxs-lookup"><span data-stu-id="9ff6d-129">WCF-WsHttp</span></span>  
  
    -   <span data-ttu-id="9ff6d-130">WCF-BasicHttp</span><span class="sxs-lookup"><span data-stu-id="9ff6d-130">WCF-BasicHttp</span></span>  
  
    -   <span data-ttu-id="9ff6d-131">WCF-NetTcp</span><span class="sxs-lookup"><span data-stu-id="9ff6d-131">WCF-NetTcp</span></span>  
  
    -   <span data-ttu-id="9ff6d-132">WCF NetMsmg</span><span class="sxs-lookup"><span data-stu-id="9ff6d-132">WCF-NetMsmg</span></span>  
  
    -   <span data-ttu-id="9ff6d-133">WCF-NetNamedPipe</span><span class="sxs-lookup"><span data-stu-id="9ff6d-133">WCF-NetNamedPipe</span></span>  
  
 <span data-ttu-id="9ff6d-134">BizTalk Server R2 comprend les adaptateurs WCF suivants :</span><span class="sxs-lookup"><span data-stu-id="9ff6d-134">BizTalk Server R2 ships with the following WCF adapters:</span></span>  
  
1.  <span data-ttu-id="9ff6d-135">**Adaptateur WCF-WSHttp :** fournit WS-* prend en charge les normes via le transport HTTP.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-135">**WCF-WSHttp adapter:**  Provides the WS-* standards support over the HTTP transport.</span></span> <span data-ttu-id="9ff6d-136">L'adaptateur WCF-WSHttp met en œuvre les spécifications suivantes : WS-Transaction pour les interactions transactionnelles entre des applications externes et la base de données MessageBox, et WS-Security pour la sécurité et l'authentification des messages.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-136">The WCF-WSHttp adapter implements the following specifications: WS-Transaction for the transactional interactions between external applications and the MessageBox database, and WS-Security for message security and authentication.</span></span> <span data-ttu-id="9ff6d-137">Le transport est HTTP ou HTTPS, et l’encodage de message est un texte ou encodage (Message Transmission Optimization Mechanism).</span><span class="sxs-lookup"><span data-stu-id="9ff6d-137">The transport is HTTP or HTTPS, and message encoding is a text or Message Transmission Optimization Mechanism (MTOM) encoding.</span></span>  
  
2.  <span data-ttu-id="9ff6d-138">**Adaptateur WCF-BasicHttp :** communique avec les services Web basés sur ASMX et les clients et autres services conformes à WS-I Basic Profile 1.1.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-138">**WCF-BasicHttp adapter:** Communicates with ASMX-based Web services and clients and other services that conform to the WS-I Basic Profile 1.1.</span></span> <span data-ttu-id="9ff6d-139">Le transport est de type HTTP ou HTTPS, et le codage des messages de type texte.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-139">The transport is HTTP or HTTPS, and message encoding is a text encoding.</span></span>  
  
3.  <span data-ttu-id="9ff6d-140">**Adaptateur WCF-NetTcp :** fournit WS-* prend en charge les normes via le transport TCP.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-140">**WCF-NetTcp adapter:** Provides the WS-* standards support over the TCP transport.</span></span> <span data-ttu-id="9ff6d-141">L'adaptateur WCF-NetTcp permet une communication efficace et met en œuvre les spécifications suivantes : WS-Transaction pour les interactions transactionnelles entre des applications externes et la base de données MessageBox, et WS-Security pour la sécurité et l'authentification des messages.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-141">The WCF-NetTcp adapter provides efficient communication and implements the following specifications: WS-Transaction for the transactional interactions between external applications and the MessageBox database, and WS-Security for message security and authentication.</span></span> <span data-ttu-id="9ff6d-142">Le transport est de type TCP et le codage des messages est binaire.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-142">The transport is TCP, and message encoding is binary encoding.</span></span>  
  
4.  <span data-ttu-id="9ff6d-143">**Adaptateur WCF-NetMsmq :** prend en charge queuing en utilisant Message Queuing (également appelé MSMQ) comme une prise en charge du transport et permet de faiblement couplés des applications, l’isolation de défaillance, le nivellement de charge et des opérations déconnectées.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-143">**WCF-NetMsmq adapter:** Provides support for queuing by leveraging Message Queuing (also known as MSMQ) as a transport and enables support for loosely coupled applications, failure isolation, load-leveling, and disconnected operations.</span></span>  
  
5.  <span data-ttu-id="9ff6d-144">**Adaptateur WCF-NetNamedPipe :** assure une optimisation sécurisée pour la communication entre processus sur l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-144">**WCF-NetNamedPipe adapter:** Provides secure optimization for on-machine cross-process communication.</span></span> <span data-ttu-id="9ff6d-145">L'adaptateur WCF-NetNamedPipe utilise la sécurité de transport pour le transfert, des canaux nommés pour la remise des messages, ainsi qu'un codage de message binaire.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-145">The WCF-NetNamedPipe adapter uses transport security for transfer security, named pipes for message delivery, and binary message encoding.</span></span>  
  
     <span data-ttu-id="9ff6d-146">Chacun des cinq adaptateurs précités correspond à une liaison WCF dans une relation de 1 à 1.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-146">Each of the five adapters just mentioned correspond to one WCF binding in a 1:1 relationship.</span></span> <span data-ttu-id="9ff6d-147">La structure des deux adaptateurs personnalisés que nous allons décrire s'écarte légèrement du modèle WCF en ce qu'il s'agit en réalité de deux adaptateurs distincts qui correspondent à la liaison WCF CustomBinding.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-147">The structure of the two custom adapters we are about to discuss slightly breaks with the WCF model in that there are actually two distinct custom adapters that correspond to the single WCF CustomBinding.</span></span>  
  
6.  <span data-ttu-id="9ff6d-148">**Adaptateur WCF-Custom :** permet d’utiliser des fonctionnalités d’extensibilité WCF.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-148">**WCF-Custom adapter:** Enables the use of WCF extensibility features.</span></span> <span data-ttu-id="9ff6d-149">L'adaptateur permet de sélectionner et de configurer une liaison WCF et les informations de comportement pour un emplacement de réception et un port d'envoi hébergés dans le processus BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-149">The adapter allows you to select and configure a WCF binding and the behavior information for a receive location or a send port hosted in the BizTalk Server process.</span></span>  
  
7.  <span data-ttu-id="9ff6d-150">**Adaptateur WCF-CustomIsolated :** permet d’utiliser des fonctionnalités d’extensibilité WCF via le transport HTTP.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-150">**WCF-CustomIsolated adapter:** Enables the use of WCF extensibility features over the HTTP transport.</span></span> <span data-ttu-id="9ff6d-151">L'adaptateur permet de sélectionner et de configurer une liaison WCF et les informations de comportement pour un emplacement de réception exécuté dans l'hôte isolé des services Internet (IIS).</span><span class="sxs-lookup"><span data-stu-id="9ff6d-151">The adapter allows you to select and configure a WCF binding and the behavior information for a receive location running in the isolated host of Internet Information Services (IIS).</span></span>  
  
## <a name="what-is-the-difference-between-the-wcf-xxx-adapter-and-the-wcf-xxx-binding"></a><span data-ttu-id="9ff6d-152">Quelle est la différence entre l'adaptateur WCF-xxx et la liaison WCF-xxx ?</span><span class="sxs-lookup"><span data-stu-id="9ff6d-152">What is the difference between the WCF-xxx adapter and the WCF-xxx binding?</span></span>  
 <span data-ttu-id="9ff6d-153">Chacun des adaptateurs WCF correspond à l'une des liaisons WCF intégrées.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-153">Each of the WCF adapters corresponds to one of the built-in WCF bindings.</span></span> <span data-ttu-id="9ff6d-154">À un niveau supérieur, ces termes sont utilisés presque indistinctement en disant que l'adaptateur WCF-xxx utilise la liaison WCF-xxx.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-154">At a higher level, these terms are used almost interchangeably when saying that the WCF-xxx adapter uses the WCF-xxx binding.</span></span> <span data-ttu-id="9ff6d-155">Par exemple, l'adaptateur WCF-BasicHttp utilise le classe WCF BasicHttpBinding.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-155">For example, the WCF-BasicHttp adapter uses the WCF BasicHttpBinding class.</span></span> <span data-ttu-id="9ff6d-156">Une liaison WCF fait partie de la définition d'un point de terminaison WCF.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-156">A WCF binding is part of the definition of a WCF Endpoint.</span></span> <span data-ttu-id="9ff6d-157">C'est ce qu'on appelle l'« ABC » d'un point de terminaison WCF. Ces lettres sont les initiales des mots anglais Address (adresse), Binding (liaison) et Contract (contrat).</span><span class="sxs-lookup"><span data-stu-id="9ff6d-157">This is referred to in the “ABC” of a WCF endpoint, where these letters stand for Address, Binding and Contract.</span></span>  
  
 <span data-ttu-id="9ff6d-158">Une liaison est constituée d'une série d'éléments de liaison.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-158">A binding is made up of a collection of binding elements.</span></span> <span data-ttu-id="9ff6d-159">Chaque élément décrit un aspect de la manière dont le point de terminaison communique avec les clients.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-159">Each element describes some aspect of how the endpoint communicates with clients.</span></span> <span data-ttu-id="9ff6d-160">Une liaison doit inclure :</span><span class="sxs-lookup"><span data-stu-id="9ff6d-160">A binding must include:</span></span>  
  
-   <span data-ttu-id="9ff6d-161">au moins un élément de liaison de transport ;</span><span class="sxs-lookup"><span data-stu-id="9ff6d-161">At least one transport binding element.</span></span>  
  
-   <span data-ttu-id="9ff6d-162">au moins un élément de liaison de codage de message (que l'élément de liaison de transport peut fournir par défaut) ;</span><span class="sxs-lookup"><span data-stu-id="9ff6d-162">At least one message-encoding binding element (which the transport binding element can provide by default).</span></span>  
  
-   <span data-ttu-id="9ff6d-163">un nombre quelconque d'autres éléments de liaison de protocole.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-163">Any number of other protocol binding elements.</span></span>  
  
 <span data-ttu-id="9ff6d-164">Le processus qui crée un environnement d'exécution à partir de cette description permet à chaque élément de liaison de contribuer au code de cet environnement.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-164">The process that builds a runtime environment out of this description allows each binding element to contribute code to that environment.</span></span> <span data-ttu-id="9ff6d-165">Il faut généralement que les types de liaisons et l'adaptateur d'un client correspondent à ceux pris en charge par le service WCF appelé.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-165">It is generally required for a client to match the same binding types and adapter that the called WCF Service supports.</span></span> <span data-ttu-id="9ff6d-166">Au niveau du WCF, une liaison peut être définie de façon déclarative dans un fichier de configuration ou de façon explicite à l'aide d'un code.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-166">At the WCF level, a binding can be defined declaratively in a configuration file or explicitly through code.</span></span> <span data-ttu-id="9ff6d-167">Un adaptateur WCF facilite la communication à l'aide d'une liaison WCF spécifique. Les termes « adaptateur » et « liaison » tendent ainsi à devenir synonymes dans leur usage.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-167">A WCF adapter facilitates communication using a specific WCF binding, and thus the terms “adapter” and “binding” tend to become almost identical in their usage.</span></span>  
  
## <a name="when-using-the-wcf-adapters-how-do-you-decide-which-wcf-binding-to-use"></a><span data-ttu-id="9ff6d-168">Lors de l'utilisation des adaptateurs WCF, comment décidez-vous de la liaison WCF à utiliser ?</span><span class="sxs-lookup"><span data-stu-id="9ff6d-168">When using the WCF adapters, how do you decide which WCF binding to use?</span></span>  
 <span data-ttu-id="9ff6d-169">Vous prenez cette décision en fonction du modèle de messagerie, des contraintes externes et des performances, dans cet ordre.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-169">You can make this decision based upon the messaging pattern, external constraints, and performance, in that order.</span></span>  
  
1.  <span data-ttu-id="9ff6d-170">**Modèle de messagerie :** le modèle de communication est la façon dont la communication a lieu en fonction du flux du message.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-170">**Messaging pattern:** The pattern of communication is how the communication occurs based on the flow of the message.</span></span> <span data-ttu-id="9ff6d-171">Par exemple, le message peut être unidirectionnel (requête) ou bidirectionnel (requête-réponse), traité, mis en file d'attente, etc.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-171">For example, the message may be one-way (request) or two-way (request-response), it may be transacted, it may be queued, and so on.</span></span>  
  
    -   <span data-ttu-id="9ff6d-172">S'il est mis en file d'attente, vous devez utiliser l'adaptateur WCF-NetMsmq qui prend en charge la communication traitée mise en file d'attente unidirectionnelle.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-172">If it is queued, you need to use the WCF-NetMsmq adapter, which supports one-way queued transacted communication.</span></span>  
  
    -   <span data-ttu-id="9ff6d-173">Si le modèle est une requête-réponse bidirectionnelle et que le flux intervient entre deux ordinateurs, vous devez utiliser HTTP (si vous souhaitez favoriser la flexibilité) ou WCF-NetTcp (si vous souhaitez favoriser les performances).</span><span class="sxs-lookup"><span data-stu-id="9ff6d-173">If the pattern is a two-way request-response and flows between two computers, you would use HTTP (if you are concerned about being as flexible as possible), or WCF-NetTcp (if you are concerned about performance).</span></span>  
  
    -   <span data-ttu-id="9ff6d-174">Si le message reste sur un seul ordinateur où il fait l'objet de divers processus, vous pouvez utiliser la liaison WCF-NetNamedPipe.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-174">If the message remains on a single computer and flows simply between processes, you can use the WCF-NetNamedPipe binding.</span></span>  
  
2.  <span data-ttu-id="9ff6d-175">**Contraintes externes :** il peut y avoir des problèmes qui vous amener à opter une liaison spécifique.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-175">**External constraints:** There may be issues that dictate you use a specific binding.</span></span> <span data-ttu-id="9ff6d-176">Par exemple, supposons que le système externe nécessite SOAP Web Services version 1.2 et Addressing 1.0.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-176">For instance, suppose the external system requires SOAP Web Services version 1.2 and Addressing 1.0.</span></span> <span data-ttu-id="9ff6d-177">Dans ce cas, le meilleur choix de liaison est WSHttpBinding avec l'adaptateur WCF-WsHttp.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-177">In this case, the best binding choice is WSHttpBinding using the WCF-WsHttp adapter.</span></span> <span data-ttu-id="9ff6d-178">En toute probabilité, le système externe impose également des exigences en relation avec le mode de sécurité particulier à configurer.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-178">In all likelihood, the external system would also have requirements around the particular security mode to configure.</span></span> <span data-ttu-id="9ff6d-179">Si le système externe requiert Soap Web Services 1.1, vous devez utiliser l'adaptateur WCF-BasicHttp pour la liaison HTTP.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-179">If the external system required Soap Web Services 1.1 you would use the WCF-BasicHttp adapter for the HTTP binding.</span></span>  
  
3.  <span data-ttu-id="9ff6d-180">**Performances :** la vitesse à laquelle l’appel peut être un facteur décisif dans la liaison à laquelle vous souhaitez utiliser dans votre application :</span><span class="sxs-lookup"><span data-stu-id="9ff6d-180">**Performance:** How fast the call is made may be a deciding factor in which binding you choose to use in your application:</span></span>  
  
    -   <span data-ttu-id="9ff6d-181">Si le service WCF est exécuté sur le même ordinateur que BizTalk Server, l'utilisation de l'adaptateur WCF-NetNamedPipe constitue meilleur choix en termes de performances.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-181">If the WCF service is on the same computer as BizTalk Server, using the WCF-NetNamedPipe adapter is the best performance choice.</span></span>  
  
    -   <span data-ttu-id="9ff6d-182">Si le service WCF est exécuté sur votre réseau local, l'adaptateur WCF-NetTcp offre les meilleures performances.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-182">If the WCF service is on your local network, WCF-NetTcp yields the best performance.</span></span>  
  
    -   <span data-ttu-id="9ff6d-183">Si les performances ne sont pas une considération majeure et que l'appel passe par Internet, les deux adaptateurs basés sur HTTP (WCF-WsHttp et WCF-BasicHttp) conviennent.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-183">If performance is not a major concern and the call is going across the Internet, either of the HTTP-based adapters (WCF-WsHttp or WCF-BasicHttp) is the right adapter.</span></span>  
  
         <span data-ttu-id="9ff6d-184">Le choix de l'adaptateur le plus approprié varie selon que vous utilisez une fonctionnalité HTTP avancée (WCF-WsHttp) ou de base (WCF-BasicHttp).</span><span class="sxs-lookup"><span data-stu-id="9ff6d-184">Whether you are using any advanced HTTP functionality (WCF-WsHttp) or just basic functionality (WCF-BasicHttp) will dictate which HTTP-based adapter is the best choice to use.</span></span>  
  
## <a name="when-do-you-use-one-of-the-two-custom-wcf-adapters"></a><span data-ttu-id="9ff6d-185">Quand utilisez-vous un des deux adaptateurs WCF personnalisés ?</span><span class="sxs-lookup"><span data-stu-id="9ff6d-185">When do you use one of the two custom WCF adapters?</span></span>  
 <span data-ttu-id="9ff6d-186">Il existe deux adaptateurs WCF personnalisés qui sont fournis avec BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-186">There are two custom WCF adapters that ship with BizTalk Server.</span></span> <span data-ttu-id="9ff6d-187">La raison à cela est que BizTalk Server exige que l'hébergement d'un type d'adaptateur particulier fasse partie de son inscription dans le système.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-187">The reason there are two custom adapters is because BizTalk Server requires that the hosting of a particular adapter type needs to be part of its registration with the system.</span></span> <span data-ttu-id="9ff6d-188">Bien qu'il n'y ait qu'un seul type de liaison CustomBinding dans l'infrastructure WCF, BizTalk Server intègre deux adaptateurs pour répondre à cette limitation du modèle d'adaptateur BizTalk préexistant.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-188">Although there is only one CustomBinding type in the WCF  Framework, there are two custom adapters in BizTalk Server to accommodate this limitation in the pre-existing BizTalk adapter model.</span></span> <span data-ttu-id="9ff6d-189">En réalité, ces adaptateurs sont réellement les seuls dont vous puissiez avoir besoin car ils permettent de contrôler totalement la configuration de la pile de canaux WCF.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-189">In reality, these adapters are really the only adapters you ever need because they allow complete control over the WCF channel stack configuration.</span></span>  
  
 <span data-ttu-id="9ff6d-190">Le seul inconvénient des adaptateurs personnalisés est qu'ils exigent que vous maîtrisiez bien la configuration WCF et les diverses techniques d'extensibilité.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-190">The only drawback to custom adapters is that they also require you to be very knowledgeable about WCF configuration and the various extensibility techniques.</span></span>  <span data-ttu-id="9ff6d-191">Microsoft fournit des adaptateurs pour les liaisons WCF standard dans le but de simplifier la configuration.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-191">Simplifying configuration is why Microsoft provides adapters for standard WCF bindings.</span></span> <span data-ttu-id="9ff6d-192">Les liaisons standard sont prédéfinies pour couvrir la plupart des cas d'utilisation courante et pour simplifier au maximum l'envoi et la réception de messages via BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-192">The standard bindings are predefined to cover most of the common use cases and to make sending and receiving messages through BizTalk Server as simple as possible.</span></span> <span data-ttu-id="9ff6d-193">La nécessité d'utiliser l'un de ces adaptateurs personnalisés ne se présente généralement que quand les liaisons standard ne permettent pas de répondre complètement ou exactement aux besoins de votre port d'envoi ou de votre emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-193">The need to use one of these custom adapters typically occurs only when the standard bindings fail to completely or precisely meet the requirements for your send port or receive location.</span></span> <span data-ttu-id="9ff6d-194">Par exemple, il se peut qu'une application utilise un système de compression propriétaire pour ses messages.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-194">For example, there may be an application using a proprietary compression scheme for its messages.</span></span> <span data-ttu-id="9ff6d-195">Dans ce cas, il convient d'écrire un élément de liaison personnalisée.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-195">To support this, a custom binding element will have to be written.</span></span> <span data-ttu-id="9ff6d-196">Le recours à l'un des adaptateurs personnalisés standard permet de configurer cette liaison personnalisée pour prendre en compte l'exigence de transmission.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-196">Using one of the two standard custom adapters allows configuration of this custom binding to handle the transmission requirement.</span></span> <span data-ttu-id="9ff6d-197">Ainsi, un adaptateur personnalisé permet de mieux contrôler la configuration des liaisons pour ce processus de communication via la pile de canaux.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-197">Thus, a custom adapter allows a higher level of control over the configuration of the bindings for that communication process through the channel stack.</span></span>  
  
 <span data-ttu-id="9ff6d-198">La principale différence entre l'adaptateur personnalisé et l'adaptateur isolé personnalisé a trait à l'hébergement qui n'a d'incidence que sur le côté réception de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-198">The primary difference between the Custom and Custom Isolated adapters is one of hosting, and hosting only impacts the receive side of BizTalk Server.</span></span> <span data-ttu-id="9ff6d-199">L'adaptateur WCF-CustomIsolated est utilisé uniquement avec un emplacement de réception et non avec un port d'envoi.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-199">The WCF-CustomIsolated adapter is used with a receive location only and not with a send port.</span></span> <span data-ttu-id="9ff6d-200">Dans BizTalk, le terme « isolé » fait référence à un hébergement hors du processus BtsNtSvc.exe de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-200">The term “Isolated” is a BizTalk phrase that refers to being hosted outside of the BizTalk Server BtsNtSvc.exe process.</span></span> <span data-ttu-id="9ff6d-201">C'est pourquoi l'adaptateur WCF-CustomIsolated est utilisé quand le transport est hébergé hors du processus BtsNtSvc.exe standard à l'intérieur des services Internet (IIS) qui utilisent le transport HTTP.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-201">Therefore, the WCF-CustomIsolated adapter is used when the transport is hosted outside the standard BtsNtSvc.exe process within Internet Information Services (IIS) using the HTTP transport.</span></span> <span data-ttu-id="9ff6d-202">L'adaptateur WCF-Custom peut être utilisé indifféremment avec un emplacement de réception ou un port d'envoi.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-202">The WCF-Custom adapter can be used with either a receive location or a send port.</span></span> <span data-ttu-id="9ff6d-203">Il est utilisé lorsque le transport est hébergé à l'intérieur du processus BtsNtSvc.exe standard.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-203">It is used when the transport is hosted inside the standard BtsNtSvc.exe process.</span></span>  
  
## <a name="how-does-a-wcf-endpoint-relate-to-biztalk-server"></a><span data-ttu-id="9ff6d-204">Quel est l relation entre un point de terminaison WCF et BizTalk Server ?</span><span class="sxs-lookup"><span data-stu-id="9ff6d-204">How does a WCF endpoint relate to BizTalk Server?</span></span>  
 <span data-ttu-id="9ff6d-205">Un point de terminaison WCF se compose d'une adresse, d'une liaison et d'un contrat (ABC pour Address, Binding, Contract).</span><span class="sxs-lookup"><span data-stu-id="9ff6d-205">A WCF endpoint is composed of an address, a binding, and a contract (ABC).</span></span> <span data-ttu-id="9ff6d-206">Dans BizTalk Server, l'utilisateur spécifie l'adresse dans l'emplacement de réception ou le port d'envoi.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-206">Within BizTalk Server, the user specifies the address in the receive location or send port.</span></span> <span data-ttu-id="9ff6d-207">La liaison est dictée par l'adaptateur WCF que l'utilisateur a choisi.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-207">The binding is dictated by the WCF adapter the user has chosen.</span></span> <span data-ttu-id="9ff6d-208">Le contrat dépend du programmeur dans la mesure où il spécifie l'interface exposée par le point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-208">The contract is programmer-driven in that it specifies the interface exposed by the endpoint.</span></span>  
  
 <span data-ttu-id="9ff6d-209">Le point de terminaison réel existe en tant qu'emplacement de réception auquel les messages WCF sont envoyés.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-209">The actual endpoint exists as a receive location to which WCF messages are sent.</span></span>  <span data-ttu-id="9ff6d-210">Il existe plusieurs façons d'exposer un point de terminaison WCF dans une application BizTalk Server :</span><span class="sxs-lookup"><span data-stu-id="9ff6d-210">There are multiple ways to expose a WCF endpoint in a BizTalk Server application:</span></span>  
  
-   <span data-ttu-id="9ff6d-211">Vous pouvez utiliser l'Assistant Publication de services WCF BizTalk pour publier une orchestration BizTalk en tant que point de terminaison WCF.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-211">You can use the BizTalk WCF Service Publishing Wizard to publish a BizTalk orchestration as a WCF endpoint.</span></span>  
  
-   <span data-ttu-id="9ff6d-212">Vous pouvez utiliser l'Assistant Publication de services WCF BizTalk pour créer un emplacement de réception dans une application BizTalk existante.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-212">You can use the BizTalk WCF Service Publishing Wizard to create a receive location in an existing BizTalk application.</span></span>  
  
-   <span data-ttu-id="9ff6d-213">Vous pouvez créer manuellement un point de terminaison WCF en configurant la liaison et l'adresse d'un emplacement de réception à l'aide d'un code.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-213">You can manually create a WCF endpoint by configuring a receive location’s binding and address in code.</span></span>  <span data-ttu-id="9ff6d-214">Dans ce cas, l'emplacement de réception est en réalité non typé.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-214">In this case the receive location is actually un-typed.</span></span>  <span data-ttu-id="9ff6d-215">Il est lié à un contrat qui spécifie uniquement la classe de message WCF, ce qui permet la réception de messages de tous formats dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-215">It has a contract that is specified purely in terms of the WCF Message class, allowing it to receive any message format into the MessageBox database.</span></span>  
  
 <span data-ttu-id="9ff6d-216">Chaque emplacement de réception BizTalk utilisant un adaptateur WCF est exposé en tant que point de terminaison WCF auquel un client WCF peut faire appel.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-216">Each BizTalk receive location that uses a WCF adapter is exposed as a WCF endpoint into which a WCF client can make a call.</span></span>  <span data-ttu-id="9ff6d-217">Un emplacement de réception utilise en interne son propre ServiceHost WCF, de façon à ce qu'il soit possible d'activer ou de désactiver les différents emplacements de réception indépendamment les uns des autres.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-217">A receive location internally uses its own WCF ServiceHost to allow the different receive locations to be enabled or disabled independently of each other.</span></span> <span data-ttu-id="9ff6d-218">La durée de vie du point de terminaison de service équivaut au temps d'activation de l'emplacement de réception.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-218">The lifetime of the service endpoint exists as long as that receive location is enabled.</span></span> <span data-ttu-id="9ff6d-219">En raison de cette durée de vie, les ServiceHosts WCF correspondent aux emplacements de réception plutôt qu'aux ports de réception.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-219">It is because of this lifetime issue that WCF ServiceHosts correspond to receive locations rather than to receive ports.</span></span> <span data-ttu-id="9ff6d-220">La conception de WCF garantit que les différents ServiceHosts ne soient pas onéreux en ressources d'exécution et qu'il soit possible d'en exécuter un grand nombre à l'intérieur du même fichier exécutable sans aucun problème.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-220">The design of WCF ensures that individual ServiceHosts are not expensive in terms of runtime resources and many can be run within the same executable without any trouble.</span></span>  
  
 <span data-ttu-id="9ff6d-221">Chaque port d'envoi BizTalk utilisant un adaptateur WCF correspond à un appel fait à un service WCF.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-221">Each BizTalk send port that uses a WCF adapter corresponds to a call made to a WCF service.</span></span> <span data-ttu-id="9ff6d-222">Quand il y a des messages à envoyer, BizTalk Server transmet à l'adaptateur les messages qui correspondent à la création du proxy de client WCF à l'intérieur de l'adaptateur WCF BizTalk.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-222">When there are messages to be sent, BizTalk Server gives the adapter those messages that correspond to the creation of the WCF client proxy within the BizTalk WCF adapter.</span></span> <span data-ttu-id="9ff6d-223">Une fois les messages envoyés, le proxy de client WCF est libéré.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-223">After the messages are sent the WCF client proxy is released.</span></span> <span data-ttu-id="9ff6d-224">La durée de vie de WCF sur un port d'envoi varie constamment en fonction de la création, de l'utilisation et de la libération de proxy.</span><span class="sxs-lookup"><span data-stu-id="9ff6d-224">The WCF lifetime on a send port constantly comes and goes as a proxy is created, used, and torn down.</span></span>