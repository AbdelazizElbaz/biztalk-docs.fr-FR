---
title: "Problèmes connus pour les adaptateurs WCF | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 423c6021-5fb7-48c9-9319-11e7a18c775c
caps.latest.revision: "54"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 26c296dfb2ca1f05a2f403aa31a73b67934fb23a
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/01/2017
---
# <a name="known-issues-for-the-wcf-adapters"></a><span data-ttu-id="4f419-102">Problèmes connus pour les adaptateurs WCF</span><span class="sxs-lookup"><span data-stu-id="4f419-102">Known Issues for the WCF Adapters</span></span>
<span data-ttu-id="4f419-103">Cette rubrique décrit les problèmes connus pour les adaptateurs WCF inclus dans BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="4f419-103">This topic describes the known issues for the WCF adapters included with BizTalk Server.</span></span>  
  
## <a name="a-message-that-fails-in-the-inbound-soap-marshaling-processing-is-not-suspended-in-wcf-receive-adapters"></a><span data-ttu-id="4f419-104">Un message échouant au cours du traitement de marshaling SOAP entrant n'est pas interrompu dans les adaptateurs de réception WCF.</span><span class="sxs-lookup"><span data-stu-id="4f419-104">A message that fails in the inbound SOAP marshaling processing is not suspended in WCF receive adapters</span></span>  
 <span data-ttu-id="4f419-105">Lorsqu'un message arrive à un adaptateur de réception WCF, ce dernier crée un message BizTalk à partir du message SOAP entrant, puis transmet le message BizTalk au proxy de transport géré par le Gestionnaire des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="4f419-105">When a message arrives at a WCF receive adapter, the WCF adapter creates a BizTalk message from the incoming SOAP message, and then passes the BizTalk message to the transport proxy, which is managed by the Endpoint Manager.</span></span> <span data-ttu-id="4f419-106">Si l'adaptateur ne peut pas lire l'enveloppe et le corps SOAP lors de la création du message BizTalk, le message n'est pas interrompu car l'adaptateur utilise le lecteur rapide, non mis en cache et vers l'avant uniquement, pour accéder au message SOAP.</span><span class="sxs-lookup"><span data-stu-id="4f419-106">If the adapter fails to read the SOAP envelope and body while creating the BizTalk message, the message is not suspended because the adapter uses the fast, non-cached, and forward-only reader to access the SOAP message.</span></span>  
  
 <span data-ttu-id="4f419-107">Vous devez rechercher le message échoué dans le journal des événements.</span><span class="sxs-lookup"><span data-stu-id="4f419-107">You should check the event log for the failed message.</span></span> <span data-ttu-id="4f419-108">Par exemple, vous pouvez utiliser une expression de chemin de corps sur le **Messages** onglet dans la boîte de dialogue Propriétés WCF adaptateur transport pour spécifier comment créer le corps du message BizTalk entrant à partir d’un message SOAP entrant via l’adaptateur WCF.</span><span class="sxs-lookup"><span data-stu-id="4f419-108">For example, you can use a body path expression on the **Messages** tab in the WCF adapter transport properties dialog box to specify how to create the inbound BizTalk message body from a SOAP message incoming through the WCF adapter.</span></span> <span data-ttu-id="4f419-109">Lorsqu’une expression de chemin de corps non valide pour le message SOAP entrant est fournie sous la **Messages** onglet, l’adaptateur ne créer le message BizTalk et ne peut pas interrompre le message entrant.</span><span class="sxs-lookup"><span data-stu-id="4f419-109">When an invalid body path expression for the incoming SOAP message is supplied on the **Messages** tab, the adapter fails to create the BizTalk message and cannot suspend the incoming message.</span></span> <span data-ttu-id="4f419-110">Pour plus d’informations sur l’utilisation de l’expression de chemin de corps sur le **Messages** , consultez la rubrique [spécifiant le corps du Message pour les adaptateurs WCF](../core/specifying-the-message-body-for-the-wcf-adapters.md).</span><span class="sxs-lookup"><span data-stu-id="4f419-110">For more information about how to use the body path expression on the **Messages** tab, see [Specifying the Message Body for the WCF Adapters](../core/specifying-the-message-body-for-the-wcf-adapters.md).</span></span>  
  
 <span data-ttu-id="4f419-111">L’illustration suivante montre le **Messages** onglet sur lequel vous pouvez spécifier comment créer des messages BizTalk entrants à partir des messages SOAP entrants.</span><span class="sxs-lookup"><span data-stu-id="4f419-111">The following figure shows the **Messages** tab on which you can specify how to create inbound BizTalk messages from the incoming SOAP messages.</span></span>  
  
## <a name="a-message-that-fails-in-the-inbound-soap-marshaling-processing-is-not-suspended-in-wcf-send-adapters"></a><span data-ttu-id="4f419-112">Un message échouant au cours du traitement de marshaling SOAP entrant n'est pas interrompu dans les adaptateurs d'envoi WCF.</span><span class="sxs-lookup"><span data-stu-id="4f419-112">A message that fails in the inbound SOAP marshaling processing is not suspended in WCF send adapters</span></span>  
 <span data-ttu-id="4f419-113">Le port d'envoi WCF de type sollicitation-réponse peut recevoir un message WCF en tant que message de réponse.</span><span class="sxs-lookup"><span data-stu-id="4f419-113">The solicit-response WCF send port can receive a WCF message as a response message.</span></span> <span data-ttu-id="4f419-114">Lorsque le message arrive à l'adaptateur d'envoi WCF, ce dernier crée le message BizTalk à partir du message SOAP entrant, puis transmet le message BizTalk au proxy de transport géré par le Gestionnaire des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="4f419-114">When the message arrives at the WCF send adapter, the WCF adapter creates the BizTalk message from the incoming SOAP message, and then passes the BizTalk message to the transport proxy, which is managed by the Endpoint Manager.</span></span> <span data-ttu-id="4f419-115">Si l'adaptateur ne peut pas lire l'enveloppe et le corps SOAP lors de la création du message BizTalk, le message n'est pas interrompu car l'adaptateur utilise le lecteur rapide, non mis en cache et vers l'avant uniquement, pour accéder au message SOAP.</span><span class="sxs-lookup"><span data-stu-id="4f419-115">If the adapter fails to read the SOAP envelope and body while creating the BizTalk message, the message is not suspended because the adapter uses the fast, non-cached, and forward-only reader to access the SOAP message.</span></span>  
  
 <span data-ttu-id="4f419-116">Vous devez rechercher le message échoué dans le journal des événements.</span><span class="sxs-lookup"><span data-stu-id="4f419-116">You should check the event log for the failed message.</span></span> <span data-ttu-id="4f419-117">Par exemple, vous pouvez utiliser une expression XPath sur le **Messages** onglet dans la boîte de dialogue Propriétés WCF adaptateur transport pour spécifier comment créer le corps du message BizTalk entrant à partir d’un message SOAP entrant via l’adaptateur WCF.</span><span class="sxs-lookup"><span data-stu-id="4f419-117">For example, you can use an XPath expression on the **Messages** tab in the WCF adapter transport properties dialog box to specify how to create the inbound BizTalk message body from a SOAP message incoming through the WCF adapter.</span></span> <span data-ttu-id="4f419-118">Lorsqu’une expression XPath non valide pour le message SOAP entrant est fournie sous la **Messages** onglet, l’adaptateur ne créer le message BizTalk et ne peut pas interrompre le message entrant.</span><span class="sxs-lookup"><span data-stu-id="4f419-118">When an invalid XPath expression for the incoming SOAP message is supplied on the **Messages** tab, the adapter fails to create the BizTalk message and cannot suspend the incoming message.</span></span> <span data-ttu-id="4f419-119">Pour plus d’informations sur l’utilisation de l’expression XPath sur le **Messages** , consultez la rubrique [spécifiant le corps du Message pour les adaptateurs WCF](../core/specifying-the-message-body-for-the-wcf-adapters.md).</span><span class="sxs-lookup"><span data-stu-id="4f419-119">For more information about how to use the XPath expression on the **Messages** tab, see [Specifying the Message Body for the WCF Adapters](../core/specifying-the-message-body-for-the-wcf-adapters.md).</span></span>  
  
 <span data-ttu-id="4f419-120">L’illustration suivante montre le **Messages** onglet de l’adaptateur d’envoi WCF-NetNamedPipe par exemple.</span><span class="sxs-lookup"><span data-stu-id="4f419-120">The following figure shows the **Messages** tab of the WCF-NetNamedPipe send adapter as an example.</span></span>  
  
 <span data-ttu-id="4f419-121">![L’onglet des Messages WCF des adaptateurs d’envoi](../core/media/54623ccf-49a9-4b6a-9487-da0d94bab64d.gif "54623ccf-49a9-4b6a-9487-da0d94bab64d")</span><span class="sxs-lookup"><span data-stu-id="4f419-121">![The Messages tab in the WCF send adapters](../core/media/54623ccf-49a9-4b6a-9487-da0d94bab64d.gif "54623ccf-49a9-4b6a-9487-da0d94bab64d")</span></span>  
  
## <a name="messages-can-be-lost-when-using-onewaybindingelement-in-a-two-way-transport-with-custom-binding-in-non-transactional-wcf-receive-locations"></a><span data-ttu-id="4f419-122">Des messages peuvent être perdus lors de l'utilisation de OneWayBindingElement dans un transport bidirectionnel avec une liaison personnalisée dans les emplacements de réception WCF non transactionnels.</span><span class="sxs-lookup"><span data-stu-id="4f419-122">Messages can be lost when using OneWayBindingElement in a two-way transport with custom binding in non-transactional WCF receive locations</span></span>  
 <span data-ttu-id="4f419-123">Dans une communication bidirectionnelle, les adaptateurs WCF renvoient la réponse jusqu'à la conservation des messages dans la base de données MessageBox.</span><span class="sxs-lookup"><span data-stu-id="4f419-123">In a two-way communication, WCF adapters will send the response back until the messages have been persisted in the MessageBox database.</span></span> <span data-ttu-id="4f419-124">Toutefois, à l’aide de **OneWayBindingElement** génère une réponse factice juste avant de distribuer le message reçu à l’adaptateur WCF.</span><span class="sxs-lookup"><span data-stu-id="4f419-124">However, using **OneWayBindingElement** generates a dummy response immediately before dispatching the received message to the WCF adapter.</span></span> <span data-ttu-id="4f419-125">Par conséquent, si vous configurez une liaison personnalisée avec un **OneWayBindingElement** dans la pile de canal pour un transport bidirectionnel dans non transactionnel emplacements de réception, les messages peuvent être perdus car les adaptateurs WCF traitent les données reçues messages de manière unidirectionnelle.</span><span class="sxs-lookup"><span data-stu-id="4f419-125">Therefore, if you configure a custom binding with a **OneWayBindingElement** in the channel stack for two-way transport in non-transactional receive locations, messages can be lost because the WCF adapters process the received messages in the one-way fashion.</span></span>  
  
## <a name="default-values-of-the-readerquotas-attributes-in-the-wcf-custom-and-wcf-customisolated-transport-properties-dialog-boxes-are-used-when-constructing-the-bindings"></a><span data-ttu-id="4f419-126">Des valeurs par défaut des attributs ReaderQuotas dans les boîtes de dialogue Propriétés du transport WCF-Custom et WCF-CustomIsolated sont utilisées lors de la construction des liaisons.</span><span class="sxs-lookup"><span data-stu-id="4f419-126">Default values of the ReaderQuotas attributes in the WCF-Custom and WCF-CustomIsolated transport properties dialog boxes are used when constructing the bindings</span></span>  
 <span data-ttu-id="4f419-127">Dans WCF-Custom et WCF-CustomIsolated, les boîtes de dialogue des propriétés de transport le **ReaderQuotas** valeurs d’attribut sont affichés comme zéro.</span><span class="sxs-lookup"><span data-stu-id="4f419-127">In the WCF-Custom and WCF-CustomIsolated transport properties dialog boxes, the **ReaderQuotas** attribute values are shown as zero.</span></span> <span data-ttu-id="4f419-128">Toutefois, lors de la construction des liaisons, les valeurs suivantes sont utilisées :</span><span class="sxs-lookup"><span data-stu-id="4f419-128">However, when constructing the bindings, the following values are used:</span></span>  
  
|<span data-ttu-id="4f419-129">Attribut</span><span class="sxs-lookup"><span data-stu-id="4f419-129">Attribute</span></span>|<span data-ttu-id="4f419-130"> Description</span><span class="sxs-lookup"><span data-stu-id="4f419-130">Description</span></span>|<span data-ttu-id="4f419-131">Valeur</span><span class="sxs-lookup"><span data-stu-id="4f419-131">Value</span></span>|  
|---------------|-----------------|-----------|  
|<span data-ttu-id="4f419-132">maxArrayLength</span><span class="sxs-lookup"><span data-stu-id="4f419-132">maxArrayLength</span></span>|<span data-ttu-id="4f419-133">Entier positif qui spécifie la longueur de tableau maximale autorisée.</span><span class="sxs-lookup"><span data-stu-id="4f419-133">A positive integer that specifies the maximum allowed array length.</span></span>|<span data-ttu-id="4f419-134">16384</span><span class="sxs-lookup"><span data-stu-id="4f419-134">16384</span></span>|  
|<span data-ttu-id="4f419-135">maxBytesPerRead</span><span class="sxs-lookup"><span data-stu-id="4f419-135">maxBytesPerRead</span></span>|<span data-ttu-id="4f419-136">Entier positif qui spécifie le nombre maximal autorisé d'octets renvoyés par lecture.</span><span class="sxs-lookup"><span data-stu-id="4f419-136">A positive integer that specifies the maximum allowed bytes returned per read.</span></span>|<span data-ttu-id="4f419-137">4096</span><span class="sxs-lookup"><span data-stu-id="4f419-137">4096</span></span>|  
|<span data-ttu-id="4f419-138">maxDepth</span><span class="sxs-lookup"><span data-stu-id="4f419-138">maxDepth</span></span>|<span data-ttu-id="4f419-139">Entier positif qui spécifie la profondeur maximale du nœud imbriqué par lecture.</span><span class="sxs-lookup"><span data-stu-id="4f419-139">A positive integer that specifies the maximum nested node depth per read.</span></span>|<span data-ttu-id="4f419-140">32</span><span class="sxs-lookup"><span data-stu-id="4f419-140">32</span></span>|  
|<span data-ttu-id="4f419-141">maxNameTableCharCount</span><span class="sxs-lookup"><span data-stu-id="4f419-141">maxNameTableCharCount</span></span>|<span data-ttu-id="4f419-142">Entier positif qui spécifie le nombre maximal de caractères autorisés dans un nom de table.</span><span class="sxs-lookup"><span data-stu-id="4f419-142">A positive integer that specifies the maximum characters allowed in a table name.</span></span>|<span data-ttu-id="4f419-143">16384</span><span class="sxs-lookup"><span data-stu-id="4f419-143">16384</span></span>|  
|<span data-ttu-id="4f419-144">maxStringContentLength</span><span class="sxs-lookup"><span data-stu-id="4f419-144">maxStringContentLength</span></span>|<span data-ttu-id="4f419-145">Entier positif qui spécifie le nombre maximal de caractères autorisés dans le contenu d'un élément XML.</span><span class="sxs-lookup"><span data-stu-id="4f419-145">A positive integer that specifies the maximum characters allowed in XML element content.</span></span>|<span data-ttu-id="4f419-146">8192</span><span class="sxs-lookup"><span data-stu-id="4f419-146">8192</span></span>|  
  
## <a name="the-wcf-receive-locations-may-be-disabled-if-you-change-the-wcf-adapter-type-and-keep-the-same-address"></a><span data-ttu-id="4f419-147">Les emplacements de réception WCF risquent d'être désactivés si vous modifiez le type d'adaptateur WCF et conservez la même adresse.</span><span class="sxs-lookup"><span data-stu-id="4f419-147">The WCF receive locations may be disabled if you change the WCF adapter type and keep the same address</span></span>  
 <span data-ttu-id="4f419-148">Si vous modifiez le type d'adaptateur (par exemple, si vous modifiez l'adaptateur WCF de WCF-NetTcp en WCF-Custom avec la liaison NetTcp) et que vous conservez la même adresse, l'emplacement de réception risque d'être désactivé en raison du problème de mise en cache dans le Gestionnaire des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="4f419-148">If you change the adapter type—for example, change the WCF adapter type from WCF-NetTcp to WCF-Custom with NetTcp Binding—and keep the same address, the receive location may be disabled because of the caching problem in the Endpoint Manager.</span></span> <span data-ttu-id="4f419-149">Pour contourner ce problème, vous pouvez effectuer l'une des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="4f419-149">To work around this, you can do either of the following:</span></span>  
  
-   <span data-ttu-id="4f419-150">Redémarrez le service BTSNTSvc.</span><span class="sxs-lookup"><span data-stu-id="4f419-150">Restart the BTSNTSvc service.</span></span>  
  
-   <span data-ttu-id="4f419-151">Modifiez l'URI en une adresse différente et enregistrez-la, puis remodifiez l'URI en l'adresse d'origine et enregistrez-la de nouveau.</span><span class="sxs-lookup"><span data-stu-id="4f419-151">Change the URI to a different address and save it, and then change the URI back to the original address and save it again.</span></span>  
  
## <a name="the-wcf-action-set-in-the-orchestration-does-not-override-the-action-setting-in-the-static-send-port"></a><span data-ttu-id="4f419-152">L'action WCF définie dans l'orchestration ne remplace pas la définition d'action dans le port d'envoi statique.</span><span class="sxs-lookup"><span data-stu-id="4f419-152">The WCF action set in the orchestration does not override the action setting in the static send port</span></span>  
 <span data-ttu-id="4f419-153">Si vous définissez la **WCF. Action** propriété de contexte de l’orchestration, vous devez laisser la **Action** champ vide dans la boîte de dialogue Propriétés du transport WCF adaptateur.</span><span class="sxs-lookup"><span data-stu-id="4f419-153">If you set the **WCF.Action** context property in the orchestration, you need to leave the **Action** field blank in the WCF adapter transport properties dialog box.</span></span> <span data-ttu-id="4f419-154">Si vous spécifiez également une action dans le port d’envoi statique, le **WCF. Action** propriété de contexte que vous définissez dans l’orchestration sera remplacée par la valeur définie dans le port d’envoi statique.</span><span class="sxs-lookup"><span data-stu-id="4f419-154">If you also specify an action in the static send port, the **WCF.Action** context property you set in the orchestration will be overridden by the value you set in the static send port.</span></span>  
  
## <a name="propagating-a-fault-message-is-not-supported-in-the-transactional-send"></a><span data-ttu-id="4f419-155">La répercussion d'un message d'erreur n'est pas prise en charge dans l'envoi transactionnel</span><span class="sxs-lookup"><span data-stu-id="4f419-155">Propagating a fault message is not supported in the transactional send</span></span>  
 <span data-ttu-id="4f419-156">Le **répercuter le message d’erreur** dans les ports d’envoi de sollicitation-réponse permet de router les messages qui échouent le traitement sortant vers une application abonnée.</span><span class="sxs-lookup"><span data-stu-id="4f419-156">The **Propagate fault message** option in the solicit-response send ports allows you to route the messages that fail the outbound processing to a subscribing application.</span></span> <span data-ttu-id="4f419-157">Toutefois, si le **activer les transactions** est également activée dans la boîte de dialogue des propriétés de transport et la transaction est abandonnée ou n’est pas utilisable lors de la réponse d’erreur arrive à la carte, vous seront pas en mesure de se propager le messages d’erreur sur des applications abonnées</span><span class="sxs-lookup"><span data-stu-id="4f419-157">However, if the **Enable transactions** check box is also selected in the transport properties dialog box and the transaction is aborted or not usable when the fault response arrives to the adapter, you will not be able to propagate the fault messages to any subscribing applications</span></span>  
  
## <a name="the-msmq-cluster-resource-group-needs-to-be-restarted-before-restarting-the-biztalk-host-cluster-resource-group-during-the-cluster-failover"></a><span data-ttu-id="4f419-158">Le groupe de ressources en cluster MSMQ doit être redémarré avant le redémarrage du groupe de ressources en cluster de l'hôte BizTalk lors du basculement de cluster.</span><span class="sxs-lookup"><span data-stu-id="4f419-158">The MSMQ cluster resource group needs to be restarted before restarting the BizTalk Host cluster resource group during the cluster failover</span></span>  
 <span data-ttu-id="4f419-159">Dans un scénario de cluster de basculement, lorsqu'un basculement a lieu, le groupe de ressources en cluster MSMQ doit être redémarré avant le redémarrage du groupe de ressources en cluster de l'hôte BizTalk.</span><span class="sxs-lookup"><span data-stu-id="4f419-159">In a failover cluster scenario, when a failover is taking place, the MSMQ cluster resource group needs to be restarted before restarting the BizTalk Host cluster resource group.</span></span> <span data-ttu-id="4f419-160">Si vous ne parvenez pas à le faire, les emplacements de réception MSMQ risquent d'être désactivés.</span><span class="sxs-lookup"><span data-stu-id="4f419-160">If you fail to do so, the MSMQ receive locations may be disabled.</span></span> <span data-ttu-id="4f419-161">Pour contourner ce problème, vous pouvez rendre le groupe de ressources en cluster de l'hôte BizTalk dépendant du groupe de ressources en cluster MSMQ pour garantir le redémarrage du groupe de ressources en cluster MSMQ avant le groupe de ressources en cluster de l'hôte BizTalk.</span><span class="sxs-lookup"><span data-stu-id="4f419-161">To work around this issue, you can make the BizTalk Host cluster resource group dependent on the MSMQ cluster resource group to ensure that the MSMQ cluster resource group starts before the BizTalk Host cluster resource group.</span></span> <span data-ttu-id="4f419-162">Vous pouvez également redémarrer le groupe de ressources en cluster de l'hôte BizTalk pour contourner ce problème.</span><span class="sxs-lookup"><span data-stu-id="4f419-162">Alternatively, you can restart the BizTalk Host cluster resource group to work around this issue.</span></span>  
  
## <a name="you-receive-an-error-when-sending-messages-to-a-wcf-service-that-uses-wsfederationhttpbinding-in-the-endpoint"></a><span data-ttu-id="4f419-163">Vous obtenez une erreur lors de l'envoi de messages à un service WCF utilisant wsFederationHttpBinding dans le point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="4f419-163">You receive an error when sending messages to a WCF service that uses wsFederationHttpBinding in the endpoint</span></span>  
 <span data-ttu-id="4f419-164">Vous obtenez une erreur semblable à celle-ci :</span><span class="sxs-lookup"><span data-stu-id="4f419-164">You receive an error similar to the following:</span></span>  
  
```  
The adapter failed to transmit message going to send port "MySendPort" with URL "http://localohost/MywsFedHttp". It will be retransmitted after the retry interval specified for this Send Port. Details:"The channel is configured to use interactive initializer 'System.ServiceModel.Security.InfocardInteractiveChannelInitializer', but the channel was Opened without calling DisplayInitializationUI.  Call DisplayInitializationUI before calling Open or other methods on this channel.".  
```  
  
 <span data-ttu-id="4f419-165">Ce comportement est par défaut.</span><span class="sxs-lookup"><span data-stu-id="4f419-165">This behavior is by design.</span></span> <span data-ttu-id="4f419-166">Adaptateurs WCF ne peut pas envoyer des messages aux services WCF qui utilisent **wsFederationHttpBinding** dans leurs points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="4f419-166">WCF adapters cannot send messages to the WCF services that are using **wsFederationHttpBinding** in their endpoints.</span></span>  
  
## <a name="the-biztalk-wcf-service-consuming-wizard-does-not-enable-you-to-select-message-types-or-port-types-from-the-wsdl"></a><span data-ttu-id="4f419-167">L'Assistant Consommation de service WCF BizTalk ne vous permet pas de sélectionner les types de messages ou les types de ports à partir de WSDL.</span><span class="sxs-lookup"><span data-stu-id="4f419-167">The BizTalk WCF Service Consuming Wizard does not enable you to select message types or port types from the WSDL</span></span>  
 <span data-ttu-id="4f419-168">L'Assistant Consommation de service WCF BizTalk ne vous permet pas de sélectionner les types de messages ou les types de ports à partir de WSDL, lors de l'importation de services WCF.</span><span class="sxs-lookup"><span data-stu-id="4f419-168">The BizTalk WCF Service Consuming Wizard does not enable you to select message types or port types from the WSDL when importing the WCF services.</span></span> <span data-ttu-id="4f419-169">Pour contourner cette restriction, vous pouvez utiliser le code suivant afin d'obtenir les schémas et ajouter les schémas souhaités à vos projets BizTalk :</span><span class="sxs-lookup"><span data-stu-id="4f419-169">To work around this limitation, you can use the following code to obtain the schemas and then add the desired schemas to your BizTalk projects:</span></span>  
  
```  
svcutil.exe /t:metadata http://service/metadataendpoint  
```  
  
## <a name="the-biztalk-wcf-service-consuming-wizard-does-not-allow-the-combination-of-one-way-and-request-response-operations"></a><span data-ttu-id="4f419-170">L'Assistant Consommation de service WCF BizTalk ne permet pas la combinaison d'opérations unidirectionnelles et requête-réponse.</span><span class="sxs-lookup"><span data-stu-id="4f419-170">The BizTalk WCF Service Consuming Wizard does not allow the combination of one-way and request-response operations</span></span>  
 <span data-ttu-id="4f419-171">L'Assistant Consommation de service WCF BizTalk ne vous permet pas d'importer les types de ports qui ont une combinaison d'opérations unidirectionnelle et requête-réponse.</span><span class="sxs-lookup"><span data-stu-id="4f419-171">The BizTalk WCF Service Consuming Wizard does not allow you to import the port types that have a combination of one-way and request-response operations.</span></span> <span data-ttu-id="4f419-172">Pour contourner ce problème, vous pouvez utiliser l'outil Service Model Metadata Utility Tool pour générer les types de ports.</span><span class="sxs-lookup"><span data-stu-id="4f419-172">To work around this, you can use the ServiceModel Metadata Utility Tool to generate the port types.</span></span>  
  
## <a name="the-biztalk-wcf-service-consuming-wizard-does-not-allow-you-to-set-certificate-credentials-when-retrieving-the-wsdl"></a><span data-ttu-id="4f419-173">L’Assistant de consommation de Service WCF BizTalk n’autorise pas vous permet de définir les informations d’identification de certificat lors de la récupération de WSDL</span><span class="sxs-lookup"><span data-stu-id="4f419-173">The BizTalk WCF Service Consuming Wizard does not allow you to set certificate credentials when retrieving the WSDL</span></span>  
 <span data-ttu-id="4f419-174">L'Assistant Consommation de service WCF BizTalk ne vous permet pas de définir les informations d'identification des certificats lors de l'extraction du WSDL.</span><span class="sxs-lookup"><span data-stu-id="4f419-174">The BizTalk WCF Service Consuming Wizard does not allow you to set certificate credentials when retrieving the WSDL.</span></span> <span data-ttu-id="4f419-175">Pour contourner ce problème, vous pouvez utiliser le service Model Metadata Utility Tool pour générer le WSDL et les fichiers XSD à partir des services WCF pour utiliser les informations d’identification du certificat défini dans le fichier svcutil.exe.config, puis les importer dans le Service WCF BizTalk Assistant consommation en choisissant **des fichiers de métadonnées (WSDL et XSD)** option dans le **source des métadonnées** page.</span><span class="sxs-lookup"><span data-stu-id="4f419-175">To work around this, you can use the ServiceModel Metadata Utility Tool to generate the WSDL and XSD files from the WCF services you wish to consume with the certificate credentials set in the svcutil.exe.config file, and then import them into the BizTalk WCF Service Consuming Wizard by choosing **Metadata Files (WSDL and XSD)** option in the **Metadata source** page.</span></span>  
  
## <a name="wcf-adapters-do-not-support-one-way-operations"></a><span data-ttu-id="4f419-176">Les adaptateurs WCF ne prennent pas en charge les opérations unidirectionnelles.</span><span class="sxs-lookup"><span data-stu-id="4f419-176">WCF adapters do not support one-way operations</span></span>  
 <span data-ttu-id="4f419-177">Vous recevrez un message d’erreur semblable au suivant lors de l’utilisation des services WCF publiés avec les adaptateurs WCF (sauf l’adaptateur de réception WCF-netmsmq) si le **IsOneWay** est définie sur **true**côté client.</span><span class="sxs-lookup"><span data-stu-id="4f419-177">You will receive an error message similar to the following when consuming WCF services published with the WCF adapters (except for the WCF-NetMsmq receive adapter) if the **IsOneWay** property is set to **true** at client side.</span></span> <span data-ttu-id="4f419-178">C’est parce que le **System.ServiceModel.OperationContractAttribute.IsOneWay** des services WCF publiés avec les adaptateurs WCF (sauf pour l’adaptateur de réception des services publiés avec WCF-NetMsmq) est définie sur **false** même pour les emplacements de réception l’unidirectionnels.</span><span class="sxs-lookup"><span data-stu-id="4f419-178">This is because the **System.ServiceModel.OperationContractAttribute.IsOneWay** property of WCF services published with the WCF adapters (except for services published with the WCF-NetMsmq receive adapter) is set to **false** even for the one-way receive locations.</span></span>  
  
```  
The channel received an unexpected input message while closing. Your Channel.Close() calls are not synchronized.  
```  
  
 <span data-ttu-id="4f419-179">Vous recevrez un message d’erreur semblable au suivant lors de l’utilisation des services WCF spécifiés avec le **IsOneWay** propriété **true**.</span><span class="sxs-lookup"><span data-stu-id="4f419-179">You will receive an error message similar to the following when consuming the WCF services specified with the **IsOneWay** property set to **true**.</span></span> <span data-ttu-id="4f419-180">Les messages que vous envoyez à partir de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] sont interrompus et peuvent être repris.</span><span class="sxs-lookup"><span data-stu-id="4f419-180">The messages you sent from [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will be suspended and resumable.</span></span>  
  
```  
The request operation at net.tcp://localhost:8088/MyService/tcp did not receive a reply within timeout 00:01:00.  
```  
  
## <a name="a-memory-leak-may-occur-when-sending-messages-to-non-transactional-msmq-queues-using-wcf-netmsmq-binding"></a><span data-ttu-id="4f419-181">Une fuite de mémoire peut se produire lors de l'envoi de messages aux files d'attente MSMQ non transactionnelles à l'aide de la liaison WCF-NetMsmq.</span><span class="sxs-lookup"><span data-stu-id="4f419-181">A memory leak may occur when sending messages to non-transactional MSMQ queues using WCF-NetMsmq binding</span></span>  
 <span data-ttu-id="4f419-182">Une fuite de mémoire peut se produire dans le service NT BizTalk lors de l'envoi de messages aux files d'attente MSMQ non transactionnelles à l'aide de la liaison WCF-NetMsmq.</span><span class="sxs-lookup"><span data-stu-id="4f419-182">A memory leak may occur in the BizTalk NT service when sending messages to non-transactional MSMQ queues using WCF-NetMsmq binding.</span></span> <span data-ttu-id="4f419-183">Cela peut arriver lorsque vous envoyez des messages à une file d'attente MSMQ non transactionnelle à l'aide du transport WCF-NetMsmq ou lorsque vous envoyez des messages à une file d'attente MSMQ non transactionnelle utilisant netMsmqBinding avec le transport WCF-Custom.</span><span class="sxs-lookup"><span data-stu-id="4f419-183">This may occur when you send messages to a non-transactional MSMQ queue using WCF-NetMsmq transport or when you send messages to a non-transactional MSMQ queue using netMsmqBinding with WCF-Custom transport.</span></span>  
  
 <span data-ttu-id="4f419-184">Pour résoudre ce problème, vous devez installer le correctif .NET Framework 3.0 décrit dans l’article 936512 à [http://go.microsoft.com/fwlink/?LinkId=92962](http://go.microsoft.com/fwlink/?LinkId=92962).</span><span class="sxs-lookup"><span data-stu-id="4f419-184">To resolve the issue, you must install .NET Framework 3.0 hotfix described in the KB article 936512 at [http://go.microsoft.com/fwlink/?LinkId=92962](http://go.microsoft.com/fwlink/?LinkId=92962).</span></span> <span data-ttu-id="4f419-185">Le correctif ne requiert pas de redémarrage système mais il est nécessaire de redémarrer le service NT BizTalk qui héberge les ports d'envoi utilisant la liaison WCF-NetMsmq.</span><span class="sxs-lookup"><span data-stu-id="4f419-185">The hotfix does not require a system reboot but it is necessary to restart the BizTalk NT service which hosts the send ports that using WCF-NetMsmq binding.</span></span>  
  
## <a name="you-may-receive-exception-when-communicating-with-apache-web-servers-using-wcf-basichttp-adapter"></a><span data-ttu-id="4f419-186">Vous pouvez obtenir une exception lors de la communication avec les serveurs Web Apache à l'aide de l'adaptateur WCF-BasicHttp.</span><span class="sxs-lookup"><span data-stu-id="4f419-186">You may receive exception when communicating with Apache Web servers using WCF-BasicHttp adapter</span></span>  
 <span data-ttu-id="4f419-187">Lorsque vous utilisez l'adaptateur WCF-BasicHttp avec la sécurité du transport pour communiquer avec un serveur Web Apache, vous pouvez obtenir une exception semblable à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="4f419-187">When you use WCF-BasicHttp adapter with transport security to communicate with an Apache Web server, you may receive the exception similar to the followings:</span></span>  
  
```  
System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send.  
System.IO.IOException: Unable to write data to the transport connection: An established connection was aborted by the software in your host machine. System.Net.Sockets.SocketException: An established connection was aborted by the software in your host machine  
```  
  
 <span data-ttu-id="4f419-188">Pour contourner ce problème, vous devez utiliser l'adaptateur WCF-Custom à la place de l'adaptateur WCF-BasicHttp pour communiquer avec les serveurs Web Apache, comme suit :</span><span class="sxs-lookup"><span data-stu-id="4f419-188">To work around this, you need to use WCF-Custom adapter instead of WCF-BasicHttp adapter to communicate with the Apache Web servers as following:</span></span>  
  
1.  <span data-ttu-id="4f419-189">Créer un port d’envoi et de définir le type de transport sur **WCF-Custom**.</span><span class="sxs-lookup"><span data-stu-id="4f419-189">Create a send port and set the transport type to **WCF-Custom**.</span></span>  
  
2.  <span data-ttu-id="4f419-190">Dans le **propriétés du Transport WCF-Custom** boîte de dialogue le **liaison** onglet, sélectionnez **customBinding** à partir de la **Type de liaison** liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="4f419-190">In the **WCF-Custom Transport Properties** dialog box, on the **Binding** tab, select **customBinding** from the **Binding Type** drop-down list.</span></span>  
  
3.  <span data-ttu-id="4f419-191">Sous **Custombindingelement**, avec le bouton droit **httpTransport**, puis cliquez sur **supprimer l’extension**.</span><span class="sxs-lookup"><span data-stu-id="4f419-191">Under **CustomeBindingElement**, right-click **httpTransport**, and then click **Remove extension**.</span></span>  
  
4.  <span data-ttu-id="4f419-192">Avec le bouton droit **Custombindingelement**, puis cliquez sur **ajouter une extension**.</span><span class="sxs-lookup"><span data-stu-id="4f419-192">Right-click **CustomeBindingElement**, and then click **Add extension**.</span></span>  
  
5.  <span data-ttu-id="4f419-193">Dans le **sélectionnez Extension d’élément de liaison** boîte de dialogue, sélectionnez **httpTransport** puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="4f419-193">In the **Select Binding Element Extension** dialog box, select **httpTransport** and then click **OK**.</span></span>  
  
6.  <span data-ttu-id="4f419-194">Cliquez sur **httpTransport**, puis, dans le **Configuration** volet, définissez la valeur de **keepAliveEnabled** à **False**.</span><span class="sxs-lookup"><span data-stu-id="4f419-194">Click **httpTransport**, and then in the **Configuration** pane, set the value of **keepAliveEnabled** to **False**.</span></span>  
  
7.  <span data-ttu-id="4f419-195">Cliquez sur **textMessageEncoding**, puis, dans le **Configuration** volet, définissez la valeur de **messageVersion** à `Soap11WSAddressing10`.</span><span class="sxs-lookup"><span data-stu-id="4f419-195">Click **textMessageEncoding**, and then in the **Configuration** pane, set the value of **messageVersion** to `Soap11WSAddressing10`.</span></span>  
  
8.  <span data-ttu-id="4f419-196">Vous devrez peut-être configurer des propriétés supplémentaires si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="4f419-196">You may need to configure additional properties as needed.</span></span>  
  
## <a name="biztalk-server-does-not-work-with-wcf-clients-that-using-clientviabehavior-for-multiple-hop-conversations"></a><span data-ttu-id="4f419-197">BizTalk Server ne fonctionne pas avec les clients WCF qui utilisent ClientViaBehavior pour les conversations à tronçons multiples.</span><span class="sxs-lookup"><span data-stu-id="4f419-197">BizTalk Server does not work with WCF clients that using ClientViaBehavior for multiple-hop conversations</span></span>  
 <span data-ttu-id="4f419-198">Les clients WCF utilisent ClientViaBehavior lorsque la destination réseau immédiate n'est pas le processeur prévu du message pour permettre les conversations à tronçons multiples lorsque l'application d'appel ne connaît pas nécessairement la destination ultime.</span><span class="sxs-lookup"><span data-stu-id="4f419-198">WCF clients use ClientViaBehavior when the immediate network destination is not the intended processor of the message to enable multiple-hop conversations when the calling application does not necessarily know the ultimate destination.</span></span> <span data-ttu-id="4f419-199">Si vous spécifiez ClientViaBehavior et pointez l'adresse d'expédition sur un service distant où [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] agit comme un intermédiaire, vous obtenez un message d'erreur semblable à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="4f419-199">If you specify the ClientViaBehavior and set the To address to a remote service where [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will be acting as an intermediary, you will receive the error message similar to the following:</span></span>  
  
```  
The message with To 'net.tcp://localhost:5555/test.svc' cannot be processed at the receiver, due to an AddressFilter mismatch at the EndpointDispatcher. Check that the sender and receiver's EndpointAddresses agree  
```