---
title: La gestion des exceptions | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 00a9125c-7c7c-4d2a-ae04-c923cd89683c
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 520f4eb47fb98bf497753a8348031f7c2ab93d29
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="exception-handling"></a><span data-ttu-id="c9a8e-102">Gestion des exceptions</span><span class="sxs-lookup"><span data-stu-id="c9a8e-102">Exception Handling</span></span>
<span data-ttu-id="c9a8e-103">Le **RuleEngine** classe a la propriété **CompensationHandlerInfo**, qui à son tour possède deux propriétés : **CompensationHandler** et **UserData**.</span><span class="sxs-lookup"><span data-stu-id="c9a8e-103">The **RuleEngine** class has the property **CompensationHandlerInfo**, which in turn has two properties: **CompensationHandler** and **UserData**.</span></span> <span data-ttu-id="c9a8e-104">Le **CompensationHandler** propriété est de type **RuleEngineCompensationHandler**et le **UserData** propriété est de type **objet** .</span><span class="sxs-lookup"><span data-stu-id="c9a8e-104">The **CompensationHandler** property is of type **RuleEngineCompensationHandler**, and the **UserData** property is of type **Object**.</span></span> <span data-ttu-id="c9a8e-105">La définition de la **RuleEngineCompensationHandler** est comme suit :</span><span class="sxs-lookup"><span data-stu-id="c9a8e-105">The definition for the **RuleEngineCompensationHandler** is as follows:</span></span>  
  
```  
public delegate bool RuleEngineCompensationHandler(  
   Exception ex,  
   object userData  
);  
```  
  
 <span data-ttu-id="c9a8e-106">Le consommateur du moteur de règle spécifie le gestionnaire et les données utilisateur au moteur de règles à l’aide de la **CompensationHandlerInfo** propriété de la **RuleEngine** classe.</span><span class="sxs-lookup"><span data-stu-id="c9a8e-106">The rule engine consumer specifies the handler and the user data to the rule engine by using the **CompensationHandlerInfo** property of the **RuleEngine** class.</span></span> <span data-ttu-id="c9a8e-107">Le gestionnaire doit avoir la même signature que le **RuleEngineCompensationHandler** déléguer.</span><span class="sxs-lookup"><span data-stu-id="c9a8e-107">The handler must have the same signature as the **RuleEngineCompensationHandler** delegate.</span></span> <span data-ttu-id="c9a8e-108">En cas d'exception d'exécution, le moteur appelle le gestionnaire et lui transmet l'exception et les données prédéfinies de l'utilisateur en tant que paramètres.</span><span class="sxs-lookup"><span data-stu-id="c9a8e-108">If there is a run-time exception, the engine calls the handler and passes the exception and the predefined user data as parameters to the handler.</span></span> <span data-ttu-id="c9a8e-109">Si le gestionnaire renvoie la valeur `true`, le moteur de règles continue le traitement.</span><span class="sxs-lookup"><span data-stu-id="c9a8e-109">If the handler returns `true`, then the rule engine continues processing.</span></span> <span data-ttu-id="c9a8e-110">Dans le cas contraire, le moteur de règles abandonne le traitement et renvoie à l'utilisateur l'exception initiale.</span><span class="sxs-lookup"><span data-stu-id="c9a8e-110">Otherwise, the rule engine aborts processing and returns to the user with the original exception.</span></span> <span data-ttu-id="c9a8e-111">Comme vous pouvez le voir, vous pouvez utiliser ce mécanisme de gestion des exceptions que si vous appelez la stratégie à l’aide de la **RuleEngine.Execute** (méthode).</span><span class="sxs-lookup"><span data-stu-id="c9a8e-111">As you can see, you can use this exception-handling mechanism only if you invoke the policy by using the **RuleEngine.Execute** method.</span></span>  
  
 <span data-ttu-id="c9a8e-112">Si vous utilisez la **Policy.Execute** méthode pour exécuter une stratégie, vous devez utiliser un bloc try-catch pour intercepter les exceptions générées par le moteur de règles lors de l’exécution de la stratégie.</span><span class="sxs-lookup"><span data-stu-id="c9a8e-112">If you use the **Policy.Execute** method to execute a policy, you will need to use a try-catch block to catch any exceptions generated by the rule engine while executing the policy.</span></span>  
  
 <span data-ttu-id="c9a8e-113">Si vous utilisez la **appeler règles** forme pour exécuter une stratégie, utilisez la **intercepter l’Exception** bloquer pour le **étendue** forme pour intercepter une exception levée par le moteur de règles lors de l’exécution la stratégie.</span><span class="sxs-lookup"><span data-stu-id="c9a8e-113">If you use the **Call Rules** shape to execute a policy, use the **Catch Exception** block for the **Scope** shape to catch an exception raised by the rule engine while executing the policy.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c9a8e-114">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c9a8e-114">See Also</span></span>  
 [<span data-ttu-id="c9a8e-115">L’ajout d’un bloc intercepter l’Exception</span><span class="sxs-lookup"><span data-stu-id="c9a8e-115">How to Add a Catch Exception Block</span></span>](../core/how-to-add-a-catch-exception-block3.md)