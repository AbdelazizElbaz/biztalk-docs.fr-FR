---
title: "Instructions pour la résolution des problèmes d’autorisation des Services Web | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: e29543e9-9b87-437b-ac91-8f1cce01fab4
caps.latest.revision: "24"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 68fc866a2a1f2c51a0649cf8a01ef03164b9a913
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="guidelines-for-resolving-web-services-permissions-problems"></a><span data-ttu-id="2a339-102">Instructions pour la résolution des problèmes d'autorisation liés aux services Web</span><span class="sxs-lookup"><span data-stu-id="2a339-102">Guidelines for Resolving Web Services Permissions Problems</span></span>
<span data-ttu-id="2a339-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] exploite pleinement les services Web dans le cadre de l'utilisation de l'adaptateur SOAP et lors de la publication d'orchestrations en tant que services Web.</span><span class="sxs-lookup"><span data-stu-id="2a339-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] makes extensive use of Web services for use with the SOAP adapter and when publishing orchestrations as Web services.</span></span> <span data-ttu-id="2a339-104">Cette rubrique propose des recommandations d'ordre général pour limiter les problèmes d'autorisation liés aux services Web, ainsi que des procédures à suivre pour résoudre les éventuels problèmes de ce type liés à [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2a339-104">This topic provides some general guidelines for minimizing Web services permissions problems and steps that you can follow to troubleshoot Web services permissions problems that affect [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
## <a name="general-guidelines"></a><span data-ttu-id="2a339-105">Règles générales</span><span class="sxs-lookup"><span data-stu-id="2a339-105">General Guidelines</span></span>  
  
-   <span data-ttu-id="2a339-106">**Configuration des comptes d’utilisateur**: Assurez-vous que l’identité du processus IIS application hôte associée au répertoire virtuel qui héberge le service Web est définie sur un compte d’utilisateur spécifique et assurez-vous que ce compte d’utilisateur est ajouté aux groupes suivants :</span><span class="sxs-lookup"><span data-stu-id="2a339-106">**Setting user accounts**: Ensure that the IIS application host process identity associated with the virtual directory that hosts the Web service is set to a specific user account and ensure that this user account is added to the following groups:</span></span>  
  
    -   <span data-ttu-id="2a339-107">utilisateurs d'hôtes BizTalk isolés (domaine ou groupe local) ;</span><span class="sxs-lookup"><span data-stu-id="2a339-107">BizTalk Isolated Host Users (domain or local group)</span></span>  
  
    -   <span data-ttu-id="2a339-108">IIS_WPG (groupe local).</span><span class="sxs-lookup"><span data-stu-id="2a339-108">IIS_WPG (local group)</span></span>  
  
     <span data-ttu-id="2a339-109">L'appartenance à ces 2 groupes est requise pour accorder au service Web créé par l'Assistant Publication du Service Web BizTalk les droits appropriés pour publier un message de requête SOAP dans la base de données MessageBox de BizTalk, qui active ensuite l'orchestration d'abonnement.</span><span class="sxs-lookup"><span data-stu-id="2a339-109">Membership in these 2 groups is required to grant the Web service created by the BizTalk Web Service Publishing Wizard the appropriate rights to publish a SOAP request message into the BizTalk MessageBox database which will in turn activate the subscribing orchestration.</span></span> <span data-ttu-id="2a339-110">Pour plus d’informations sur la détermination ou la définition de l’identité du processus IIS application hôte, consultez le **l’identité du processus de hôte d’Application IIS pour le paramètre** section de [des recommandations pour la résolution des problèmes d’autorisation IIS](../core/guidelines-for-resolving-iis-permissions-problems.md).</span><span class="sxs-lookup"><span data-stu-id="2a339-110">For more information about determining or setting the IIS application host process identity, see the **Setting IIS Application Host Process Identity** section of [Guidelines for Resolving IIS Permissions Problems](../core/guidelines-for-resolving-iis-permissions-problems.md).</span></span>  
  
-   <span data-ttu-id="2a339-111">**Définition des autorisations sur le dossier spécifié par la variable d’environnement TEMP**: Vérifiez que l’identité de processus de l’hôte de l’application IIS du répertoire virtuel qui héberge le service Web est en lecture et en écriture sur le dossier spécifié par le Variable d’environnement TEMP.</span><span class="sxs-lookup"><span data-stu-id="2a339-111">**Setting permissions on the folder specified by the TEMP environment variable**: Ensure that the IIS application host process identity for the virtual directory that hosts the Web service has read and write permissions to the folder specified by the TEMP environment variable.</span></span> <span data-ttu-id="2a339-112">Pour déterminer le dossier spécifié par la variable d'environnement TEMP, ouvrez une invite de commandes sur le serveur BizTalk Server, tapez la commande suivante, puis appuyez sur ENTRÉE :</span><span class="sxs-lookup"><span data-stu-id="2a339-112">To determine the folder that is specified by the TEMP environment variable open a command prompt on the BizTalk Server, type the following command, and then press ENTER:</span></span>  
  
    ```  
    echo %TEMP%  
    ```  
  
     <span data-ttu-id="2a339-113">Le dossier spécifié par la variable d'environnement TEMP est l'emplacement où le service Web subit une compilation juste-à-temps (JIT) dans un fichier dll (bibliothèque de liens dynamiques). Il doit donc être accessible en lecture et en écriture par ce compte d'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="2a339-113">The folder specified by the TEMP environment variable is where the Web service is Just In Time (JIT) compiled into a dynamic link library (dll) file and therefore must be accessible with read and write permissions by this user account.</span></span>  
  
-   <span data-ttu-id="2a339-114">**Envoie des informations d’identification dans l’appel de méthode SOAP**: Assurez-vous que le client du service Web envoie des informations d’identification dans l’appel de méthode SOAP.</span><span class="sxs-lookup"><span data-stu-id="2a339-114">**Sending credentials in the SOAP method call**: Ensure that the Web service client is sending credentials in the SOAP method call.</span></span> <span data-ttu-id="2a339-115">Par défaut, IIS 7.0 dans [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] requiert une authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="2a339-115">By default IIS 7.0 in [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] requires windows authentication.</span></span> <span data-ttu-id="2a339-116">Lors du test d'un service Web avec Internet Explorer, les informations d'identification de l'utilisateur connecté sont automatiquement envoyées. C'est la raison pour laquelle le service Web peut fonctionner depuis Internet Explorer mais échouer avec un autre client.</span><span class="sxs-lookup"><span data-stu-id="2a339-116">When testing a Web service with Internet Explorer, the credentials of the user who is currently logged on are automatically sent which is why the Web service may work from Internet Explorer but fail from another client.</span></span> <span data-ttu-id="2a339-117">Si le client de service Web n'ajoute pas les informations d'identification à l'appel de méthode SOAP, une exception SOAP est générée illustrant une erreur d'authentification.</span><span class="sxs-lookup"><span data-stu-id="2a339-117">If the Web service client does not add credentials to the SOAP method call a SOAP exception will be generated due to an authentication failure.</span></span> <span data-ttu-id="2a339-118">Pour plus d’informations sur l’envoi des informations d’identification dans une méthode SOAP appel consultez l’exemple de code disponible dans [comment utiliser les classes System.Net nouvelles pour créer un client HTTP](http://support.microsoft.com/kb/303436).</span><span class="sxs-lookup"><span data-stu-id="2a339-118">For more information about sending credentials in a SOAP method call see the sample code available in [How to use the new System.Net classes to create an HTTP client](http://support.microsoft.com/kb/303436).</span></span>  
  
-   <span data-ttu-id="2a339-119">**Résolution des erreurs d’appel de service Web**: si les erreurs se produisent lors de l’appel d’un service Web, vérifiez le journal des applications ou message de service et des événements suivi d’instance via l’Administration de BizTalk Server **Hub du groupe**page.</span><span class="sxs-lookup"><span data-stu-id="2a339-119">**Troubleshooting errors calling a Web service**: If errors occur when calling a Web service, check the Application log, or message event and service instance tracking through the BizTalk Server Administration **Group Hub** page.</span></span> <span data-ttu-id="2a339-120">Pour plus d’informations sur les causes possibles de l’erreur, consultez [analyse de BizTalk Server](../core/monitoring-biztalk-server.md) et [à l’aide de la Page Hub du groupe](../core/using-the-group-hub-page.md).</span><span class="sxs-lookup"><span data-stu-id="2a339-120">For more information about the possible causes of the error, see [Monitoring BizTalk Server](../core/monitoring-biztalk-server.md) and [Using the Group Hub Page](../core/using-the-group-hub-page.md).</span></span>  
  
-   <span data-ttu-id="2a339-121">**Collecte des informations de débogage**: pour obtenir des informations de débogage détaillées, suivez les étapes décrites dans la rubrique [débogage de Services Web publiés](../core/debugging-published-web-services.md) si les étapes ci-dessus ne résolvent pas le problème.</span><span class="sxs-lookup"><span data-stu-id="2a339-121">**Collecting debugging information**: To obtain detailed debugging information, follow the steps outlined in the topic [Debugging Published Web Services](../core/debugging-published-web-services.md) if following the steps above does not resolve the issue.</span></span>  
  
## <a name="known-issues"></a><span data-ttu-id="2a339-122">Problèmes connus</span><span class="sxs-lookup"><span data-stu-id="2a339-122">Known Issues</span></span>  
 <span data-ttu-id="2a339-123">Pour plus d’informations sur les problèmes connus avec [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] liés aux autorisations des services Web, consultez « Vous ne pouvez pas appeler une orchestration est exposée comme un service Web sur un serveur qui est en cours d’exécution BizTalk Server » à [http://go.microsoft.com/ fwlink / ? LinkId = 196379](http://go.microsoft.com/fwlink/?LinkId=196379).</span><span class="sxs-lookup"><span data-stu-id="2a339-123">For additional information on known issues with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] related to Web services permissions, see "You cannot call an orchestration that is exposed as a Web service on a server that is running BizTalk Server" at [http://go.microsoft.com/fwlink/?LinkId=196379](http://go.microsoft.com/fwlink/?LinkId=196379).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2a339-124">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="2a339-124">See Also</span></span>  
 <span data-ttu-id="2a339-125">[Résolution des problèmes d’autorisations BizTalk Server](../core/troubleshooting-biztalk-server-permissions.md) </span><span class="sxs-lookup"><span data-stu-id="2a339-125">[Troubleshooting BizTalk Server Permissions](../core/troubleshooting-biztalk-server-permissions.md) </span></span>  
 [<span data-ttu-id="2a339-126">Instructions pour la résolution des problèmes d’autorisation IIS</span><span class="sxs-lookup"><span data-stu-id="2a339-126">Guidelines for Resolving IIS Permissions Problems</span></span>](../core/guidelines-for-resolving-iis-permissions-problems.md)