---
title: Business Activity Monitoring (BAM) | Documents Microsoft
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- BAM, tools
- utilities, Tracking Profile Deployment Utility
- BAM, deployment process
- BAM
- BAM, presentation layers
- BAM, Tracking Profile Deployment utility
- BAM, about BAM
- BAM, data storage
- BAM Management utility
- Tracking Profile Deployment utility
- BAM, runtime process
- BAM, design time
- BAM, data insertion
- BAM, data consumption
- BAM, BAM Management utility
- BAM, processing
ms.assetid: a8ad48b1-6891-4bbb-b125-27d224e49293
caps.latest.revision: "17"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fea5ce33dddc0f40eaabd6ef34e6035e50c9fab9
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="business-activity-monitoring-bam"></a><span data-ttu-id="df7a3-102">BAM (Business Activity Monitoring)</span><span class="sxs-lookup"><span data-stu-id="df7a3-102">Business Activity Monitoring (BAM)</span></span>
<span data-ttu-id="df7a3-103">Le diagramme suivant illustre l'architecture du composant d'analyse BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-103">The following diagram illustrates the architecture for the Business Activity Monitoring (BAM) feature.</span></span>  
  
 ![](../core/media/architecture-bam-01.gif "architecture_bam_01")  
  
## <a name="tools"></a><span data-ttu-id="df7a3-104">Outils</span><span class="sxs-lookup"><span data-stu-id="df7a3-104">Tools</span></span>  
 <span data-ttu-id="df7a3-105">Vous pouvez utiliser les outils suivants pour concevoir, développer et déployer des solutions BizTalk qui s'intègrent au composant BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-105">You can use the following tools to design, develop, and deploy BizTalk solutions that integrate with BAM.</span></span>  
  
-   <span data-ttu-id="df7a3-106">**Microsoft Excel**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-106">**Microsoft Excel**.</span></span> <span data-ttu-id="df7a3-107">Le complément BAM pour Excel fournit une interface utilisateur qui guide les analystes d'entreprise pendant la création d'activités et de vues.</span><span class="sxs-lookup"><span data-stu-id="df7a3-107">The BAM Add-In for Excel provides a user interface that guides business analysts during the creation of Activities and Views.</span></span> <span data-ttu-id="df7a3-108">Excel sert à la fois d'outil de conception pour les analystes d'entreprise et d'outil de consommation de données pour les utilisateurs des activités.</span><span class="sxs-lookup"><span data-stu-id="df7a3-108">Excel serves as both a design tool for business analysts and a data consumption tool for business users.</span></span> <span data-ttu-id="df7a3-109">Pour plus d’informations sur le complément BAM pour Excel, consultez [conditions requises pour utiliser le complément BAM pour Excel](../core/requirements-for-using-the-bam-add-in-for-excel.md).</span><span class="sxs-lookup"><span data-stu-id="df7a3-109">For more information about the BAM Add-In for Excel, see [Requirements for Using the BAM Add-In for Excel](../core/requirements-for-using-the-bam-add-in-for-excel.md).</span></span>  
  
-   <span data-ttu-id="df7a3-110">**Utilitaire de gestion BAM**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-110">**BAM Management Utility**.</span></span> <span data-ttu-id="df7a3-111">Cet outil permet de déployer dans l'entreprise les définitions BAM créées dans Excel.</span><span class="sxs-lookup"><span data-stu-id="df7a3-111">The BAM Management Utility is a deployment tool that allows BAM definitions created in Excel to be deployed into the enterprise.</span></span> <span data-ttu-id="df7a3-112">Il crée les bases de données SQL Server, les cubes Analysis Services, les bases de données des services de notification SQL et les tâches DTS ou SSIS (suivant la version de SQL Server qui est installée) nécessaires.</span><span class="sxs-lookup"><span data-stu-id="df7a3-112">The BAM Management Utility creates the necessary SQL Server databases, Analysis Services cubes, SQL Notification Services databases, and DTS or SSIS tasks (depending on which version of SQL Server is installed).</span></span> <span data-ttu-id="df7a3-113">Pour plus d’informations sur le gestionnaire BAM, consultez [l’utilitaire de gestion BAM](../core/bam-management-utility.md).</span><span class="sxs-lookup"><span data-stu-id="df7a3-113">For more information about the BAM Manager, see [BAM Management Utility](../core/bam-management-utility.md).</span></span>  
  
-   <span data-ttu-id="df7a3-114">**Éditeur de modèle de suivi**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-114">**Tracking Profile Editor**.</span></span> <span data-ttu-id="df7a3-115">Cet éditeur permet aux développeurs BizTalk de mapper les éléments de données définis par les analystes d'entreprises dans l'implémentation BizTalk, y compris dans les orchestrations et la messagerie.</span><span class="sxs-lookup"><span data-stu-id="df7a3-115">The Tracking Profile Editor enables BizTalk developers to map the data elements defined by business analysts into the BizTalk implementation including Orchestrations and Messaging.</span></span> <span data-ttu-id="df7a3-116">Pour plus d’informations sur l’éditeur de modèle de suivi, consultez [éditeur](../core/tracking-profile-editor.md).</span><span class="sxs-lookup"><span data-stu-id="df7a3-116">For more information about the Tracking Profile Editor, see [Tracking Profile Editor](../core/tracking-profile-editor.md).</span></span>  
  
-   <span data-ttu-id="df7a3-117">**Utilitaire de déploiement de profil de suivi**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-117">**Tracking Profile Deployment Utility**.</span></span> <span data-ttu-id="df7a3-118">Cet utilitaire permet aux informaticiens de déployer des modèles de suivi dans l'infrastructure BAM, nouveaux ou mis à jour.</span><span class="sxs-lookup"><span data-stu-id="df7a3-118">The Tracking Profile Deployment Utility allows IT professionals to deploy new and updated tracking profiles to the BAM infrastructure.</span></span> <span data-ttu-id="df7a3-119">Pour plus d’informations sur l’outil de déploiement de modèle de suivi, consultez [utilitaire](../core/tracking-profile-deployment-utility.md).</span><span class="sxs-lookup"><span data-stu-id="df7a3-119">For more information about the Tracking Profile Deploy tool, see [Tracking Profile Deployment Utility](../core/tracking-profile-deployment-utility.md).</span></span>  
  
## <a name="presentation"></a><span data-ttu-id="df7a3-120">Présentation</span><span class="sxs-lookup"><span data-stu-id="df7a3-120">Presentation</span></span>  
 <span data-ttu-id="df7a3-121">La couche présentation se compose de ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="df7a3-121">The presentation layer consists of the following:</span></span>  
  
-   <span data-ttu-id="df7a3-122">**Portail BAM**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-122">**BAM Portal**.</span></span> <span data-ttu-id="df7a3-123">Le portail BAM de Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] offre une visibilité totale en temps réel d'un processus d'entreprise.</span><span class="sxs-lookup"><span data-stu-id="df7a3-123">The BAM portal in Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] provides real-time, end-to-end visibility into a business process.</span></span> <span data-ttu-id="df7a3-124">Il s’agit d’une fonctionnalité basée sur le Web qui se compose d’une collection de pages ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="df7a3-124">It is a Web-based feature that consists of a collection of ASP.NET  pages.</span></span> <span data-ttu-id="df7a3-125">Vous pouvez le personnaliser pour améliorer les performances pour vos utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="df7a3-125">You can customize BAM to enhance the performance and experience for your users.</span></span> <span data-ttu-id="df7a3-126">Pour plus d’informations sur le portail BAM, consultez [portail BAM](../core/bam-portal.md).</span><span class="sxs-lookup"><span data-stu-id="df7a3-126">For more information about the BAM Portal, see [BAM Portal](../core/bam-portal.md).</span></span>  
  
-   <span data-ttu-id="df7a3-127">**Microsoft Excel**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-127">**Microsoft Excel**.</span></span> <span data-ttu-id="df7a3-128">Le complément BAM pour Excel fournit une interface utilisateur qui guide les analystes d'entreprise pendant la création d'activités et de vues.</span><span class="sxs-lookup"><span data-stu-id="df7a3-128">The BAM Add-In for Excel provides a user interface that guides business analysts during the creation of Activities and Views.</span></span> <span data-ttu-id="df7a3-129">Excel sert à la fois d'outil de conception pour les analystes d'entreprise et d'outil de consommation de données pour les utilisateurs des activités.</span><span class="sxs-lookup"><span data-stu-id="df7a3-129">Excel serves as both a design tool for business analysts and a data consumption tool for business users.</span></span> <span data-ttu-id="df7a3-130">Pour plus d’informations sur le complément BAM pour Excel, consultez [conditions requises pour utiliser le complément BAM pour Excel](../core/requirements-for-using-the-bam-add-in-for-excel.md).</span><span class="sxs-lookup"><span data-stu-id="df7a3-130">For more information about the BAM Add-In for Excel, see [Requirements for Using the BAM Add-In for Excel](../core/requirements-for-using-the-bam-add-in-for-excel.md).</span></span>  
  
-   <span data-ttu-id="df7a3-131">**Interface utilisateur personnalisée**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-131">**Custom User Interface**.</span></span> <span data-ttu-id="df7a3-132">Les ISV et les développeurs peuvent créer des applications personnalisées affichant des données BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-132">ISV’s and developers can create custom applications that display BAM data</span></span>  
  
## <a name="processing"></a><span data-ttu-id="df7a3-133">Traitement</span><span class="sxs-lookup"><span data-stu-id="df7a3-133">Processing</span></span>  
 <span data-ttu-id="df7a3-134">La couche traitement se compose de ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="df7a3-134">The processing layer consists of the following:</span></span>  
  
-   <span data-ttu-id="df7a3-135">**Service Web de gestion BAM**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-135">**BAM Management Web Service**.</span></span> <span data-ttu-id="df7a3-136">Ce service Web est utilisé par l’application de portail BAM pour communiquer avec les Tables d’importation principale BAM (PIT).</span><span class="sxs-lookup"><span data-stu-id="df7a3-136">This Web service is used by the BAM Portal application to communicate with the BAM Primary Import Tables (PIT).</span></span> <span data-ttu-id="df7a3-137">La communication avec la base de données s'effectue à l'aide des informations d'identification stockées dans le registre et créées pendant la configuration.</span><span class="sxs-lookup"><span data-stu-id="df7a3-137">The communication with the database is done using impersonated credentials stored in the registry which is created during configuration.</span></span> <span data-ttu-id="df7a3-138">Les méthodes exposées par ce service Web utilisable par les clients personnalisés pour obtenir des vues et leurs détails, les activités associées et mises en page de tableau pour n’importe quel utilisateur de tableau croisé dynamique.</span><span class="sxs-lookup"><span data-stu-id="df7a3-138">Methods exposed by this Web service can be used by custom clients to get views and their details, related activities, and pivot table layouts for any user.</span></span> <span data-ttu-id="df7a3-139">Elles peuvent aussi servir à gérer les alertes dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="df7a3-139">They can also be used to manage alerts in the database.</span></span>  
  
-   <span data-ttu-id="df7a3-140">**Bus d’événements** .</span><span class="sxs-lookup"><span data-stu-id="df7a3-140">**Event Bus** .</span></span> <span data-ttu-id="df7a3-141">Le service Bus d'événements BAM traite les données de suivi (flux) stockées dans une base de données source et les conserve dans un format de table de requêtes dans la base de données de destination.</span><span class="sxs-lookup"><span data-stu-id="df7a3-141">The BAM Event Bus Service processes tracking data (streams) stored in a source database and persists that data in a query table format in the destination database.</span></span>  
  
-   <span data-ttu-id="df7a3-142">**Services de Notification SQL**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-142">**SQL Notification Services**.</span></span> <span data-ttu-id="df7a3-143">Ces services évaluent les alertes BAM de type Instance et Agréger définies par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="df7a3-143">SQL Notification Services evaluates the Instance and Aggregate BAM alerts that are defined by the business user.</span></span>  
  
 <span data-ttu-id="df7a3-144">Le diagramme suivant présente les processus physiques sous-jacents de l'architecture BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-144">The following diagram illustrates the underlying physical processes for the BAM architecture.</span></span>  
  
 ![](../core/media/architecture-bam-02.gif "architecture_bam_02")  
  
## <a name="design-time-experience"></a><span data-ttu-id="df7a3-145">Expérience au moment du design</span><span class="sxs-lookup"><span data-stu-id="df7a3-145">Design time experience</span></span>  
 <span data-ttu-id="df7a3-146">Le diagramme suivant illustre la phase de conception.</span><span class="sxs-lookup"><span data-stu-id="df7a3-146">The following diagram illustrates the design time experience.</span></span>  
  
 ![](../core/media/architecture-bam-03.gif "architecture_bam_03")  
  
 <span data-ttu-id="df7a3-147">Les étapes suivantes décrivent la séquence présentée dans l'illustration ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="df7a3-147">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="df7a3-148">L'Éditeur de modèle de suivi part du principe que le serveur BizTalk Server est configuré, qu'une définition BAM au moins a été déployée (avec BM.exe) et que l'infrastructure (base de données d'importation principale comprise) a été créée.</span><span class="sxs-lookup"><span data-stu-id="df7a3-148">The Tracking Profile Editor assumes that BizTalk Server has been configured, that at least one BAM definition has already been deployed (using BM.exe), and that the infrastructure, including the Primary Import Database has been created.</span></span> <span data-ttu-id="df7a3-149">Il utilise une clé de registre définie pendant la configuration de BizTalk pour déterminer l'emplacement de la base de données de gestion.</span><span class="sxs-lookup"><span data-stu-id="df7a3-149">The Tracking Profile Editor uses a registry key that is set during BizTalk configuration to determine where the Management database is located.</span></span>  
  
    1.  <span data-ttu-id="df7a3-150">L'analyse BAM énumère les activités contenues dans la base de données d'importation principale, lorsque celle-ci a été détectée.</span><span class="sxs-lookup"><span data-stu-id="df7a3-150">BAM enumerates the activities within the Primary Import Database once it is discovered.</span></span> <span data-ttu-id="df7a3-151">Les développeurs BizTalk sélectionnent les activités déployées qui sont extraites de la base de données d'importation principale BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-151">BizTalk developers select the deployed activities which get pulled from the BAM Primary Import database.</span></span>  
  
    2.  <span data-ttu-id="df7a3-152">Le développeur BizTalk effectue un mappage sur une implémentation physique en parcourant les assemblys déployés extraits de la base de données de gestion BizTalk.</span><span class="sxs-lookup"><span data-stu-id="df7a3-152">The BizTalk developer maps this to a physical implementation by browsing the deployed assemblies retrieved from the BizTalk Management database.</span></span>  
  
    3.  <span data-ttu-id="df7a3-153">Au terme du mappage visuel sur les artefacts BizTalk, les métadonnées sont soumises au composant d'exécution de BizTalk Server pour collecter et stocker les données.</span><span class="sxs-lookup"><span data-stu-id="df7a3-153">Once the developer has visually mapped this to the BizTalk artifacts, metadata is submitted to the BizTalk Server runtime to collect and store the data.</span></span> <span data-ttu-id="df7a3-154">Cela est réalisé via des annotations (pour les informations relatives aux messages utilisées pour décoder les données collectées) et le modèle de suivi (qui sert à récupérer les données d'exécution).</span><span class="sxs-lookup"><span data-stu-id="df7a3-154">This is done via annotations (for messaging information used to decode the collected data) and the tracking profile (used to retrieve the runtime data).</span></span>  
  
2.  <span data-ttu-id="df7a3-155">Microsoft Excel sert à la fois d'outil de conception et d'outil de consommation ou de présentation des données.</span><span class="sxs-lookup"><span data-stu-id="df7a3-155">Microsoft Excel is used as both a design time tool and a data consumption or presentation tool.</span></span> <span data-ttu-id="df7a3-156">Il permet aux utilisateurs de construire une définition BAM en créant des activités et des vues BAM,</span><span class="sxs-lookup"><span data-stu-id="df7a3-156">The design time Excel experience allows users to construct a BAM definition by creating BAM Activities and Views.</span></span> <span data-ttu-id="df7a3-157">et aussi de créer les contrôles et les graphiques des tableaux croisés dynamiques affichés sur le portail BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-157">It also allows for the creation of the pivot controls and graphs that are ultimately displayed in the BAM portal.</span></span>  
  
## <a name="deployment"></a><span data-ttu-id="df7a3-158">Déploiement</span><span class="sxs-lookup"><span data-stu-id="df7a3-158">Deployment</span></span>  
 <span data-ttu-id="df7a3-159">Il existe deux catégories de déploiement</span><span class="sxs-lookup"><span data-stu-id="df7a3-159">There are two categories of deployment</span></span>  
  
-   <span data-ttu-id="df7a3-160">création de l'infrastructure dynamique,</span><span class="sxs-lookup"><span data-stu-id="df7a3-160">Building out the dynamic infrastructure</span></span>  
  
-   <span data-ttu-id="df7a3-161">instrumentation de l'exécution pour collecter des données.</span><span class="sxs-lookup"><span data-stu-id="df7a3-161">Instrumenting the runtime to collect data.</span></span>  
  
 <span data-ttu-id="df7a3-162">Le diagramme suivant illustre le déploiement BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-162">The following diagram illustrates BAM deployment.</span></span>  
  
 ![](../core/media/architecture-bam-04.gif "architecture_bam_04")  
  
 <span data-ttu-id="df7a3-163">Les étapes suivantes décrivent la séquence présentée dans l'illustration ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="df7a3-163">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="df7a3-164">L'utilitaire de gestion BAM sert à créer l'infrastructure dynamique.</span><span class="sxs-lookup"><span data-stu-id="df7a3-164">The BAM Management Utility is used to build out the dynamic infrastructure.</span></span> <span data-ttu-id="df7a3-165">Il se sert de la définition BAM ou d'un classeur Excel de conception mais aussi du fichier XML de configuration BAM pour créer toutes les bases de données nécessaires et les tâches DTS ou SSIS correspondantes dont le système a besoin pour fonctionner.</span><span class="sxs-lookup"><span data-stu-id="df7a3-165">Using the BAM definition or a design time Excel workbook plus the BAM Configuration XML file, the BAM Management Utility builds all the necessary databases and the corresponding DTS or SSIS tasks necessary for the system to operate.</span></span>  
  
    1.  <span data-ttu-id="df7a3-166">La base de données d'importation principale BAM et l'ensemble des procédures stockées, déclencheurs et tâches DTS ou SSIS nécessaires sont construits.</span><span class="sxs-lookup"><span data-stu-id="df7a3-166">The BAM Primary Import database and all the supporting stored procedures, triggers, and DTS or SSIS tasks are constructed.</span></span>  
  
    2.  <span data-ttu-id="df7a3-167">La base de données des archives BAM est définie mais elle n'est pas créée tant que la tâche d'archivage DTS ou SSIS n'est pas exécutée.</span><span class="sxs-lookup"><span data-stu-id="df7a3-167">The BAM Archive database is defined, but not created, until the Archiving DTS or SSIS task is executed.</span></span>  
  
    3.  <span data-ttu-id="df7a3-168">La base de données de schémas en étoile BAM est définie si des agrégations OLAP BAM ont été définies.</span><span class="sxs-lookup"><span data-stu-id="df7a3-168">The BAM Star Schema database if BAM OLAP Aggregations were defined.</span></span> <span data-ttu-id="df7a3-169">Vous pouvez déterminer si les agrégations ont été définies si le **RTA** bouton dans la feuille de calcul Excel est désactivé ou **CreateOlapCube** a la valeur **true** dans la définition BAM et le fichier de Configuration XML a une unité de déploiement pour **AnalysisDatabase**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-169">You can determine if aggregations have been defined if the **Real Time Aggregation** button in the Excel spreadsheet is disabled or the **CreateOlapCube** is set to **true** in the BAM Definition and the Configuration XML file has a Deployment Unit for **AnalysisDatabase**.</span></span>  
  
    4.  <span data-ttu-id="df7a3-170">Une agrégation non RTA doit être définie pour la définition BAM et pour le fichier de configuration XML afin qu'un cube OLAP BAM puisse être créé.</span><span class="sxs-lookup"><span data-stu-id="df7a3-170">The BAM Definition and Configuration XML have to have an Aggregation defined that is not an RTA in order for a BAM OLAP cube to be created.</span></span>  
  
    5.  <span data-ttu-id="df7a3-171">La vue éclatée du processus du gestionnaire BAM montre que le processus des services de notification (nscontrol.exe) est appelé pour créer les bases de données NS SQL.</span><span class="sxs-lookup"><span data-stu-id="df7a3-171">Exploded view of the BAM Manager process shows that the Notification Services process (nscontrol.exe) is called to create the SQL NS databases.</span></span>  
  
2.  <span data-ttu-id="df7a3-172">L'interface utilisateur de l'Éditeur de modèle de suivi possède une commande de déploiement qui instrumente l'exécution pour suivre et décoder les données des systèmes d'exécution.</span><span class="sxs-lookup"><span data-stu-id="df7a3-172">The Tracking Profile Editor UI has a deployment command which instruments the runtime to track and decode data from the runtime systems.</span></span> <span data-ttu-id="df7a3-173">Dans ce cas, il exécute un push **annotations** dans la base de données d’importation principale BAM (si les données sont extraites du système de messagerie).</span><span class="sxs-lookup"><span data-stu-id="df7a3-173">In this case it pushes **annotations** into the BAM Primary Import database (if data is pulled from the messaging system).</span></span> <span data-ttu-id="df7a3-174">Un modèle de suivi est inséré dans la base de données de gestion BizTalk utilisée par le composant d'exécution BizTalk pour déterminer quelles données publier sur le système BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-174">A tracking profile is inserted into the BizTalk Management database which is used by the BizTalk Runtime to determine what data to publish to the BAM system.</span></span>  
  
3.  <span data-ttu-id="df7a3-175">L'outil de ligne de commande de déploiement du suivi BizTalk permet de publier des modèles de suivi dans la base de données d'importation principale BAM et dans la base de données de gestion, d'une manière similaire à ce que fait l'Éditeur de modèle de suivi ; cependant, l'outil de ligne de commande n'autorise pas les mappages.</span><span class="sxs-lookup"><span data-stu-id="df7a3-175">The BizTalk Tracking Deployment command line tool allows Tracking Profiles to be published to the BAM Primary Import database and Management database, which is similar to what the Tracking Profile Editor does; however the command line tool does not allow mapping capabilities.</span></span>  
  
## <a name="data-consumption"></a><span data-ttu-id="df7a3-176">Consommation de données</span><span class="sxs-lookup"><span data-stu-id="df7a3-176">Data Consumption</span></span>  
 <span data-ttu-id="df7a3-177">La consommation de données est le processus dans lequel un utilisateur consomme les informations collectées par l'infrastructure BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-177">Data consumption refers to the process in which a business user consumes the information that the BAM infrastructure has collected.</span></span> <span data-ttu-id="df7a3-178">Cela suppose, à ce stade, que la définition BAM a été créée (définir quelles données collecter et comment les afficher), déployée (créer dynamiquement l'infrastructure) et mappée sur l'implémentation physique (définir où collecter les données et dans certains cas écrire le code à transmettre au système).</span><span class="sxs-lookup"><span data-stu-id="df7a3-178">It is assumed at this point, that the BAM definition has been created (defining what data to collect and how to view it), that the BAM definition has been deployed (dynamically creating the infrastructure), and that the BAM definition has been mapped to the physical implementation (defining where to collect the data, and in some cases writing code to push into the system).</span></span>  
  
 <span data-ttu-id="df7a3-179">Le diagramme suivant illustre le processus de consommation de données.</span><span class="sxs-lookup"><span data-stu-id="df7a3-179">The following diagram illustrates the process of data consumption.</span></span>  
  
 ![](../core/media/architecture-bam-05.gif "architecture_bam_05")  
  
 <span data-ttu-id="df7a3-180">Les étapes suivantes décrivent la séquence présentée dans l'illustration ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="df7a3-180">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="df7a3-181">Le portail BAM est fractionné en deux processus, Internet Explorer et le processus de portail Web BAM hébergé par Internet Information Services.</span><span class="sxs-lookup"><span data-stu-id="df7a3-181">The BAM portal is split out into two processes, Internet Explorer and the BAM Web portal process hosted in Internet Information Services.</span></span>  
  
    1.  <span data-ttu-id="df7a3-182">Internet Explorer utilise le contexte de sécurité de l'utilisateur des activités qui se connecte au site Web du portail BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-182">Internet Explorer uses the security context of the business user connecting to the BAM Portal Web site.</span></span> <span data-ttu-id="df7a3-183">Le site Web du portail BAM est une application ASPX qui utilise le service Web de gestion BAM pour collecter des informations.</span><span class="sxs-lookup"><span data-stu-id="df7a3-183">The BAM Portal Web site is an ASPX application that uses the BAM Management Web Service to collect information.</span></span>  
  
    2.  <span data-ttu-id="df7a3-184">Le portail BAM appelle le service Web de gestion BAM pour récupérer des informations comme les activités/vues BAM que l'utilisateur des activités peut consulter.</span><span class="sxs-lookup"><span data-stu-id="df7a3-184">The BAM Portal calls the BAM Management Web Service to retrieve information such as what BAM Activities/Views the particular business user can see.</span></span> <span data-ttu-id="df7a3-185">Il est essentiel que le service Web de gestion BAM puisse emprunter l'identité de l'utilisateur des activités. Par conséquent, pour un déploiement type, le portail BAM et le service Web sont hébergés sur le même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="df7a3-185">It is critical that the BAM Management Web Service is able to impersonate the business user, therefore, the typical deployment is the BAM Portal and the Web Service are hosted on the same machine</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="df7a3-186">Si votre entreprise prend en charge Kerberos et qu'Active Directory est configuré pour prendre en charge la délégation, il est possible que le portail et le service Web soient implantés sur des machines différentes.</span><span class="sxs-lookup"><span data-stu-id="df7a3-186">If your enterprise supports Kerberos and Active Directory is set up to support delegation, it is possible that the Portal and Web Service can be located on different machines.</span></span>  
  
    3.  <span data-ttu-id="df7a3-187">Le service Web appelle des procédures stockées dans la base de données d'importation principale BAM pour procéder à des vérifications de la sécurité, récupérer des métadonnées et récupérer des informations sur les agrégations BAM en temps réel.</span><span class="sxs-lookup"><span data-stu-id="df7a3-187">The Web Service calls stored procedures in the BAM Primary Import to perform security checks, retrieve metadata, and retrieve information about BAM Real Time Aggregations.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="df7a3-188">Le portail BAM utilise actuellement un Service Web non documenté appelé le **Service Web de requêtes**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-188">Currently the BAM Portal uses an undocumented Web Service called the **Query Web Service**.</span></span> <span data-ttu-id="df7a3-189">Ce service n'est pas pris en charge et sera vraisemblablement désapprouvé dans la prochaine version.</span><span class="sxs-lookup"><span data-stu-id="df7a3-189">This is not supported and will most likely be deprecated in the next release.</span></span>  
  
    4.  <span data-ttu-id="df7a3-190">Internet Explorer héberge les contrôles OWC (Office Web Controls) qui établissent des connexions directes avec les cubes BAM Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="df7a3-190">Internet Explorer hosts the Office Web Controls (OWC) which makes direct connections to the BAM Analysis Services cubes.</span></span>  
  
2.  <span data-ttu-id="df7a3-191">Excel</span><span class="sxs-lookup"><span data-stu-id="df7a3-191">Excel</span></span>  
  
## <a name="runtime"></a><span data-ttu-id="df7a3-192">Runtime</span><span class="sxs-lookup"><span data-stu-id="df7a3-192">Runtime</span></span>  
 <span data-ttu-id="df7a3-193">Quand la définition BAM a été créée et l'infrastructure générée, et que le développeur a instrumenté les systèmes nécessaires pour activer la visibilité, les données peuvent commencer à circuler dans le système.</span><span class="sxs-lookup"><span data-stu-id="df7a3-193">After the BAM Definition has been defined, the infrastructure has been built out, and the developer has instrumented the necessary systems to enable visibility, data can begin flowing through the system.</span></span>  
  
### <a name="data-insertion"></a><span data-ttu-id="df7a3-194">Insertion de données</span><span class="sxs-lookup"><span data-stu-id="df7a3-194">Data Insertion</span></span>  
 <span data-ttu-id="df7a3-195">Le service BizTalk (BTSNTSvc.exe) est l'un des principaux vecteurs pour la circulation des données dans le système BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-195">One of the primary ways data flows into the BAM system is via the BizTalk Service (BTSNTSvc.exe).</span></span> <span data-ttu-id="df7a3-196">Il est conçu de façon à pouvoir contenir des sous-systèmes logiques.</span><span class="sxs-lookup"><span data-stu-id="df7a3-196">The BizTalk Service is architected such that it can contain logical subsystems.</span></span>  
  
 <span data-ttu-id="df7a3-197">Le diagramme suivant illustre ce processus.</span><span class="sxs-lookup"><span data-stu-id="df7a3-197">The following diagram illustrates this process.</span></span>  
  
 ![](../core/media/architecture-bam-06.gif "architecture_bam_06")  
  
 <span data-ttu-id="df7a3-198">Les étapes suivantes décrivent la séquence présentée dans l'illustration ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="df7a3-198">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="df7a3-199">Un sous-système héberge le moteur BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="df7a3-199">One subsystem hosts the BizTalk Server engine itself.</span></span> <span data-ttu-id="df7a3-200">chargé d'exécuter les orchestrations et la messagerie.</span><span class="sxs-lookup"><span data-stu-id="df7a3-200">The engine is responsible for executing orchestrations and messaging.</span></span>  
  
2.  <span data-ttu-id="df7a3-201">Le service Bus d'événements est un autre sous-système,</span><span class="sxs-lookup"><span data-stu-id="df7a3-201">Another subsystem is the Event Bus Service.</span></span> <span data-ttu-id="df7a3-202">chargé d'écrire les données du flux d'événements mises en mémoire tampon dans la base de données d'importation principale BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-202">The Event Bus Service is responsible for writing Buffered Event Stream data into the BAM Primary Import database.</span></span>  
  
### <a name="booting-the-runtime"></a><span data-ttu-id="df7a3-203">Démarrage du composant d'exécution</span><span class="sxs-lookup"><span data-stu-id="df7a3-203">Booting the runtime</span></span>  
 <span data-ttu-id="df7a3-204">Lorsque le service BizTalk est démarré, chaque sous-système charge les métadonnées nécessaires à son fonctionnement.</span><span class="sxs-lookup"><span data-stu-id="df7a3-204">When the BizTalk Service starts, each subsystem loads metadata that is necessary for the subsystems to operate.</span></span>  
  
 <span data-ttu-id="df7a3-205">Le diagramme suivant illustre ce processus.</span><span class="sxs-lookup"><span data-stu-id="df7a3-205">The following diagram illustrates this process.</span></span>  
  
 ![](../core/media/architecture-bam-07.gif "architecture_bam_07")  
  
 <span data-ttu-id="df7a3-206">Les étapes suivantes décrivent la séquence présentée dans l'illustration ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="df7a3-206">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="df7a3-207">Quand le moteur BizTalk (orchestrations ou messagerie) s'exécute, il appelle des intercepteurs qui régulent le flux des données entre le moteur et BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-207">When the BizTalk Engine is executing (either orchestrations or messaging), it calls into interceptors which regulate the data flow from the engine into BAM.</span></span> <span data-ttu-id="df7a3-208">Quand le moteur appelle l'intercepteur, ce dernier analyse où en est le moteur par rapport à l'ordre d'exécution des artefacts d'orchestration ou de messagerie.</span><span class="sxs-lookup"><span data-stu-id="df7a3-208">When the engine calls the interceptor, the interceptor analyzes where the engine is at in relation to the order of execution for the orchestration or messaging artifacts.</span></span> <span data-ttu-id="df7a3-209">Si des données doivent être récupérées à l'emplacement où le moteur s'exécute actuellement, l'intercepteur collecte ces données.</span><span class="sxs-lookup"><span data-stu-id="df7a3-209">If there is data that needs to be retrieved from the location where the engine is currently executing, the interceptor gathers the appropriate data.</span></span> <span data-ttu-id="df7a3-210">Les métadonnées déterminant l'emplacement et la nature des données à capturer sont stockées dans le modèle de suivi.</span><span class="sxs-lookup"><span data-stu-id="df7a3-210">The metadata that determines where the data needs to be captured and what data needs to be captured is housed in the Tracking Profile.</span></span> <span data-ttu-id="df7a3-211">Pendant le démarrage du service BizTalk, les intercepteurs du moteur contacteront la base de données de gestion BizTalk pour extraire le modèle de suivi correspondant aux artefacts en cours d'exécution.</span><span class="sxs-lookup"><span data-stu-id="df7a3-211">During booting of the BizTalk Service, the engine’s interceptors will contact the BizTalk Management database to pull the appropriate Tracking Profile for the artifacts being executed.</span></span>  
  
2.  <span data-ttu-id="df7a3-212">Le service Bus d'événements a pour fonction principale de convertir les données de type Blob (écrites par le moteur BizTalk) en éléments de données exploitables et d'insérer les données dans la base de données d'importation principale BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-212">The Event Bus Service's primary function is to convert data blobs (written by the BizTalk Engine) into usable data items and insert the data into the BAM Primary Import database.</span></span> <span data-ttu-id="df7a3-213">L'intercepteur de messagerie écrit les données brutes sous une forme compressée.</span><span class="sxs-lookup"><span data-stu-id="df7a3-213">The messaging interceptor writes the raw data in a compressed form.</span></span> <span data-ttu-id="df7a3-214">Cela évite d'avoir une plage de travail mémoire trop étendue.</span><span class="sxs-lookup"><span data-stu-id="df7a3-214">This is done to avoid a large memory working set.</span></span> <span data-ttu-id="df7a3-215">Pour que le service Bus d'événements puisse convertir les données de messagerie en éléments de données exploitables, il doit d'abord charger des métadonnées capables d'interpréter les données brutes.</span><span class="sxs-lookup"><span data-stu-id="df7a3-215">In order for the Event Bus Service to convert messaging data into usable data items, it must first load metadata that can interpret the raw data.</span></span> <span data-ttu-id="df7a3-216">Ces métadonnées sont appelée **annotations**.</span><span class="sxs-lookup"><span data-stu-id="df7a3-216">This metadata is known as **annotations**.</span></span> <span data-ttu-id="df7a3-217">Elles ont été placées par l'Éditeur de modèle de suivi ou par l'outil de ligne de commande de déploiement de modèle de suivi.</span><span class="sxs-lookup"><span data-stu-id="df7a3-217">The annotation metadata was put there via the Tracking Profile Editor or the command line Tracking Profile Deploy tool.</span></span> <span data-ttu-id="df7a3-218">Si la solution déployée ne récupère pas de données de la messagerie, il n'y aura pas d'annotations.</span><span class="sxs-lookup"><span data-stu-id="df7a3-218">If the solution deployed does not retrieve data from messaging there will not be any annotations.</span></span> <span data-ttu-id="df7a3-219">Les intercepteurs d'orchestration codent suffisamment d'informations brutes pour que le service Bus d'événements puisse décoder correctement sans devoir recourir à des annotations supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="df7a3-219">Orchestration interceptors encode enough information in the raw form for the Event Bus Service to properly decode without having additional annotations.</span></span>  
  
### <a name="storing-data"></a><span data-ttu-id="df7a3-220">Stockage des données</span><span class="sxs-lookup"><span data-stu-id="df7a3-220">Storing data</span></span>  
 <span data-ttu-id="df7a3-221">Cette section explique comment les données sont capturées à partir du service BizTalk.</span><span class="sxs-lookup"><span data-stu-id="df7a3-221">This section discusses how data is captured from the BizTalk Service.</span></span>  
  
 <span data-ttu-id="df7a3-222">Le diagramme suivant illustre ce processus.</span><span class="sxs-lookup"><span data-stu-id="df7a3-222">The following diagram illustrates this process.</span></span>  
  
 ![](../core/media/architecture-bam-08.gif "architecture_bam_08")  
  
 <span data-ttu-id="df7a3-223">Les étapes suivantes décrivent la séquence présentée dans l'illustration ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="df7a3-223">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="df7a3-224">Le moteur BizTalk, comme décrit précédemment, est doté d'intercepteurs appelés pendant l'exécution des orchestrations et des solutions de messagerie.</span><span class="sxs-lookup"><span data-stu-id="df7a3-224">The BizTalk engine, as described earlier, has interceptors that are called during runtime execution of orchestrations and messaging solutions.</span></span> <span data-ttu-id="df7a3-225">À partir des informations du modèle de suivi, les intercepteurs déterminent quelles données capturer puis envoient ces dernières à la base de données MessageBox BizTalk sous forme binaire.</span><span class="sxs-lookup"><span data-stu-id="df7a3-225">Based on the Tracking Profile information, the interceptors will determine what data to capture and then send it to the BizTalk MessageBox in a binary form.</span></span> <span data-ttu-id="df7a3-226">Une table TrackingData stocke les données de type Blob sérialisées capturées pendant l'exécution.</span><span class="sxs-lookup"><span data-stu-id="df7a3-226">There is a TrackingData table which holds serialized blob data captured during runtime.</span></span> <span data-ttu-id="df7a3-227">Pendant le traitement, il arrive que le moteur doive stocker des données qu'il conserve en mémoire pendant l'exécution.</span><span class="sxs-lookup"><span data-stu-id="df7a3-227">During the processing, there are times when the engine needs to store data that it holds in memory during execution.</span></span> <span data-ttu-id="df7a3-228">Ces données constituent des « points de persistance » et le moteur décide quand ces points sont créés.</span><span class="sxs-lookup"><span data-stu-id="df7a3-228">These are known as persistence points, and the engine decides when these points occur.</span></span> <span data-ttu-id="df7a3-229">Quand un point de persistance est créé, les données précédemment capturées à partir des intercepteurs sont vidées et conservées lors d'une même transaction.</span><span class="sxs-lookup"><span data-stu-id="df7a3-229">When a persistence point happens, the data that was captured from the interceptors is also flushed and persisted within the same transaction.</span></span> <span data-ttu-id="df7a3-230">Cela garantit la cohérence des données dans le moteur et, à terme, ce que l'analyse BAM peut consulter.</span><span class="sxs-lookup"><span data-stu-id="df7a3-230">This ensures the consistency of the data in the engine and ultimately what BAM can see.</span></span> <span data-ttu-id="df7a3-231">En cas de défaillance et si la transaction est annulée, les données BAM associées sont annulées aussi.</span><span class="sxs-lookup"><span data-stu-id="df7a3-231">If a failure occurs and the transaction is rolled back, the associated BAM data will also be rolled back.</span></span>  
  
2.  <span data-ttu-id="df7a3-232">Le service Bus d'événements est hébergé dans le même processus exécutable que le moteur.</span><span class="sxs-lookup"><span data-stu-id="df7a3-232">The Event Bus service is housed in the same executable process as the engine.</span></span> <span data-ttu-id="df7a3-233">Il obtient ses données de la table TrackingData stockée par le moteur BTS (ou de toute autre source de données BufferedEventStream).</span><span class="sxs-lookup"><span data-stu-id="df7a3-233">The service feeds off of data in the TrackingData table stored by the BTS Engine (or any BufferedEventStream data source).</span></span> <span data-ttu-id="df7a3-234">L’image représente un assembly – Microsoft.BizTalk.Bam.EventObservation.</span><span class="sxs-lookup"><span data-stu-id="df7a3-234">The picture depicts an assembly – Microsoft.BizTalk.Bam.EventObservation.</span></span> <span data-ttu-id="df7a3-235">Cet assembly n’expose pas une méthode de récupération des données à partir de la classe BufferedEventStream.</span><span class="sxs-lookup"><span data-stu-id="df7a3-235">This assembly does not expose a method of retrieving the data from the BufferedEventStream.</span></span> <span data-ttu-id="df7a3-236">Ce code est hébergé dans le service Bus d'événements.</span><span class="sxs-lookup"><span data-stu-id="df7a3-236">This code is housed in the Event Bus Service itself.</span></span> <span data-ttu-id="df7a3-237">Les données sont récupérées puis préparées afin d'être stockées dans la base de données d'importation principale.</span><span class="sxs-lookup"><span data-stu-id="df7a3-237">The data is retrieved and then prepared to be stored in the Primary Import database.</span></span> <span data-ttu-id="df7a3-238">La plupart des données binaires sont des objets ..NET sérialisés qui sont réalimentés à partir des propriétés transférées de l'objet vers des instructions SQL formatées.</span><span class="sxs-lookup"><span data-stu-id="df7a3-238">For the most part, the binary data are serialized .NET objects which are rehydrated after which properties are moved from the object to formatted SQL statements.</span></span>  
  
3.  <span data-ttu-id="df7a3-239">Quand le stockage des données survient, le service Bus d'événements tente de stocker un lot volumineux.</span><span class="sxs-lookup"><span data-stu-id="df7a3-239">When storage of the data occurs, the Event Bus service attempts a large batch.</span></span> <span data-ttu-id="df7a3-240">Ce lot contient les appels de procédures stockées générés par l'outil de déploiement du gestionnaire de l'analyse BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-240">The batch contains calls to stored procedures that were generated by the Bam Manager deployment tool.</span></span> <span data-ttu-id="df7a3-241">Une forte activité sur la base de données ou d'autres conditions entraînant un verrouillage de table peut entraîner l'échec du stockage du lot.</span><span class="sxs-lookup"><span data-stu-id="df7a3-241">Due to high database activity or other table locking circumstances, the batch storage could fail.</span></span> <span data-ttu-id="df7a3-242">En cas d'échec, deux autres tentatives sont faites.</span><span class="sxs-lookup"><span data-stu-id="df7a3-242">In the event of a failure, the batch is tried a couple more times.</span></span> <span data-ttu-id="df7a3-243">Si elles échouent, le lot est divisé en plus petits lots et le stockage est tenté à nouveau.</span><span class="sxs-lookup"><span data-stu-id="df7a3-243">If the retries fail, the batch is broken up into smaller batches and retried.</span></span> <span data-ttu-id="df7a3-244">En cas d'échec, le lot est transféré dans la table FailedTracking.</span><span class="sxs-lookup"><span data-stu-id="df7a3-244">If this fails, the batch is moved to the FailedTracking table.</span></span>  
  
### <a name="custom-data-insertion"></a><span data-ttu-id="df7a3-245">Insertion de données personnalisées</span><span class="sxs-lookup"><span data-stu-id="df7a3-245">Custom data insertion</span></span>  
 <span data-ttu-id="df7a3-246">La section précédente décrivait en détail la récupération de données par l'analyse BAM sur l'hôte BizTalk Server à l'aide de diverses méthodes :</span><span class="sxs-lookup"><span data-stu-id="df7a3-246">The previous section demonstrated the details of how BAM retrieves data from the BizTalk Server host using a variety of different methods.</span></span> <span data-ttu-id="df7a3-247">indirectement avec l'Éditeur de modèle de suivi pour créer un modèle, et plus directement avec les méthodes de flux d'événements directement dans le code.</span><span class="sxs-lookup"><span data-stu-id="df7a3-247">Indirectly using the Tracking Profile Editor to create a profile, and more directly using the Event Stream methods directly within code.</span></span> <span data-ttu-id="df7a3-248">Toutefois, toutes les données pertinentes pour l'analyse BAM ne sont pas nécessairement disponibles dans BizTalk.</span><span class="sxs-lookup"><span data-stu-id="df7a3-248">However, not all data relevant to BAM is necessarily available in BizTalk.</span></span> <span data-ttu-id="df7a3-249">C'est pourquoi un assembly est disponible pour les applications personnalisées.</span><span class="sxs-lookup"><span data-stu-id="df7a3-249">Therefore there is an assembly available to custom written applications.</span></span>  
  
 <span data-ttu-id="df7a3-250">Le diagramme suivant illustre ce processus.</span><span class="sxs-lookup"><span data-stu-id="df7a3-250">The following diagram illustrates this process.</span></span>  
  
 ![](../core/media/architecture-bam-09.gif "architecture_bam_09")  
  
 <span data-ttu-id="df7a3-251">Les étapes suivantes décrivent la séquence présentée dans l'illustration ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="df7a3-251">The following steps describe the sequence depicted in the illustration above.</span></span>  
  
1.  <span data-ttu-id="df7a3-252">L’application personnalisée doit être en mesure de charger le [Microsoft.BizTalk.Bam.EventObservation](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.aspx) assembly pour accéder aux méthodes d’insertion de données dans une activité BAM BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-252">The custom application must be able to load the [Microsoft.BizTalk.Bam.EventObservation](http://msdn.microsoft.com/library/microsoft.biztalk.bam.eventobservation.aspx) assembly to access the BAM methods of inserting data into a BAM Activity.</span></span> <span data-ttu-id="df7a3-253">Deux classes principales sont exposées, DirectEventStream et BufferedEventStream.</span><span class="sxs-lookup"><span data-stu-id="df7a3-253">There are two primary classes that are exposed, DirectEventStream and BufferedEventStream.</span></span> <span data-ttu-id="df7a3-254">Dans l'illustration ci-dessus, la classe DirectEventStream est mise en évidence.</span><span class="sxs-lookup"><span data-stu-id="df7a3-254">In the illustration above, the DirectEventStream class is highlighted.</span></span> <span data-ttu-id="df7a3-255">Elle écrit directement dans la base de données d'importation principale.</span><span class="sxs-lookup"><span data-stu-id="df7a3-255">This class writes directly to the Primary Import database.</span></span> <span data-ttu-id="df7a3-256">Il s'agit de la méthode la plus courante pour écrire des données dans une activité BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-256">This is the most common method of writing data into a BAM activity.</span></span>  
  
2.  <span data-ttu-id="df7a3-257">À l'instar de la méthode dans laquelle BizTalk stocke des données, la classe BufferedEventStream écrit des données binaires de type Blob dans une base de données indirecte.</span><span class="sxs-lookup"><span data-stu-id="df7a3-257">Similar to the method in which BizTalk stores data, the BufferedEventStream class writes binary blobs into an indirect database.</span></span> <span data-ttu-id="df7a3-258">Dans ce cas, la base de données MessageBox BizTalk sert de magasin intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="df7a3-258">In this case, the BizTalk MessageBox is used as the intermediate store.</span></span> <span data-ttu-id="df7a3-259">Le choix de la classe dépend de plusieurs facteurs ; toutefois, les performances sont une préoccupation essentielle.</span><span class="sxs-lookup"><span data-stu-id="df7a3-259">Which class you choose depends on several things; however performance is a primary concern.</span></span> <span data-ttu-id="df7a3-260">La classe BufferedEventStream traite les données par lots et offre un débit plus élevé</span><span class="sxs-lookup"><span data-stu-id="df7a3-260">The BufferedEventStream class will batch data and sustain higher throughput.</span></span> <span data-ttu-id="df7a3-261">mais présente l'inconvénient de ne pas écrire les données immédiatement.</span><span class="sxs-lookup"><span data-stu-id="df7a3-261">The drawback is that the data is not written immediately.</span></span>  
  
3.  <span data-ttu-id="df7a3-262">Comme la méthode BizTalk d'insertion de données, le service Bus d'événements traitera les données binaires, les décodera et les stockera dans la base de données d'importation principale BAM.</span><span class="sxs-lookup"><span data-stu-id="df7a3-262">As with the BizTalk method of inserting data, the Event Bus Service will process the binary data, decode it, and ultimately store it within the BAM Primary Import database.</span></span> <span data-ttu-id="df7a3-263">Cela n'est nécessaire que pour les données écrites via la classe BufferedEventStream.</span><span class="sxs-lookup"><span data-stu-id="df7a3-263">This is only required for data written via the BufferedEventStream class.</span></span>  
  
## <a name="distributed-navigation"></a><span data-ttu-id="df7a3-264">Navigation distribuée</span><span class="sxs-lookup"><span data-stu-id="df7a3-264">Distributed Navigation</span></span>  
 <span data-ttu-id="df7a3-265">Le composant de navigation distribuée du portail BAM permet aux utilisateurs de voir les relations d'activité au-delà des limites distantes.</span><span class="sxs-lookup"><span data-stu-id="df7a3-265">The BAM portal distributed navigation feature allows users to see activity relationships across remote boundaries.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="df7a3-266">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="df7a3-266">See Also</span></span>  
 [<span data-ttu-id="df7a3-267">Gestion et l’Architecture de suivi</span><span class="sxs-lookup"><span data-stu-id="df7a3-267">Management and Tracking Architecture</span></span>](../core/management-and-tracking-architecture.md)