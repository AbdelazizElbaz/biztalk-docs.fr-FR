---
title: "Mise en attente de l’orchestration et la réactivation | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 57d7c0bf-a707-4ebd-afab-e75dd80c3c34
caps.latest.revision: 
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f7cee568cda6c869ede94e28bce441462c0c7cdc
ms.sourcegitcommit: 32f380810b90b70e5df7be72a6a14988a747868e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/28/2018
---
# <a name="orchestration-dehydration-and-rehydration"></a><span data-ttu-id="c66aa-102">Mise en attente et réactivation des orchestrations</span><span class="sxs-lookup"><span data-stu-id="c66aa-102">Orchestration Dehydration and Rehydration</span></span>
<span data-ttu-id="c66aa-103">Lorsque plusieurs processus d'entreprise à long terme sont exécutés en même temps, la mémoire et les performances constituent des problèmes potentiels.</span><span class="sxs-lookup"><span data-stu-id="c66aa-103">When many long-running business processes are running at the same time, memory and performance are potential issues.</span></span> <span data-ttu-id="c66aa-104">Le moteur d'orchestration résout ces problèmes en « mettant en attente » et en « réalimentant » les instances d'orchestration.</span><span class="sxs-lookup"><span data-stu-id="c66aa-104">The orchestration engine addresses these issues by "dehydrating" and "rehydrating" orchestration instances.</span></span>  
  
 <span data-ttu-id="c66aa-105">La mise en attente est le processus qui consiste à sérialiser l'état d'une orchestration dans une base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c66aa-105">Dehydration is the process of serializing the state of an orchestration into a SQL Server database.</span></span> <span data-ttu-id="c66aa-106">La réactivation est le processus inverse : la désérialisation du dernier état d’exécution d’une orchestration à partir de la base de données.</span><span class="sxs-lookup"><span data-stu-id="c66aa-106">Rehydration is the reverse of this process: deserializing the last running state of an orchestration from the database.</span></span> <span data-ttu-id="c66aa-107">La mise en attente est utilisée pour réduire au maximum l'utilisation de ressources système en réduisant le nombre d'orchestrations qui doivent être instanciées simultanément.</span><span class="sxs-lookup"><span data-stu-id="c66aa-107">Dehydration is used to minimize the use of system resources by reducing the number of orchestrations that have to be instantiated in memory at one time.</span></span>  
  
## <a name="dehydration"></a><span data-ttu-id="c66aa-108">Mise en attente</span><span class="sxs-lookup"><span data-stu-id="c66aa-108">Dehydration</span></span>  
 <span data-ttu-id="c66aa-109">Le moteur d'orchestration est susceptible de déterminer qu'une instance d'orchestration est inactive depuis relativement longtemps.</span><span class="sxs-lookup"><span data-stu-id="c66aa-109">The orchestration engine might determine that an orchestration instance has been idle for a relatively long period of time.</span></span> <span data-ttu-id="c66aa-110">Il calcule des seuils pour déterminer le temps pendant lequel il devra attendre que diverses actions aient lieu. Si ces seuils sont dépassés, il mettra en attente l'instance.</span><span class="sxs-lookup"><span data-stu-id="c66aa-110">It calculates thresholds to determine how long it will wait for various actions to take place, and if those thresholds are exceeded, it dehydrates the instance.</span></span> <span data-ttu-id="c66aa-111">Cela peut se produire dans les circonstances suivantes :</span><span class="sxs-lookup"><span data-stu-id="c66aa-111">This can occur under the following circumstances:</span></span>  
  
-   <span data-ttu-id="c66aa-112">Quand l'orchestration attend de recevoir un message et que l'attente est plus longue qu'un seuil déterminé par le moteur.</span><span class="sxs-lookup"><span data-stu-id="c66aa-112">When the orchestration is waiting to receive a message, and the wait is longer than a threshold determined by the engine.</span></span>  
  
-   <span data-ttu-id="c66aa-113">Lorsque l’orchestration « écoute » pour un message, comme lorsque vous utilisez un **écouter** forme et qu’aucune branche est déclenchée avant un seuil déterminé par le moteur.</span><span class="sxs-lookup"><span data-stu-id="c66aa-113">When the orchestration is "listening" for a message, as it does when you use a **Listen** shape, and no branch is triggered before a threshold determined by the engine.</span></span> <span data-ttu-id="c66aa-114">La seule exception est lorsque le **écouter** forme contient une activation de réception.</span><span class="sxs-lookup"><span data-stu-id="c66aa-114">The only exception to this is when the **Listen** shape contains an activation receive.</span></span>  
  
-   <span data-ttu-id="c66aa-115">Quand, dans l'orchestration, un délai est plus long qu'un seuil déterminé par le moteur.</span><span class="sxs-lookup"><span data-stu-id="c66aa-115">When a delay in the orchestration is longer than a threshold determined by the engine.</span></span>  
  
 <span data-ttu-id="c66aa-116">Le moteur met l'instance en attente en enregistrant l'état et libère la mémoire requise par l'instance.</span><span class="sxs-lookup"><span data-stu-id="c66aa-116">The engine dehydrates the instance by saving the state, and frees up the memory required by the instance.</span></span> <span data-ttu-id="c66aa-117">En mettant les instances d’orchestration dormantes, le moteur rend possible pour un grand nombre de processus d’entreprise longue à s’exécuter simultanément sur le même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="c66aa-117">By dehydrating dormant orchestration instances, the engine makes it possible for a large number of long-running business processes to run concurrently on the same computer.</span></span>  
  
 <span data-ttu-id="c66aa-118">Douze propriétés sont disponibles pour configurer le fonctionnement de la mise en attente dans BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="c66aa-118">You can set 12 properties to configure how dehydration works in BizTalk Server.</span></span> <span data-ttu-id="c66aa-119">Les rubriques de cette section fournissent une description de ces propriétés et de leur valeur par défaut, et présentent la manière dont les différentes valeurs affectent le comportement de la mise en attente.</span><span class="sxs-lookup"><span data-stu-id="c66aa-119">The topics in this section list and describe these properties and their default values, and discuss how various values affect dehydration behavior.</span></span>  
  
## <a name="rehydration"></a><span data-ttu-id="c66aa-120">Réactivation</span><span class="sxs-lookup"><span data-stu-id="c66aa-120">Rehydration</span></span>  
 <span data-ttu-id="c66aa-121">Le moteur d'orchestration peut être amené à réalimenter une instance d'orchestration suite à la réception d'un message ou à l'expiration d'un délai spécifié dans une forme Attente.</span><span class="sxs-lookup"><span data-stu-id="c66aa-121">The orchestration engine can be triggered to rehydrate an orchestration instance by the receipt of a message or by the expiration of a time-out specified in a Delay shape.</span></span> <span data-ttu-id="c66aa-122">Il charge l’instance d’orchestration enregistrée dans la mémoire, restaure son état et il s’exécute à partir du point où elle s’est arrêté.</span><span class="sxs-lookup"><span data-stu-id="c66aa-122">It then loads the saved orchestration instance into memory, restores its state, and runs it from the point where it left off.</span></span> <span data-ttu-id="c66aa-123">Pour plus d’informations sur l’utilisation des formes dans les orchestrations, consultez [formes d’Orchestration](../core/orchestration-shapes.md).</span><span class="sxs-lookup"><span data-stu-id="c66aa-123">For more information about using shapes in orchestrations, see [Orchestration Shapes](../core/orchestration-shapes.md).</span></span>  
  
 <span data-ttu-id="c66aa-124">Il est possible de configurer une orchestration pour qu'elle s'exécute sur plusieurs serveurs.</span><span class="sxs-lookup"><span data-stu-id="c66aa-124">An orchestration can be configured to run on more than one server.</span></span> <span data-ttu-id="c66aa-125">Après sa mise en attente, une instance d'orchestration peut être réalimentée sur n'importe lequel de ces serveurs.</span><span class="sxs-lookup"><span data-stu-id="c66aa-125">After an orchestration instance has been dehydrated, it can be rehydrated on any of these servers.</span></span> <span data-ttu-id="c66aa-126">Si un serveur tombe en panne, le moteur continue d’exécuter l’orchestration sur un autre serveur, à partir de son état précédent.</span><span class="sxs-lookup"><span data-stu-id="c66aa-126">If one server goes down, the engine continues to run the orchestration on a different server, continuing from its previous state.</span></span> <span data-ttu-id="c66aa-127">Cette fonctionnalité permet également au moteur d'implémenter l'équilibrage des charges sur les serveurs.</span><span class="sxs-lookup"><span data-stu-id="c66aa-127">The engine also takes advantage of this feature to implement load balancing across servers.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="c66aa-128">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="c66aa-128">Next steps</span></span>
  
-   [<span data-ttu-id="c66aa-129">Propriétés par défaut de mise en attente</span><span class="sxs-lookup"><span data-stu-id="c66aa-129">Dehydration Default Properties</span></span>](../core/dehydration-default-properties.md)  
  
-   [<span data-ttu-id="c66aa-130">Mode de mise en attente de calcul</span><span class="sxs-lookup"><span data-stu-id="c66aa-130">How to Calculate Dehydration</span></span>](../core/how-to-calculate-dehydration.md)  
  
-   [<span data-ttu-id="c66aa-131">Exemple de calcul de mise en attente</span><span class="sxs-lookup"><span data-stu-id="c66aa-131">Sample Dehydration Calculation</span></span>](../core/sample-dehydration-calculation.md)  
  
-   [<span data-ttu-id="c66aa-132">Compteurs de performances de la mise en attente des orchestrations</span><span class="sxs-lookup"><span data-stu-id="c66aa-132">Orchestration Dehydration Performance Counters</span></span>](../core/orchestration-dehydration-performance-counters.md)  
  
-   [<span data-ttu-id="c66aa-133">Fichier BTSNTSvc.exe.config</span><span class="sxs-lookup"><span data-stu-id="c66aa-133">BTSNTSvc.exe.config File</span></span>](../core/btsntsvc-exe-config-file.md)  
  
-   [<span data-ttu-id="c66aa-134">Autres activités susceptibles d’affecter le comportement de mise en attente</span><span class="sxs-lookup"><span data-stu-id="c66aa-134">Other Activities That Can Affect Dehydration Behavior</span></span>](../core/other-activities-that-can-affect-dehydration-behavior.md)