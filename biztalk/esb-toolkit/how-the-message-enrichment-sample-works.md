---
title: "Fonctionne de l’exemple d’enrichissement de Message | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 1188c1c9-b133-4438-b41c-ea6cffcf40fd
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5ef516b992acbcee2936edb6341cbf1434ba4c79
ms.sourcegitcommit: 7497f6f23d7aadfa8535d0530493f8b4a2a50a0b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/22/2017
---
# <a name="how-the-message-enrichment-sample-works"></a><span data-ttu-id="2af92-102">Fonctionne de l’exemple d’enrichissement de Message</span><span class="sxs-lookup"><span data-stu-id="2af92-102">How the Message Enrichment Sample Works</span></span>
 <span data-ttu-id="2af92-103">L’exemple d’enrichissement de Message montre qu’il est possible d’encapsuler un modèle d’intégration en tant que service générique réutilisable.</span><span class="sxs-lookup"><span data-stu-id="2af92-103">The Message Enrichment sample demonstrates that it is possible to encapsulate an integration pattern as a generic reusable service.</span></span> <span data-ttu-id="2af92-104">Dans ce cas, l’exemple implémente le modèle de contenu enrichisseur.</span><span class="sxs-lookup"><span data-stu-id="2af92-104">In this case the sample implements the Content Enricher pattern.</span></span> <span data-ttu-id="2af92-105">Le modèle de contenu enrichisseur implique généralement à l’aide d’une transformation pour préparer un message pour la transmettre à un service externe dans l’ordre pour rechercher des informations, puis une autre transformation pour intégrer la réponse dans un nouveau message qui contient également des données à partir de la message d’origine.</span><span class="sxs-lookup"><span data-stu-id="2af92-105">The Content Enricher pattern generally involves using a transform to prepare a message for transmission to an external service in order to lookup information, and then another transform to incorporate the response into a new message which also contains data from the original message.</span></span> <span data-ttu-id="2af92-106">Pour implémenter le modèle de façon générique, l’exemple d’enrichissement de Message fournit un service de feuille de route basée sur une orchestration qui peut utiliser jusqu'à deux programmes de résolution pour configurer l’enrichissement d’un message à l’aide des informations à partir d’une source externe.</span><span class="sxs-lookup"><span data-stu-id="2af92-106">In order to implement the pattern in a generic fashion, the Message Enrichment sample provides an orchestration-based itinerary service that can use up to two resolvers to configure enrichment of a message using information from an external source.</span></span>
  
 <span data-ttu-id="2af92-107">Le premier programme de résolution doit retourner des informations de routage ; elle peut également retourner transformer les informations à ses côtés.</span><span class="sxs-lookup"><span data-stu-id="2af92-107">The first resolver must return routing information; it can also return transform information alongside it.</span></span> <span data-ttu-id="2af92-108">Si spécifié, la transformation est appliquée au message entrant avant d’être acheminé à l’emplacement spécifié par le programme de résolution.</span><span class="sxs-lookup"><span data-stu-id="2af92-108">If specified, the transform is applied to the incoming message before being routed to the location specified by the resolver.</span></span> <span data-ttu-id="2af92-109">Dans l’itinéraire de l’exemple fourni, le fournisseur de l’adaptateur WCF-Custom est utilisé pour exécuter une procédure stockée SQL dans la base de données GlobalBankESB nommé GetOrderDetails et retournent le résultat.</span><span class="sxs-lookup"><span data-stu-id="2af92-109">In the provided sample itinerary, the WCF-Custom adapter provider is used to execute a SQL stored procedure within the GlobalBankESB database named GetOrderDetails and return the result.</span></span>  
  
 <span data-ttu-id="2af92-110">Si vous le souhaitez, un second programme de résolution peut être inclus.</span><span class="sxs-lookup"><span data-stu-id="2af92-110">Optionally, a second resolver can be included.</span></span> <span data-ttu-id="2af92-111">Si fourni, le programme de résolution deuxième doit inclure les informations de transformation.</span><span class="sxs-lookup"><span data-stu-id="2af92-111">If provided, the second resolver must include transformation information.</span></span> <span data-ttu-id="2af92-112">Cette transformation recevra le message d’origine et le résultat retourné par la source de données a été contacté, en tant qu’entrée.</span><span class="sxs-lookup"><span data-stu-id="2af92-112">This transform will be given the original message and the result, returned by whichever data source was contacted, as input.</span></span> <span data-ttu-id="2af92-113">Dans l’itinéraire de l’exemple, un mappage qui utilise une fonctoid Bouclage de table pour extraire des informations sur le message d’origine et le résultat de la procédure stockée et l’inclure dans le message InventoryOrder résultant est référencé.</span><span class="sxs-lookup"><span data-stu-id="2af92-113">In the sample itinerary, a map is referenced that uses a table looping functoid to pull information out of the original message and the result of the stored procedure and include it inside the resulting InventoryOrder message.</span></span>
