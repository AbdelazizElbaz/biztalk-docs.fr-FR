---
title: "L’architecture ESB ajouter Namespace et supprimer des composants de Namespace | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 21df1b21-b73c-4e31-a234-49a1a6b53cc7
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2bcbe519cfd8c6796569da4de87f59fa6a16d8a8
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="the-esb-add-namespace-and-remove-namespace-components"></a><span data-ttu-id="db419-102">L’architecture ESB ajouter Namespace et supprimer des composants de Namespace</span><span class="sxs-lookup"><span data-stu-id="db419-102">The ESB Add Namespace and Remove Namespace Components</span></span>
<span data-ttu-id="db419-103">De nombreuses sociétés étaient premiers de technologies XML au moment normes ont toujours émergentes et partage de documents a été rare.</span><span class="sxs-lookup"><span data-stu-id="db419-103">Many companies were early adopters of XML technologies at the time when standards were still emerging and document sharing was uncommon.</span></span> <span data-ttu-id="db419-104">Par conséquent, ils n’appliquent pas strictement la configuration requise pour inclure des espaces de noms racine unique, qui est généralement le cas aujourd'hui.</span><span class="sxs-lookup"><span data-stu-id="db419-104">Therefore, they did not strictly enforce the requirements for including unique root namespaces, which is usually the case today.</span></span>  
  
 <span data-ttu-id="db419-105">Toutefois, Microsoft BizTalk Server effectue d’identification de document basée sur une combinaison de l’espace de noms du nœud racine et le nom du nœud racine, afin que les documents ne dotés d’aucun espace de noms pour le nœud racine sont difficiles à identifier si plusieurs autre document types utilisent le même nom de nœud racine.</span><span class="sxs-lookup"><span data-stu-id="db419-105">However, Microsoft BizTalk Server performs document identification based on a combination of the root node namespace and the root node name, so documents that have no namespace for the root node are difficult to positively identify if several different document types use the same root node name.</span></span>  
  
 <span data-ttu-id="db419-106">Les composants Namespace d’ajouter et supprimer les Namespace résolvent ce problème en rendant possible d’ajouter des espaces de noms aux documents lorsqu’ils sont reçus et pour supprimer l’espace de noms à partir des documents avant qu’ils soient remis.</span><span class="sxs-lookup"><span data-stu-id="db419-106">The Add Namespace and Remove Namespace components solve this problem by making it possible to add namespaces to documents when they are received and to remove the namespace from the documents before they are delivered.</span></span> <span data-ttu-id="db419-107">Par conséquent, les documents peuvent résider dans l’espace de noms par défaut (ou dans un espace de noms commune à plusieurs types de document différent) quand ils sont envoyés et reçus, mais se trouvent dans un espace de noms racine unique temporaire au cours du traitement au sein d’ESB BizTalk.</span><span class="sxs-lookup"><span data-stu-id="db419-107">Therefore, documents can reside in the default namespace (or in a namespace common to several different document types) when they are sent and received but reside in a transient unique root namespace during processing within the ESB and BizTalk.</span></span>  
  
 <span data-ttu-id="db419-108">Les composants sont également utiles lors de l’intégration des systèmes hérités qui utilisent une définition de Type de Document (DTD) au lieu d’une définition de schéma XML ou qui utilisent des analyseurs XML hérités qui ne peut pas créer des documents qui contiennent un espace de noms racine.</span><span class="sxs-lookup"><span data-stu-id="db419-108">The components are also useful when integrating legacy systems that use a Document Type Definition (DTD) instead of an XML Schema definition or that use legacy XML parsers that cannot create documents that contain a root namespace.</span></span>  
  
## <a name="installation"></a><span data-ttu-id="db419-109">Installation</span><span class="sxs-lookup"><span data-stu-id="db419-109">Installation</span></span>  
 <span data-ttu-id="db419-110">L’installation du noyau ESB installe automatiquement le **ajouter le Namespace** et **supprimer le Namespace** composants dans le dossier composants de Pipeline BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="db419-110">Installing the ESB Core automatically installs the **Add Namespace** and **Remove Namespace** components in the BizTalk Server Pipeline Components folder.</span></span>  
  
## <a name="how-it-works"></a><span data-ttu-id="db419-111">Fonctionnement</span><span class="sxs-lookup"><span data-stu-id="db419-111">How It Works</span></span>  
 <span data-ttu-id="db419-112">Le composant d’ajouter le Namespace ajoute un espace de noms spécifié dans un document XML.</span><span class="sxs-lookup"><span data-stu-id="db419-112">The Add Namespace component adds a specified namespace to an XML document.</span></span> <span data-ttu-id="db419-113">Le composant peut ajouter uniquement un espace de noms à un document.</span><span class="sxs-lookup"><span data-stu-id="db419-113">The component can add only a single namespace to a document.</span></span> <span data-ttu-id="db419-114">À l’aide du composant d’ajouter le Namespace sur un document qui a déjà un espace de noms du nœud racine n’est pas un scénario pris en charge, car un espace de noms unique est tout ce qui est requis.</span><span class="sxs-lookup"><span data-stu-id="db419-114">Using the Add Namespace component on a document that already has a root node namespace is not a supported scenario because a single unique namespace is all that is required.</span></span>  
  
 <span data-ttu-id="db419-115">Les composants ne sont pas les espaces de noms et ne sont pas conservent à une des valeurs de l’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="db419-115">The components are not namespace-aware and do not persist any of the namespace values.</span></span> <span data-ttu-id="db419-116">Toutefois, le composant d’ajouter le Namespace compare l’espace de noms demandé dans l’espace de noms existant du message et retourne simplement le message d’origine au pipeline si elles correspondent.</span><span class="sxs-lookup"><span data-stu-id="db419-116">However, the Add Namespace component compares the requested namespace in the existing namespace of the message and simply returns the original message to the pipeline if they match.</span></span>  
  
 <span data-ttu-id="db419-117">Les développeurs incluent le composant Namespace d’ajouter dans un pipeline de réception ou d’un pipeline d’envoi et définissez les propriétés appropriées.</span><span class="sxs-lookup"><span data-stu-id="db419-117">Developers include the Add Namespace component in a receive pipeline or a send pipeline and set the appropriate properties.</span></span> <span data-ttu-id="db419-118">La validation suivante est effectuée au moment de l’exécution :</span><span class="sxs-lookup"><span data-stu-id="db419-118">The following validation is performed at run time:</span></span>  
  
-   <span data-ttu-id="db419-119">Le **XPaths** propriété ou le **NamespaceBase** propriété doit contenir une valeur.</span><span class="sxs-lookup"><span data-stu-id="db419-119">The **XPaths** property or the **NamespaceBase** property must contain a value.</span></span>  
  
-   <span data-ttu-id="db419-120">Le **séparateur** propriété peut contenir uniquement des caractères valides (telles que  **/**  ou  **\\** ) ou une chaîne vide.</span><span class="sxs-lookup"><span data-stu-id="db419-120">The **Separator** property can contain only valid characters (such as **/** or **\\**) or an empty string.</span></span>  
  
-   <span data-ttu-id="db419-121">Le **NamespacePrefix** valeur de propriété ne peut pas être une des valeurs réservées (**ns0** à **ns6**) et doivent être alphanumériques.</span><span class="sxs-lookup"><span data-stu-id="db419-121">The **NamespacePrefix** property value cannot be one of the reserved values (**ns0** to **ns6**) and must be alpha numeric.</span></span>  
  
 <span data-ttu-id="db419-122">Toute variation de ces règles entraîne le composant lève une exception au moment de l’exécution, de suspendre le message (marqué comme **suspendu : peut être repris**) et d’écrire une entrée de journal des événements Windows.</span><span class="sxs-lookup"><span data-stu-id="db419-122">Any variation from these rules causes the component to throw an exception at run time, suspend the message (marked as **Suspended – Resumable**), and write an entry in Windows Application Event Log.</span></span>  
  
 <span data-ttu-id="db419-123">Le composant de supprimer le Namespace supprime tous les espaces de noms racine à partir d’un document XML.</span><span class="sxs-lookup"><span data-stu-id="db419-123">The Remove Namespace component removes all root namespaces from an XML document.</span></span> <span data-ttu-id="db419-124">Le nombre d’espaces de noms que le composant peut supprimer d’un document unique est limité par la mémoire physique disponible pour contenir le nœud actuel au cours du traitement.</span><span class="sxs-lookup"><span data-stu-id="db419-124">The number of namespaces that the component can remove from a single document is constrained by the physical memory available to hold the current node during processing.</span></span> <span data-ttu-id="db419-125">Toutefois, le composant utilise le message de pipeline BizTalk Server 2009 standard des processus de diffusion en continu et charge uniquement le nœud actuel dans le document en mémoire au lieu de charger l’intégralité du document.</span><span class="sxs-lookup"><span data-stu-id="db419-125">However, the component uses standard BizTalk Server 2009 pipeline message streaming processes and loads only the current node in the document into memory instead of loading the entire document.</span></span>  
  
 <span data-ttu-id="db419-126">Le composant Namespace de supprimer également code à nouveau le document à l’encodage spécifié (**ascii, unicode/utf16,** ou **utf8**) et peuvent la supprimer la marque d’ordre d’octet (BOM) à partir du début du flux de données, si Obligatoire.</span><span class="sxs-lookup"><span data-stu-id="db419-126">The Remove Namespace component also re-encodes the document to the specified encoding (**ascii, unicode/utf16,** or **utf8**) and can remove the Byte Order Mark (BOM) from the beginning of the stream, if required.</span></span>  
  
## <a name="using-the-add-namespace-and-remove-namespace-components"></a><span data-ttu-id="db419-127">À l’aide de l’ajouter Namespace et supprimer des composants de Namespace</span><span class="sxs-lookup"><span data-stu-id="db419-127">Using the Add Namespace and Remove Namespace Components</span></span>  
 <span data-ttu-id="db419-128">Les développeurs peuvent utiliser le composant de Namespace d’ajouter dans les circonstances suivantes :</span><span class="sxs-lookup"><span data-stu-id="db419-128">Developers might use the Add Namespace component in any of the following circumstances:</span></span>  
  
-   <span data-ttu-id="db419-129">Le message entrant n’a aucun espace de noms racine.</span><span class="sxs-lookup"><span data-stu-id="db419-129">The inbound message has no root namespace.</span></span>  
  
-   <span data-ttu-id="db419-130">Le message entrant utilise des données de l’élément ou attribut pour décrire le type de message.</span><span class="sxs-lookup"><span data-stu-id="db419-130">The inbound message uses element data or attribute data to describe the message type.</span></span>  
  
-   <span data-ttu-id="db419-131">Les données qui décrit le type de message sont cohérentes et disponible à l’aide de requêtes XPath.</span><span class="sxs-lookup"><span data-stu-id="db419-131">The data describing the message type is consistent and available using XPath queries.</span></span>  
  
 <span data-ttu-id="db419-132">Les composants Namespace d’ajouter et supprimer les Namespace peuvent résider dans n’importe quelle étape d’un pipeline de réception ou d’un pipeline d’envoi.</span><span class="sxs-lookup"><span data-stu-id="db419-132">The Add Namespace and Remove Namespace components can reside in any stage of a receive pipeline or a send pipeline.</span></span> <span data-ttu-id="db419-133">Vous pouvez chaîner les instances du composant si nécessaire, comme si vous utilisez le composant de supprimer le Namespace suivi par le composant d’ajouter le Namespace pour modifier l’espace de noms racine d’un document.</span><span class="sxs-lookup"><span data-stu-id="db419-133">You can chain instances of the component if required, such as if you are using the Remove Namespace component followed by the Add Namespace component to change the root namespace of a document.</span></span>  
  
 <span data-ttu-id="db419-134">Si vous disposez de plusieurs emplacements de réception qui nécessitent l’utilisation de ces composants, vous pouvez créer un pipeline unique et utiliser le serveur BizTalk « par l’instance » configuration des composants pour définir les propriétés du composant pour chaque instance de l’envoi ou de pipeline de réception.</span><span class="sxs-lookup"><span data-stu-id="db419-134">If you have multiple receive locations that require the use of these components, you can create a single pipeline and use the BizTalk Server "per instance" component configuration to set the component properties for each instance of the send or receive pipeline.</span></span> <span data-ttu-id="db419-135">À l’aide de BizTalk Server 2009, vous pouvez définir des propriétés sur une base par instance pour les pipelines, ce qui signifie que vous pouvez réutiliser un pipeline unique entre plusieurs emplacements de réception et peut-être les propriétés du composant différent pour chaque instance.</span><span class="sxs-lookup"><span data-stu-id="db419-135">Using BizTalk Server 2009, you can set properties on a per-instance basis for pipelines, which means that you can reuse a single pipeline across multiple receive locations and perhaps have different component properties for each instance.</span></span> <span data-ttu-id="db419-136">Il s’agit d’un paramètre d’exécution qui permet aux administrateurs d’effectuer la modification à l’aide de la Console Administration de BizTalk Server sans nécessiter de modifications à du code ou de redéploiement.</span><span class="sxs-lookup"><span data-stu-id="db419-136">This is a run-time setting that allows administrators to make the change using the BizTalk Server Administration Console without requiring changes to the code or redeployment.</span></span>  
  
## <a name="component-properties"></a><span data-ttu-id="db419-137">Propriétés du composant</span><span class="sxs-lookup"><span data-stu-id="db419-137">Component Properties</span></span>  
 <span data-ttu-id="db419-138">Le composant d’ajouter le Namespace expose les cinq propriétés publiques :</span><span class="sxs-lookup"><span data-stu-id="db419-138">The Add Namespace component exposes five public properties:</span></span>  
  
-   <span data-ttu-id="db419-139">**NamespacePrefix**.</span><span class="sxs-lookup"><span data-stu-id="db419-139">**NamespacePrefix**.</span></span> <span data-ttu-id="db419-140">Ceci est le préfixe de l’espace de noms, inséré entre le **xmlns :** partie et égal suivant signe (=).</span><span class="sxs-lookup"><span data-stu-id="db419-140">This is the prefix of the namespace, inserted between the **xmlns:** part and the following equals sign ( = ).</span></span> <span data-ttu-id="db419-141">Pour éviter les conflits avec des préfixes d’espace de noms de BizTalk schéma standards, évitez d’utiliser les valeurs **ns0** via **ns9**.</span><span class="sxs-lookup"><span data-stu-id="db419-141">To avoid conflicts with standard BizTalk Schema namespace prefixes, avoid using the values **ns0** through **ns9**.</span></span>  
  
-   <span data-ttu-id="db419-142">**NamespaceBase**.</span><span class="sxs-lookup"><span data-stu-id="db419-142">**NamespaceBase**.</span></span> <span data-ttu-id="db419-143">Voici la section statique de l’espace de noms fait précéder le résultat généré par les valeurs de la **séparateur** et **XPaths** propriétés.</span><span class="sxs-lookup"><span data-stu-id="db419-143">This is the static section of the namespace that will prefix the result generated by the values in the **Separator** and **XPaths** properties.</span></span>  
  
-   <span data-ttu-id="db419-144">**ExtractionNodeXPath**.</span><span class="sxs-lookup"><span data-stu-id="db419-144">**ExtractionNodeXPath**.</span></span> <span data-ttu-id="db419-145">Il s’agit d’une instruction XPath qui se résout en un seul élément dans le document qui contient les valeurs d’élément ou d’attribut à utiliser pour les parties de l’espace de noms générés.</span><span class="sxs-lookup"><span data-stu-id="db419-145">This is an XPath statement that resolves to a single element in the document that contains the element or attribute values you want to use for the generated parts of the namespace.</span></span>  
  
-   <span data-ttu-id="db419-146">**XPath**.</span><span class="sxs-lookup"><span data-stu-id="db419-146">**XPaths**.</span></span> <span data-ttu-id="db419-147">Il s’agit d’une barre verticale (**&#124;** ) liste délimitée de requêtes XPath utilisées pour extraire les composants qui associent pour former l’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="db419-147">This is a pipe (**&#124;** ) delimited list of XPath queries used to extract each of the components that will combine to form the namespace.</span></span>  
  
-   <span data-ttu-id="db419-148">**Séparateur**.</span><span class="sxs-lookup"><span data-stu-id="db419-148">**Separator**.</span></span> <span data-ttu-id="db419-149">Il s’agit de séparateur à utiliser entre les segments de l’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="db419-149">This is the separator to use between the namespace segments.</span></span> <span data-ttu-id="db419-150">La valeur la plus courante est une barre oblique ( **/**  ), mais elle peut être une chaîne vide, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="db419-150">The most common value is a forward slash (**/** ), but it can be an empty string, if required.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="db419-151">Tous les nœuds XML, tels que les noms d’élément et d’attribut, respectent la casse.</span><span class="sxs-lookup"><span data-stu-id="db419-151">All XML nodes, such as element and attribute names, are case sensitive.</span></span>  
  
 <span data-ttu-id="db419-152">Le composant de supprimer le Namespace expose deux propriétés publiques :</span><span class="sxs-lookup"><span data-stu-id="db419-152">The Remove Namespace component exposes two public properties:</span></span>  
  
-   <span data-ttu-id="db419-153">**Encodage**.</span><span class="sxs-lookup"><span data-stu-id="db419-153">**Encoding**.</span></span> <span data-ttu-id="db419-154">Il s’agit le codage du message de sortie, une des valeurs suivantes : **ascii, unicode/utf16,** ou **utf8**.</span><span class="sxs-lookup"><span data-stu-id="db419-154">This is the encoding for the output message, one of the following values: **ascii, unicode/utf16,** or **utf8**.</span></span>  
  
-   <span data-ttu-id="db419-155">**RemoveByteOrderMark**.</span><span class="sxs-lookup"><span data-stu-id="db419-155">**RemoveByteOrderMark**.</span></span> <span data-ttu-id="db419-156">Il s’agit d’une propriété booléenne qui indique si le composant doit supprimer la marque d’ordre (généralement **0xEFBB, 0xBFFFFE,** ou **0xFEFF**) à partir du début du flux de document XML.</span><span class="sxs-lookup"><span data-stu-id="db419-156">This is a Boolean property that indicates whether the component should remove the byte order mark (usually **0xEFBB, 0xBFFFFE,** or **0xFEFF**) from the beginning of the XML document stream.</span></span>  
  
 <span data-ttu-id="db419-157">Pour obtenir un exemple d’utilisation de ces composants, consultez [installer et exécuter l’exemple de composant Namespace](../esb-toolkit/installing-and-running-the-namespace-component-sample.md).</span><span class="sxs-lookup"><span data-stu-id="db419-157">For an example of how to use these components, see [Installing and Running the Namespace Component Sample](../esb-toolkit/installing-and-running-the-namespace-component-sample.md).</span></span>