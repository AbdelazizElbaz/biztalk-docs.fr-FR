---
title: "Le routage basé sur la feuille de route | Documents Microsoft"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 28028721-798c-4302-a532-d863ed8ea88b
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1fbfe8877202a2f691bd30fd2b56fc3032240ee9
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/20/2017
---
# <a name="itinerary-based-routing"></a><span data-ttu-id="241f5-102">Le routage basé sur la feuille de route</span><span class="sxs-lookup"><span data-stu-id="241f5-102">Itinerary-Based Routing</span></span>
<span data-ttu-id="241f5-103">Une des fonctionnalités principales de la [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] est la fourniture de routage basé sur un itinéraire qui simplifie le développement d’applications de messagerie au niveau de l’entreprise et réduit les coûts de maintenance d’un grand nombre de statique des ports d’envoi et emplacements de réception.</span><span class="sxs-lookup"><span data-stu-id="241f5-103">One of the core features of the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] is the provision of itinerary-based routing that simplifies the development of enterprise-level messaging applications and reduces the costs of maintaining a large number of static send ports and receive locations.</span></span>  
  
 <span data-ttu-id="241f5-104">Un itinéraire se compose de la liste des services à exécuter (ce qui peut contenir le routage, de transformation et de services personnalisés) et les informations de configuration requises pour résoudre les métadonnées nécessaires pour l’exécution de chacun de ces services.</span><span class="sxs-lookup"><span data-stu-id="241f5-104">An itinerary consists of the list of services to execute (which can contain routing, transformation, and custom services) and the configuration information required to resolve the metadata necessary to execute each of these services.</span></span> <span data-ttu-id="241f5-105">Par exemple, une étape de l’itinéraire peut être un service de routage ; les instructions de résolution associées à ce service peuvent demander au service d’effectuer une recherche de Universal Description, Discovery et Integration (UDDI) ou du moteur de règles d’entreprise (BRE) pour plus d’informations sur un point de terminaison cible spécifique à laquelle il achemine le message.</span><span class="sxs-lookup"><span data-stu-id="241f5-105">For example, one stage of the itinerary may be a routing service; the resolution instructions associated with this service may instruct the service to perform a Universal Description, Discovery, and Integration (UDDI) or Business Rules Engine (BRE) lookup for information about a specific target endpoint to which it will route the message.</span></span>  
  
 <span data-ttu-id="241f5-106">Itinéraires peuvent être associés à un message entrant comme suit :</span><span class="sxs-lookup"><span data-stu-id="241f5-106">Itineraries can be attached to an inbound message in the following ways:</span></span>  
  
-   <span data-ttu-id="241f5-107">Le message envoyé par un client ne contient pas toutes les données relatives à l’itinéraire.</span><span class="sxs-lookup"><span data-stu-id="241f5-107">The message submitted by a client does not contain any itinerary-related data.</span></span> <span data-ttu-id="241f5-108">Le pipeline de réception est résolue, récupère et attache l’itinéraire approprié basé sur le contenu du message ou le contexte.</span><span class="sxs-lookup"><span data-stu-id="241f5-108">The receiving pipeline resolves, retrieves, and attaches the appropriate itinerary based on message content or context.</span></span>  
  
-   <span data-ttu-id="241f5-109">Le message envoyé par un client peut contenir un en-tête SOAP qui définit les données de référence d’itinéraire, qui contient le nom d’itinéraire et de version, ainsi que d’un identificateur unique pour le suivi de l’analyse BAM (Business Activity).</span><span class="sxs-lookup"><span data-stu-id="241f5-109">The message submitted by a client can contain a SOAP header that defines the itinerary reference data, which contains the itinerary name and version, as well as a unique identifier for Business Activity Monitoring (BAM) tracking.</span></span> <span data-ttu-id="241f5-110">Le pipeline de réception évalue ces informations et récupère l’itinéraire approprié à partir de la base de données ESBItineraryDb.</span><span class="sxs-lookup"><span data-stu-id="241f5-110">The receiving pipeline evaluates this information and retrieves the appropriate itinerary from the ESBItineraryDb database.</span></span>  
  
-   <span data-ttu-id="241f5-111">Le message envoyé par un client peut avoir un en-tête SOAP d’itinéraire, qui contient l’ensemble du contenu de l’itinéraire.</span><span class="sxs-lookup"><span data-stu-id="241f5-111">The message submitted by a client can have an itinerary SOAP header, which contains the entire content of the itinerary.</span></span> <span data-ttu-id="241f5-112">Cette conception n’est pas recommandée et doit être utilisée uniquement pour des tests.</span><span class="sxs-lookup"><span data-stu-id="241f5-112">This design is not recommended and should be used only for testing purposes.</span></span>  
  
 <span data-ttu-id="241f5-113">Une fois un itinéraire est résolu pour un message entrant, le pipeline de réception promeut les données d’itinéraire pour le contexte du message, rendant ainsi les propriétés disponibles pour être accessible par n’importe quel composant de Microsoft BizTalk Server qui s’abonne à ce message.</span><span class="sxs-lookup"><span data-stu-id="241f5-113">After an itinerary is resolved for an inbound message, the receive pipeline promotes the itinerary data to the message context, thereby making the properties available to be accessed by any Microsoft BizTalk Server component that subscribes to this message.</span></span> <span data-ttu-id="241f5-114">Composants de BizTalk Server peuvent obtenir des détails de l’étape de l’itinéraire, termine le traitement requis et/ou avancer l’itinéraire à l’étape suivante.</span><span class="sxs-lookup"><span data-stu-id="241f5-114">BizTalk Server components can obtain details of the current itinerary step, complete the required processing, and/or advance the itinerary to the next step.</span></span> <span data-ttu-id="241f5-115">Cela entraîne le service suivant dans la feuille de route pour traiter le message, en fonction de la publication-abonnement des fonctionnalités de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="241f5-115">This causes the next service in the itinerary to process the message, according to the publish-subscribe functionality of BizTalk Server.</span></span>  
  
 <span data-ttu-id="241f5-116">Pour plus d’informations sur le mécanisme de résolution dynamique ESB, transformations, le traitement d’itinéraire et la création du message, consultez [principaux scénarios et tâches de développement](../esb-toolkit/key-scenarios-and-development-tasks.md).</span><span class="sxs-lookup"><span data-stu-id="241f5-116">For information about the ESB dynamic resolution mechanism, transformations, itinerary processing, and message creation, see [Key Scenarios and Development Tasks](../esb-toolkit/key-scenarios-and-development-tasks.md).</span></span>