---
title: "Les étapes à la configuration pour optimiser votre environnement | Documents Microsoft"
description: "Tâches à effectuer après l’installation et configuration de BizTalk Server, y compris configurer les travaux de l’Agent SQL, d’installer des schémas EDI, de créer des ordinateurs hôtes et les instances d’hôte et bien plus encore dans BizTalk Server"
ms.custom: 
ms.prod: biztalk-server
ms.date: 09/27/2017
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: d0fef6ea-e7cc-4ea9-936d-5d638bc43feb
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 80c5f4b69e8204c89ebb3dd74252e85e815b1867
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2017
---
# <a name="post-configuration-steps-to-optimize-your-environment"></a><span data-ttu-id="33ce6-103">Étapes d’optimisation de l’environnement après configuration</span><span class="sxs-lookup"><span data-stu-id="33ce6-103">Post-configuration steps to optimize your environment</span></span>
<span data-ttu-id="33ce6-104">Étapes de post-configuration visant à améliorer les performances, effectuer la maintenance de l’environnement BizTalk et installer les schémas EDI.</span><span class="sxs-lookup"><span data-stu-id="33ce6-104">Post-configuration steps to help improve performance, maintain your BizTalk environment, and install the EDI schemas.</span></span>

## <a name="disable-shared-memory-protocol-in-sql-server"></a><span data-ttu-id="33ce6-105">Désactivation du protocole de mémoire partagée dans SQL Server</span><span class="sxs-lookup"><span data-stu-id="33ce6-105">Disable Shared Memory protocol in SQL Server</span></span>

1. <span data-ttu-id="33ce6-106">Ouvrez le **Gestionnaire de configuration SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-106">Open **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="33ce6-107">Développez **Configuration du réseau SQL Server** et sélectionnez **Protocoles pour MSSQLSERVER**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-107">Expand **SQL Server Network Configuration**, and select **Protocols for MSSQLSERVER**.</span></span>
3. <span data-ttu-id="33ce6-108">Cliquez avec le bouton droit sur **Mémoire partagée** et sélectionnez **Désactiver**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-108">Right-click **Shared Memory**, and select **Disable**.</span></span>
4. <span data-ttu-id="33ce6-109">Sélectionnez **Services SQL Server**, puis cliquez avec le bouton droit sur **SQL Server (MSSQLSERVER)** et sélectionnez **Redémarrer**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-109">Select **SQL Server Services**, right-click **SQL Server (MSSQLServer)**, and select **Restart**.</span></span>
5. <span data-ttu-id="33ce6-110">Fermez le **Gestionnaire de configuration SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-110">Close **SQL Server Configuration Manager**.</span></span>

## <a name="configure-the-sql-agent-jobs"></a><span data-ttu-id="33ce6-111">Configuration des travaux de l’Agent SQL</span><span class="sxs-lookup"><span data-stu-id="33ce6-111">Configure the SQL Agent jobs</span></span>

1. <span data-ttu-id="33ce6-112">Démarrez **SQL Server Management Studio** et connectez-vous au **moteur de base de données**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-112">**SQL Server Management Studio**, and connect to **Database Engine**.</span></span>
2. <span data-ttu-id="33ce6-113">Développez **Agent SQL Server**, puis **Travaux**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-113">Expand **SQL Server Agent**, and expand **Jobs**.</span></span> <span data-ttu-id="33ce6-114">Configurez les travaux suivants :</span><span class="sxs-lookup"><span data-stu-id="33ce6-114">Configure the following jobs:</span></span>  

    <span data-ttu-id="33ce6-115">Nom du travail</span><span class="sxs-lookup"><span data-stu-id="33ce6-115">Job Name</span></span>  |<span data-ttu-id="33ce6-116">Description</span><span class="sxs-lookup"><span data-stu-id="33ce6-116">Description</span></span>  |<span data-ttu-id="33ce6-117">Pourquoi vous en avez besoin</span><span class="sxs-lookup"><span data-stu-id="33ce6-117">Why you need it</span></span>  
    ---------|---------|---------
    <span data-ttu-id="33ce6-118">Sauvegarde de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="33ce6-118">Backup BizTalk Server</span></span> | <span data-ttu-id="33ce6-119">Sauvegarde les bases de données et les fichiers journaux de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="33ce6-119">Backs up the BizTalk Server databases and the log files.</span></span> <span data-ttu-id="33ce6-120">Dans le cadre de la configuration de ce travail, vous déterminez divers paramètres tels que la fréquence et l’emplacement de fichier.</span><span class="sxs-lookup"><span data-stu-id="33ce6-120">When configuring the job, you determine parameters like frequency and file location.</span></span><br/><br/><span data-ttu-id="33ce6-121">Les liens suivants décrivent le travail de l’Agent SQL et ses paramètres :</span><span class="sxs-lookup"><span data-stu-id="33ce6-121">The following links describe the SQL Agent job and its parameters:</span></span><br/><br/>[<span data-ttu-id="33ce6-122">Sauvegarde et restauration des bases de données BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="33ce6-122">Backing Up and Restoring BizTalk Server Databases</span></span>](../core/backing-up-and-restoring-biztalk-server-databases.md)<br/>[<span data-ttu-id="33ce6-123">Configuration du travail de sauvegarde de BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="33ce6-123">How to Configure the Backup BizTalk Server Job</span></span>](../core/how-to-configure-the-backup-biztalk-server-job.md)|<span data-ttu-id="33ce6-124">Ce travail de l’Agent SQL tronque par ailleurs les journaux des transactions, ce qui permet d’améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="33ce6-124">This SQL Agent job also truncates the transaction logs, which helps improve performance.</span></span><br/><br/><span data-ttu-id="33ce6-125">Ce travail ne supprime pas les fichiers de sauvegarde, même les fichiers plus anciens.</span><span class="sxs-lookup"><span data-stu-id="33ce6-125">This job does not remove or delete backup files, including older files.</span></span> <span data-ttu-id="33ce6-126">Pour supprimer les fichiers de sauvegarde, consultez la rubrique Échec du travail « Sauvegarde de BizTalk Server » suite à l’accumulation de fichiers sur le serveur de base de données Microsoft BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="33ce6-126">To delete backup files, refer to The "Backup BizTalk Server" job fails when backup files accumulate over time in the Microsoft BizTalk Server database server.</span></span>
    <span data-ttu-id="33ce6-127">Purge et archivage DTA</span><span class="sxs-lookup"><span data-stu-id="33ce6-127">DTA Purge and Archive</span></span> |<span data-ttu-id="33ce6-128">Tronque et archive la base de données des suivis BizTalk Server (BizTalkDTADb).</span><span class="sxs-lookup"><span data-stu-id="33ce6-128">Truncates and archives the BizTalk Server Tracking database (BizTalkDTADb).</span></span> <span data-ttu-id="33ce6-129">Dans le cadre de la configuration du travail, vous déterminez les paramètres tels que le délai de conservation des instances terminées et de toutes les données.</span><span class="sxs-lookup"><span data-stu-id="33ce6-129">When configuring the job, you determine parameters like how many days to keep completed instances and how many to days to keep all data.</span></span><br/><br/><span data-ttu-id="33ce6-130">Les liens suivants décrivent le travail de l’Agent SQL et ses paramètres :</span><span class="sxs-lookup"><span data-stu-id="33ce6-130">The following links describe the SQL Agent job and its parameters:</span></span> <br/><br/>[<span data-ttu-id="33ce6-131">Archivage et purge de la base de données de suivi BizTalk</span><span class="sxs-lookup"><span data-stu-id="33ce6-131">Archiving and Purging the BizTalk Tracking Database</span></span>](../core/archiving-and-purging-the-biztalk-tracking-database.md)<br/>[<span data-ttu-id="33ce6-132">Configuration du travail de purge et d’archivage DTA</span><span class="sxs-lookup"><span data-stu-id="33ce6-132">How to Configure the DTA Purge and Archive Job</span></span>](../core/how-to-configure-the-dta-purge-and-archive-job.md)|<span data-ttu-id="33ce6-133">Ce travail de l’Agent SQL affecte directement les performances en conservant les événements de l’hôte de suivi et de purge du suivi.</span><span class="sxs-lookup"><span data-stu-id="33ce6-133">This SQL Agent job directly impacts performance by maintaining the Tracking host and purging tracking events.</span></span>

## <a name="maintain-your-backup-files"></a><span data-ttu-id="33ce6-134">Maintenance de vos fichiers de sauvegarde</span><span class="sxs-lookup"><span data-stu-id="33ce6-134">Maintain your backup files</span></span>

<span data-ttu-id="33ce6-135">BizTalk Server n’inclut aucune tâche pour supprimer les fichiers de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="33ce6-135">BizTalk Server does not include any job to delete backup files.</span></span> <span data-ttu-id="33ce6-136">Par conséquent, vous décidez seul de la façon dont vous effectuez la maintenance de vos fichiers de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="33ce6-136">As a result, how you maintain your backup files is up to you.</span></span> <span data-ttu-id="33ce6-137">De nombreux utilisateurs créent la procédure stockée sp_DeleteBackupHistoryAndFiles, puis appellent cette procédure stockée directement dans la tâche de sauvegarde de BizTalk Server.</span><span class="sxs-lookup"><span data-stu-id="33ce6-137">Many users create the sp_DeleteBackupHistoryAndFiles stored procedure, and then call this stored procedure directly in the Backup BizTalk Server job.</span></span> <span data-ttu-id="33ce6-138">D’autres créent un plan de maintenance.</span><span class="sxs-lookup"><span data-stu-id="33ce6-138">Some users create a maintenance plan.</span></span> <span data-ttu-id="33ce6-139">C'est vous qui choisissez.</span><span class="sxs-lookup"><span data-stu-id="33ce6-139">The choice is yours.</span></span> <span data-ttu-id="33ce6-140">Cette rubrique répertorie les deux options.</span><span class="sxs-lookup"><span data-stu-id="33ce6-140">This topic lists both options.</span></span>

#### <a name="option-1-create-the-spdeletebackuphistoryandfiles-stored-procedure"></a><span data-ttu-id="33ce6-141">Option 1 : Créer la procédure stockée sp_DeleteBackupHistoryAndFiles</span><span class="sxs-lookup"><span data-stu-id="33ce6-141">Option 1: Create the sp_DeleteBackupHistoryAndFiles stored procedure</span></span>

1. <span data-ttu-id="33ce6-142">Dans SQL Server Management Studio, sélectionnez la base de données de gestion BizTalk (BizTalkMgmtDb).</span><span class="sxs-lookup"><span data-stu-id="33ce6-142">In SQL Server Management Studio, select the BizTalk Management database (BizTalkMgmtDb).</span></span> 
2. <span data-ttu-id="33ce6-143">Sélectionnez **Nouvelle requête** et exécutez le script T-SQL suivant pour créer la procédure stockée sp_DeleteBackupHistoryAndFiles :</span><span class="sxs-lookup"><span data-stu-id="33ce6-143">Select **New Query**, and run the following T-SQL script to create the sp_DeleteBackupHistoryAndFiles stored procedure:</span></span> 

    ```
    CREATE PROCEDURE [dbo].[sp_DeleteBackupHistoryAndFiles] @DaysToKeep smallint = null
    AS

    BEGIN
    set nocount on
    IF @DaysToKeep IS NULL OR @DaysToKeep <= 1
    RETURN
    /*
    Only delete full sets
    If a set spans a day in such a way that some items fall into the deleted group and the other does not, do not delete the set
    */

    DECLARE DeleteBackupFiles CURSOR
    FOR SELECT 'del "' + [BackupFileLocation] + '\' + [BackupFileName] + '"' FROM [adm_BackupHistory]
    WHERE  datediff( dd, [BackupDateTime], getdate() ) >= @DaysToKeep
    AND [BackupSetId] NOT IN ( SELECT [BackupSetId] FROM [dbo].[adm_BackupHistory] [h2] WHERE [h2].[BackupSetId] = [BackupSetId] AND datediff( dd, [h2].[BackupDateTime], getdate() ) < @DaysToKeep )
 
    DECLARE @cmd varchar(400)
    OPEN DeleteBackupFiles
    FETCH NEXT FROM DeleteBackupFiles INTO @cmd
    WHILE (@@fetch_status <> -1)
    BEGIN
        IF (@@fetch_status <> -2)
        BEGIN
            EXEC master.dbo.xp_cmdshell @cmd, NO_OUTPUT
            delete from [adm_BackupHistory] WHERE CURRENT OF DeleteBackupFiles
            print @cmd
        END
        FETCH NEXT FROM DeleteBackupFiles INTO @cmd
    END

    CLOSE DeleteBackupFiles
    DEALLOCATE DeleteBackupFiles
    END
    GO
    ```

3. <span data-ttu-id="33ce6-144">Ouvrez le travail de sauvegarde de BizTalk Server et sélectionnez **Étapes**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-144">Open the Backup BizTalk Server job, and select **Steps**.</span></span>
4. <span data-ttu-id="33ce6-145">Modifiez l’étape **Effacer l’historique de sauvegarde** afin d’appeler la nouvelle procédure stockée *sp_DeleteBackupHistoryAndFiles* à la place de la procédure stockée *sp_DeleteBackupHistory* précédente.</span><span class="sxs-lookup"><span data-stu-id="33ce6-145">Edit the **Clear Backup History** step so that it calls the new *sp_DeleteBackupHistoryAndFiles* stored procedure instead of the previous *sp_DeleteBackupHistory* stored procedure.</span></span>
5. <span data-ttu-id="33ce6-146">Sélectionnez **OK** pour enregistrer vos modifications.</span><span class="sxs-lookup"><span data-stu-id="33ce6-146">Select **OK** to save your changes.</span></span>

#### <a name="option-2-create-a-maintenance-plan"></a><span data-ttu-id="33ce6-147">Option 2 : Créer un plan de maintenance</span><span class="sxs-lookup"><span data-stu-id="33ce6-147">Option 2: Create a maintenance plan</span></span>

1. <span data-ttu-id="33ce6-148">Dans SQL Server Management Studio, développez **Gestion**, cliquez avec le bouton droit sur **Plans de maintenance** et sélectionnez **Assistant Plan de maintenance**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-148">In SQL Server Management Studio, expand **Management**, right-click **Maintenance Plans**, and select **Maintenance Plan Wizard**.</span></span>
2. <span data-ttu-id="33ce6-149">Nommez le plan (par exemple, nommez-le *Vider les fichiers de sauvegarde*), puis sélectionnez le bouton **Modifier** situé à côté de **Planification**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-149">Name the plan (for example, name it *Purge Backup Files*), and then select the **Change** button next to **Schedule**.</span></span>
3. <span data-ttu-id="33ce6-150">Choisissez la fréquence à laquelle vous souhaitez vider les fichiers de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="33ce6-150">Choose how frequently you want to purge the backup files.</span></span> <span data-ttu-id="33ce6-151">Ces paramètres sont à votre entière discrétion.</span><span class="sxs-lookup"><span data-stu-id="33ce6-151">These settings are completely up to you.</span></span> <span data-ttu-id="33ce6-152">Sélectionnez **OK**, puis sélectionnez **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-152">Select **OK**, and then select **Next**.</span></span>
4. <span data-ttu-id="33ce6-153">Sélectionnez **Tâche de nettoyage de maintenance**, puis **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-153">Select **Maintenance Cleanup Task**, and select **Next**.</span></span>
5. <span data-ttu-id="33ce6-154">Dans la fenêtre **Tâche de nettoyage**, accédez à **Rechercher dans le dossier et supprimer les fichiers...**, sélectionnez votre dossier de sauvegarde (peut-être f:\BizTalkBackUps) et entrez **.bak** pour l’extension de fichier.</span><span class="sxs-lookup"><span data-stu-id="33ce6-154">In the **Cleanup Task** window, go to **Search folder and delete files...**, select your backup Folder (maybe f:\BizTalkBackUps), and enter **.bak** for the File extension.</span></span> <span data-ttu-id="33ce6-155">Vous pouvez également choisir de supprimer les fichiers en fonction de leur ancienneté.</span><span class="sxs-lookup"><span data-stu-id="33ce6-155">You can also choose to delete files based on their age.</span></span> <span data-ttu-id="33ce6-156">Par exemple, entrez 3 pour supprimer les fichiers antérieurs à 3 semaines.</span><span class="sxs-lookup"><span data-stu-id="33ce6-156">For example, enter 3 if you want to delete files that are older than 3 weeks.</span></span> <span data-ttu-id="33ce6-157">Sélectionnez **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-157">Select **Next**.</span></span>
6. <span data-ttu-id="33ce6-158">Terminez l’Assistant et entrez toutes les informations supplémentaires que vous souhaitez.</span><span class="sxs-lookup"><span data-stu-id="33ce6-158">Finish going through the wizard and enter any additional information you want.</span></span> <span data-ttu-id="33ce6-159">Sélectionnez **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-159">Select **Finish**.</span></span>

  
## <a name="install-edi-schemas-and-more-edi-as2-configuration"></a><span data-ttu-id="33ce6-160">Installation des schémas EDI et d’autres configurations EDI AS2</span><span class="sxs-lookup"><span data-stu-id="33ce6-160">Install EDI schemas and more EDI AS2 configuration</span></span>
 <span data-ttu-id="33ce6-161">Les fichiers de schéma EANCOM, EDIFACT, HIPAA et X12 sont inclus dans un fichier exécutable à extraction automatique nommé MicrosoftEdiXSDTemplates.exe.</span><span class="sxs-lookup"><span data-stu-id="33ce6-161">The EANCOM, EDIFACT, HIPAA, and X12 schema files are included in a self-extracting executable file named  MicrosoftEdiXSDTemplates.exe.</span></span> <span data-ttu-id="33ce6-162">Pour créer des solutions EDI, extrayez ces fichiers et déployez-les avec vos projets.</span><span class="sxs-lookup"><span data-stu-id="33ce6-162">To create EDI solutions, extract these files, and deploy with your projects.</span></span> <span data-ttu-id="33ce6-163">Pour installer et extraire ces fichiers :</span><span class="sxs-lookup"><span data-stu-id="33ce6-163">To install and extract these files:</span></span>  
  
1.  <span data-ttu-id="33ce6-164">Exécutez l’installation [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] et installez le composant **Outils et kit de développement**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-164">Run the [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] installation, and install the **Developer Tools and SDK** component.</span></span> <span data-ttu-id="33ce6-165">Ce composant télécharge le fichier de schéma EDI MicrosoftEdiXSDTemplates.exe dans le dossier \XSD_Schema\EDI.</span><span class="sxs-lookup"><span data-stu-id="33ce6-165">This component  downloads the MicrosoftEdiXSDTemplates.exe EDI schema file to the \XSD_Schema\EDI folder.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="33ce6-166">Si vous procédez à une mise à niveau de [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)], le fichier MicrosoftEdiXSDTemplates.exe de l’installation existante est remplacé par le fichier MicrosoftEdiXSDTemplates.exe associé à la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="33ce6-166">If you upgrade [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)], the MicrosoftEdiXSDTemplates.exe file in your installation is replaced with the new MicrosoftEdiXSDTemplates.exe file associated with the upgrade.</span></span> <span data-ttu-id="33ce6-167">Si vous avez besoin des schémas précédents, sauvegardez le fichier MicrosoftEdiXSDTemplates.exe précédent.</span><span class="sxs-lookup"><span data-stu-id="33ce6-167">If you need the previous the schemas, then back up the previous MicrosoftEdiXSDTemplates.exe file.</span></span>  
  
    > [!NOTE] 
    > <span data-ttu-id="33ce6-168">Si vous mettez à niveau les schémas de message lors de la mise à niveau de [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] vers une version ultérieure, vous rencontrerez peut-être des problèmes lors de l’utilisation des schémas mis à jour ou devrez effectuer des étapes de mise à jour supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="33ce6-168">If you upgrade message schemas when you upgrade [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] to a later build, you may encounter issues using the updated schemas, or you may have to perform additional updating steps.</span></span> <span data-ttu-id="33ce6-169">Consultez la section « Considérations de mise à jour des schémas » dans [Considérations importantes relatives à la mise à jour d’applications](../core/important-considerations-for-updating-applications.md)</span><span class="sxs-lookup"><span data-stu-id="33ce6-169">See the "Considerations for updating schemas" section in [Important Considerations for Updating Applications](../core/important-considerations-for-updating-applications.md)</span></span>
  
2.  <span data-ttu-id="33ce6-170">Accédez à [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI et double-cliquez sur MicrosoftEdiXSDTemplates.exe.</span><span class="sxs-lookup"><span data-stu-id="33ce6-170">Go  to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI, and double-click MicrosoftEdiXSDTemplates.exe.</span></span>  
  
3.  <span data-ttu-id="33ce6-171">Extrayez les schémas dans [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI.</span><span class="sxs-lookup"><span data-stu-id="33ce6-171">Extract the schemas to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI.</span></span> <span data-ttu-id="33ce6-172">Lorsque vous extrayez ces schémas, ils sont stockés dans les dossiers EANCOM, EDIFACT, HIPAA et X12.</span><span class="sxs-lookup"><span data-stu-id="33ce6-172">When you extract the schemas, they are stored in EANCOM, EDIFACT, HIPAA, and X12 folders.</span></span>  
  
#### <a name="add-a-reference-to-the-biztalk-server-edi-application"></a><span data-ttu-id="33ce6-173">Ajout d’une référence à l’application EDI BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="33ce6-173">Add a reference to the BizTalk Server EDI application</span></span>  
 <span data-ttu-id="33ce6-174">Les schémas, pipelines et orchestrations EDI sont déployés dans l’**application EDI BizTalk**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-174">EDI schemas, pipelines, and orchestrations are deployed in the **BizTalk EDI Application**.</span></span> <span data-ttu-id="33ce6-175">Pour utiliser toute autre application comme application EDI, ajoutez une référence à l’**application EDI BizTalk**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-175">To use any other application as an EDI application, add a reference to the **BizTalk EDI Application**.</span></span> <span data-ttu-id="33ce6-176">Étapes :</span><span class="sxs-lookup"><span data-stu-id="33ce6-176">Steps:</span></span>  
  
1.  <span data-ttu-id="33ce6-177">Dans la console Administration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], développez **Applications**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-177">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, expand  **Applications**.</span></span> <span data-ttu-id="33ce6-178">Cliquez avec le bouton droit sur l’application que vous souhaitez utiliser pour EDI (tel que *BizTalk Application 1*), sélectionnez **Ajouter**, puis **Références**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-178">Right-click the application that you want to use for EDI (such as *BizTalk Application 1*), select **Add**, and then select **References**.</span></span>  
  
2.  <span data-ttu-id="33ce6-179">Sélectionnez **Application EDI BizTalk**, puis **OK** pour enregistrer vos modifications.</span><span class="sxs-lookup"><span data-stu-id="33ce6-179">Select **BizTalk EDI Application**, and select **OK** to save your changes.</span></span>  
  
> [!TIP]
>  <span data-ttu-id="33ce6-180">Pour afficher les références à d’autres applications, cliquez avec le bouton droit sur n’importe quelle application et sélectionnez **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-180">To see references to other applications, right-click any application, and select **Properties**.</span></span> <span data-ttu-id="33ce6-181">Sélectionnez **Références**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-181">Select **References**.</span></span> <span data-ttu-id="33ce6-182">Vous pouvez également ajouter de nouvelles références et supprimer des références existantes.</span><span class="sxs-lookup"><span data-stu-id="33ce6-182">You can also add new references, and remove existing references.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="33ce6-183">N’ajoutez pas d’artefacts personnalisés à l’application EDI BizTalk.</span><span class="sxs-lookup"><span data-stu-id="33ce6-183">Do not add custom artifacts to the BizTalk EDI Application.</span></span> <span data-ttu-id="33ce6-184">Il est préférable de laisser cette application telle qu’elle est.</span><span class="sxs-lookup"><span data-stu-id="33ce6-184">It's best to leave this application as-is.</span></span>  
  
#### <a name="start-batch-orchestrations"></a><span data-ttu-id="33ce6-185">Démarrage des orchestrations de traitement par lot</span><span class="sxs-lookup"><span data-stu-id="33ce6-185">Start batch orchestrations</span></span>  
 <span data-ttu-id="33ce6-186">Si vous permettez à un tiers de recevoir et/ou d’envoyer des lots EDI, démarrez les orchestrations de traitement par lot.</span><span class="sxs-lookup"><span data-stu-id="33ce6-186">If you enable a party to receive and/or send EDI batches, then start the batching orchestrations.</span></span> <span data-ttu-id="33ce6-187">Celles-ci ne sont pas démarrées par l'Assistant Installation ou Configuration.</span><span class="sxs-lookup"><span data-stu-id="33ce6-187">These orchestrations are not started by the installation wizard or the configuration wizard.</span></span> <span data-ttu-id="33ce6-188">Étapes :</span><span class="sxs-lookup"><span data-stu-id="33ce6-188">Steps:</span></span>  
  
1.  <span data-ttu-id="33ce6-189">Dans la console Administration de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], développez **Application EDI BizTalk**, puis sélectionnez**Orchestrations**.</span><span class="sxs-lookup"><span data-stu-id="33ce6-189">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, expand **BizTalk EDI Application**, and select**Orchestrations**.</span></span>  
  
2.  <span data-ttu-id="33ce6-190">Cliquez avec le bouton droit sur chacune des orchestrations suivantes et sélectionnez **Démarrer** :</span><span class="sxs-lookup"><span data-stu-id="33ce6-190">Right-click each of the following orchestrations, and select **Start**:</span></span>  
  
    -   <span data-ttu-id="33ce6-191">Microsoft.BizTalk.Edi.BatchSuspendOrchestration.BatchElementSuspendService (assembly : Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span><span class="sxs-lookup"><span data-stu-id="33ce6-191">Microsoft.BizTalk.Edi.BatchSuspendOrchestration.BatchElementSuspendService (assembly: Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span></span>  
  
    -   <span data-ttu-id="33ce6-192">Microsoft.BizTalk.Edi.BatchingOrchestration.BatchingService (assembly : Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span><span class="sxs-lookup"><span data-stu-id="33ce6-192">Microsoft.BizTalk.Edi.BatchingOrchestration.BatchingService (assembly: Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span></span>  
  
    -   <span data-ttu-id="33ce6-193">Microsoft.BizTalk.Edi.RoutingOrchestration.BatchRoutingService (assembly : Microsoft.BizTalk.Edi.RoutingOrchestration.dll)</span><span class="sxs-lookup"><span data-stu-id="33ce6-193">Microsoft.BizTalk.Edi.RoutingOrchestration.BatchRoutingService (assembly: Microsoft.BizTalk.Edi.RoutingOrchestration.dll)</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="33ce6-194">Les orchestrations de traitement par lot EDI ne doivent être démarrées que si vous recevez et/ou envoyez des lots EDI.</span><span class="sxs-lookup"><span data-stu-id="33ce6-194">The EDI batching orchestrations should only be started if you receive and/or send EDI batches.</span></span> <span data-ttu-id="33ce6-195">Leur démarrage hors de cette condition peut affecter les performances du système.</span><span class="sxs-lookup"><span data-stu-id="33ce6-195">Starting them when the system is not receiving or sending EDI batches could affect system performance.</span></span>  
  
#### <a name="migrate-edi-artifacts-from-a-previous-biztalk-version"></a><span data-ttu-id="33ce6-196">Migrer des artefacts EDI à partir d’une version précédente de BizTalk</span><span class="sxs-lookup"><span data-stu-id="33ce6-196">Migrate EDI artifacts from a previous BizTalk version</span></span>  
 <span data-ttu-id="33ce6-197">La manière dont les partenaires commerciaux sont gérés dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] a été mise à jour dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 et les versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="33ce6-197">The way trading partners are managed in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] was updated in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 and newer versions.</span></span> <span data-ttu-id="33ce6-198">Dans les versions antérieures de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], un tiers était créé uniquement pour le partenaire commercial et non pas pour le partenaire hébergeant [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="33ce6-198">In the previous [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] versions, a party was created only for the trading partner, and not for the partner hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="33ce6-199">Dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 et supérieur, un tiers doit être créé pour tous les partenaires commerciaux, y compris celui hébergeant [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="33ce6-199">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 and newer, a party must be created for all the trading partners, including the partner hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="33ce6-200">Dans les versions antérieures de [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], les propriétés des protocoles d’encodage (X12 et EDIFACT) et de transport (AS2) sont définies au niveau du tiers.</span><span class="sxs-lookup"><span data-stu-id="33ce6-200">In previous [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] versions, the encoding (X12 and EDIFACT) and transport (AS2) protocol properties are defined at the party level.</span></span> <span data-ttu-id="33ce6-201">Dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 et ultérieur, ces propriétés sont définies dans des contrats.</span><span class="sxs-lookup"><span data-stu-id="33ce6-201">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 and newer versions, these properties are defined through agreements.</span></span>  
  
 <span data-ttu-id="33ce6-202">Pour migrer des données de tiers à partir de versions précédentes, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] inclut un outil de migration de tiers.</span><span class="sxs-lookup"><span data-stu-id="33ce6-202">To migrate party data from previous versions, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] includes a Party Migration Tool.</span></span> <span data-ttu-id="33ce6-203">Tenez compte des chemins de migration suivants :</span><span class="sxs-lookup"><span data-stu-id="33ce6-203">Consider the following migration paths:</span></span>  
  
|<span data-ttu-id="33ce6-204">Version [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="33ce6-204">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Version</span></span>|<span data-ttu-id="33ce6-205">Chemin de migration</span><span class="sxs-lookup"><span data-stu-id="33ce6-205">Migration Path</span></span>|  
|---------------------------------------------------------------------------------------|--------------------|  
|**[!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)]**|<span data-ttu-id="33ce6-206">Procédez à une mise à niveau vers BizTalk Server 2009.</span><span class="sxs-lookup"><span data-stu-id="33ce6-206">Upgrade to BizTalk Server 2009.</span></span> <span data-ttu-id="33ce6-207">Ensuite, utilisez l’outil de migration de tiers inclus dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 pour migrer vers [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span><span class="sxs-lookup"><span data-stu-id="33ce6-207">Then, use the Party Migration Tool included with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 to migrate to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span><br /><br /> <span data-ttu-id="33ce6-208">**Ou** utilisez l’outil de migration de tiers inclus dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 pour migrer vers [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010.</span><span class="sxs-lookup"><span data-stu-id="33ce6-208">**Or**, use the Party Migration Tool included with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 to migrate to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010.</span></span> <span data-ttu-id="33ce6-209">Effectuez ensuite la mise à niveau vers [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span><span class="sxs-lookup"><span data-stu-id="33ce6-209">Then, upgrade to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span>|  
|<span data-ttu-id="33ce6-210">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2009**</span><span class="sxs-lookup"><span data-stu-id="33ce6-210">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2009**</span></span>|<span data-ttu-id="33ce6-211">Utilisez l'outil de migration de tiers inclus dans [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 pour migrer directement vers [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span><span class="sxs-lookup"><span data-stu-id="33ce6-211">Use the Party Migration Tool included with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 to migrate directly to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span>|  
|<span data-ttu-id="33ce6-212">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010**</span><span class="sxs-lookup"><span data-stu-id="33ce6-212">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010**</span></span>|<span data-ttu-id="33ce6-213">Mise à niveau vers [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span><span class="sxs-lookup"><span data-stu-id="33ce6-213">Upgrade to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span>|  
  
 <span data-ttu-id="33ce6-214">L'outil de migration de tiers est disponible sur le support [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] dans le dossier \PartyMigrationTool.</span><span class="sxs-lookup"><span data-stu-id="33ce6-214">The Party Migration Tool is available on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] media under the \PartyMigrationTool folder.</span></span>  

  
## <a name="install-biztalk-health-monitor-bhm"></a><span data-ttu-id="33ce6-215">Installation de BizTalk Health Monitor (BHM)</span><span class="sxs-lookup"><span data-stu-id="33ce6-215">Install BizTalk Health Monitor (BHM)</span></span>

<span data-ttu-id="33ce6-216">BizTalk Health Monitor fournit un tableau de bord pour créer et afficher des rapports de la visionneuse MessageBox, créer des requêtes personnalisées, exécuter des tâches de marque de fin de champ, surveiller plusieurs environnements BizTalk, etc.</span><span class="sxs-lookup"><span data-stu-id="33ce6-216">BizTalk Health Monitor provides a dashboard to create and view MessageBox Viewer reports, create custom queries, run Terminator tasks, monitor multiple BizTalk environments, and more.</span></span> <span data-ttu-id="33ce6-217">Si vous êtes responsable d’un environnement BizTalk, nous vous conseillons d’installer et d’utiliser cet outil pour vérifier l’intégrité de l’environnement BizTalk et en effectuer la maintenance.</span><span class="sxs-lookup"><span data-stu-id="33ce6-217">If you are responsible for a BizTalk envrionment, we suggest you install and use this tool to check the health of your BizTalk environment, and also maintain it.</span></span>

<span data-ttu-id="33ce6-218">Liens clés :</span><span class="sxs-lookup"><span data-stu-id="33ce6-218">Key links:</span></span>

[<span data-ttu-id="33ce6-219">Téléchargement de BHM</span><span class="sxs-lookup"><span data-stu-id="33ce6-219">Download BHM</span></span>](https://www.microsoft.com/download/details.aspx?id=43716)  
[<span data-ttu-id="33ce6-220">Installation de BHM</span><span class="sxs-lookup"><span data-stu-id="33ce6-220">Install BHM</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/26466.biztalk-server-how-to-install-the-new-biztalk-health-monitor-snap-in.aspx)  
[<span data-ttu-id="33ce6-221">Blog officiel de BHM</span><span class="sxs-lookup"><span data-stu-id="33ce6-221">BHM Official Blog</span></span>](https://blogs.msdn.microsoft.com/biztalkhealthmonitor/)

## <a name="create-your-hosts-and-host-instances"></a><span data-ttu-id="33ce6-222">Création de vos hôtes et instances d’hôtes</span><span class="sxs-lookup"><span data-stu-id="33ce6-222">Create your hosts and host instances</span></span>
<span data-ttu-id="33ce6-223">Il est recommandé de séparer certaines tâches clés entre des hôtes distincts.</span><span class="sxs-lookup"><span data-stu-id="33ce6-223">It is recommended to separate some key tasks into separate hosts.</span></span> <span data-ttu-id="33ce6-224">Par exemple, créez toujours un hôte exclusivement réservé au suivi.</span><span class="sxs-lookup"><span data-stu-id="33ce6-224">For example, always create a separate host that is dedicated to only tracking.</span></span> <span data-ttu-id="33ce6-225">Créez un autre hôte/une autre instance d’hôte dédié(e) à la réception des messages, un autre hôte/une autre instance d’hôte à l’envoi des messages et un autre hôte/une autre instance d’hôte à l’orchestration.</span><span class="sxs-lookup"><span data-stu-id="33ce6-225">Create another host/host instance that focuses on receiving messages, another host/host instance for sending messages, and another host/host instance for orchestration.</span></span> 

<span data-ttu-id="33ce6-226">Il existe de nombreuses recommandations dans ce domaine.</span><span class="sxs-lookup"><span data-stu-id="33ce6-226">There are many recommendations in this area.</span></span> <span data-ttu-id="33ce6-227">En voici quelques-unes pour bien démarrer :</span><span class="sxs-lookup"><span data-stu-id="33ce6-227">Here are a few to get you started:</span></span> 

[<span data-ttu-id="33ce6-228">Gestion des hôtes et des instances d’hôte BizTalk</span><span class="sxs-lookup"><span data-stu-id="33ce6-228">Managing BizTalk Hosts and Host Instances</span></span>](../core/managing-biztalk-hosts-and-host-instances.md)  
[<span data-ttu-id="33ce6-229">Configuration de la haute disponibilité pour des hôtes BizTalk</span><span class="sxs-lookup"><span data-stu-id="33ce6-229">Providing High Availability for BizTalk Hosts</span></span>](../core/providing-high-availability-for-biztalk-hosts.md)  
[<span data-ttu-id="33ce6-230">Bonnes pratiques : Créer et configurer l’hôte BizTalk Server et l’hôte</span><span class="sxs-lookup"><span data-stu-id="33ce6-230">Best Practices: Create and Configure BizTalk Server Host and Host</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/19701.biztalk-server-best-practices-create-and-configure-biztalk-server-host-and-host-instances.aspx)  
[<span data-ttu-id="33ce6-231">Exécution d’orchestrations dans plusieurs hôtes sur le même ordinateur</span><span class="sxs-lookup"><span data-stu-id="33ce6-231">Running Orchestrations in Multiple Hosts on the Same Computer</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/31183.biztalk-server-running-orchestrations-in-multiple-hosts-on-the-same-computer.aspx)  
[<span data-ttu-id="33ce6-232">PowerShell pour créer et configurer l’hôte BizTalk Server, les Instances d’hôte et les gestionnaires</span><span class="sxs-lookup"><span data-stu-id="33ce6-232">PowerShell to Create and Configure BizTalk Server Host, Host Instances and Handlers</span></span>](https://gallery.technet.microsoft.com/PowerShell-to-Configure-43d77916)  
[<span data-ttu-id="33ce6-233">Ressources BizTalk Server sur le TechNet Wiki</span><span class="sxs-lookup"><span data-stu-id="33ce6-233">BizTalk Server Resources on the TechNet Wiki</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/2240.biztalk-server-resources-on-the-technet-wiki.aspx)
